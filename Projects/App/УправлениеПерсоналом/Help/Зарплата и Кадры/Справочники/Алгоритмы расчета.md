# Алгоритмы расчета
_ _ _ _ _ _ _

**Назначение справочника**: ввод и хранение информации об алгоритмах расчета начислений и удержаний, используемых на предприятии.

Данный справочник содержит правила, по которым работает Вид начисления и Вид удержания. Алгоритм расчета содержит возможность настройки формул для трех расчетных показателей. Также в Алгоритме расчета возможно установить формулу расчета, сформированную и описанную на уровне программирования (класс реализации).
Справочник является предзаполненным.

**Путь в системе**: Зарплата и Кадры/Справочники/Справочники/Алгоритмы расчета

**Порядок работы со справочником**:

Для добавления новой записи нажмите на кнопку "Добавить" ![](topic:.AddFiles.Btn_Add.png) и заполните открывшийся бланк:

![](topic:.AddFiles.Screenshot_3095.jpg)

1.Заполните поля в шапке документа:

* Группа - группа, к которой принадлежит данный алгоритм расчета, заполняется автоматически;
* Наименование - вручную указывается наименование алгоритма расчета;
* Код - вручную указывается код алгоритма расчета. Код - это уникальный идентификатор записи, код не должен совпадать ни с одним из ранее введенных кодов алгоритмов расчета;
* Замок - в установленном состоянии флаг означает, что документ закрыт для редактирования;
* Период действия - вручную указывается период действия данного алгоритма расчета в формате с … по … .
* Описание - описание формулы алгоритма расчета. Вручную.
* Тип расчета- выбор из справочника «Типы расчетов (начислений, удержаний)». Карточка выбранного типа расчета доступна по кнопке перехода ![](topic:Com.AddFiles.Btn_go.png).


2.Закладка **Общие данные:**

2.1 Заполните поля блока ***Основное***:

* Класс реализации - вручную, выбирается только в случае описания алгоритма расчета на уровне программирования;
* Перекрыть один или несколько методов класса реализации - флаг устанавливается вручную при наличии необходимости.

2.2 ***Наименование полей в заголовке вида расчета и в документах расчета***:

* Показатель №1 - наименование показателя №1, используемого в формуле расчета, вручную;
* Ед. изм. - единица изменения показателя №1. Выбор из справочника "Единицы измерения";
* Показатель №2 - наименование показателя №2, используемого в формуле расчета. Заполняется вручную;
* Показатель №3 (Сумма расчета) - наименование показателя №3 (суммы расчета), используемого в формуле расчета, вручную. Обязательно для заполнения.
* Группировать проводки  - при установке флага «Группировать проводки» оперативные проводки будут формироваться только на разницу сумм начислений. При формировании оперативных проводок по документу «Расчет ЗП», по которому ранее были проведены промежуточные расчеты, оперативные проводки будут формироваться только на разницу сумм начислений и удержаний, с учетом параметров группировки, установленных к отдельным показателям алгоритма расчета. 
  Если флаг «Группировать проводки» не установлен, то оперативные проводки формируются на общую сумму начислений/удержаний, дополнительно производится сторнирование проводок, начисленных в ранее проведенных промежуточных расчетах.
* Параметры группировки - параметр группировки оперативных проводок. Поле активно только при установке флага «Группировать проводки». Поле заполняется для каждого показателя Алгоритма расчета. Варианты выбора: «Группировать» и «Вычитать».
*Параметр «Группировать» рекомендуется устанавливать для фиксированных показателей расчета (оклад/тариф, проценты, коэффициенты и т.п.), параметр «Вычитать» рекомендуется устанавливать для прочих показателей (база расчета, дни/часы, итоговая сумма и т.п.).
Сальдо оперативных проводок будет формироваться с учетом совпадения параметров: Вид начисления, Показатель с параметром «Группировать». По показателям, которым был установлен параметр «Вычитать», будет записываться разница сумм.
При установке флага «Группировать проводки» данные поля обязательны к заполнению.*


3.Закладка **Формула расчета**:

![](topic:.AddFiles.Screenshot_3096.jpg)

* Расчет для субъектов - указывается категория субъектов, для которых может применяться данный алгоритм расчета.
* Условие использования - вручную. Является вспомогательным и используется при заполнении ведомости начисления или карточки расчета. В случае успешного выполнения данного условия, вид начисления (удержания) связанный с текущим алгоритмом, будет добавлен в ведомость или карточку расчета. В случае отсутствия значения в данном условии, значение всегда принимается «ложь» и вид начисления (удержания) в документ расчета автоматически попадать не будет.
* Условие выполнения - вручную. Задается условие выполнения расчета. В случае пустого значения расчет будет выполняться всегда.

* ***Расчеты для поля ‘Показатель №1’***:

    * Условие выполнения - вручную задается условие выполнения расчета для данного показателя расчета. В случае пустого значения расчет будет выполняться всегда;
    * Формула - вручную задается формула расчета для показателя.

* ***Расчеты для поля ‘Показатель №2’***:

    * Условие выполнения - вручную задается условие выполнения расчета для данного показателя расчета. В случае пустого значения расчет будет выполняться всегда;
    * Формула - вручную задается формула расчета для показателя.

* ***Расчеты для поля ‘Показатель №3’***:

    * Условие выполнения - вручную задается условие выполнения расчета для данного показателя расчета. В случае пустого значения расчет будет выполняться всегда;
    * Формула - вручную задается формула расчета для показателя.

4.Закладка **Переменные**:

![](topic:.AddFiles.Screenshot_3097.jpg)

Предназначена для задания своих расчетных переменных во избежание одинаковых множественных расчетов. Например, здесь можно сделать вычисление «оборота», значение которого будет использоваться при расчете каждого из показателей.

*Строки в таблицу  добавляются/удаляются с помощью опции Добавить кадр/Удалить кадр в меню вызываемом по щелчку правой кнопки мыши или с помощью клавиш Ins/Del.*

5.Для редактирования уже существующей записи воспользуйтесь кнопкой Редактировать ![](topic:Com.AddFiles.Buttons.Btn_Edit.png) .

6.Для сохранения введенной информации нажмите на кнопку Применить ![](topic:Com.AddFiles.Buttons.Btn_OK.png)  . Для сохранения документа и его закрытия нажмите кнопку ОК ![](topic:Com.AddFiles.Buttons.Btn_Post.png) , иначе - Отмена ![](topic:Com.AddFiles.Buttons.Btn_CloseCancel.png).

_ _ _  _


###[Пример формирования оперативных проводок](topic:.Зарплата и Кадры.Справочники.Пример формирования оперативных проводок)

