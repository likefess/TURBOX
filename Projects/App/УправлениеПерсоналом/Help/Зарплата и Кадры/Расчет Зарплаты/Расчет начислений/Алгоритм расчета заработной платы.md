# Алгоритм расчета заработной платы в документе «Расчет ЗП»

Определение перечня физических лиц, по которым будет производится расчет заработной платы, а также процесс расчета заработной платы производится согласно следующего настроенного алгоритма:

####1.

Пользователь формирует документ «Расчет ЗП», указывает период формирования документа (может быть за половину месяца, за месяц, на дату), устанавливает вид расчета (промежуточный или окончательный). По умолчанию при формировании нового документа устанавливается вид расчета = Промежуточный. Промежуточных расчетов может быть неограниченное количество, окончательный расчет – только один за один период по одному сотруднику (контроль по параметрам Наше предприятие, Период, Сотрудник). При установке Вида расчета = Окончательный расчет предусмотрена автоматическая блокировка всех расчетных документов данного периода, которые задействованы в расчете.

####2.

При выборе Вида расчета = Промежуточный расчет – указывается вид промежуточного расчета: Межрасчетные выплаты (сбор данных по расчетным документам и документам по учету рабочего времени за заданный период, например, аванс за 1-ю половину месяца), или Расчет по начислению (производится сбор данных и расчет по одному или нескольким видам начисления, указанным пользователем).

####3.

Производится заполнение списком сотрудников.

Заполнение списком сотрудником может производится:

- на основании одного или перечня табелей учета рабочего времени, сформированных в программе за установленный в «Расчет ЗП» периоде. Для этого пользователь в поле «Табель учета РВ» указывает один или несколько табелей учета РВ и использует кнопку «Авторасчет». При Виде расчета = Промежуточный расчет, допускается выбор как Оперативных табелей учета РВ, так и Табелей учета РВ. При Виде расчета = Окончательный расчет, допускается выбор только Табелей учета РВ.
- заполнение перечнем сотрудников выбранного подразделения. Данное заполнение возможно при наличии значения в поле Подразделение. Пользователь указывает Подразделение и использует кнопку «Авторасчет».
- заполнение перечнем всех сотрудников, работающих на предприятии в заданный период времени (период формирования документа). Указывается только Наше предприятие и используется кнопка «Авторасчет».
- заполнение перечнем сотрудников с использованием сервиса Выбор сотрудников (стандартный сервис, используемый для кадровых документов решения).

Заполнение списком сотрудников производится по кнопке «Авторасчет».

В программе предусмотрено, что по кнопке «Авторасчет» производится заполнение сотрудниками (согласно значений полей Предприятие, Подразделение, Табель, Начисления + учитываются флаги, установленные в блоке Параметры расчета), и производится также автоматический запуск сервиса Расчет начислений и удержаний.

Т.е., при нажатии кнопки Авторасчет, таблица заполняется списком сотрудников, работающих на выбранном предприятии, в выбранном подразделении (если заполнено подразделение), в указанный расчетный период.

Если необходимо произвести расчет по отдельному Виду начисления (или списку Видов начислений), то устанавливается Вид расчета = Промежуточный + Расчет по начислению. В таблице будут указаны сотрудники, которым должен быть произведен расчет по данному Виду начисления, остальные начисления не производятся (пример, если надо 10.04 сделать расчет квартальной премии за 1 квартал, то формируем документ Расчет ЗП, дата 10.04, расчетный период = Апрель, На дату 10.04, Вид расчета = Промежуточный, Расчет по начислению. В таблице будут указаны только те сотрудники, по которым есть приказ по квартальной премии, будет произведен расчет только сумм квартальной премии, оклад и прочие начисления не попадут в данный расчет).

Если необходимо сделать расчет по списку сотрудников, указанных в Табеле, то заполняем поле Табель учета РВ и ставим флаг «Только по табелю». В расчет попадут только те сотрудники, которые есть в выбранном табеле.

Если необходимо включить в расчет уволенных сотрудников и прочих физ. лиц (например, в течении месяца было проведено начисление сумм уволенным или начисление сумм прочим ФЛ, которые не являются сотрудниками), то необходимо поставить флаг «Включать уволенных» и/или «Включать прочих ФЛ». При заполнении таблицы программа проверить наличие расчетных документов по уволенным сотрудникам и прочим ФЛ и добавит их в расчет.

Если необходимо произвести расчет без изменения списка сотрудников (например, сформировали перечень сотрудников, по которым надо произвести расчет, и необходимо просто пересчитать суммы, без изменения перечня уже выбранных сотрудников, то необходимо установить флаг «Расчет по списку» и нажать кнопку Авторасчет. В данном случае программа не будет менять список сотрудников, а просто произведен расчет начислений согласно вводных данных (дни/часы работы, коэффициенты, рассчитанные суммы по расчетным документам и т.д.) и заданных алгоритмов расчета.

####4.

Запускается сервис «Расчет начислений и удержаний».

Сервис запускается автоматически, при нажатии кнопки Авторасчет. Если необходимо сделать перерасчет (без изменения списка сотрудников) – то надо установить флаг «Расчет по списку».

В сервисе «Расчет начислений и удержаний» используется алгоритм расчета с распределением по процессам (с возможностью параллельного и одновременного осуществления нескольких процессов расчета).

####5.

Собираются данные по сформированным в установленный период расчетным документам.

Сбор данных осуществляется по оперативным расчетным проводкам, сформированным по следующим расчетным документам:
- Расчет БЛ, пособий;
- Расчет отпуска/компенсации отпуска;
- Прочие начисления;
- Расчет прочего СЗ;
- Расчет премий.

####6.

Собираются данные по количеству отработанных сотрудниками дней/часов.

При Виде расчета = Промежуточный расчет, данные собираются как из Оперативных табелей учета РВ, так и из Табелей учета РВ. При Виде расчета = Окончательный расчет, данные собираются только из Табелей учета РВ.

Собираются данные о времени работы сотрудников, сформированные на основании проведенных в программе документов по учету рабочего времени за заданный период.

####7.

 Собираются данные по Видам начислений, установленных сотруднику. Данные берутся из документов Назначения (Назначение – это период работы сотрудника на данном предприятии на одних условиях работы (в одном подразделении, на одной должности, с одними условиями труда и т.п.), все Назначения отображаются в карточке «Условия труда сотрудника»), действующих по сотруднику в заданный период времени.

####8.

 Перечень Видов начислений, установленных сотруднику, дополняется перечнем Видов начислений, установленных в документе «Настройка правил расчета», действующего на предприятии в заданный период времени.
Предусмотрена проверка на совпадение данных сотрудника по параметрам или группам параметров, установленных в документе «Настройка правил расчета». При наличии совпадений производится проверка на дублирование Видов начислений, установленных сотруднику. Если Вид начисления указан и в Назначении, и в документе «Настройка правил расчета», то приоритет – Назначение.

####9.

 Собираются данные о Видах начислений, установленных в кадровых документах.

- Приказ об оплате нерабочих праздничных дней;
- Приказ об оплате сверхурочной работы;
- Приказ о поощрении.


Собираются данные, сформированные на основании проведенных кадровых документов.

Предусмотрен следующий контроль: если по документу «Приказ о поощрении» сформирован расчетный документ «Расчет премий», то в расчет попадают только данные по документу «Расчет премий».

####10.

Устанавливается последовательность расчета начислений, установленных сотруднику.

Последовательность начислений берется из документа «Настройка правил расчета», действующего на предприятии в заданный период времени.

####11.

 Производится расчет всех видов начислений, установленных сотруднику.

Расчет производится исходя из данных Алгоритма расчета, указанного в соответствующем Виде начисления.
Расчет производится на основании данных об отработанном времени и параметрах расчета (ставках, процентах и т.п.), собранных согласно п. 6-9.

####12.

Собираются данные по всем видам удержаний, установленных сотруднику.

Данные берутся из следующих документов:
- документ Назначение;
- документ «Настройка правил расчета», действующий на предприятии в заданный период времени. Предусмотрена проверка на совпадение данных сотрудника по параметрам или группам параметров, установленных в документе «Настройка правил расчета». При наличии совпадений предусмотрена проверка на дублирование Видов удержаний, установленных сотруднику. Если Вид удержания указан и в Назначении, и в документе «Настройка правил расчета», то приоритет – Назначение;
- документ удержания «Исполнительный лист»;
- документ удержания «Прочие удержания».

####13.

 Устанавливается последовательность расчета удержаний, установленных сотруднику.

Последовательность удержаний берется из документа «Настройка правил расчета», действующего на предприятии в заданный период времени.

####14.

 Производится расчет всех видов удержаний сотрудника.

Расчет удержаний производится согласно установленной последовательности (документ Настройка правил расчета) и данных Алгоритма расчета, указанного в соответствующем Виде удержания.

Правила расчета удержаний (алиментов, профвзносов и т.п.).

####15.

Формируется запись «Карточка расчета», в которой собираются данные об отработанном времени, начислениях, удержаниях.

На основании этой карточки формируются оперативные данные, которые будут в дальнейшем использоваться для осуществления дальнейших расчетов, формирования отчетов, и для передачи данных в другие учетные системы.

####16.

Формируются данные о выплатах сотрудника. 

Производится сбор данных о выплатах, осуществленных сотруднику за заданный период. Производится расчет остаточных выплат.

####17. Вывод на экран начислений, удержаний и выплат. 

Ведомость начислений, удержаний и выплат – отчет, сформированный на основании оперативных проводок «Карточки расчета».

Предусмотрена возможность корректировки данных о произведенных начислениях и удержаниях пользователем.

Корректировка производится в соответствующей «Карточке расчета». Корректировке доступны поля с начислениями/удержаниями, расчет которых производится непосредственно в документе «Расчет ЗП». Если расчет производился в иных расчетных документах (расчет БЛ, отпуска, премии, сверхурочных и т.п.), то корректировку данных можно проводить только в них. 

####18.

Осуществляется прием данных расчета.

Пользователь проверяет данные и «Принимает» или «Не принимает» расчет. 

Прием данных – по кнопке "**Утведить**". Отклонить расчет – по кнопке **"Отклонить"** .

####19.

 Если расчет принят – то допускается запуск Сервисов: Расчет СВ, Формирование выплат, Формирование расчетных листков.

Сервис Расчет СВ не является обязательным. Его обязательно производить только при формировании окончательного расчета.

- Запускается сервис «Расчет СВ». Производится расчет страховых взносов на основании данных «Карточки расчета» и правил расчета СВ.
- Запускается сервис «Формирование выплат». Формируются документы по выплатам и платежные поручения.
- Запускается сервис Формирование расчетных листков. Формируются расчетные листки по сотрудникам. Печатная форма расчетного листка устанавливается в шаблоне печатной формы.

####20.

Формируется свернутый отчет содержащий данные о:

- суммах начислений и удержаний, которые начислены на предприятии в заданный период расчета (в разрезе видов начислений и удержаний);
- суммах выплат, которые необходимо произвести предприятию (в разрезе видов выплаты);
- суммах налоговых платежей, которые необходимо произвести предприятию (в разрезе налога).

####Промежуточный и окончательный расчеты в документе «Расчет ЗП»

В решении предусмотрена возможность формирования неограниченного количества документов «Расчет ЗП» с видом расчета = «Промежуточный расчет». Документ «Расчет ЗП» с видом расчета = «Окончательный расчет» может быть только один в разрезе одного предприятия и одного периода расчета.

Если пользователю необходимо произвести расчет аванса, расчет прочих межрасчетных выплат, расчета по отдельным видам начислений, например, отпускные, премия, материальная помощь и прочее – то необходимо сформировать документ «Расчет ЗП» с Видом расчета = Промежуточный расчет.

При закрытии расчетного периоде (закрытии месяца) необходимо сформировать документ «Расчет ЗП» с видом расчета = Окончательный расчет. Формирование документа «Расчет ЗП» с видом расчета = Окончательный расчет обязательно делать последним календарным днем месяца. При формировании и принятии Окончательного расчета ставится блокировка (замок) на все кадровые и расчетные документы, задействованные в данном расчете.

Формирование расчетов (промежуточного и окончательного) производится за период с начала месяца (дата начала периода расчета всегда равна первое календарное число месяца). При формировании промежуточного расчета в программе производится перерасчет начислений и удержаний сотрудника за весь заданный период, с 1-го числа месяца, и учитываются суммы, начисленные и удержанные с сотрудника, согласно ранее проведенных промежуточных расчетов. 

При проведении Окончательного расчета, все ранее проведенные Промежуточные расчеты блокируются.

