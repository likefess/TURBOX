#Правила генерации уведомлений

----------

**Путь**: Уведомления/Настройки/Настройки/Правила генерации уведомлений

**Назначение формы**: Форма предназначена для настройки правил, по которым должны формироваться уведомления, а также настройки способа уведомления пользователя.

Выполнение настроек в данной форме возможно только в том случае, если корректно настроены роли доступа.

Порядок заполнения:

1.По пункту меню «Правила генерации уведомлений» откройте форму «Правило генерации уведомлений».

2.На закладке «**Основное**» заполните поля:

![](topic:.AddFiles.Screenshot_2097.jpg)

* Блок «Создать уведомления для»:

    * Код правила – заполняется автоматически от нумератора. При необходимости, измените вручную;
    * Описание – произвольный текстовый комментарий. Укажите при необходимости;
   * Предприятие – если необходимо, чтобы данное правило работало только для одного предприятия, заполните поле. Если правило должно работать на все предприятия, оставьте поле пустым;
   * Проект – укажите проект, к которому относится документ или справочник, по которому нужно формировать уведомления;
   * Класс записи – укажите документ или справочник, по которому нужно формировать уведомления;
   * Событие – укажите событие, по которому должно происходить создание уведомления. Возможна генерация уведомлений по созданию записи («Запись создана»), по удалению записи («Запись удалена»), по изменению значения поля («Изменение») или по установке конкретного значения в поле («Установлено на»);
   * Поле – название поля документа или справочника. Доступно для редактирования, если в качестве события выбрано «Изменение» или «Установлено на»;
   * Значение – значение поля, указанного выше, при установке которого будет сформировано уведомление. Доступно для редактирования, если в качестве события выбрано «Установлено на»;
   * Завершен – установите признак, если по данному правилу больше не нужно формировать уведомления. Уже созданные, но не отправленные уведомления, будут отправлены при следующей рассылке;

* Блок  «Уведомить для»:
    * Уведомить для – если необходимо, чтобы данное правило работало только для документов или справочников с определённой аналитикой, то установите значение «Записи, соответствующие заданному фильтру», и по кнопке рядом откройте форму фильтра, укажите аналитики и их значение. Если необходимо формировать уведомления по всем записям, то установите значение «Все записи»;
* Блок  «Уведомить до»:
    * Дата окончания – укажите дату, до которой должно работать данное правило. Если поле пустое, то уведомления формируются бессрочно;
* Блок  «Сообщения»:
   * Эл. почта отправителя – укажите электронную почту, с которой должна происходить рассылка электронных писем;
    * Шаблон уведомления – если необходимо использовать уже заготовленный шаблон сообщений, выберите значение из справочника;
    * Тема – укажите тему, которая будет установлена в уведомление и/или электронное письмо;
    * Текст уведомления – укажите текст, который будет установлен в уведомление и/или электронное письмо.

***Важно***: при необходимости вставки в тему или текст уведомления значения какого-либо поля документа или справочника, укажите системное название этого поля со спецсимволом % (например, %Name%).

3.На закладке «**Уведомить кого**» заполните поля:

![](topic:.AddFiles.Screenshot_2098.jpg)
 
* Тип назначения – укажите тип адресата, которому должно быть доставлено уведомление. «Пользователь» - для выбора конкретного сотрудника и привязанного к нему пользователя. «Роль пользователей» - для выбора группы сотрудников с данной ролью и привязанных к ним пользователей;
* Назначение – в зависимости от выбранного типа назначения укажите сотрудника или роль;
* Показывать всплывающие окна для уведомлений – при установленном флаге, пользователю отображаются мигающие иконки, при поступлении уведомления в ТУРБО Х;
- Уведомление по эл. почте – при установленном флаге, пользователю или группе пользователей происходит рассылка электронных писем;
* Эл. почта получателя – адрес электронной почты получателя уведомления. Автоматически заполняется из карточки указанного сотрудника. При необходимости, можно изменить вручную. Не заполняется для рассылки по роли пользователей, так как при рассылке по роли адрес подбирается из карточки сотрудника.

4.При необходимости просмотра уведомлений, сформированных по данному правилу, нажмите кнопку "**Сервис**"![](topic:.AddFiles.Btn_Services.png) и выберите пункт **Список уведомлений**.

5Для ввода в действие введенной информации нажмите на кнопку **Применить** ![](topic:.AddFiles.Btn_OK.png) .
Для сохранения документа и его закрытия нажмите кнопку **ОК** ![](topic:.AddFiles.Btn_Post.png) , иначе  -  **Отмена**![](topic:.AddFiles.BtnCloseCancel.png).


***Примечание***: Также в Системе доступно создание правила генерации уведомлений из различных документов и справочников. 

При этом часть полей карточки правила генерации уведомлений уже будут заполнены автоматически. Доступно только пользователям с определённой настройкой прав. Для вызова нажмите кнопку Сервис  ![](topic:.AddFiles.Btn_Services.png) и выберите пункт **Создать правило генерации уведомления**.

 **Внимание**! Перед началом работы необходимо выполнить [Предварительную настройку](topic:.Уведомления.Настройки.Предварительная настройка модуля Уведомления).

----------

 
