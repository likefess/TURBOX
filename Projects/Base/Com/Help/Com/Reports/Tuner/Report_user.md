# Пользовательский режим настройки отчетов

В пользовательском режиме пользователю для самостоятельной настройки доступно некое подмножество настроек отчетов. Не все отчеты можно открыть в пользовательском режиме. Если для данного типа отчета недоступен пользовательский режим, то отчет автоматически открывается в экспертном режиме.

См. также [Экспертный режим](topic:.Com.Reports.Tuner.Report).

## Порядок формирования отчета в пользовательском режиме

![](topic:.AddFiles.Screenshot_2651.jpg)

Для добавления нового отчета в картотеку нажмите кнопку **Добавить**  ![](topic:Com.AddFiles.Buttons.Btn_Add.png). В открывшейся форме в меню Сервис ![](topic:.AddFiles.Btn_Services.png) выберите "Пользовательский режим".

Далее необходимо заполнить поля в постоянной части отчета и указать параметры для формирования отчета:

1. ***Заполните поля постоянной части отчета:***

Укажите период, за который требуется провести анализ. 
 
* Даты начала и конца периода проставляются соответственно с помощью календаря (кнопка Выбор ![](topic:Com.AddFiles.Buttons.Btn_select.png)), вручную, диалога "Период" или автоматически, что зависит от значения выбранного из выпадающего списка в поле **За**:

    - период – с помощью диалога "Период"; 
    - день – с помощью календаря; 
    - неделя – с помощью диалога "Период"; 
    - месяц – с помощью диалога "Период"; 
    - посл. месяц – автоматически; 
    - квартал – с помощью диалога "Период"; 
    - полугодие – с помощью диалога "Период"; 
    - год – с помощью диалога "Период"; 
    - все время – автоматически. 

* Период отчета редактируется вручную, с помощью календаря или с помощью кнопок ![](topic:.AddFiles.Btn_interval.png);
* Опции "Автообновление" и "Заморозить шапку и боковину отчета" доступны в меню кнопки ![](topic:.AddFiles.Btn_ok_mini.png);
* Кнопка **Обновить** - обновить данные отчета с текущими настройками, если не установлена опция "Автообновление";
* Кнопка **Построить** - по нажатию этой кнопки отчет строится с текущими настройками. Следует иметь в виду, что если окно редактора отчета будет оставлено открытым, то при внесении изменений, результаты отчета пересчитываются. Это относится также и к тому случаю, когда окно отчета оставлено открытым при закрытии сессии - при последующем открытии этой сессии окно отчета автоматически создается системой, а результаты отчета динамически пересчитываются.


![](topic:.AddFiles.Screenshot_2652.jpg)

2.**Общие настройки**

* Имя - название отчета, ручной ввод;
* План - план счетов учета, выбор из стандартного диалога (кнопка "Выбор" ![](topic:.AddFiles.Btn_select.png));
* Счета - фильтр на счета учета, выбор значения из списка счетов. Список доступен по кнопке "Выбор" ![](topic:.AddFiles.Btn_select.png). Для получения отчета по всем счетам следует оставить поле пустым. Для получения отчета по всем счетам выбранной группы использовать символ * в маркировке счета ( например, 10* - включает в себя все счета из группы 10 "Заготовление и приобретение материалов");
* Условия - фильтр на параметры отчета. Для установки фильтра нажмите кнопку "Выбор" ![](topic:.AddFiles.Btn_select.png), в открывшемся окне "Выбор параметра" укажите параметр и нажмите кнопку "Выбор", далее в открывшейся форме установите фильтр для выбранного параметра. *Замечание:  фильтрацию параметров отчета можно задать при дальнейшей настройке разрезов, показателей и параметров отчета воспользовавшись опцией "Фильтр" ![](topic:.AddFiles.Btn_Filter.png) в меню вызываемом по кнопке ![](topic:.AddFiles.Btn_OK.png)*;
* Выводить - выбор одного из значений вывода данных: данные на начало периода\ данные за период \ данные на конец периода.

3.**Разрезы**

3.1 ***Строки***:

В разделе "Строки" задаются параметры строк таблицы.

* В строках таблицы кнопкой Выбор  ![](topic:.AddFiles.Btn_select.png) открывается стандартное диалоговое окно, в котором пользователю необходимо выбрать нужный параметр.
* По копке ![](topic:.AddFiles.Btn_ok_mini.png)  открывается меню Настройки разбиения,в котором можно настроить внешний вид таблицы перенеся стоки в столбцы или столбцы в строки, добавить параметр, настроить свойства, установить фильтр, удалить запись.

*Для добавления и удаления строк в таблицу параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*

3.2 ***Столбцы***:

В разделе "Столбцы" задаются параметры столбцов каждой таблицы, т.е. те параметры, которые указываются в "шапке" таблицы.

* В строках таблицы кнопкой Выбор  ![](topic:.AddFiles.Btn_select.png) открывается стандартное диалоговое окно, в котором пользователю необходимо выбрать нужный параметр.
* По копке ![](topic:.AddFiles.Btn_ok_mini.png)  открывается меню Настройки разбиения,в котором можно настроить внешний вид таблицы перенеся стоки в столбцы или столбцы в строки, добавить параметр, настроить свойства, установить фильтр, удалить запись.

*Для добавления и удаления строк в таблицу параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*

3.3 ***Таблицы***:

 Раздел "Таблицы" позволяет получать отдельные таблицы по указанным параметрам.

* В строках таблицы кнопкой Выбор  ![](topic:.AddFiles.Btn_select.png) открывается стандартное диалоговое окно, в котором пользователю необходимо выбрать нужный параметр.
* По копке ![](topic:.AddFiles.Btn_ok_mini.png)  открывается меню Настройки разбиения,в котором можно настроить внешний вид таблицы перенеся стоки в столбцы или столбцы в строки, добавить параметр, настроить свойства, установить фильтр, удалить запись.

*Для добавления и удаления строк в таблицу параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*

3.3 *Настройка свойств строк столбцов и таблиц в разрезах отчета*:

 * Для запуска настроечной формы нажмите на кнопку ![](topic:.AddFiles.Btn_ok_mini.png) в строках таблиц Разрезов и выберите пункт контекстного меню  " ![](topic:.AddFiles.Btn_sv.png)".


 ![](topic:.AddFiles.Screenshot_2666.jpg)

 * В открывшемся диалоговом окне укажите необходимые настройки:
     - Разрезы - автоматически заполняется выбранным параметром, возможен выбор значения из предложенных вариантов выпадающего списка. При смене значения автоматически меняется параметр настраиваемой строки/столбца/таблицы отчета;
     - Кор. - корректировка - установите флаг при необходимости корректировки настроек параметра;
     - Выводить - отображаемое значение, автоматически, если для настраиваемого параметра возможны несколько вариантов для вывода, то предоставляется выбор из выпадающего списка;
     - Разыменование - выбор значения из вариантов выпадающего списка;
     - Заголовок - заголовок строки/столбца/ таблицы - заполняется автоматически, редактируется вручную;
     - Не выводить - установите флаг, если настраиваемый параметр не выводится на экран при отображении отчета.

 *Для добавления и удаления строк в таблицу настройки параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*


4.**Показатели**

В разделе "Показатели" указываются показатели по которым формируется отчет.

* В строках таблицы кнопкой Выбор  ![](topic:.AddFiles.Btn_select.png) открывается стандартное диалоговое окно, в котором пользователю необходимо выбрать показатель из предоставленного списка.
* По копке ![](topic:.AddFiles.Btn_ok_mini.png)  открывается меню Настройки разбиения,в котором можно настроить свойства, удалить запись.

*Для добавления и удаления строк в таблицу параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*


![](topic:.AddFiles.Screenshot_2653.jpg)


4.1 *Настройка свойств показателей отчета*:

 * Для запуска настроечной формы нажмите на кнопку ![](topic:.AddFiles.Btn_ok_mini.png) в строках таблицы показателей и выберите пункт контекстного меню  " ![](topic:.AddFiles.Btn_sv.png)".


 ![](topic:.AddFiles.Screenshot_2667.jpg)

 * В открывшемся диалоговом окне укажите необходимые настройки:
     - Заголовок - заголовок показателя, заполняется автоматически, редактируется вручную;
     - Формат -  формат показателя, автоматически устанавливается значение по умолчанию для выбранного показателя, возможен выбор значения из предложенных вариантов выпадающего списка;
     - Показывать на экране - установите флаг, если показатель необходимо отображать на экране при построении отчета;
     - Показывать единицы измерения -  установите флаг, если в отчете  необходимо отображать единицы измерения показателя;
     - Обратный знак - установите флаг, если показатель может иметь обратный знак.

 *Для добавления и удаления строк в таблицу настройки параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*


5.**Параметры**

В таблице "Параметры" выполняется настройка параметров для построения отчета. Параметры, применяемые к отчету, будут отображаться в отчете в блоке Параметры отчета.

* В строках таблицы кнопкой Выбор  ![](topic:.AddFiles.Btn_select.png) открывается стандартное диалоговое окно, в котором пользователю необходимо выбрать нужный параметр.
* По копке ![](topic:.AddFiles.Btn_ok_mini.png)  открывается меню Настройки разбиения,в котором можно настроить внешний вид таблицы добавляя выбранный параметр в строки, столбцы или таблицы отчета, настроить свойства параметра, удалить параметр.

![](topic:.AddFiles.Screenshot_2654.jpg)

*Для добавления и удаления строк в таблицу параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*

![](topic:.AddFiles.Screenshot_2655.jpg)

5.1 *Настройка свойств параметров отчета*:

 * Для запуска настроечной формы нажмите на кнопку ![](topic:.AddFiles.Btn_ok_mini.png) в строках таблицы параметров и выберите пункт контекстного меню  " ![](topic:.AddFiles.Btn_sv.png)".


 ![](topic:.AddFiles.Screenshot_2668.jpg)

 * В открывшемся диалоговом окне укажите необходимые настройки:
     - Заголовок - заголовок параметра, заполняется автоматически, редактируется вручную;
     - Ширина поля - ширина поля отображаемого в блоке параметры отчета;
     - Ширина заголовка - ширина заголовка поля отображаемого в блоке параметры отчета;
     - С новой строки - установите флаг, если необходимо отображать поле параметра с новой строки;
     - Картотека - картотека для выбора параметра, заполняется автоматически, возможен выбор из предложенных значений;
     - Множественный выбор - установите флаг, если возможен множественный выбор параметра;
     - Использовать короткий список - установите флаг, если можно использовать короткий список при выборе;
     - Иерархический вид - установите флаг для отображения в иерархическом виде;
     - Поле обзора - ручной ввод значения для поля при необходимости;
     - Фильтр обзора - ручной ввод фильтра обзора при необходимости;
     - Формат - ручной ввод значения;
     - Умолчание - выбор значения для вывода по умолчанию. Автоматически - пустое поле;
     - Показывать на экране - установите флаг, если показатель необходимо отображать на экране при построении отчета;
     - Значение обязательно для построения отчета - установите флаг, если значение параметра обязательно для построения отчета;
     - Перестраивать отчет при изменении - установите флаг, если необходимо автоматически перестаивать отчет при изменении настраиваемого параметра.

 *Для добавления и удаления строк в таблицу настройки параметров воспользуйтесь кнопками “Добавить кадр” и “Удалить кадр” контекстного меню, вызываемого по щелчку правой кнопки мыши или клавишами Ins/ Del.*



6.Описание меню **"Настройка отчета"** ![](topic:.AddFiles.Btn_ok_mini.png):

Меню вызывается по нажатию на кнопку ![](topic:.AddFiles.Btn_ok_mini.png) в строках таблиц Разрезов, Показателей и Параметров отчета и позволяет изменить внешний вид отчета и настройки для выбранных показателей. Состав меню зависит от выбранного раздела настроек отчета и включает в себя следующие опции:

* Переместить в столбцы - перемещает выбранную запись (строку или таблицу) отчета в столбец;
* Переместить в строки - перемещает выбранную запись (столбец или таблицу) отчета в строку;
* Переместить в таблицы - перемещает выбранную запись (строку или столбец) отчета в таблицу;
* Добавить параметр - добавляет выбранный параметр в блок параметры отчета;
* Удалить - удаляет выбранный параметр отчета;
* Фильтр - устанавливает ограничение для выбранной записи. Для активации нажмите на ![](topic:.AddFiles.Btn_Filter_mini.png) и в открывшемся окне заполните значения для таблицы "Включать" и "Исключать". Значения выбираются в зависимости от настраиваемого параметра из предложенных вариантов по кнопке "Выбор"![](topic:.AddFiles.Btn_select.png).
* Свойства - вызывает меню настройки свойств выбранного параметра. Состоит из следующих настроек:
     * Настройка свойств строк, столбцов и таблиц отчета доступна в разделе "Разрезы";
     * Настройка показателей отчета, доступна в разделе "Показатели";
     * Настройка параметров отчета - доступна в разделе "Параметры".



7.**Назначение кнопок формы отчета:**

- Кнопка **ОК** ![](topic:Com.AddFiles.Buttons.Btn_Post.png) - нажмите для сохранения документа и его закрытия;
- Кнопка **Отмена**![](topic:Com.AddFiles.Buttons.BtnCloseCancel.png) - выход без сохранения;
- Кнопка **Сервисы**![](topic:Com.AddFiles.Buttons.Btn_Services.png):
     * [Экспертный режим](topic:.Com.Reports.Tuner.Report) - переход в экспертный режим настройки отчета;
     * [Пользовательский режим](topic:.Com.Reports.Tuner.Report_user) - переход к пользовательскому режиму настройки отчета;
     * План построения отчета - формирование плана построения отчета. Данная опция актуальна для прикладной разработки и не используется пользователями;
     * Сформировать проектный отчет - формирует проектный отчет. Данная опция актуальна для прикладной разработки;
     * Закрепить на РЦ - закрепить отчет на ролевом центре.
- Кнопка **Обновить** ![](topic:Com.AddFiles.Buttons.Btn_Refresh.png) - обновить отчет после введения настроек;
- **Применить** ![](topic:Com.AddFiles.Buttons.Btn_OK.png) - открывает список действий, применяемых к отчету:
     - Записать - для ввода в действие введенной информации;
     - Отменить - для отмены введенной информации;
     - Дублировать - создает новый отчет, на основе того, который открыт;
     - Удалить - удаляет открытый отчет;
     - Импорт - импорт отчета;
     - Экспорт - экспорт отчета в каталог;
     - Помощь - также кнопка F1 для получения помощи.



---------

