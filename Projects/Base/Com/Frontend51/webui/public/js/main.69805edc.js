"use strict";(self.webpackChunkturbo_frontend=self.webpackChunkturbo_frontend||[]).push([[179],{31829:function(Ql,Yd,He){var s=He(85893),zx={i8:"10.5.1-36"},Lx=He(20745),Hx=He(79655),st=He(86706),io=He(91033),q8=He(27562),Y8=He(32377),Wx=He(9669),Vx=He.n(Wx),Ux=He(82701),Gx=He(14670),wr=He.n(Gx),Xd=He(97234),cr=He(25935),Zx=He(20640),Kx=He.n(Zx),qx=He(49546),Yx=He(89537);const Ae=(t,e)=>Object.prototype.hasOwnProperty.call(t||{},e||"");var Xx=Object.defineProperty,Va=Object.getOwnPropertySymbols,Jd=Object.prototype.hasOwnProperty,Qd=Object.prototype.propertyIsEnumerable,ef=(t,e,n)=>e in t?Xx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nc=(t,e)=>{for(var n in e||(e={}))Jd.call(e,n)&&ef(t,n,e[n]);if(Va)for(var n of Va(e))Qd.call(e,n)&&ef(t,n,e[n]);return t},rc=(t,e)=>{var n={};for(var r in t)Jd.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Va)for(var r of Va(t))e.indexOf(r)<0&&Qd.call(t,r)&&(n[r]=t[r]);return n};const tf="SystemBase.Cmd.RoleCenter",Ro={AUTHORIZED:"authorized",URL_PARAMS:"urlParams"};function Ua(t,e="GUID",n){if(t&&t instanceof Object){let r=t.name||wr().generate();n!=null&&n.length&&(r=Za([...n,r])),t[e]=r}return t}function Ga(t,e,n="GUID",r){return t&&Array.isArray(t)&&t.length&&t.forEach(o=>{if(Ua(o,n,r),e){const l=Ae(o,e)&&o[e];Array.isArray(l)&&l.length&&Ga(l,e,n,r)}}),t}function Za(t){let e="";return t!=null&&t.length&&(e=t.reduceRight((n,r)=>r?`${r.trim().replaceAll(" ","-")}${n?"_"+n:""}`:n,e)),e}function nf(t="/icons/"){let e=window.location.href,n=e.split(":")[0]+"://",r="/"+e.split("/")[3];return(r==="/webui"||r==="/#")&&(r=""),n+window.location.host+r+t}function on(t){return t?nf()+t:""}const oc=t=>t?t.includes("http")?t:window.location.origin+t:"";function Jx(t){return t?nf("/webui/")+t:""}function Qx(t="",e=80,n=`
`,r=!1,o=2){let l=e;if(l>>>=0,l===0||t.length<=l)return t;let i=t.split(`
`).map(c=>{if(c.length<=l)return c;let d=c.split(" ");if(r){let f=[];for(const p of d)if(p.length>l){let v=0;const g=p.length;for(;v<g;)f.push(p.slice(v,Math.min(v+l,g))),v+=l}else f.push(p);d=f}let u=d.shift(),m=l-u.length;for(const f of d)f.length+1>m?(u+=n+f,m=l-f.length):(u+=" "+f,m-=1+f.length);return u}).join(`
`).split(`
`);if(i.length>o){i.splice(o,i.length);let c=i.length-1;i[c].length>l-3&&(i[c]=i[c].slice(0,-3)),i.push("...")}return i=i.join(`
`),i}function rf(t){let e=new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"),n=document.cookie.match(e);return n?decodeURIComponent(n[1]):void 0}function of(t,e,n){let r=n||{},o=r.expires,l=new Date,i,c,d;typeof o=="number"&&o&&(l.setTime(l.getTime()+o*1e3),o=r.expires=l),o&&o.toUTCString&&(r.expires=o.toUTCString()),d=t+"="+encodeURIComponent(e);for(i in r)Ae(r,i)&&(d+="; "+i,c=r[i],c!==!0&&(d+="="+c));document.cookie=d}function X8(t){of(t,"",{path:"/",expires:-1})}const lc="authToken";function ac(){return sessionStorage.getItem(lc)||null}function lf(){sessionStorage.removeItem(lc)}function af(t){sessionStorage.setItem(lc,t)}function eS(){return window.navigator.language.substr(3).toLowerCase()||"ru"}function sf(){return rf("language")||eS()}function tS(t,e){e&&typeof e=="string"&&(document.title=e)}function Ka(t=[]){if(!t.length)return!0;const e=(0,Ux.detect)();return t.indexOf(e.name)!==-1}function J8(t,e){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>=r.top&&n.left>=r.left&&n.bottom<=r.bottom&&n.right<=r.right}function nS(){document.querySelectorAll("iframe").forEach(t=>{const e=t.style.pointerEvents;t.style.pointerEvents="none",window.addEventListener("mouseup",()=>{t.style.pointerEvents=e},{once:!0})})}function cf({rowId:t,rowControlId:e,tableControlId:n,controlId:r,formId:o}){return n?e?document.querySelector(`[id="${r}-${e}-${n}"]`):t?document.querySelector(`[id="${r}-${t}-${n}"]`):document.querySelector(`[id="${r}-serviceRow-${n}"]`):o?document.querySelector(`[id="${o}"] [data-name="${r}"]`):document.querySelector(`[data-name="${r}"]`)}function uf(t){const e={state:{}};return Object.keys(t).forEach(n=>{n!=="formStack"&&(e[n]=t[n])}),e.action==="autoComplete"?(delete e.action,e.type!=="canvasGrid"?delete e.state:delete e.type,e):(Ae(e,"value")&&(e.state[e.controlId]=e.value),delete e.value,e)}const Do=t=>Array.isArray(t)?t:[t];function No({source:t,iterationKey:e,searchKey:n,searchValue:r}){var o;if(!t||!e||!n||!r)return null;if(Array.isArray(t))return t.map(l=>No({source:l,iterationKey:e,searchKey:n,searchValue:r})).reduce((l,i)=>i||l,null);if(t[n]===r)return t;if((o=t[e])!=null&&o.length)return t[e].reduce(function(l,i){return l||No({source:i,iterationKey:e,searchKey:n,searchValue:r})},null)}function Dt(t){return Number.isFinite(t)?Math.round(parseFloat(t)*3.8):t||null}function Wt(t){let e=Dt(t);return Number.isFinite(e)&&(e+="px"),e}function Q8(t,e){let n={minWidth:0,width:0,maxWidth:0};if(e){const r=e,{width:o,minWidth:l,maxWidth:i,height:c,flexGrow:d}=r,u=rc(r,["width","minWidth","maxWidth","height","flexGrow"]),m=o||d;if(n=nc({},u),t){const f=Wt(m);n.minWidth=f,n.width=f,n.maxWidth=f}else n.flexGrow=m,n.width=null,n.minWidth=Wt(l),n.maxWidth=Wt(i);checkOwnProperty(e,"height")&&(n.height=Number.isFinite(c)?Wt(c):c)}return n}function Un({isFixSize:t,style:e,type:n}){const r=e||{},{minWidth:o,width:l,maxWidth:i}=r,c=rc(r,["minWidth","width","maxWidth"]),d=1;if(o||l||i){let u="initial";const m=["string","enum","date","number","button","listButton"];if(t&&l){const f=l-d;!f&&m.includes(n)&&(c.borderLeft="none",c.borderRight="none",c.paddingLeft=0,c.paddingRight=0),u=Wt(f)}else t||(u="auto");["button","listButton","date"].includes(n)&&(c.paddingLeft=Wt(c.paddingLeft),c.paddingRight=Wt(c.paddingRight),c.paddingBottom=Wt(c.paddingBottom),c.paddingTop=Wt(c.paddingTop)),!t&&l&&o&&l<=o?c.minWidth=u:c.minWidth=o?Wt(o-d):u,c.width=u,c.maxWidth=i&&t?Wt(i-d):u}return c}function rS(t){const{minWidth:e,width:n,maxWidth:r}=t,o={};return e&&(o.minWidth=Dt(e)),n&&(o.width=Dt(n)),o.maxWidth=r===0?"initial":Dt(r),nc(nc({},t),o)}function oS(t){if(!t)return[{},{}];const e=t,{width:n,minWidth:r,maxWidth:o,height:l,minHeight:i,maxHeight:c}=e,d=rc(e,["width","minWidth","maxWidth","height","minHeight","maxHeight"]);return[{width:n,minWidth:r,maxWidth:o,height:l,minHeight:i,maxHeight:c},d]}function lS(t,e){const n={};return t.forEach(r=>{n[r[e]]=r}),n}function dl(t,e,n,r){var o;const l=t.findIndex(u=>u[e]===n);if(l===-1)return null;const i=l===0,c=l===t.length-1;let d=l;return r===1&&!c?d+=1:r===-1&&!i&&(d-=1),((o=t[d])==null?void 0:o[e])||null}function aS(t){var e;const n=((e=localStorage.getItem("enteredLogins"))==null?void 0:e.split(","))||[];n.includes(t)||(n.push(t),localStorage.setItem("enteredLogins",n.join(",")))}function df(){var t;return(((t=localStorage.getItem("enteredLogins"))==null?void 0:t.split(","))||[]).map((e,n)=>({key:String(n),value:e}))}function eU(t){var e;const n=((e=localStorage.getItem("enteredExpressions"))==null?void 0:e.split(","))||[];n.includes(t)||(n.push(t),localStorage.setItem("enteredExpressions",n.join(",")))}function tU(){var t;return(((t=localStorage.getItem("enteredExpressions"))==null?void 0:t.split(","))||[]).map((e,n)=>({key:String(n),value:e}))}function sS(){return rf("debug")==="true"}function sc(t){const e=[];function n(r){r.forEach(o=>{var l,i;o.expandDirection==="prev"?((l=o.branches)!=null&&l.length&&o.isExpanded&&n(o.branches),o.nodes?n(o.nodes):e.push(o)):(o.nodes?n(o.nodes):e.push(o),(i=o.branches)!=null&&i.length&&o.isExpanded&&n(o.branches))})}return n(t),e}function ff(t,e){const n=[];return n.push(t==null?void 0:t.nodeId),!(t!=null&&t.elements)||!e.includes(t.nodeId)||t.elements.forEach(r=>{n.push(...ff(r,e))}),n}function ic(t,e){if(t.nodeId===e)return t;if(t.elements){let n=null;for(let r=0;n===null&&r<t.elements.length;r++)n=ic(t.elements[r],e);return n}return null}const qa=t=>{const e=(0,Xd.Z)(t),n=e.getFormat();let r=null;const o={hsv:e.toHsv(),hsl:e.toHsl(),rgb:e.toRgb()};return n==="hex"&&(r=e.getOriginalInput().trim()),(n==="hsl"||n==="hsv")&&(o.hsl.h=t.h),r&&(r==null?void 0:r.length)===3?o.hex=r:o.hex=e.toHex(),o},iS=t=>(0,Xd.Z)(t).toHex(),cc=t=>t&&(0,cr.ZP)(t==null?void 0:t.replace(/(\r\n|\n|\r)/gm,"<br />")),cS=t=>{var e;if(t&&t.length<1)return"";const n=t.find(r=>{var o;return((o=r==null?void 0:r.props.children)==null?void 0:o.length)>0});return n?n==null?void 0:n.props.name:(e=t[0].props)==null?void 0:e.name},pf=({activeNodeOffsetTop:t,visibleRangeMin:e,visibleRangeMax:n,cellHeight:r,parentNodeScrollTop:o,step:l})=>{let i=Math.abs(o);return t>=e&&t+r<=n||(t<n&&t+r>=n?i=i+t+r-n+l:t<e&&t+r>=e?i=i-(e-t)-l:i=t),i},Ya=t=>{Kx()(t)},fl=t=>(t==null?void 0:t.type)==="paste"?t.clipboardData.getData("text"):window.getSelection().toString(),mf=t=>{sessionStorage.setItem("clipboard",JSON.stringify(t))},uS=()=>{const t=sessionStorage.getItem("clipboard")?sessionStorage.getItem("clipboard"):JSON.stringify({});return JSON.parse(t)},nU=t=>{const[,e]=t.split("%");return`*(${e}/100)`},vf=t=>!!(t!=null&&t.find(e=>{var n;return((n=e==null?void 0:e.props)==null?void 0:n.type)==="img"})),dS=(t,e={format:"dateAndTime"})=>{let n="dd.MM.yyyy";switch(e.format){case"dateAndTime":n="dd.MM.yyyy HH:mm:ss";break;case"timeOnly":n="HH:mm:ss";break;case"dateOnly":default:n="dd.MM.yyyy";break}const r=new Date(t);return r instanceof Date&&!isNaN(r)?(0,qx.Z)(new Date(t),n):null},rU=(t,e,n)=>{const r=n;switch(t){case"down":return r+1>e?e:r+1;case"up":return r-1<0?0:r-1;default:return r}},co=t=>{const e=document.getElementById("favicon");e&&(e.type=t.slice(-3)==="svg"?"image/svg+xml":"image/x-icon",e.href=t)},Mo={deprecated:"deprecated",noType:"noType"},ea=(t,e)=>{let n="";e===Mo.deprecated?n=`A deprecated element "${t.type}" is here!`:e===Mo.noType&&(n="An element without type is here!"),console.warn(n,t)},To=(t,e)=>{var n;return(n=t.actions)!=null&&n.includes(e)?e:null},hf=t=>t?t.reduce((e,n)=>{let{name:r,title:o,hint:l,hidden:i,iconName:c}=n;return i!==void 0&&(c=i?"":"check"),r==="---"?e.push({type:"separator"}):e.push({name:r,hint:l,caption:o,iconName:c}),e},[]):[],Xa=t=>{if(t.length<2)return t;t.sort((r,o)=>r[0]-o[0]);const e=[];let n=t[0];for(let r=1;r<t.length;r+=1)n[1]>=t[r][0]?n=[n[0],Math.max(n[1],t[r][1])]:(e.push(n),n=t[r]);return e.push(n),e},fS=t=>{const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},gf=t=>t&&t.innerHTML?t.innerHTML.replace(/<[^>]*>?/gm,""):null,bf=t=>{const e={};return t&&(e.filter=(0,Yx.hexToCSSFilter)(t).filter.slice(0,-1)),e},Ja=t=>t.reduce((e,n)=>e+n,0),pS=t=>JSON.parse(localStorage.getItem(t)),yf=(t,e)=>localStorage.setItem(t,JSON.stringify(e)),uc=()=>pS(Ro.AUTHORIZED),dc=t=>yf(Ro.AUTHORIZED,t),mS=()=>localStorage.removeItem(Ro.URL_PARAMS),vS=t=>yf(Ro.URL_PARAMS,t);class hS{constructor(){this.listeners=[],this.timer=0,this.time=0,this.isPause=!1}checkTime(){this.timer||(this.stop(),this.notifyListeners())}notifyListeners(){this.listeners.forEach(e=>e())}pause(){this.isPause=!0}resume(){this.isPause=!1}setTime(e){this.time=e}start(){this.timer=this.time,this.stop(),this.intervalId=window.setInterval(()=>{this.isPause||(this.timer-=1,this.checkTime())},1e3)}stop(){window.clearInterval(this.intervalId)}whenTimeEnds(e){this.listeners.push(e)}}var $t=He(96486),gS=Object.defineProperty,bS=Object.defineProperties,yS=Object.getOwnPropertyDescriptors,Cf=Object.getOwnPropertySymbols,CS=Object.prototype.hasOwnProperty,_S=Object.prototype.propertyIsEnumerable,_f=(t,e,n)=>e in t?gS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wS=(t,e)=>{for(var n in e||(e={}))CS.call(e,n)&&_f(t,n,e[n]);if(Cf)for(var n of Cf(e))_S.call(e,n)&&_f(t,n,e[n]);return t},xS=(t,e)=>bS(t,yS(e)),SS=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});const wf=["click","mousemove","keydown"];class PS{constructor(e=new hS){this.timer=e,this.canStart=!1,this.countProcess=0,this.debounceRestart=(0,$t.debounce)(()=>{this.canStart&&this.timer.start()},10)}getEvents(){return wf.reduce((e,n)=>xS(wS({},e),{[n]:this.debounceRestart}),{})}setTime(e){this.timer.setTime(e)}start(){this.canStart=!0,this.timer.start()}whenTimeEnds(e){this.timer.whenTimeEnds(e)}stop(){this.canStart=!1,this.timer.stop()}pause(){this.countProcess+=1,this.timer.pause()}resume(){this.countProcess-=1,this.countProcess===0&&this.timer.resume()}api(e){return SS(this,null,function*(){this.pause();const n=yield e();return this.resume(),n})}}const xf=new PS,Pt=t=>{t.stopPropagation(),wf.includes(t.type)&&xf.debounceRestart()};var Fo=xf,IS=Object.defineProperty,OS=Object.defineProperties,ES=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,Sf=Object.prototype.hasOwnProperty,Pf=Object.prototype.propertyIsEnumerable,If=(t,e,n)=>e in t?IS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,es=(t,e)=>{for(var n in e||(e={}))Sf.call(e,n)&&If(t,n,e[n]);if(Qa)for(var n of Qa(e))Pf.call(e,n)&&If(t,n,e[n]);return t},fc=(t,e)=>OS(t,ES(e)),kS=(t,e)=>{var n={};for(var r in t)Sf.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qa)for(var r of Qa(t))e.indexOf(r)<0&&Pf.call(t,r)&&(n[r]=t[r]);return n},fn=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});function jS(t){const e={Accept:"application/json",["Content-Type"]:"application/json"};return t&&(e.sessionID=ac()),e}function pn({restUrl:t,params:e,withSessionId:n}){const r=jS(n),o="../api/xcom";return Fo.api(()=>Vx().post(o+t,e,{headers:r}))}function RS(t){return fn(this,null,function*(){return yield pn({restUrl:"/userauth/sso",withSessionId:!1,params:t})})}function DS(t){return fn(this,null,function*(){return yield pn({restUrl:"/userauth/login",withSessionId:!1,params:fc(es({},t),{action:"login"})})})}function NS(t){return fn(this,null,function*(){return yield pn({restUrl:"/userauth/logout",withSessionId:!0,params:t})})}function MS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/getAppState",withSessionId:!0,params:t})})}function Of(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/setActiveStack",withSessionId:!0,params:t})})}function TS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/getForm",withSessionId:!0,params:t})})}function FS(){return fn(this,null,function*(){return yield pn({restUrl:"/view/ping",withSessionId:!0})})}function AS(t){return fn(this,null,function*(){return yield pn({restUrl:"/iframe/click",withSessionId:!0,params:t})})}function BS(t){return fn(this,null,function*(){return yield pn({restUrl:"/iframe/message",withSessionId:!0,params:t})})}function $S(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/sendAction",withSessionId:!0,params:t})})}function zS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/headerCtxMenu",withSessionId:!0,params:t})})}function LS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/autocomplete",withSessionId:!0,params:t})})}function HS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/getHint",withSessionId:!0,params:t})})}function WS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/changeSpoiler",withSessionId:!0,params:t})})}function Ef(){return fn(this,null,function*(){return yield pn({restUrl:"/view/getUserRole",withSessionId:!0})})}function VS(t){return fn(this,null,function*(){return yield pn({restUrl:"/userauth/login",withSessionId:!1,params:fc(es({},t),{action:"setrole"})})})}function US(t){return fn(this,null,function*(){return yield pn({restUrl:"/userauth/login",withSessionId:!1,params:fc(es({},t),{action:"setpassword"})})})}function GS(){return fn(this,null,function*(){const t=yield pn({restUrl:"/view/getMenu",withSessionId:!0});return Ga(t.data.elements,"elements"),t})}function ZS(){return fn(this,null,function*(){const t=yield pn({restUrl:"/view/getToolbar",withSessionId:!0});return Ga(t.data.elements,"elements"),t})}function KS(t){return fn(this,null,function*(){var e=t,{commandName:n,controlId:r,advanced:o}=e,l=kS(e,["commandName","controlId","advanced"]);const i=es({commandName:n,controlId:r},l);return o&&(i.advanced=o),yield pn({restUrl:"/view/command",withSessionId:!0,params:i})})}function qS(){return fn(this,null,function*(){return yield pn({restUrl:"/userauth/preLogin",withSessionId:!1})})}function YS(){return fn(this,null,function*(){var t;const{data:{languages:e,app:n}}=yield qS();let r=sf();return e&&e.find(l=>l.code===r)||(r=(t=e[0])==null?void 0:t.code),{languages:{serverLanguages:e,webUiLanguage:r},app:n}})}function XS(t){return fn(this,null,function*(){return yield pn({restUrl:"/view/chooseColor",withSessionId:!0,params:t})})}var ur=He(97779),JS=Object.defineProperty,kf=Object.getOwnPropertySymbols,QS=Object.prototype.hasOwnProperty,eP=Object.prototype.propertyIsEnumerable,jf=(t,e,n)=>e in t?JS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mr=(t,e)=>{for(var n in e||(e={}))QS.call(e,n)&&jf(t,n,e[n]);if(kf)for(var n of kf(e))eP.call(e,n)&&jf(t,n,e[n]);return t};function tP(t){const e=Mr({},t);return!e.type&&!e.nodeId&&(e.orientation==="tabs"?(ea(e,Mo.noType),e.type="tabs"):(ea(e,Mo.noType),e.type="frame"),e.orientation=e.orientation||"vertical"),e.type==="shortlist"&&(ea(e,Mo.deprecated),e.type="enum"),(e.autocomplete||e.isAutocomplete)&&["string","number","integer"].includes(e.type)&&(e.type="enum",e.isSwitchedToEnum=!0),e.type==="hLayout"&&(ea(e,Mo.deprecated),e.type="group",e.behavior="horizontal"),e.type==="vLayout"&&(ea(e,Mo.deprecated),e.type="group",e.behavior="vertical"),e.showReferenceButton!==void 0&&(e.showButton=e.showReferenceButton,delete e.showReferenceButton),e.type==="html"&&e.html&&(e.type="simpleHtml",e.value=e.html,delete e.html),e}function yn(t){const e=Mr({},t);return Ae(e,"action")&&(e.actions=[...e.action],delete e.action),Ae(e,"iconname")&&(e.iconName=e.iconname,delete e.iconname),Ae(e,"iconsize")&&(e.iconSize=e.iconsize,delete e.iconsize),Ae(e,"icon")&&(e.iconName=e.icon,delete e.icon),Ae(e,"autocomplete")&&(e.isAutocomplete=!!e.autocomplete,delete e.autocomplete),Ae(e,"spellcheck")&&(e.isSpellCheck=!!e.spellcheck,delete e.spellcheck),Ae(e,"required")&&(e.isRequired=!!e.required,delete e.required),Ae(e,"forceUpdate")&&(e.needForceUpdate=!!e.forceUpdate,delete e.forceUpdate),Ae(e,"expansible")&&(e.isExpansible=!!e.expansible,delete e.expansible),Ae(e,"collapsible")&&(e.isCollapsible=!!e.collapsible,delete e.collapsible),Ae(e,"wrap")&&(e.isWrapped=!!e.wrap,delete e.wrap),Ae(e,"multiline")&&(e.isMultiLine=!!e.multiline,delete e.multiline),Ae(e,"inplaceEditEnabled")&&(e.isInPlaceEdit=!!e.inplaceEditEnabled,delete e.inplaceEditEnabled),Ae(e,"isFixed")&&(e.isFixSize=!!e.isFixed,delete e.isFixed),Ae(e,"nodeId")&&(Ae(e.content,"text")&&(e.caption=e.content.text),delete e.content),Ae(e,"isFlexible")&&(e.isAdaptive=!!e.isFlexible,delete e.isFlexible),Ae(e,"hidden")&&(e.isExcluded=!!e.hidden,delete e.hidden),Ae(e,"disabled")&&(e.isDisabled=!!e.disabled),delete e.disabled,Ae(e,"autoLock")&&(e.isAutoLock=!!e.autoLock,delete e.autoLock),e.style=e.style?Mr({},e.style):{},Ae(e,"width")&&(e.style.width=e.width,delete e.width),Ae(e,"minWidth")&&(e.style.minWidth=e.minWidth,delete e.minWidth),Ae(e,"maxWidth")&&(e.style.maxWidth=e.maxWidth,delete e.maxWidth),Ae(e,"backgroundColor")&&(e.style.backgroundColor=e.backgroundColor,delete e.backgroundColor),Ae(e,"color")&&(e.style.color=e.color,delete e.color),Ae(e,"fontFamily")&&(e.style.fontFamily=e.fontFamily,delete e.fontFamily),Ae(e,"fontSize")&&(e.style.fontSize=e.fontSize,delete e.fontSize),Ae(e,"fontStyle")&&(e.style.fontStyle=e.fontStyle,delete e.fontStyle),Ae(e,"fontWeight")&&(e.style.fontWeight=e.fontWeight,delete e.fontWeight),e}function ta(t){const e=Mr({},t),n=e.container||e.control||e.commands||e.children||e.nodes;return n&&(e.elements=n,delete e.container,delete e.control,delete e.commands,delete e.children,delete e.nodes),e}function nP(t){const e=Mr({},t);return!Ae(e,"elements")&&Ae(e,"collapsible")&&(e.collapsible||(e.isSeparator=!0),delete e.collapsible),Ae(e,"name")&&(e.id=e.name,delete e.name),e}function pc(t){const e=Mr({},t);return Ae(e,"title")&&!Ae(e,"caption")&&(e.caption=e.title,delete e.title),e}function oU(t){function e(o){return compose(pc,yn,ta)(o)}const n=Mr({},t);let r;return r=e(n),r.elements&&(r.elements=r.elements.map(o=>e(o))),r}function rP(t){var e,n;function r(i){const c=Mr({},i);return Ae(c,"isIssueList")&&(c.isCardFile=!!c.isIssueList,delete c.isIssueList),Ae(c,"rowCount")&&(c.displayRowCount=Number.parseInt(c.rowCount,10),delete c.rowCount),Ae(c,"summary")&&(c.summaryRowCount=c.summary,delete c.summary),Ae(c,"showHierarchyNavigation")&&(c.showHierarchyButton=c.showHierarchyNavigation,delete c.showHierarchyNavigation),Ae(c,"isTopLevel")&&(c.showHierarchyButton=c.showHierarchyButton&&!c.isTopLevel,delete c.isTopLevel),Ae(c,"headers")&&(c.headersSchema=c.headers,delete c.headers),Ae(c,"headersData")&&(c.headersEntities=c.headersData,delete c.headersData),Ae(c,"selectedRows")&&(c.selectedRowIds=c.selectedRows,delete c.selectedRows),c}function o(i){return(0,ur.qC)(r,yn,ta)(i)}const l=o(t);if((e=l.elements)!=null&&e.length){const i=c=>(c.type==="group"&&Ae(c,"elements")&&(c.elements=c.elements.map(d=>i(d))),(0,ur.qC)(pc,yn,ta)(c));l.contextMenuElements=l.elements.map(i),delete l.elements}return(n=l.rows)!=null&&n.length&&(l.rows=l.rows[0].map(i=>(i!=null&&i.elements&&(i.elements=yn(i.elements)),yn(i)))),l}function Rf(t){function e(r){return(0,ur.qC)(yn,ta)(r)}const n=e(t);return n.elements&&(n.elements=n.elements.map(Rf)),n}function oP(t){var e,n,r;return Ae(t,"isCollapsed")||(t.isCollapsed=!0),(n=(e=t==null?void 0:t.title)==null?void 0:e.elements)!=null&&n.length&&(t.title.element=pl((r=t==null?void 0:t.title)==null?void 0:r.elements),delete t.title.elements),t}function lP(t){function e(r){var o;return(o=r==null?void 0:r.elements)!=null&&o.length?(r.type="listButton",r.elements=r.elements.map(l=>e(l))):r.type="button",(0,ur.qC)(yn)(r)}const n=t.data.elements;return n&&(t.data.elements=n.map(e)),t}function aP(t){function e(r){var o;return(o=r==null?void 0:r.elements)!=null&&o.length&&(r.elements=r.elements.map(l=>e(l))),(0,ur.qC)(yn,nP)(r)}const n=t.data.elements;return n&&(t.data.elements=n.map(e)),t}function sP(t){const e=Mr({},t),n=o=>o&&Array.isArray(o)?o.some(l=>{var i;return l.type==="grid"&&((i=l.rows)==null?void 0:i.length)>60||l.type==="table"&&l.rowCount>60||n(l.elements)}):!1,r=o=>{o.autoSize=!1,o._autoSize=!0,o.elements.forEach(l=>{(l.type==="grid"||l.type==="table")&&(o.hasGrid=!0),l.autoSize=!0,n(l.elements)&&r(l)})};return e.autoSize&&n(e.elements)&&r(e),e}function Df(t,e){const n=Mr({},t);let r;return n.type==="tree"?r=Rf(n):n.type==="button"?r=(0,ur.qC)(e,pc)(n):n.type==="table"?r=rP(n):n.type==="menuBar"||n.type==="roleCenter"||n.type==="chart"?r=yn(n):n.type==="box"?r=(0,ur.qC)(e,oP)(n):n.type==="frame"?r=(0,ur.qC)(e,sP)(n):r=e(n),r.elements&&(r.elements=r.elements.map(o=>Df(o,e))),r}function pl(t){function e(r){return(0,ur.qC)(yn,tP,ta)(r)}return Do(t).map(r=>Df(r,e))[0]}var xr=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});function mc(t){return xr(this,null,function*(){var e;const n=yield $S(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/sendAction"),n})}function lU(t){return xr(this,null,function*(){var e;const n=yield api.getCtxMenu(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/getHeaderCtxMenu"),n})}function iP(t){return xr(this,null,function*(){var e;const n=yield KS(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/sendCommand"),n})}function cP(t){return xr(this,null,function*(){var e;const n=yield MS(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/getAppState"),n})}function Nf(t){return xr(this,null,function*(){const e=yield ZS(t);return lP(e)})}function uP(t){return xr(this,null,function*(){return yield Ef(t)})}function aU(t){return xr(this,null,function*(){return yield api.setUserRole(t)})}function Mf(t){return xr(this,null,function*(){const e=yield GS(t);return aP(e)})}function Tf(){return xr(this,null,function*(){const[t,e]=yield Promise.all([Mf(),Nf()]);return{menuData:t.data,toolbarData:e.data}})}function dP(t){return xr(this,null,function*(){return yield WS(t)})}function fP(t){return xr(this,null,function*(){return yield TS(t)})}const na=[400,401,402,403,404,405,406],pP=[500,501,502,503,504];function ra(t){return t instanceof Error||t instanceof Object?!!t.response:!1}const ml=t=>ra(t)?na.includes(t.response.status):!1,ts=t=>ra(t)?pP.includes(t.response.status):!1,Ff=t=>(t==null?void 0:t.message)==="Network Error";function mP(t){return ra(t)?t.response.data:null}function uo(t){const e=mP(t);if(e){let n=e.errorMessage||"";return!n&&typeof e===String.name.toLowerCase()&&(n=e),n}return""}function ns(t){return ra(t)?Number.parseInt(t.response.status,10):NaN}const Af="isMainMenuOpened",Bf="isMainMenuPinned";function $f(t,e){if(typeof t!==e)throw new TypeError(`\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 \u0442\u0438\u043F: ${e}`);return!0}function zf(t,e){sessionStorage.setItem(t,e)}function Lf(t){return sessionStorage.getItem(t)}function Hf(t){$f(t,"boolean"),zf(Af,t)}function Wf(t){$f(t,"boolean"),zf(Bf,t)}function vc(){return JSON.parse(Lf(Af))}function hc(){return JSON.parse(Lf(Bf))}function vP(){const t=!!hc();Hf(t&&!!vc()),Wf(t)}function hP(){return{isOpened:vc(),isPinned:hc()}}var rs={initState:vP,getState:hP,setOpened:Hf,setPinned:Wf,isOpened:vc,isPinned:hc},a=He(67294),gP=He(94184),be=He.n(gP),vl=He(99768),bP=He(45697),y=He.n(bP),yP=He(75980),Cn=He.n(yP),Fe=He(24268);const gc=(0,Fe.PH)("PRE_LOGIN_DATA/set"),os=(0,Fe.PH)("MENU_DATA/set"),hl=(0,Fe.PH)("APP_STATE/reset"),bc=(0,Fe.PH)("APP_STATE/init"),ls=(0,Fe.PH)("SET_SELECTED_MENU_ITEM_ID"),as=(0,Fe.PH)("SET_PRINT_STATUS"),Vf=(0,Fe.PH)("VERSION/set"),Ao=(0,Fe.PH)("ADD_FORM_STACK_TO_QUEUE"),yc=(0,Fe.PH)("PROCESS_INDICATOR/show"),Cc=(0,Fe.PH)("PROCESS_INDICATOR/hide"),_c=(0,Fe.PH)("LOGIN/success"),fo=(0,Fe.PH)("LOGIN/failed"),wc=(0,Fe.PH)("LOGOUT/success"),CP=(0,Fe.PH)("LOGOUT/failed"),xc=(0,Fe.PH)("PING_PONG/start_request"),Uf=(0,Fe.PH)("PING_PONG/stop_request"),ss=(0,Fe.PH)("SET_TOOLBAR_DATA"),Gf=(0,Fe.PH)("PROCESS/add"),Zf=(0,Fe.PH)("PROCESS/remove"),Sc=(0,Fe.PH)("AUTOCOMPLETE/request"),Pc=(0,Fe.PH)("AUTOCOMPLETE/immediately"),Ic=(0,Fe.PH)("AUTOCOMPLETE/reset"),Kf=(0,Fe.PH)("FORM/get"),Bo=(0,Fe.PH)("FORM/update"),Oc=(0,Fe.PH)("FORM/delete"),dr=(0,Fe.PH)("FORM/element_event"),qf=(0,Fe.PH)("FORM/resize"),Yf=(0,Fe.PH)("TABLE_HEADER/resize"),Xf=(0,Fe.PH)("TABLE/change_order"),Jf=(0,Fe.PH)("UPLOAD_FORM/open"),Qf=(0,Fe.PH)("UPLOAD_FORM/close"),ep=(0,Fe.PH)("COLOR_PICKER_FORM/open"),tp=(0,Fe.PH)("COLOR_PICKER_FORM/close"),np=(0,Fe.PH)("MODAL_POP_UP/remove"),oa=(0,Fe.PH)("SERVER_ERROR/add"),is=(0,Fe.PH)("CLIENT_ERROR/add"),rp=(0,Fe.PH)("ERROR/add"),op=(0,Fe.PH)("SERVER_NOTIFICATION/add"),cs=(0,Fe.PH)("CLIENT_DIALOG/add"),us=(0,Fe.PH)("CLIENT_DIALOG/submit"),lp=(0,Fe.PH)("IMAGE_PREVIEW/add"),ds=(0,Fe.PH)("TEMPORARY_FORM_ID/add"),ap=(0,Fe.PH)("LAST_FOCUSED_ELEMENT/set"),Ec=(0,Fe.PH)("LAST_FOCUSED_ELEMENT/update"),sp=(0,Fe.PH)("IFRAME/click"),ip=(0,Fe.PH)("IFRAME/message"),kc=(0,Fe.PH)("SCRIPTED"),cp=(0,Fe.PH)("SAVE_DATA/frame"),up=(0,Fe.PH)("SAVE_DATA/report"),jc=(0,Fe.PH)("ON_HINT"),dp=(0,Fe.PH)("REMINDERS/set"),la=(0,Fe.PH)("WORKERS/set"),fp=(0,Fe.PH)("WORKSPACE/set_first_render"),pp=(0,Fe.PH)("PAGE_ZOOM/set"),mp=(0,Fe.PH)("HEADER_CTX_MENU/show"),vp=(0,Fe.PH)("HEADER_CTX_MENU/close"),hp=(0,Fe.PH)("MAIN_MENU/pin"),Rc=(0,Fe.PH)("MAIN_MENU/open"),gp=(0,Fe.PH)("MAIN_MENU/choose_item"),Dc=(0,Fe.PH)("CHOOSE_TOOLBAR_ITEM"),bp=(0,Fe.PH)("CHOOSE_ROLE_CENTER_ITEM"),Nc=(0,Fe.PH)("FORM/close"),yp=(0,Fe.PH)("FORMS/close_all"),Cp=(0,Fe.PH)("FORMS/close_others"),_p=(0,Fe.PH)("MODAL_FORM/close"),wp=(0,Fe.PH)("FORM/toggle"),xp=(0,Fe.PH)("FORM_STACK/toggle"),Sp=(0,Fe.PH)("FORM_WIDE_SCREEN_MODE/toggle"),Pp=(0,Fe.PH)("LOGIN/request"),aa=(0,Fe.PH)("LOGOUT/request"),Mc=(0,Fe.PH)("CHANGE_LANGUAGE"),Ip=(0,Fe.PH)("UPLOAD/approve"),Op=(0,Fe.PH)("UPLOAD/abort"),Ep=(0,Fe.PH)("COLOR_PICKER/choose_color"),kp=(0,Fe.PH)("COLOR_PICKER/cancel"),jp=(0,Fe.PH)("FORM/raise"),Rp=(0,Fe.PH)("CLIPBOARD/event");var _P=Object.defineProperty,wP=Object.defineProperties,xP=Object.getOwnPropertyDescriptors,Dp=Object.getOwnPropertySymbols,SP=Object.prototype.hasOwnProperty,PP=Object.prototype.propertyIsEnumerable,Np=(t,e,n)=>e in t?_P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e)=>{for(var n in e||(e={}))SP.call(e,n)&&Np(t,n,e[n]);if(Dp)for(var n of Dp(e))PP.call(e,n)&&Np(t,n,e[n]);return t},ln=(t,e)=>wP(t,xP(e));const Mp="Turbo X.WEB:",sa={version:Mp,languages:{serverLanguages:null,webUiLanguage:null},app:{},menu:{isOpened:!1,isPinned:!1,selectedItemId:null,schema:[],entities:{}},toolbar:{},processCounter:0,showProcessIndicator:!1,lastFocusedElement:null,workspace:{isFirstRender:!0}};var IP=(0,Fe.Lq)(sa,t=>{t.addCase(ds,(e,n)=>ln(zt({},e),{temporaryFormId:n.payload})).addCase(Vf,(e,n)=>ln(zt({},e),{version:`${Mp}  ${n.payload}`})).addCase(gc,(e,n)=>n.payload.app&&Object.keys(n.payload).length===1?ln(zt({},e),{app:zt(zt({},e.app),n.payload.app)}):zt(zt({},e),n.payload)).addCase(Mc,(e,n)=>ln(zt({},e),{languages:ln(zt({},e.languages),{webUiLanguage:n.payload.webUiLanguage})})).addCase(os,(e,n)=>ln(zt({},e),{menu:zt(zt({},e.menu),n.payload.menu)})).addCase(ss,(e,n)=>ln(zt({},e),{toolbar:n.payload})).addCase(dp,(e,n)=>{e.reminders=n.payload}).addCase(la,(e,n)=>ln(zt({},e),{workers:n.payload})).addCase(hp,(e,n)=>ln(zt({},e),{menu:ln(zt({},e.menu),{isPinned:n.payload})})).addCase(Rc,(e,n)=>ln(zt({},e),{menu:ln(zt({},e.menu),{isOpened:n.payload})})).addCase(hl,(e,n)=>{var r;return zt(ln(zt({},e),{menu:ln(zt({},e.menu),{leftBarHide:sa.menu.leftBarHide,elements:sa.menu.elements}),workspace:sa.workspace,userDropdownMenu:sa.userDropdownMenu}),(r=n.payload)!=null&&r.savePreloadingData?{languages:e.languages,app:(0,$t.omit)(e.app,["appSkin"])}:{})}).addCase(ls,(e,n)=>ln(zt({},e),{menu:ln(zt({},e.menu),{selectedItemId:n.payload})})).addCase(Gf,e=>ln(zt({},e),{processCounter:e.processCounter+1})).addCase(Zf,e=>ln(zt({},e),{processCounter:e.processCounter===0?0:e.processCounter-1})).addCase(yc,e=>ln(zt({},e),{showProcessIndicator:!0})).addCase(Cc,e=>ln(zt({},e),{showProcessIndicator:!1})).addCase(ap,(e,n)=>ln(zt({},e),{lastFocusedElement:n.payload})).addCase(Ec,(e,n)=>ln(zt({},e),{lastFocusedElement:n.payload})).addCase(fp,(e,n)=>ln(zt({},e),{workspace:{isFirstRender:n.payload}})).addCase(pp,(e,n)=>ln(zt({},e),{pageZoom:n.payload}))}),OP=Object.defineProperty,EP=Object.defineProperties,kP=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,jP=Object.prototype.hasOwnProperty,RP=Object.prototype.propertyIsEnumerable,Fp=(t,e,n)=>e in t?OP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tc=(t,e)=>{for(var n in e||(e={}))jP.call(e,n)&&Fp(t,n,e[n]);if(Tp)for(var n of Tp(e))RP.call(e,n)&&Fp(t,n,e[n]);return t},DP=(t,e)=>EP(t,kP(e));const Ap={isUserIntoTab:!1,isSessionExist:!1,isError:!1,errorMessage:"",roleName:null,userName:null,clientMaxIdlePeriod:null};var NP=(0,Fe.Lq)(Ap,t=>{t.addCase(_c,(e,n)=>DP(Tc({},e),{isUserIntoTab:n.payload.isUserIntoTab,userName:n.payload.userName,roleName:n.payload.roleName,clientMaxIdlePeriod:n.payload.clientMaxIdlePeriod})).addCase(fo,(e,n)=>Tc(Tc({},e),n.payload)).addCase(wc,()=>Ap)});const Bp=[];var MP=(0,Fe.Lq)(Bp,t=>{t.addCase(Ao,(e,n)=>[n.payload,...e]).addCase(Oc,(e,n)=>e.filter(r=>r!==n.payload)).addCase(hl,()=>Bp)}),fr=He(12902),TP=Object.defineProperty,FP=Object.defineProperties,AP=Object.getOwnPropertyDescriptors,$p=Object.getOwnPropertySymbols,BP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,zp=(t,e,n)=>e in t?TP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$o=(t,e)=>{for(var n in e||(e={}))BP.call(e,n)&&zp(t,n,e[n]);if($p)for(var n of $p(e))$P.call(e,n)&&zp(t,n,e[n]);return t},Lp=(t,e)=>FP(t,AP(e));const Hp={0:{commandName:tf,formId:"0",formStackId:"0",formName:"",openMode:"new"}};var zP=(0,Fe.Lq)(Hp,t=>{t.addCase(kc,(e,n)=>{const{formId:r,controlId:o,value:l,content:i}=n.payload;return e[r]?(0,fr.ZP)(e,c=>{var d,u,m;const f=(u=(d=c[r])==null?void 0:d.entities)==null?void 0:u.html,p=(m=f==null?void 0:f[o])==null?void 0:m.content,v=i||p;l&&(f!=null&&f[o])&&!(f!=null&&f[o].initialScripts)&&(f[o].initialScripts=l),f!=null&&f[o]?c[r].entities.html[o]=Lp($o({},f[o]),{scriptValues:l,content:v}):f?c[r].entities.html[o]={name:o,scriptValues:l,content:v}:c[r].entities.html={[o]:{name:o,scriptValues:l,content:v}}}):e}).addCase(cp,(e,n)=>{const{formId:r,controlId:o,data:l}=n.payload;return e[r]?(0,fr.ZP)(e,i=>{i[r].entities.frame[o]=$o($o({},i[r].entities.frame[o]),l)}):e}).addCase(up,(e,n)=>{const{formId:r,controlId:o,data:l}=n.payload;return e[r]?(0,fr.ZP)(e,i=>{i[r].entities.report[o]=$o($o({},i[r].entities.report[o]),l)}):e}).addCase(Bo,(e,n)=>{const{formId:r}=n.payload;return Lp($o({},e),{[r]:n.payload})}).addCase(Oc,(e,n)=>{const r=n.payload,o=$o({},e);return delete o[r],o}).addCase(hl,()=>Hp)});const Fc=null;var LP=(0,Fe.Lq)(Fc,t=>{t.addCase(Jf,(e,n)=>n.payload).addCase(Qf,()=>Fc).addCase(hl,()=>Fc)}),HP=Object.defineProperty,Wp=Object.getOwnPropertySymbols,WP=Object.prototype.hasOwnProperty,VP=Object.prototype.propertyIsEnumerable,Vp=(t,e,n)=>e in t?HP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Up=(t,e)=>{for(var n in e||(e={}))WP.call(e,n)&&Vp(t,n,e[n]);if(Wp)for(var n of Wp(e))VP.call(e,n)&&Vp(t,n,e[n]);return t};const UP={needToPrint:!1,serviceURL:null};var GP=(0,Fe.Lq)(UP,t=>{t.addCase(as,(e,n)=>Up(Up({},e),n.payload))}),ZP=He.p+"images/Help.svg",KP=He.p+"images/System.svg",qP=He.p+"images/Error.svg",YP=He.p+"images/Warning.svg",XP=He.p+"images/Information.svg",JP=He(54483),Gp=He.n(JP);function At(t){var e,n;return(n=(e=t.mainAppParams.app.appSkin)==null?void 0:e.colors)==null?void 0:n.palette}var z=He(12788);function QP(t){var e;return(e=t.mainAppParams.app.appSkin)==null?void 0:e.tokens}const I=(t,e="")=>{const n=Xe.getState(),r=QP(n),o=At(n),l=r==null?void 0:r[t];return!l||!o?e:o[l.toLowerCase()]},Zp=()=>({background:{default:I("button-primary-background-default"),hover:I("button-primary-background-hover"),click:I("button-primary-background-click"),disable:I("button-primary-background-disable"),focus:I("button-primary-background-focus")},border:{default:I("button-primary-border-default"),hover:I("button-primary-border-hover"),click:I("button-primary-border-click"),disable:I("button-primary-border-disable"),focus:I("button-primary-border-focus")},text:{default:I("text-primary")}});var Ac={Primary:Zp,Secondary:()=>({background:{default:I("button-secondary-background-default"),hover:I("button-secondary-background-hover"),click:I("button-secondary-background-click"),disable:I("button-secondary-background-disable"),focus:I("button-secondary-background-focus")},border:{default:I("button-secondary-border-default"),hover:I("button-secondary-border-hover"),click:I("button-secondary-border-click"),disable:I("button-secondary-border-disable"),focus:I("button-secondary-border-focus")},text:{default:I("text"),hover:I("text"),click:I("text"),disable:I("text-disable"),focus:I("text")}}),Tertiary:()=>({background:{default:I("button-tertiary-background-default"),hover:I("button-tertiary-background-hover"),click:I("button-tertiary-background-click"),disable:I("button-tertiary-background-disable"),focus:I("button-tertiary-background-focus")},border:{default:I("button-tertiary-border-default"),hover:I("button-tertiary-border-hover"),click:I("button-tertiary-border-click"),disable:I("button-tertiary-border-disable"),focus:I("button-tertiary-border-focus")},text:{default:I("text"),disable:I("text-disable")}}),Ghost:()=>({background:{default:I("button-ghost-background-default"),hover:I("button-ghost-background-hover"),click:I("button-ghost-background-click"),disable:I("button-ghost-background-disable"),focus:I("button-ghost-background-focus")},border:{default:I("button-ghost-border-default"),hover:I("button-ghost-border-hover"),click:I("button-ghost-border-click"),disable:I("button-ghost-border-disable"),focus:I("button-ghost-border-focus")},text:{default:I("text"),disable:I("text-disable")}}),Color:()=>({background:{default:I("button-color-background-default"),hover:I("button-color-background-hover"),click:I("button-color-background-click"),disable:I("button-color-background-disable"),focus:I("button-color-background-focus")},border:{default:I("button-color-border-default"),hover:I("button-color-border-hover"),click:I("button-color-border-click"),disable:I("button-color-border-disable"),focus:I("button-color-border-focus")},text:{default:I("text-primary")}}),default:Zp};const eI=t=>Object.keys(Ac).includes(t),tI=t=>eI(t)?Ac[t]():Ac.default();var nI=Object.defineProperty,rI=Object.defineProperties,oI=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,Kp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,Yp=(t,e,n)=>e in t?nI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lI=(t,e)=>{for(var n in e||(e={}))Kp.call(e,n)&&Yp(t,n,e[n]);if(fs)for(var n of fs(e))qp.call(e,n)&&Yp(t,n,e[n]);return t},aI=(t,e)=>rI(t,oI(e)),sI=(t,e)=>{var n={};for(var r in t)Kp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fs)for(var r of fs(t))e.indexOf(r)<0&&qp.call(t,r)&&(n[r]=t[r]);return n};const iI=z.ZP.button`
  position: relative;
  box-sizing: border-box;
  display: flex;
  flex-direction: ${({iconPosition:t})=>t==="right"?"row-reverse":"row"};
  justify-content: ${({countedStyle:t})=>t.textAlign==="left"?"flex-start":t.textAlign==="right"?"flex-end":"center"};
  align-items: center;
  /* на случай, если мы решим включить размеры из макета, добавить это в строку ниже
      так же необходимо поменять border-radius, см. макет */
  /* padding: 8px 24px; */
  padding: ${t=>t.isIconButton?null:"3px 0"};
  height: ${({countedStyle:t})=>t.height};
  min-height: 32px;
  border-radius: 8px;
  width: ${({countedStyle:t})=>t.width};
  min-width: 32px;
  max-width: ${({countedStyle:t})=>t.maxWidth};
  font-style: normal;
  font-size: ${t=>t.isIconButton?null:"14px"};
  cursor: pointer;
  background-color: ${({theme:t,isPressed:e})=>{var n,r;return e?(n=t.background)==null?void 0:n.click:(r=t.background)==null?void 0:r.default}};
  color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.default}};
  border: 1px solid ${({theme:t,isPressed:e})=>{var n,r;return e?(n=t.border)==null?void 0:n.click:(r=t.border)==null?void 0:r.default}};
  
  :focus-visible {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.focus}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.focus}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.focus}};
  }

  &:hover {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.hover}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.hover}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.hover}};
  }

  &:focus-visible {
    z-index: 1;
    outline-offset: 1px;
    outline: 2px solid ${()=>I("focus-outline")};
  }

  &:active {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.click}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.click}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.click}};
  }

  &:disabled {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.disable}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.disable}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.disable}}
  }

  &:disabled:hover {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.disable}};
  }
`,cI=z.ZP.span({fontSize:14,lineHeight:"16px"});var uI=t=>{const e=t,{disabled:n,fashion:r,countedStyle:o,isPressed:l,icon:i,iconSize:c,iconPosition:d,startIcon:u,endIcon:m,content:f,buttonRef:p,theme:v}=e,g=sI(e,["disabled","fashion","countedStyle","isPressed","icon","iconSize","iconPosition","startIcon","endIcon","content","buttonRef","theme"]),b=!f,h=(0,$t.pickBy)(o,(_,O)=>O.includes("padding")),C=(0,$t.merge)(tI(r),v);return(0,s.jsx)(z.f6,{theme:C,children:(0,s.jsxs)(iI,aI(lI({fashion:r,countedStyle:o,iconPosition:d,isIconButton:b,isPressed:l,disabled:n,ref:p},g),{style:h,children:[(0,s.jsx)("div",{style:{height:c,[d==="right"?"paddingLeft":"paddingRight"]:b?"none":"6px"},children:u!=null?u:i}),(0,s.jsx)(cI,{children:f}),(0,s.jsx)("div",{style:{height:c,[d==="right"?"paddingRight":"paddingLeft"]:b?"none":"6px"},children:m})]}))})},dI=Object.defineProperty,fI=Object.defineProperties,pI=Object.getOwnPropertyDescriptors,ps=Object.getOwnPropertySymbols,Xp=Object.prototype.hasOwnProperty,Jp=Object.prototype.propertyIsEnumerable,Qp=(t,e,n)=>e in t?dI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gn=(t,e)=>{for(var n in e||(e={}))Xp.call(e,n)&&Qp(t,n,e[n]);if(ps)for(var n of ps(e))Jp.call(e,n)&&Qp(t,n,e[n]);return t},po=(t,e)=>fI(t,pI(e)),ia=(t,e)=>{var n={};for(var r in t)Xp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ps)for(var r of ps(t))e.indexOf(r)<0&&Jp.call(t,r)&&(n[r]=t[r]);return n},ca=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())}),ve={onAutoComplete:t=>ca(void 0,null,function*(){const{value:e,listValues:n,args:r,state:o}=t;return yield Xe.dispatch(Sc(po(Gn({},r),{listValues:n,value:e,state:o}))),!0}),onImmediatelyAutoComplete:t=>ca(void 0,null,function*(){const{value:e,args:n,metaSet:r}=t;return r!=null&&r.isOpenList||(yield Xe.dispatch(Pc(po(Gn({},n),{value:e})))),!0}),onResetAutocompleteValues:t=>(Xe.dispatch(Ic(t)),!0),onFormControlEvent:t=>{const e=t,{args:n,value:r,notValidValue:o,href:l}=e,i=ia(e,["args","value","notValidValue","href"]),c=Gn(Gn({},n),i);return r!==void 0&&(c.value=r),o&&(c.notValidValue=o),l&&(c.href=l),Xe.dispatch(dr(c)),!0},checkEditableValidation:t=>{const{args:e}=t,n=po(Gn({},e),{action:"onEdit"});return Xe.dispatch(dr(n)),!0},onTableCellControlAction:t=>ca(void 0,null,function*(){var e,n,r;const{args:o,value:l}=t,{formId:i,formName:c,controlId:d,type:u,action:m}=o,f=l,{targetRowId:p,targetColumnId:v}=f,g=ia(f,["targetRowId","targetColumnId"]),b={formId:i,formName:c,type:u,controlId:d,value:Gn({},g)},h=((r=(e=b.value)==null?void 0:e.controlEvents)==null?void 0:r[(n=b.value)==null?void 0:n.eventType])||m;return h==="onResetAutocompleteValues"?yield Xe.dispatch(Ic(b)):h==="onImmediatelyAutoComplete"?yield Xe.dispatch(Pc(b)):h==="autoComplete"?yield Xe.dispatch(Sc(b)):h==="onHint"?Xe.dispatch(jc(b)):yield Xe.dispatch(dr(b)),!0}),onGridCellEvent:t=>ca(void 0,null,function*(){const{args:e,value:n}=t,{formId:r,formName:o,controlId:l,type:i}=e,c=n,{rowId:d,columnId:u}=c,m=ia(c,["rowId","columnId"]),f={formId:r,formName:o,type:i,controlId:l,value:Gn({},m)};return d!==void 0&&(f.value.rowId=d),u!==void 0&&(f.value.columnId=u),yield Xe.dispatch(dr(f)),!0}),onCanvasGridCellEvent:t=>ca(void 0,null,function*(){const{args:e,value:n}=t,r=e,{formId:o,formName:l,controlId:i,type:c,action:d,isModal:u}=r,m=ia(r,["formId","formName","controlId","type","action","isModal"]),f=Gn({formId:o,formName:l,type:c,action:d,controlId:i,value:n},m);return yield Xe.dispatch(dr(f)),!0}),onClipboardEvent:t=>{const e=t,{args:n,value:r,clipboardValue:o,event:l}=e,i=ia(e,["args","value","clipboardValue","event"]),c=po(Gn(Gn({},n),i),{value:r,clipboardValue:o,type:l.type});r&&o&&(c.selection=o===r?"full":"partial"),Xe.dispatch(Rp(c))},onReportHierarchyClick:t=>{const{args:e,value:n}=t;Xe.dispatch(dr(po(Gn({},e),{value:{cellInfo:n}})))},onReportCellSelect:t=>{const{args:e,value:n}=t;Xe.dispatch(dr(po(Gn({},e),{value:{selectedCellId:n}})))},onDataPointSelect:t=>{const{args:e,value:n}=t;Xe.dispatch(dr(po(Gn({},e),{value:n})))},onFormResize:t=>{Xe.dispatch(qf(t))},onTableHeaderResize:t=>{Xe.dispatch(Yf(t))},onTableOrderChange:t=>{Xe.dispatch(Xf(t))},onSaveContentIframe:t=>{const{content:e,args:n,value:r}=t;Xe.dispatch(kc({content:e,value:r,formId:n.formId,controlId:n.controlId}))},onSaveDataFrame:({args:t,data:e})=>{const{formId:n,controlId:r}=t;Xe.dispatch(cp({formId:n,controlId:r,data:e}))},onSaveDataReport:({args:t,data:e})=>{const{formId:n,controlId:r}=t;Xe.dispatch(up({formId:n,controlId:r,data:e}))},onShowContextMenu:({args:t,value:e})=>{const n=Gn({},t);e&&(n.value=e),Xe.dispatch(dr(n))},onHintControl:({args:t})=>{Xe.dispatch(jc(t))},onAutolock:({args:t})=>{Xe.dispatch(dr(t))},onHeaderCtxMenu:({event:t,args:e,value:n})=>{Xe.dispatch(mp(po(Gn({},e),{event:t,value:n})))},onCloseHeaderCtxMenu:({args:t})=>{Xe.dispatch(vp(t))}},mI=Object.defineProperty,ms=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,nm=(t,e,n)=>e in t?mI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bc=(t,e)=>{for(var n in e||(e={}))em.call(e,n)&&nm(t,n,e[n]);if(ms)for(var n of ms(e))tm.call(e,n)&&nm(t,n,e[n]);return t},rm=(t,e)=>{var n={};for(var r in t)em.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ms)for(var r of ms(t))e.indexOf(r)<0&&tm.call(t,r)&&(n[r]=t[r]);return n};const je=t=>{var e=t,{events:n,specificEvent:r,nativeEvent:o,value:l}=e,i=rm(e,["events","specificEvent","nativeEvent","value"]);let c=l===void 0?null:l,d=!0;if(r&&(d=r(Bc({value:c},i))),d&&o&&(n!=null&&n[o])){const{alias:u,args:m}=n[o];d=ve[u](Bc({args:m,value:c},i))}return d},CU=({event:t,metaSet:e,events:n,value:r,eventChain:o})=>{const l=o.map(i=>{const c=i,{specificEvent:d,nativeEvent:u}=c,m=rm(c,["specificEvent","nativeEvent"]);je(Bc({event:t,metaSet:e,events:n,specificEvent:d,nativeEvent:u,value:r},m))});return l[l.length-1]},mn={default:"default",active:"active",editable:"editable"};function _U(t){return t===mn.default}function wU(t){return t===mn.active}function xU(t){return t===mn.editable}function zo(t=mn.default,e){const n=(0,a.useRef)(null),r=e||n,[o,l]=(0,a.useState)(t||mn.default),i=(0,a.useRef)({setDefaultMode:()=>{},setActiveMode:()=>{},setEditableMode:()=>{},checkDefaultMode:()=>{},checkActiveMode:()=>{},checkEditableMode:()=>{}});(0,a.useImperativeHandle)(r,()=>i.current);const c=(0,a.useCallback)(()=>{l(mn.default)},[]),d=(0,a.useCallback)(()=>{l(mn.active)},[]),u=(0,a.useCallback)(()=>{l(mn.editable)},[]),m=(0,a.useCallback)(()=>o===mn.default,[o]),f=(0,a.useCallback)(()=>o===mn.active,[o]),p=(0,a.useCallback)(()=>o===mn.editable,[o]);return i.current={setDefaultMode:c,setActiveMode:d,setEditableMode:u,setMode:l,checkDefaultMode:m,checkActiveMode:f,checkEditableMode:p},[o,i.current]}const vI=t=>{const e=t==null?void 0:t.current;if(e){const n=e.clientWidth;return e.scrollWidth>=n}};var pr=(t,e=null,n,r=!1,o=!1)=>{const l=(0,a.useCallback)(()=>{t!=null&&t.current&&(e?t.current.title=e:vI(t)?t.current.title=o?t.current.value:t.current.innerText:t.current.title="")},[n,e,o]);(0,a.useEffect)(()=>{r||l()},[n,e,r]),(0,a.useEffect)(()=>{if(t!=null&&t.current){const i=new io.Z(l);return i.observe(t==null?void 0:t.current),()=>{t!=null&&t.current&&i.unobserve(t==null?void 0:t.current)}}},[l])};function Vr(t,e){let n=-1;if(t){const r=parseInt(e,10);n=isNaN(r)?0:r}return n}const hI=8,gI=9,bI=13,yI=16,CI=17,_I=27,wI=32,xI=33,SI=34,PI=35,II=36,om=37,lm=38,am=39,sm=40,OI=46,EI=65,kI=t=>t===CI,PU=t=>t===yI,jI=t=>t,Lo=t=>t===gI,or=t=>t===bI,mo=t=>t===_I,IU=t=>t===xI,OU=t=>t===SI,EU=t=>t===PI,kU=t=>t===II,im=t=>t===OI,cm=t=>t===om,Sr=t=>t===lm,um=t=>t===am,Ur=t=>t===sm,$c=t=>{switch(t){case lm:case sm:case om:case am:return!0;default:return!1}},jU=t=>t===EI,RU=t=>t===hI,ua=t=>t===wI,vs=t=>t.altKey,RI=t=>t.ctrlKey,hs=t=>t.shiftKey,vo=t=>t.altKey||t.ctrlKey||t.shiftKey,DU=t=>[67,45].includes(t.keyCode)&&t.ctrlKey,zc=t=>t.shiftKey&&t.keyCode===45||t.ctrlKey&&t.keyCode===86,dm=t=>t.keyCode===82,gs=t=>{switch(t){case 32:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 219:case 220:case 221:case 222:return!0;default:return!1}};function fm(t){return NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?Array.from(t):Array.isArray(t)?t:[t]}const DI=(t,e,n)=>{Object.entries(e).forEach(([r,o])=>{t.addEventListener(r,o,n)})},NI=(t,e,n)=>{Object.entries(e).forEach(([r,o])=>{t.removeEventListener(r,o,n)})},Ho=(t,e,n)=>{const r=fm(t);r==null||r.forEach(o=>o&&DI(o,e,n))},Wo=(t,e,n)=>{const r=fm(t);r==null||r.forEach(o=>o&&NI(o,e,n))},pm={aliceblue:{hex:"F0F8FF",dec:[240,248,255]},antiquewhite:{hex:"FAEBD7",dec:[250,235,215]},aqua:{hex:"00FFFF",dec:[0,255,255]},aquamarine:{hex:"7FFFD4",dec:[127,255,212]},azure:{hex:"F0FFFF",dec:[240,255,255]},beige:{hex:"F5F5DC",dec:[245,245,220]},bisque:{hex:"FFE4C4",dec:[255,228,196]},black:{hex:"000000",dec:[0,0,0]},blanchedalmond:{hex:"FFEBCD",dec:[255,235,205]},blue:{hex:"0000FF",dec:[0,0,255]},blueviolet:{hex:"8A2BE2",dec:[138,43,226]},brown:{hex:"A52A2A",dec:[165,42,42]},burlywood:{hex:"DEB887",dec:[222,184,135]},cadetblue:{hex:"5F9EA0",dec:[95,158,160]},chartreuse:{hex:"7FFF00",dec:[127,255,0]},chocolate:{hex:"D2691E",dec:[210,105,30]},coral:{hex:"FF7F50",dec:[255,127,80]},cornflowerblue:{hex:"6495ED",dec:[100,149,237]},cornsilk:{hex:"FFF8DC",dec:[255,248,220]},crimson:{hex:"DC143C",dec:[220,20,60]},cyan:{hex:"00FFFF",dec:[0,255,255]},darkblue:{hex:"00008B",dec:[0,0,139]},darkcyan:{hex:"008B8B",dec:[0,139,139]},darkgoldenrod:{hex:"B8860B",dec:[184,134,11]},darkgray:{hex:"A9A9A9",dec:[169,169,169]},darkgreen:{hex:"006400",dec:[0,100,0]},darkgrey:{hex:"A9A9A9",dec:[169,169,169]},darkkhaki:{hex:"BDB76B",dec:[189,183,107]},darkmagenta:{hex:"8B008B",dec:[139,0,139]},darkolivegreen:{hex:"556B2F",dec:[85,107,47]},darkorange:{hex:"FF8C00",dec:[255,140,0]},darkorchid:{hex:"9932CC",dec:[153,50,204]},darkred:{hex:"8B0000",dec:[139,0,0]},darksalmon:{hex:"E9967A",dec:[233,150,122]},darkseagreen:{hex:"8FBC8F",dec:[143,188,143]},darkslateblue:{hex:"483D8B",dec:[72,61,139]},darkslategray:{hex:"2F4F4F",dec:[47,79,79]},darkslategrey:{hex:"2F4F4F",dec:[47,79,79]},darkturquoise:{hex:"00CED1",dec:[0,206,209]},darkviolet:{hex:"9400D3",dec:[148,0,211]},deeppink:{hex:"FF1493",dec:[255,20,147]},deepskyblue:{hex:"00BFFF",dec:[0,191,255]},dimgray:{hex:"696969",dec:[105,105,105]},dimgrey:{hex:"696969",dec:[105,105,105]},dodgerblue:{hex:"1E90FF",dec:[30,144,255]},firebrick:{hex:"B22222",dec:[178,34,34]},floralwhite:{hex:"FFFAF0",dec:[255,250,240]},forestgreen:{hex:"228B22",dec:[34,139,34]},fuchsia:{hex:"FF00FF",dec:[255,0,255]},gainsboro:{hex:"DCDCDC",dec:[220,220,220]},ghostwhite:{hex:"F8F8FF",dec:[248,248,255]},gold:{hex:"FFD700",dec:[255,215,0]},goldenrod:{hex:"DAA520",dec:[218,165,32]},gray:{hex:"808080",dec:[128,128,128]},green:{hex:"008000",dec:[0,128,0]},greenyellow:{hex:"ADFF2F",dec:[173,255,47]},grey:{hex:"808080",dec:[128,128,128]},honeydew:{hex:"F0FFF0",dec:[240,255,240]},hotpink:{hex:"FF69B4",dec:[255,105,180]},indianred:{hex:"CD5C5C",dec:[205,92,92]},indigo:{hex:"4B0082",dec:[75,0,130]},ivory:{hex:"FFFFF0",dec:[255,255,240]},khaki:{hex:"F0E68C",dec:[240,230,140]},lavender:{hex:"E6E6FA",dec:[230,230,250]},lavenderblush:{hex:"FFF0F5",dec:[255,240,245]},lawngreen:{hex:"7CFC00",dec:[124,252,0]},lemonchiffon:{hex:"FFFACD",dec:[255,250,205]},lightblue:{hex:"ADD8E6",dec:[173,216,230]},lightcoral:{hex:"F08080",dec:[240,128,128]},lightcyan:{hex:"E0FFFF",dec:[224,255,255]},lightgoldenrodyellow:{hex:"FAFAD2",dec:[250,250,210]},lightgray:{hex:"D3D3D3",dec:[211,211,211]},lightgreen:{hex:"90EE90",dec:[144,238,144]},lightgrey:{hex:"D3D3D3",dec:[211,211,211]},lightpink:{hex:"FFB6C1",dec:[255,182,193]},lightsalmon:{hex:"FFA07A",dec:[255,160,122]},lightseagreen:{hex:"20B2AA",dec:[32,178,170]},lightskyblue:{hex:"87CEFA",dec:[135,206,250]},lightslategray:{hex:"778899",dec:[119,136,153]},lightslategrey:{hex:"778899",dec:[119,136,153]},lightsteelblue:{hex:"B0C4DE",dec:[176,196,222]},lightyellow:{hex:"FFFFE0",dec:[255,255,224]},lime:{hex:"00FF00",dec:[0,255,0]},limegreen:{hex:"32CD32",dec:[50,205,50]},linen:{hex:"FAF0E6",dec:[250,240,230]},magenta:{hex:"FF00FF",dec:[255,0,255]},maroon:{hex:"800000",dec:[128,0,0]},mediumaquamarine:{hex:"66CDAA",dec:[102,205,170]},mediumblue:{hex:"0000CD",dec:[0,0,205]},mediumorchid:{hex:"BA55D3",dec:[186,85,211]},mediumpurple:{hex:"9370DB",dec:[147,112,219]},mediumseagreen:{hex:"3CB371",dec:[60,179,113]},mediumslateblue:{hex:"7B68EE",dec:[123,104,238]},mediumspringgreen:{hex:"00FA9A",dec:[0,250,154]},mediumturquoise:{hex:"48D1CC",dec:[72,209,204]},mediumvioletred:{hex:"C71585",dec:[199,21,133]},midnightblue:{hex:"191970",dec:[25,25,112]},mintcream:{hex:"F5FFFA",dec:[245,255,250]},mistyrose:{hex:"FFE4E1",dec:[255,228,225]},moccasin:{hex:"FFE4B5",dec:[255,228,181]},navajowhite:{hex:"FFDEAD",dec:[255,222,173]},navy:{hex:"000080",dec:[0,0,128]},oldlace:{hex:"FDF5E6",dec:[253,245,230]},olive:{hex:"808000",dec:[128,128,0]},olivedrab:{hex:"6B8E23",dec:[107,142,35]},orange:{hex:"FFA500",dec:[255,165,0]},orangered:{hex:"FF4500",dec:[255,69,0]},orchid:{hex:"DA70D6",dec:[218,112,214]},palegoldenrod:{hex:"EEE8AA",dec:[238,232,170]},palegreen:{hex:"98FB98",dec:[152,251,152]},paleturquoise:{hex:"AFEEEE",dec:[175,238,238]},palevioletred:{hex:"DB7093",dec:[219,112,147]},papayawhip:{hex:"FFEFD5",dec:[255,239,213]},peachpuff:{hex:"FFDAB9",dec:[255,218,185]},peru:{hex:"CD853F",dec:[205,133,63]},pink:{hex:"FFC0CB",dec:[255,192,203]},plum:{hex:"DDA0DD",dec:[221,160,221]},powderblue:{hex:"B0E0E6",dec:[176,224,230]},purple:{hex:"800080",dec:[128,0,128]},rebeccapurple:{hex:"663399",dec:[102,51,153]},red:{hex:"FF0000",dec:[255,0,0]},rosybrown:{hex:"BC8F8F",dec:[188,143,143]},royalblue:{hex:"4169E1",dec:[65,105,225]},saddlebrown:{hex:"8B4513",dec:[139,69,19]},salmon:{hex:"FA8072",dec:[250,128,114]},sandybrown:{hex:"F4A460",dec:[244,164,96]},seagreen:{hex:"2E8B57",dec:[46,139,87]},seashell:{hex:"FFF5EE",dec:[255,245,238]},sienna:{hex:"A0522D",dec:[160,82,45]},silver:{hex:"C0C0C0",dec:[192,192,192]},skyblue:{hex:"87CEEB",dec:[135,206,235]},slateblue:{hex:"6A5ACD",dec:[106,90,205]},slategray:{hex:"708090",dec:[112,128,144]},slategrey:{hex:"708090",dec:[112,128,144]},snow:{hex:"FFFAFA",dec:[255,250,250]},springgreen:{hex:"00FF7F",dec:[0,255,127]},steelblue:{hex:"4682B4",dec:[70,130,180]},tan:{hex:"D2B48C",dec:[210,180,140]},teal:{hex:"008080",dec:[0,128,128]},thistle:{hex:"D8BFD8",dec:[216,191,216]},tomato:{hex:"FF6347",dec:[255,99,71]},turquoise:{hex:"40E0D0",dec:[64,224,208]},violet:{hex:"EE82EE",dec:[238,130,238]},wheat:{hex:"F5DEB3",dec:[245,222,179]},white:{hex:"FFFFFF",dec:[255,255,255]},whitesmoke:{hex:"F5F5F5",dec:[245,245,245]},yellow:{hex:"FFFF00",dec:[255,255,0]},yellowgreen:{hex:"9ACD32",dec:[154,205,50]}};function MI(t){return!!(t&&pm[t])}const mm=t=>MI(t)?`#${pm[t].hex}`:t;function Lc(){const[t,e]=(0,a.useState)(!1),n=(0,a.useCallback)(()=>{e(!0)},[]),r=(0,a.useCallback)(()=>{e(!1)},[]);return{isHover:t,onMouseEnter:n,onMouseLeave:r}}var Gr=(t=>(t.Remix="remix",t.FontAwesome="awesome",t))(Gr||{}),TI=Object.defineProperty,FI=Object.defineProperties,AI=Object.getOwnPropertyDescriptors,vm=Object.getOwnPropertySymbols,BI=Object.prototype.hasOwnProperty,$I=Object.prototype.propertyIsEnumerable,hm=(t,e,n)=>e in t?TI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ho=(t,e)=>{for(var n in e||(e={}))BI.call(e,n)&&hm(t,n,e[n]);if(vm)for(var n of vm(e))$I.call(e,n)&&hm(t,n,e[n]);return t},bs=(t,e)=>FI(t,AI(e)),Ct=t=>{const{tabIndex:e,id:n,name:r,color:o,size:l,type:i="fill",hoverColor:c,set:d=Gr.Remix,onClick:u,dataAttrs:m,outerStyle:f,parentRef:p,className:v}=t,g=r==null?void 0:r.includes("/"),{isHover:b,onMouseEnter:h,onMouseLeave:C}=Lc(),_=(0,a.useMemo)(()=>p?{onClick:u}:{onClick:u,onMouseLeave:C,onMouseEnter:h},[p,u,C,h]);(0,a.useEffect)(()=>{if(p&&p.current){const S={mouseleave:C,mouseenter:h};return Ho(p.current,S),()=>Wo(p.current,S)}},[]);const O=ho({display:"inline-block",height:l,width:l},f);if(g){const{filter:S}=bf(mm(b&&c?c:o));return(0,s.jsx)("img",bs(ho(ho({id:n,tabIndex:e},m),_),{className:v,alt:r,style:bs(ho({},O),{filter:S}),src:on(r)}))}if(d!==Gr.Remix)return(0,s.jsx)(Cn(),bs(ho({id:n,tabIndex:e},m),{className:v,style:O,name:r!=null?r:""}));let M=`ri-${r}`;i&&(M+=`-${i}`);const P=be()(v,`${M} ${l?"ri-fw":""}`);return(0,s.jsx)("span",bs(ho(ho({id:n,tabIndex:e},m),_),{className:P,style:ho({color:b&&c?c:o,fontSize:l,lineHeight:1,width:"fit-content"},f)}))},MU={popperIconSize:"18px",primaryColor:"#0bd688"},zI=Object.defineProperty,LI=Object.defineProperties,HI=Object.getOwnPropertyDescriptors,ys=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,bm=Object.prototype.propertyIsEnumerable,ym=(t,e,n)=>e in t?zI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zr=(t,e)=>{for(var n in e||(e={}))gm.call(e,n)&&ym(t,n,e[n]);if(ys)for(var n of ys(e))bm.call(e,n)&&ym(t,n,e[n]);return t},gl=(t,e)=>LI(t,HI(e)),WI=(t,e)=>{var n={};for(var r in t)gm.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ys)for(var r of ys(t))e.indexOf(r)<0&&bm.call(t,r)&&(n[r]=t[r]);return n};const In="button",VI="button";function Hc(t){var e;const{_ref:n,focusedElement:r,className:o,style:l,id:i,tabIndex:c,isDisabled:d,isPressed:u,hasError:m,dataAttrs:f,metaSet:p,events:v,hint:g,testId:b,iconName:h,iconSize:C,iconPosition:_,iconType:O,iconColor:M,startIcon:P,endIcon:S,caption:j,hasActiveMode:k,mode:w,modeSwitch:x,onModeChange:T,onKeyDown:A,onEnter:B,onTab:Z,onEsc:V,onFocus:D,onBlur:H,onBlurCapture:E,onMouseDown:R,onClick:L,name:U,isFixSize:q,isWrapped:W,isMultiLine:G,isRoundButton:J,onHint:oe,isParentTable:ce,fashion:N,theme:$,cellColor:K,type:ee,commandName:ne}=t,se=(0,st.v9)(At),me=Boolean(N&&se),ye=cc(j),ue=b||VI,Re=(0,a.useMemo)(()=>Un({isFixSize:q,style:l,type:ee}),[q,l]);let De=Re.backgroundColor,xe=(0,a.useRef)(null);(r||n)&&(xe=r||n);const[Ne,Te]=zo(w,x),it=J!=null?J:!ye,$e=ye&&!h,ze=be()(o,In,{[`${In}_error`]:m,[`${In}_disabled`]:d,[`${In}_pressed`]:u,[`${In}_round`]:it,[`${In}_active`]:!d&&Te.checkActiveMode(),[`${In}_editable`]:!d&&Te.checkEditableMode(),[`${In}_with-caption`]:$e,[`${In}_with-icon-and-caption`]:ye&&h,[`${In}_without-icon-and-caption`]:!ye&!h,[`${In}_with-background`]:De,[`${In}__cell`]:ce&&!it}),we=be()(`${In}__caption`,{[`${In}__caption_wrapped`]:W,[`${In}__caption_multiline`]:G,[`${In}__caption_not-multiline`]:!G}),Oe=(()=>{const ae=Zr({},Re);return(it||!it&&!ye)&&(ae!=null&&ae.width)?ae.height=ae.width:!it&&!(ae!=null&&ae.height)&&!ce&&(ae.height="auto"),ae!=null&&ae.backgroundColor||(ae.borderRadius="50px"),ae})(),{backgroundColor:Ye}=Oe,qe=WI(Oe,["backgroundColor"]),dt=(0,a.useCallback)(ae=>{d||je({specificEvent:R,nativeEvent:"onMouseDown",event:ae,metaSet:p,events:v})},[d,p,v,R]),ft=(0,a.useCallback)(ae=>{d||ae.detail>1||(je({specificEvent:L,nativeEvent:"onClick",event:ae,metaSet:p,events:v,commandName:ne}),u&&Te.setActiveMode())},[d,p,v,L,ne]),rt=(0,a.useCallback)(ae=>{if(d)return;je({specificEvent:D,nativeEvent:"onFocus",event:ae,metaSet:p,events:v})&&(k?Te.setActiveMode():Te.setEditableMode())},[d,p,v,D,k]),bt=(0,a.useCallback)(ae=>{if(d)return;je({specificEvent:H,nativeEvent:"onBlur",event:ae,metaSet:p,events:v})&&Te.setDefaultMode()},[d,p,v,H,k]),pt=(0,a.useCallback)(ae=>{if(!d)return je({specificEvent:E,nativeEvent:"onBlurCapture",event:ae,metaSet:p,events:v}),!1},[d,p,v,E]),mt=(0,a.useCallback)(ae=>{if(d)return;let Ie=!0;if((or(ae.keyCode)||ua(ae.keyCode))&&!ae.repeat)Ie=je({specificEvent:B,nativeEvent:"onEnter",event:ae,metaSet:p,events:v});else if(Lo(ae.keyCode))Ie=je({specificEvent:Z,nativeEvent:"onTab",event:ae,metaSet:p,events:v}),Ie&&Te.setDefaultMode();else if(mo(ae.keyCode))Ie=je({specificEvent:V,nativeEvent:"onEsc",event:ae,metaSet:p,events:v}),Ie&&(k?Te.setActiveMode():Te.setDefaultMode());else if(vo(ae))ae.preventDefault();else{if(or(ae.keyCode)&&ae.repeat)return;je({specificEvent:A,nativeEvent:"onKeyDown",event:ae,metaSet:p,events:v})}},[d,v,p,A,Z,B,V,dt]),Le=(0,a.useCallback)(ae=>{je({specificEvent:oe,nativeEvent:"onHint",event:ae,metaSet:p,events:v})},[oe,v,p]);(0,a.useEffect)(()=>{d&&je({specificEvent:T,nativeEvent:"onModeChange",metaSet:p,events:v,value:Ne})},[d,p,v,T,Ne]),(0,a.useEffect)(()=>{d&&Te.setDefaultMode()},[d]),pr(xe,g,(e=xe==null?void 0:xe.current)==null?void 0:e.innerText);const de=h==null?void 0:h.includes("/"),Ze=`${ue}_icon`,ot=de?`${In}__img img`:`${In}__font-awesome`,gt={width:C,display:"inline-block",height:C};let he=(0,s.jsx)(Ct,gl(Zr({type:O,name:h,color:M,size:C,set:me?Gr.Remix:Gr.FontAwesome},f),{outerStyle:gt,className:ot,"data-testid":Ze}));const fe=De?ye&&(0,s.jsx)("div",{children:(0,s.jsx)("span",gl(Zr({className:we},f),{"data-testid":`${ue}_caption`,children:ye}))}):ye&&(0,s.jsx)("span",gl(Zr({className:we},f),{"data-testid":`${ue}_caption`,children:ye})),ie=Zr({id:i,name:U,className:me?null:ze,style:me?null:qe,disabled:d,tabIndex:Vr(!d,c),onKeyDown:mt,onFocus:rt,onBlur:bt,onBlurCapture:pt,onMouseDown:dt,onClick:ft,onMouseEnter:Le,"data-testid":ue,type:"button"},f),Q=gl(Zr({},ie),{buttonRef:xe,theme:$,fashion:N,isPressed:u,iconSize:C,iconPosition:_,startIcon:P,endIcon:S,content:fe,icon:he,countedStyle:qe});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{backgroundColor:ce&&K?"transparent":K},children:(0,s.jsxs)("div",{className:"wrapper_button",style:{backgroundColor:Ye},children:[!me&&(0,s.jsxs)("button",gl(Zr({ref:xe},ie),{children:[h&&he,fe]})),me&&(0,s.jsx)(uI,Zr({},Q))]})})})}Hc.propTypes={_ref:y().object,id:y().string,className:y().string,style:y().object,isExcluded:y().bool,isDisabled:y().bool,isStatic:y().bool,metaSet:y().oneOfType([y().object,y().string]),dataAttrs:y().object,hasError:y().bool,iconName:y().string,caption:y().string,hint:y().string,events:y().object,tabIndex:y().oneOfType([y().number,y().string]),testId:y().string,hasActiveMode:y().bool,mode:y().string,onModeChange:y().func,onFocus:y().func,onBlur:y().func,onClick:y().func,type:y().string,iconColor:y().string},Hc.defaultProps={_ref:null,id:null,className:null,style:null,isExcluded:!1,isDisabled:!1,isStatic:!1,metaSet:null,dataAttrs:null,hasError:!1,iconName:null,caption:null,hint:null,events:null,tabIndex:0,testId:null,hasActiveMode:!1,mode:null,onModeChange:null,onFocus:null,onBlur:null,onClick:null,type:"button"};var Kr=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Hc,gl(Zr({},t),{_ref:e})))),Gt=Kr;const UI={alignSelf:"flex-end",margin:10};function GI(t){const{onClose:e,value:n}=t;return(0,s.jsxs)("div",{className:"mm-popup__box__image-container",children:[(0,s.jsx)("div",{style:UI,children:(0,s.jsx)(Gt,{name:"closeButton",iconName:"times",onClick:e})}),(0,s.jsx)("img",{src:n})]})}var ZI=GI,Cm=He(32832),KI=He(58847),qI=JSON.parse('{"login_username":"User name","login_password":"Password","login_enter":"Enter","login_enter_sso":"Enter as current user","login_disable":"Disable user and continue","login_session_exist":"User session already exists","old_password":"Old password","new_password":"New password","choose_role_form":"Choose user role","change_password_dialog":"Change password","confirm":"Confirmation","empty_message":"There are no details","error":"Error","error_invalid_username_password":"The username or password you entered is incorrect","error_lost_session":"Lost session","error_unknown_server":"Unknown server error","error_incorrect_input":"Incorrect input","error_server":"Server error","error_client":"Client error","error_no_focused_element":"There is no focused element","error_no_result_value":"Result value empty or not correct","error_application":"Abnormal situation in the application","contact_to_dev":"Contact the developer","server_notification":"Server notification","color_selection":"Color selection","file_upload":"File upload","info_time":"Time is up","workspace_exit":"Exit","main_menu":"Menu","name":"Name","description":"Description","browser_support_message_1":"You are using an incompatible browser.","browser_support_message_2":"In order to use the site features,","browser_support_message_3":"download and install one of the following browsers:","table_filter_name":"Filter","table_filter_button_clear":"Clear all","table_filter_button_apply":"Apply","context_menu":"Context menu","list_button_hint":"Open dropdown list","confirm_stub":"Confirm action","upload_stub":"Upload File","confirm_cancel_upload":"No files have been uploaded. Are you sure you want to cancel upload?","yes":"Yes","no":"No","ok":"Ok","cancel":"Cancel","apply":"Apply","close":"Close","close_all":"Close all","others_close":"Close others","roll_up":"Roll Up","expand":"Expand","raise_form":"Raise form","image":"Image","dialog":"Dialog window","invalid_color":"Invalid HEX format"}'),YI=JSON.parse('{"login_username":"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F","login_password":"\u041F\u0430\u0440\u043E\u043B\u044C","old_password":"\u0421\u0442\u0430\u0440\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C","new_password":"\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C","confirm":"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435","choose_role_form":"\u0412\u044B\u0431\u043E\u0440 \u0440\u043E\u043B\u0438","change_password_dialog":"\u0421\u043C\u0435\u043D\u0430 \u043F\u0430\u0440\u043E\u043B\u044F","login_enter":"\u0412\u0445\u043E\u0434","login_enter_sso":"\u0412\u043E\u0439\u0442\u0438 \u043F\u043E\u0434 \u0442\u0435\u043A\u0443\u0449\u0438\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u043C","login_disable":"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438 \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C","login_session_exist":"\u0421\u0435\u0441\u0441\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","empty_message":"\u0414\u0435\u0442\u0430\u043B\u0438 \u043D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B","error":"\u041E\u0448\u0438\u0431\u043A\u0430","error_invalid_username_password":"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0435 \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C","error_lost_session":"\u0421\u0435\u0441\u0441\u0438\u044F \u043F\u043E\u0442\u0435\u0440\u044F\u043D\u0430","error_unknown_server":"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","error_incorrect_input":"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F, \u0432\u0432\u0435\u0434\u0435\u043D\u044B \u043D\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F","error_server":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","error_client":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430","error_no_focused_element":"\u041F\u043E\u043B\u0435 \u0432\u0432\u043E\u0434\u0430 \u0434\u043B\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0430 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0439 \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E","error_no_result_value":"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F \u043F\u0443\u0441\u0442\u043E\u0439 \u0438\u043B\u0438 \u043D\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439","error_application":"\u041D\u0435\u0448\u0442\u0430\u0442\u043D\u0430\u044F \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044F \u0432 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0438","contact_to_dev":"\u041E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u043A \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u0443","server_notification":"\u0423\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","color_selection":"\u0412\u044B\u0431\u043E\u0440 \u0446\u0432\u0435\u0442\u0430","file_upload":"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u043E\u0432","info_time":"\u0412\u0440\u0435\u043C\u044F \u0438\u0441\u0442\u0435\u043A\u043B\u043E","workspace_exit":"\u0412\u044B\u0445\u043E\u0434","main_menu":"\u041C\u0435\u043D\u044E","name":"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","description":"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435","browser_support_message_1":"\u0412\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0435 \u043D\u0435\u0441\u043E\u0432\u043C\u0435\u0441\u0442\u0438\u043C\u044B\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440.","browser_support_message_2":"\u0414\u043B\u044F \u0442\u043E\u0433\u043E, \u0447\u0442\u043E\u0431\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430,","browser_support_message_3":"\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043E\u0434\u0438\u043D \u0438\u0437 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u0432:","table_filter_name":"\u0424\u0438\u043B\u044C\u0442\u0440","table_filter_button_clear":"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0432\u0441\u0435","table_filter_button_apply":"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C","context_menu":"\u041A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0435 \u043C\u0435\u043D\u044E","list_button_hint":"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0432\u044B\u043F\u0430\u0434\u0430\u044E\u0449\u0438\u0439 \u0441\u043F\u0438\u0441\u043E\u043A","confirm_stub":"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435","upload_stub":"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430","confirm_cancel_upload":"\u0424\u0430\u0439\u043B\u044B \u043D\u0435 \u0431\u044B\u043B\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443?","yes":"\u0414\u0430","no":"\u041D\u0435\u0442","ok":"\u0413\u043E\u0442\u043E\u0432\u043E","cancel":"\u041E\u0442\u043C\u0435\u043D\u0430","apply":"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C","close":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C","close_all":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u0432\u0441\u0435","others_close":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u0434\u0440\u0443\u0433\u0438\u0435","roll_up":"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C","expand":"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C","raise_form":"\u041F\u043E\u0434\u043D\u044F\u0442\u044C \u043E\u043A\u043D\u043E","image":"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435","invalid_color":"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0446\u0432\u0435\u0442\u0430","dialog":"\u0414\u0438\u0430\u043B\u043E\u0433\u043E\u0432\u043E\u0435 \u043E\u043A\u043D\u043E"}'),XI=JSON.parse(`{"login_username":"Nom d'utilisateur","login_password":"Mot de passe","login_enter":"Entr\xE9e","login_disable":"D\xE9sactiver l'utilisateur et continuer","login_session_exist":"La session utilisateur existe d\xE9j\xE0","error_invalid_username_password":"Nom d'utilisateur ou mot de passe invalide","error_lost_session":"Session perdue","error_unknown_server":"Erreur de serveur inconnue","error_server":"Erreur de serveur","error_application":"Situation anormale dans l'application","contact_to_dev":"Contacter le d\xE9veloppeur","info_time":"Le temps est \xE9coul\xE9","workspace_exit":"Sortie","close":"Fermer","close_all":"Ferme tout","others_close":"Fermer les autres"}`),JI=JSON.parse('{"login_username":"\u7528\u6237\u540D","login_password":"\u5BC6\u7801","login_enter":"\u767B\u5F55","login_disable":"\u7981\u7528\u7528\u6237\u5E76\u7EE7\u7EED","login_session_exist":"\u7528\u6237\u4F1A\u8BDD\u5DF2\u5B58\u5728","error_invalid_username_password":"\u7528\u6237\u540D\u6216\u5BC6\u7801\u65E0\u6548","error_lost_session":"\u5931\u53BB\u4E86\u4F1A\u8BDD","error_unknown_server":"\u672A\u77E5\u7684\u670D\u52A1\u5668\u9519\u8BEF","error_server":"\u670D\u52A1\u5668\u9519\u8BEF","error_application":"\u61C9\u7528\u4E2D\u7684\u7570\u5E38\u60C5\u6CC1","contact_to_dev":"\u806F\u7E6B\u958B\u767C\u5546","info_time":"\u65F6\u95F4\u5230\u4E86","workspace_exit":"\u51FA\u53E3","close":"\u95DC\u9589","close_all":"\u95DC\u9589\u6240\u6709","others_close":"\u95DC\u9589\u4ED6\u4EBA"}');const QI={en:{translation:qI},ru:{translation:YI},fr:{translation:XI},zh:{translation:JI}};Cm.ZP.use(KI.rW).init({resources:QI,fallbackLng:["ru","en"],keySeparator:">",nsSeparator:"|",interpolation:{escapeValue:!1}});var lt=Cm.ZP,TU={popperIconSize:"18px",primaryColor:"#0bd688"},eO=Object.defineProperty,tO=Object.defineProperties,nO=Object.getOwnPropertyDescriptors,_m=Object.getOwnPropertySymbols,rO=Object.prototype.hasOwnProperty,oO=Object.prototype.propertyIsEnumerable,wm=(t,e,n)=>e in t?eO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qr=(t,e)=>{for(var n in e||(e={}))rO.call(e,n)&&wm(t,n,e[n]);if(_m)for(var n of _m(e))oO.call(e,n)&&wm(t,n,e[n]);return t},lO=(t,e)=>tO(t,nO(e));const aO=(0,z.ZP)("div")(({styledState:t})=>{const{focused:e,hovered:n,isDisabled:r,showSuccess:o,showError:l,wrapperStyle:i,hasCaption:c,isMultiLine:d,isReadOnly:u}=t;return qr(qr(qr(qr(qr(qr({margin:2,position:"relative",overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",height:c?48:32,width:"100%",paddingLeft:12,paddingRight:12,backgroundColor:I(r?"input-background-disable":"input-background"),cursor:r?"default":"text",borderRadius:8,border:`1px solid ${I("input-border")}`},!r&&lO(qr(qr(qr({},e&&{border:`1px solid ${I("input-border-active")}`}),n&&{border:`1px solid ${I("input-border-hover")}`}),n&&e&&{border:`1px solid ${I("input-border-active")}`}),{"&:active":{border:`1px solid ${I("input-border-active")}`}})),o&&{border:`1px solid ${I("input-border-success")}`}),l&&{border:`1px solid ${I("input-border-error")}`}),d&&{height:"auto",minHeight:c?48:32}),u&&{cursor:"default",border:"none","&:active":{border:"none"}}),i)});var sO=Object.defineProperty,iO=Object.defineProperties,cO=Object.getOwnPropertyDescriptors,xm=Object.getOwnPropertySymbols,uO=Object.prototype.hasOwnProperty,dO=Object.prototype.propertyIsEnumerable,Sm=(t,e,n)=>e in t?sO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cs=(t,e)=>{for(var n in e||(e={}))uO.call(e,n)&&Sm(t,n,e[n]);if(xm)for(var n of xm(e))dO.call(e,n)&&Sm(t,n,e[n]);return t},fO=(t,e)=>iO(t,cO(e));const pO=(0,z.ZP)("input")(({styledState:t})=>{const{isDisabled:e,textColor:n,visiblePassword:r,hasCaption:o}=t;return Cs(Cs(Cs(fO(Cs({border:"none",outline:"none",wordBreak:"break-all",height:"auto",alignSelf:"flex-end"},o&&{paddingBottom:0}),{minHeight:10,width:"100%",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:n||I("input-text")}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")}),r&&{opacity:.8,transition:".2s"}),!r&&{opacity:1,transition:".2s",letterSpacing:2})});var mO=Object.defineProperty,Pm=Object.getOwnPropertySymbols,vO=Object.prototype.hasOwnProperty,hO=Object.prototype.propertyIsEnumerable,Im=(t,e,n)=>e in t?mO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wc=(t,e)=>{for(var n in e||(e={}))vO.call(e,n)&&Im(t,n,e[n]);if(Pm)for(var n of Pm(e))hO.call(e,n)&&Im(t,n,e[n]);return t};const gO=(0,z.ZP)("div")(({styledState:t})=>{const{isDisabled:e,hasCurrentValue:n,focused:r,hasInputValue:o,wrapperStyle:l,hideZero:i}=t;return Wc(Wc({position:"absolute",top:"50%",left:"0",transform:"translate(0, -50%)",color:I("input-label"),fontSize:14,lineHeight:1,whiteSpace:"nowrap",transition:"font-size .2s, top .2s, color .2s",transitionDelay:".3s"},(r||n||o)&&!i&&{color:I("input-label-disabled"),fontSize:12,transitionDelay:"0s",transition:"font-size .2s, top .2s, color .2s",top:l!=null&&l.paddingTop?l.paddingTop:14}),e&&Wc({color:I("input-label-disabled"),transition:"none",top:"50%",fontSize:14},n&&{top:l!=null&&l.paddingTop?l.paddingTop:14,fontSize:12}))});var bO=Object.defineProperty,yO=Object.defineProperties,CO=Object.getOwnPropertyDescriptors,Om=Object.getOwnPropertySymbols,_O=Object.prototype.hasOwnProperty,wO=Object.prototype.propertyIsEnumerable,Em=(t,e,n)=>e in t?bO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xO=(t,e)=>{for(var n in e||(e={}))_O.call(e,n)&&Em(t,n,e[n]);if(Om)for(var n of Om(e))wO.call(e,n)&&Em(t,n,e[n]);return t},SO=(t,e)=>yO(t,CO(e));const PO=(0,z.ZP)("div")(({styledState:t})=>{const{isRequiredIndicator:e}=t;return SO(xO({width:14,height:14,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:1,transition:".2s",transitionDelay:".3s"},!e&&{opacity:0,width:0,transition:".2s",transitionDelay:"0s"}),{"& span, div":{color:I("input-icon-required")}})}),Vc=(0,z.ZP)("button")(({styledState:t})=>{const{isDisabled:e}=t;return{position:"relative",cursor:"pointer",height:16,width:16,"& span":{position:"absolute",top:-1,bottom:0,left:0,right:0,margin:"0 auto",color:I(e?"input-icon-disabled":"input-icon")}}});var IO=Object.defineProperty,OO=Object.defineProperties,EO=Object.getOwnPropertyDescriptors,km=Object.getOwnPropertySymbols,kO=Object.prototype.hasOwnProperty,jO=Object.prototype.propertyIsEnumerable,jm=(t,e,n)=>e in t?IO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bl=(t,e)=>{for(var n in e||(e={}))kO.call(e,n)&&jm(t,n,e[n]);if(km)for(var n of km(e))jO.call(e,n)&&jm(t,n,e[n]);return t},Uc=(t,e)=>OO(t,EO(e));const RO=(0,z.ZP)("div")(({styledState:t})=>{const{isDisabled:e,textColor:n,visiblePassword:r,wrapperStyle:o,hasCaption:l,hideZero:i,isMultiLine:c}=t;return Uc(bl(bl(bl(bl(Uc(bl(Uc(bl({wordBreak:"break-all",height:16,alignSelf:"flex-end",opacity:1},!(o!=null&&o.paddingBottom)&&{paddingBottom:l?7:0}),{minHeight:10,width:"100%"}),(o==null?void 0:o.textAlign)==="right"&&{width:"auto"}),{fontSize:14,whiteSpace:"nowrap",overflow:"hidden",color:n||I("input-text"),cursor:"inherit"}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")}),r&&{fontFamily:"text-security-disc, serif"}),c&&{minHeight:16,marginTop:l?18:0,height:"auto",whiteSpace:"pre-wrap"}),i&&{opacity:0}),{"& *":{color:"inherit !important",fontSize:"14px !important",fontFamily:"inherit !important",background:"inherit !important"}})});var DO=Object.defineProperty,Rm=Object.getOwnPropertySymbols,NO=Object.prototype.hasOwnProperty,MO=Object.prototype.propertyIsEnumerable,Dm=(t,e,n)=>e in t?DO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TO=(t,e)=>{for(var n in e||(e={}))NO.call(e,n)&&Dm(t,n,e[n]);if(Rm)for(var n of Rm(e))MO.call(e,n)&&Dm(t,n,e[n]);return t};const FO=(0,z.ZP)("div")(({styledState:t})=>{const{hasCaption:e,wrapperStyle:n}=t;return TO({position:"relative",display:"flex",flex:1,height:e?"100%":"initial",overflow:"hidden"},(n==null?void 0:n.textAlign)==="right"&&{display:"flex",justifyContent:"end"})}),AO=(0,z.ZP)("div")({marginRight:5,display:"flex"}),BO=(0,z.ZP)("div")({position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",gap:3}),Nm={SHOW:"eye",HIDE:"eye-off"},Mm={TEXT:"text",PASSWORD:"password"},FU={UP:"ri-arrow-up-s-line",DOWN:"ri-arrow-down-s-line"};var $O=Object.defineProperty,zO=Object.defineProperties,LO=Object.getOwnPropertyDescriptors,Tm=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,WO=Object.prototype.propertyIsEnumerable,Fm=(t,e,n)=>e in t?$O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Am=(t,e)=>{for(var n in e||(e={}))HO.call(e,n)&&Fm(t,n,e[n]);if(Tm)for(var n of Tm(e))WO.call(e,n)&&Fm(t,n,e[n]);return t},Bm=(t,e)=>zO(t,LO(e));const $m=(0,a.memo)(t=>{const{_ref:e,buttonComponent:n,caption:r,className:o,currentValue:l,componentProps:i,formattedValue:c,inputRef:d,isDisabled:u=!1,showSuccess:m,showError:f,textColor:p="",isRequired:v=!1,isStatic:g,isStaticOrDisabled:b,handleMouseDown:h,handleMouseUp:C,onClick:_,onBlur:O,onBlurCapture:M,onPaste:P,onDoubleClick:S,onMouseEnter:j,wrapperStyleProps:k,onFocus:w,innerIcon:x,isPassword:T,name:A,value:B,onChange:Z,isMultiLine:V,type:D,isReadOnly:H}=t,R=(()=>{const{paddingLeft:ze,paddingRight:we,paddingBottom:_e,paddingTop:Oe}=k,Ye={paddingLeft:ze,paddingRight:we,paddingBottom:_e,paddingTop:Oe};return Ye.paddingLeft=Wt(ze),Ye.paddingRight=Wt(we),Ye.paddingBottom=Wt(_e),Ye.paddingTop=Wt(Oe),Object.assign(k,Ye)})(),[L,U]=(0,a.useState)(!1),[q,W]=(0,a.useState)(!1),[G,J]=(0,a.useState)(!1),oe=v&&!u&&!l&&!L,ce=T&&!G?Mm.PASSWORD:Mm.TEXT,N=G?Nm.SHOW:Nm.HIDE,$=Boolean(x),K=Boolean(B),ee=Boolean(l),ne=Boolean(r),[se,me]=(0,a.useState)(!1),ye=!b&&c&&(L||q)&&!H,ue={isDisabled:u,showError:f,showSuccess:m,focused:L,hovered:q,textColor:p,wrapperStyle:R,hasCurrentValue:ee,visiblePassword:G,hasInputValue:K,isRequiredIndicator:oe,hasCaption:ne,isMultiLine:V,hideZero:se,isReadOnly:H};(0,a.useEffect)(()=>{if(D==="number"){if(l==="0"&&!L){me(!0);return}me(!1)}},[l,L]);const Re=ze=>{W(!0),j==null||j(ze)},De=()=>{W(!1)},xe=ze=>{H||(U(!0),w==null||w(ze))},Ne=ze=>{U(!1),O==null||O(ze)},Te=ze=>{var we;ze.stopPropagation(),d.current&&!u&&(d.current.textContent=""),d.current&&D==="number"&&(d.current.textContent="0"),(we=d==null?void 0:d.current)==null||we.focus()},it=ze=>{u||(Pt(ze),J(we=>!we))},$e=ze=>{var we;if(b){Pt(ze);return}!n||!(ze.target instanceof HTMLSpanElement)?(we=d==null?void 0:d.current)==null||we.focus():_(ze)};return(0,s.jsxs)(aO,{className:o,ref:e,onMouseEnter:Re,onMouseLeave:De,onClick:$e,styledState:ue,onBlur:Ne,onBlurCapture:M,children:[$&&(0,s.jsx)(AO,{children:x}),(0,s.jsxs)(FO,{styledState:ue,children:[T?(0,s.jsx)(pO,Bm(Am({name:A,type:ce,value:B,onChange:Z},i),{onFocus:xe,styledState:ue})):(0,s.jsx)(RO,Bm(Am({},i),{onMouseDown:g?void 0:h,onMouseUp:g?void 0:C,onClick:_,onBlurCapture:M,onPaste:P,onDoubleClick:S,onMouseEnter:j,onFocus:xe,styledState:ue,children:l})),r&&(0,s.jsx)(gO,{className:"prefix",styledState:ue,onClick:$e,children:r})]}),(0,s.jsxs)(BO,{children:[(0,s.jsx)(PO,{styledState:ue,children:(0,s.jsx)(Vc,{styledState:ue,children:(0,s.jsx)("div",{className:"fa fa-asterisk",style:{fontSize:"8px"},"aria-hidden":"true"})})}),T&&(0,s.jsx)(Vc,{styledState:ue,onClick:it,children:(0,s.jsx)(Ct,{name:N})}),ye&&!T&&(0,s.jsx)(Vc,{styledState:ue,onClick:Te,children:(0,s.jsx)("span",{className:"ri-close-line"})}),!T&&n]})]})});$m.displayName="StringStyled";function VO(t){let e=0;const n=window.getSelection();if(!n||n.rangeCount==0)return e;const r=n.getRangeAt(0),o=r.cloneRange();return o.selectNodeContents(t),o.setEnd(r.endContainer,r.endOffset),e=o.toString().length,e}function UO(t,e){const n=window.getSelection();if(!n)return;const r=document.createRange();r.setStart(t.childNodes[0],e),r.collapse(!0),n.removeAllRanges(),n.addRange(r)}function GO(t,e,n){const r=t.split("");return r.splice(n,0,e),r.join("")}const Tr={default:"default",selected:"selected"};function zm(t){const{targetElement:e,needSelection:n=!0,textSelectionSwitch:r,editableMode:o}=t,l=(0,a.useRef)(null),i=r||l,[c,d]=(0,a.useState)(Tr.default),u=(0,a.useCallback)(()=>{d(Tr.selected)},[]),m=(0,a.useCallback)(()=>{d(Tr.default)},[]),f=(0,a.useRef)({setSelectedMode:u,setDefaultMode:m});return(0,a.useImperativeHandle)(i,()=>f.current),(0,a.useEffect)(()=>{if(e&&o){const p=n&&o&&c===Tr.selected;if(e!=null&&e.setSelectionRange){const{value:v}=e;let g=v.length;const b=v.length;p&&(g=0),e.setSelectionRange(g,b)}else{let v=new Range,g=window.getSelection();v.selectNodeContents(e),p||v.collapse(!1),g.removeAllRanges(),g.addRange(v)}}},[n,c,o]),[c,f.current]}var ZO=Object.defineProperty,KO=Object.defineProperties,qO=Object.getOwnPropertyDescriptors,Lm=Object.getOwnPropertySymbols,YO=Object.prototype.hasOwnProperty,XO=Object.prototype.propertyIsEnumerable,Hm=(t,e,n)=>e in t?ZO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JO=(t,e)=>{for(var n in e||(e={}))YO.call(e,n)&&Hm(t,n,e[n]);if(Lm)for(var n of Lm(e))XO.call(e,n)&&Hm(t,n,e[n]);return t},QO=(t,e)=>KO(t,qO(e));function e4(t){return function(n){const{listValues:r}=n,[o,l]=(0,a.useState)(-1),i=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useMemo)(()=>{if(!i.current||!c.current||o===-1)return null;const{clientHeight:m,scrollTop:f}=c.current.scrollValues,p=i.current.clientHeight,v=o*p,g=v>=m+f;return{scrollTop:v<f&&v,scrollBottom:g&&v+p-m}},[i,c,o]);(0,a.useEffect)(()=>{if(!d||!c.current)return;const{scrollTop:m,scrollBottom:f}=d;m!==!1?c.current.scrollTo(0,m):f&&c.current.scrollTo(0,f)},[d]);const u=(0,a.useCallback)(m=>{if(!(r!=null&&r.length))return!1;let f=null;return Sr(m.keyCode)?f=o<=0?r.length-1:o-1:Ur(m.keyCode)&&(f=o>=r.length-1?0:o+1),f!==null?(m.preventDefault(),Pt(m),l(f),!1):!0},[o,r]);return(0,s.jsx)(t,QO(JO({},n),{keyBoardNavigation:u,selected:o,setSelected:l,elementNode:i,containerNode:c}))}}var t4=Object.defineProperty,n4=Object.defineProperties,r4=Object.getOwnPropertyDescriptors,_s=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,Vm=Object.prototype.propertyIsEnumerable,Um=(t,e,n)=>e in t?t4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o4=(t,e)=>{for(var n in e||(e={}))Wm.call(e,n)&&Um(t,n,e[n]);if(_s)for(var n of _s(e))Vm.call(e,n)&&Um(t,n,e[n]);return t},l4=(t,e)=>n4(t,r4(e)),a4=(t,e)=>{var n={};for(var r in t)Wm.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_s)for(var r of _s(t))e.indexOf(r)<0&&Vm.call(t,r)&&(n[r]=t[r]);return n};function s4(t){return function(n,r){const o=n,{onResize:l,events:i,metaSet:c}=o,d=a4(o,["onResize","events","metaSet"]);let u=(0,a.useRef)(null);u=r||u;const m=(0,a.useCallback)(f=>{const p=f[0],v={target:p.target};v.borderBoxSize=Array.isArray(p.borderBoxSize)?p.borderBoxSize[0]:p.borderBoxSize,v.contentBoxSize=Array.isArray(p.contentBoxSize)?p.contentBoxSize[0]:p.contentBoxSize,v.contentRect=Array.isArray(p.contentRect)?p.contentRect[0]:p.contentRect,v.borderBoxSize||(v.borderBoxSize={blockSize:v.contentRect.height});let g=!0;if(l&&(g=l({metaSet:c,value:v})),g&&(i!=null&&i.onResize)){const{alias:b,args:h}=i.onResize;ve[b]({args:h,metaSet:c,value:v})}},[c,l,i]);return(0,a.useEffect)(()=>{if(u.current){const f=new io.Z(m);return f.observe(u.current),()=>{u.current&&f.unobserve(u.current)}}},[u,m]),(0,s.jsx)(t,l4(o4({},d),{_ref:u,events:i,metaSet:c}))}}const ws=({initialValue:t,value:e,formattedValue:n,dataAttrs:r,resetValue:o,controlName:l})=>{const i=(0,st.v9)(c=>c.modalPopUp);(0,a.useEffect)(()=>{if((n===void 0||n!==e)&&i[0]&&r&&e!==t&&t!==void 0&&!(e===""&&(0,$t.isNull)(t))){const{formId:c,controlId:d,rowId:u,tableControlId:m,rowControlId:f}=i[0];let p;m&&u?p=r["data-table-id"]===String(d)&&r["data-row-id"]===String(u)&&r["data-column-id"]===String(m):m&&f?p=r["data-grid-id"]===String(d)&&r["data-row-id"]===String(f)&&r["data-column-id"]===String(m):p=r["data-form-id"]===String(c)&&r["data-name"]===String(d),p||(i[0].context?l===d&&o():o())}},[i])};function xs(t){return t.mainAppParams.processCounter}const Gm=(0,z.ZP)("span")({width:16,height:16,borderRadius:2,cursor:"pointer"});var AU={popperIconSize:"18px",primaryColor:"#0bd688"};const i4=160,On="string",BU={DEFAULT:"ellipsis-h",LOOKUP:"ellipsis-h",COMBO:"caret-down"},c4={default:"ellipsis-h",lookup:"ellipsis-h",combo:"caret-down"},Zm={SHOW:"eye",HIDE:"eye-off"},Km={UP:"ri-arrow-up-s-line",DOWN:"ri-arrow-down-s-line"},u4=/^[-+]?\d*([.,]\d*)?$/,d4=/^[-+]?\d*$/;function f4(t,e){var n;return((n=t==null?void 0:t.modalPopUp)==null?void 0:n.length)&&t.modalPopUp.find(r=>r.controlId===e)}function p4(t){return t.modalPopUp.length}function qm(t){return t.modalPopUp}var m4=Object.defineProperty,v4=Object.defineProperties,h4=Object.getOwnPropertyDescriptors,Ss=Object.getOwnPropertySymbols,Ym=Object.prototype.hasOwnProperty,Xm=Object.prototype.propertyIsEnumerable,Jm=(t,e,n)=>e in t?m4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mt=(t,e)=>{for(var n in e||(e={}))Ym.call(e,n)&&Jm(t,n,e[n]);if(Ss)for(var n of Ss(e))Xm.call(e,n)&&Jm(t,n,e[n]);return t},vn=(t,e)=>v4(t,h4(e)),g4=(t,e)=>{var n={};for(var r in t)Ym.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ss)for(var r of Ss(t))e.indexOf(r)<0&&Xm.call(t,r)&&(n[r]=t[r]);return n};const yl={input:"input",button:"button"},Cl=(t,e)=>e==null?void 0:e.test(t),Qm=({value:t,caretPosition:e=null,inputRef:n})=>{const r=t+"",o=document.getSelection();o.removeAllRanges();const l=new Range,i=e===null?r.length:Math.min(e,r.length),c=r?n.firstChild:n;l.setStart(c,i),l.collapse(!1),o.addRange(l)},e0=t=>{t&&(t.scrollLeft=0)};function Gc(t){var e,n,r;const{_ref:o,focusedElement:l,isControlledValue:i,caption:c,id:d,className:u,style:m,isWrapped:f,isMultiLine:p,isExcluded:v,isDisabled:g,isNumeric:b,isDisabledByAutolock:h,isStatic:C,hasActiveMode:_,mode:O,modeSwitch:M,needTextSelection:P,textSelectionSwitch:S,name:j,value:k,formattedValue:w,lastValue:x,initialValue:T,initialFormattedValue:A,inputColor:B,testId:Z,hint:V,dataAttrs:D,buttonIconName:H,metaSet:E,events:R,tabIndex:L,onAutolock:U,onModeChange:q,onChange:W,onKeyDown:G,onKeyUp:J,onEnter:oe,onBlur:ce,onBlurCapture:N,onImplicitChange:$,onFocus:K,onTab:ee,onEsc:ne,onDelete:se,onMouseDown:me,onMouseUp:ye,onClick:ue,onDoubleMouseDown:Re,onDoubleMouseUp:De,onDoubleClick:xe,onCopy:Ne,onPaste:Te,onCut:it,iconName:$e,iconSize:ze,isFixSize:we,isPassword:_e,browserAutoComplete:Oe,isSwitchedToEnum:Ye,isEnum:qe,type:dt,onLookup:ft,showButton:rt,buttonStyle:bt,isRequired:pt,disableOnEdit:mt,onEdit:Le,isParentTable:de,onHint:Ze,cellColor:ot,isSpellCheck:gt,isAutoLock:he,isAutocomplete:fe,currentFieldName:ie,typeEdit:Q,isOpenList:ae,readOnly:Ie,isInteger:Be}=t,re=Ie,pe=(0,st.v9)(At),Se=(0,st.v9)(xs),We=(0,st.v9)(F=>F.modalPopUp),Ce=g||h,Je=he&&h===void 0,et=(0,a.useRef)(null),It=!!(R!=null&&R.onEdit||Le),vt=ie===Z,[_t,Nt]=(0,a.useState)(""),[ct,Qt]=(0,a.useState)(_e);let Rt=bt&&c4[bt]||H;const Bn=ct?Zm.HIDE:Zm.SHOW,cn=u==="login-layout__input",nn=(0,a.useRef)(null),rn=(0,a.useRef)(!1),en=(0,a.useRef)(!1),Vt=!Ce&&!C&&(_e||rt),un=(0,a.useRef)({value:k,formattedValue:w}),Pn=(0,a.useRef)(k),rr=x||Pn,[Ln,gn]=(0,a.useState)(!1),[ge,ke]=(0,a.useState)(!1),Ve=(0,st.v9)(qm),Ke=(0,a.useRef)(!1),ut=S||Ke;let Me=(0,a.useRef)(null);Me=l||Me;const Ot=(0,a.useRef)(null),[Ft,tt]=zo(O,M),{textAlign:Zt,verticalAlign:Yn}=m,Hn=ae?Km.UP:Km.DOWN,kt=C||Ce||re,$n=document.activeElement===Me.current,kn=be()(u,On,{[`${On}_multiline`]:p,[`${On}_wrapped`]:f,[`${On}_with-button`]:Vt,[`${On}_without-text-offset`]:Vt&&(m==null?void 0:m.width)&&we&&m.width<10,[`${On}_disabled`]:Ce,[`${On}_active`]:tt.checkActiveMode(),[`${On}_error`]:ge,[`${On}_editable`]:tt.checkEditableMode(),[`${On}_static`]:C,[`${On}_right-text-align`]:Zt==="right",[`${On}_password`]:ct,[`${On}_required`]:pt&&!k&&!tt.checkEditableMode(),[`${On}_colored`]:m.backgroundColor,[`${On}__cell`]:de}),Lt=dt==="number"?Be?d4:u4:null;(0,a.useEffect)(()=>{vt&&cn&&dn()},[We]),(0,a.useEffect)(()=>{var F;A!==w&&(((F=Ve[0])==null?void 0:F.type)==="error"&&ke(!0),setTimeout(()=>{ke(!1),gn(!1)},500))},[A,w,Ve]);const Kt=(0,a.useCallback)(()=>{var F,X;if(document.getSelection&&!cn){const Ee=document.getSelection().getRangeAt(0);Ot.current=(Ee==null?void 0:Ee.startOffset)||((X=(F=Me.current)==null?void 0:F.textContent)==null?void 0:X.length)}},[(e=Me.current)==null?void 0:e.textContent,cn]);(0,a.useLayoutEffect)(()=>{k&&i&&Ot.current&&Me.current&&document.getSelection&&!cn&&Qm({caretPosition:Ot.current,value:k,inputRef:Me.current})},[Me.current,k,i,cn,Ot]);const[,yt]=zm({targetElement:Me.current,needSelection:typeof P=="boolean"?P:!0,textSelectionSwitch:ut,editableMode:tt.checkEditableMode()}),Wn=(0,a.useCallback)(()=>{kt||(yt.setDefaultMode(),tt.checkDefaultMode()||tt.setDefaultMode(),e0(Me.current))},[tt,kt,yt]),_r=(0,a.useCallback)(()=>{kt||!_||(yt.setDefaultMode(),tt.checkActiveMode()||tt.setActiveMode(),e0(Me.current))},[tt,kt,yt,_]),dn=(0,a.useCallback)((F=!1)=>{kt||mt||Se&&de||(yt[F?"setSelectedMode":"setDefaultMode"](),tt.checkEditableMode()||tt.setEditableMode())},[tt,kt,mt,yt]),ir=(0,a.useCallback)(()=>{let X=Me.current.textContent;return X.length>=4500&&(X=X.slice(0,4500)),_e?Me.current.value:X===w?k.length>=4500?k.slice(0,4500):k:X.split("").map(le=>le.charCodeAt()===i4?" ":le).join("")},[k,w,cn]),Dr=(0,a.useCallback)(({event:F,onlyEvent:X=!1})=>{kt||(je({specificEvent:ft,nativeEvent:"onLookup",event:F,metaSet:E,events:R}),!X&&(Me.current.focus(),Me.current.textContent=un.current.value,dn()))},[kt,R,E,ft,Me,dn,un]),ql=(0,a.useCallback)(F=>{const X={event:F,metaSet:E,events:R};if(Ce||Je||It&&mt){F.preventDefault();return}let le=ir(),Ee=!0;const Qe=E==null?void 0:E.stayOnEditableMode;if(hs(F)&&dm(F)&&tt.checkEditableMode()&&Pt(F),!tt.checkEditableMode()&&zc(F))return!1;if(or(F.keyCode)&&!C){if(tt.checkEditableMode()){if(p)if(p){const Bt=VO(F.target),bn=Me.current;return bn&&(bn.textContent.length!==Bt&&F.preventDefault(),bn.textContent=GO(bn.textContent,`
`,Bt),UO(Me.current,Bt+1)),!1}else{if(RI(F))return!1;if(vs(F)&&dt!=="date")return!1}else if(F.preventDefault(),hs(F))return!1}else if(F.preventDefault(),hs(F))return!1;if(vo(F)&&vs(F)){Dr({event:F});return}T!==le?(Ee=je(Mt({specificEvent:oe,nativeEvent:"onEnter",value:le},X)),en.current=!0):Ee=!1,Ee&&Qe?dn():Wn(),Ee&&(_&&tt.checkActiveMode()?dn(!0):_&&tt.checkEditableMode()?_r():(tt.checkActiveMode()||tt.checkEditableMode()&&!cn)&&Wn())}else if(im(F.keyCode)&&!C){let at=!1;if(qe&&!fe&&(F.preventDefault(),at=!0),_&&tt.checkActiveMode()||at){const Bt=Number.parseInt(Me.current.textContent,10);if(Me.current.textContent===""||Bt===0&&b)return null;le=null,Me.current.textContent=le,je(Mt({specificEvent:se,nativeEvent:"onDelete",value:le},X))}}else if(Lo(F.keyCode))je(Mt({specificEvent:ee,nativeEvent:"onTab",value:le},X));else if(mo(F.keyCode)&&!C)tt.checkActiveMode()?le=A===un.current.formattedValue||A===void 0?un.current.formattedValue:A:le=T===un.current.value||T===void 0?un.current.value:T,Me.current.textContent=le,je(vn(Mt({specificEvent:$,nativeEvent:"onImplicitChange"},X),{value:le,notValidValue:!0})),Ee=je(vn(Mt({specificEvent:ne,nativeEvent:"onEsc"},X),{value:le})),Ee&&(_?_r():Wn());else if(!(hs(F)&&gs(F.keyCode))&&vo(F)&&!tt.checkEditableMode())F.preventDefault();else{!C&&(!Lt||Lt&&Cl(le,Lt))&&(rr.current=le),Ee=je(vn(Mt({},X),{specificEvent:G,nativeEvent:"onKeyDown",value:le}));let at=!1;if(!C&&Ee){if(!tt.checkEditableMode())gs(F.keyCode)?Lt?(Cl!=null&&Cl(F.key,Lt)?(rr.current=F.key,nn.current=F.key,at=!1):(rn.current=!0,at=!0),F.preventDefault()):un.current.formattedValue!==un.current.value?(nn.current=F.key,F.preventDefault()):Me.current.value="":$c(F.keyCode),F.preventDefault(),at||dn(!1);else if(yt.setDefaultMode(),!zc(F)&&gs(F.keyCode)&&Lt&&!(Cl!=null&&Cl(F.key,Lt))){if(F.keyCode===67||F.keyCode===86)return;rn.current=!0,nn.current=le!==""?le:null,F.preventDefault()}}at&&yt.setSelectedMode()}},[Ce,R,E,G,ee,oe,ne,tt,Wn,_r,dn,Je,_,Me,f,C,Dr,fe,mt]),tl=(0,a.useCallback)(F=>{if(kt)return;i&&Kt(F);let X=ir();je({specificEvent:W,nativeEvent:"onChange",event:F,metaSet:E,events:R,value:X})},[kt,C,E,R,W]),nl=(0,a.useCallback)(F=>{if(kt)return;let X=ir();rn.current?(rn.current=!1,Ot.current=(X==null?void 0:X.length)||0,yt.setSelectedMode()):Lt&&!Cl(X,Lt)&&(X=rr.current,Me.current.textContent=X,nn.current=X,tt.checkEditableMode()&&!cn&&Qm({value:X,inputRef:Me.current})),nn.current&&(nn.current=null,yt.setDefaultMode()),je({specificEvent:J,nativeEvent:"onKeyUp",event:F,metaSet:E,events:R,value:X})},[nn.current,kt,cn,R,E,J,Me,i,Kt,tl,tt]),Xn=(0,a.useCallback)(F=>{var X;if(Ce)return;const{formId:le,formName:Ee,name:Qe,type:at,subElement:Bt}=((X=F.target)==null?void 0:X.dataset)||{},bn={event:F,metaSet:E,events:R};let so=!0;const ul=Bt===yl.button;if(ul&&qe&&F.target===F.currentTarget){Me.current.focus();return}return so=je(vn(Mt({specificEvent:K,nativeEvent:"onFocus"},bn),{value:k})),he&&!g&&!C&&!ul&&!It&&je(vn(Mt({specificEvent:U,nativeEvent:"onAutolock"},bn),{value:k})),so&&(_&&tt.checkDefaultMode()?(_r(),It&&je(vn(Mt({specificEvent:Le,nativeEvent:"onEdit"},bn),{value:k}))):!C&&!It&&!tt.checkEditableMode()&&dn()),le&&Ge.onLastFocusedElementUpdate({formId:le,formName:Ee,controlId:Qe,type:at}),!1},[Ce,qe,C,Le,U,R,E,K,_r,dn,_,Me,_e,he,k]),eo=(0,a.useCallback)(F=>{if(kt||o.current.contains(F.relatedTarget))return;const X={event:F,metaSet:E,events:R};let le=ir(),Ee=!0;_e&&Qt(!0),Ft===mn.editable&&le!==T&&(dt==="number"&&(le=le.replace(",",".")),je(vn(Mt({specificEvent:$,nativeEvent:"onImplicitChange"},X),{value:le})),en.current=!0),Ee=je(vn(Mt({specificEvent:ce,nativeEvent:"onBlur"},X),{value:le})),Ee&&Wn()},[kt,_,R,E,ce,$,Wn,Ft]),rl=(0,a.useCallback)(F=>{if(kt)return;const{value:X}=F.currentTarget;je({specificEvent:N,nativeEvent:"onBlurCapture",event:F,metaSet:E,events:R,value:X})},[E,R,N,kt]),to=F=>{const{target:{dataset:{subElement:X}},detail:le}=F,Ee=X===yl.button,Qe={event:F,events:R,metaSet:vn(Mt({},E),{subElement:X})},at=ir();if(Ce||It&&mt)return;_e&&Ee&&je(vn(Mt({specificEvent:null,nativeEvent:"onImplicitChange"},Qe),{value:at}));let Bt=!0;return le===1?(tt.checkActiveMode()&&!_e&&(dn(!0),F.preventDefault()),Bt=je(vn(Mt({specificEvent:me,nativeEvent:"onMouseDown"},Qe),{value:at}))):le===2&&(Bt=je(vn(Mt({specificEvent:Re,nativeEvent:"onDoubleMouseDown"},Qe),{value:at})),(Bt||_e)&&Ft!==mn.editable&&dn(!0)),Bt},Yl=(0,a.useCallback)(F=>{if(kt)return;const{target:{dataset:{subElement:X}},detail:le}=F,{value:Ee}=Me.current,Qe={event:F,events:R,metaSet:vn(Mt({},E),{subElement:X})};let at=!0;return le===1?at=je(vn(Mt({specificEvent:ye,nativeEvent:"onMouseUp"},Qe),{value:Ee})):le===2&&(at=je(vn(Mt({specificEvent:De,nativeEvent:"onDoubleMouseUp"},Qe),{value:Ee}))),at},[kt,R,E,k,ye,De]),ol=(0,a.useCallback)(F=>{if(_e||kt)return;const{target:{dataset:{subElement:X}},detail:le}=F,{value:Ee}=Me.current;let Qe=!0;const at=X===yl.button;if(at&&(!qe||Ye)){Dr({event:F,onlyEvent:!0});return}return $n&&!C&&!Ce&&!It&&!at&&!_&&!tt.checkEditableMode()&&dn(),le===1&&(qe&&!fe&&!Ye&&Dr({event:F,onlyEvent:!0}),Qe=je({specificEvent:ue,nativeEvent:"onClick",event:F,metaSet:E,value:Ee,isButtonClick:at})),Qe},[kt,qe,fe,Ye,Dr,It,R,E,k,ue,_e,Dr,_,It,C,Ce,tt]),Xl=(0,a.useCallback)(F=>{if(kt&&!de)return;const X=F.target.dataset.subElement===yl.button,le=Me.current.textContent;let Ee=!0;return Ee=je({specificEvent:xe,nativeEvent:"onDoubleClick",event:F,metaSet:E,value:le,isButtonClick:X}),Ee},[E,xe,de,kt,_e,tt,Me]),no=(0,a.useCallback)(F=>{const X=Me.current.textContent,le=fl(F);Ya(le||X),je({events:R,specificEvent:Ne,nativeEvent:"onCopy",event:F,value:X,clipboardValue:le,editable:tt.checkEditableMode()})},[]),Oo=(0,a.useCallback)(F=>{var X;if(Ce||!tt.checkEditableMode()){F.preventDefault();return}(X=F==null?void 0:F.clipboardData)!=null&&X.types.includes("Files")&&F.preventDefault();const le=fl(F);if(je({events:R,specificEvent:Te,nativeEvent:"onPaste",event:F,value:le,editable:tt.checkEditableMode()}),!tt.checkEditableMode()){if(!le)return!0;F.preventDefault(),Me.current.textContent=le,je({specificEvent:$,nativeEvent:"onImplicitChange",event:F,metaSet:E,value:le})}},[Me,tt,$,E,R,Ce]),Ha=(0,a.useCallback)(F=>{const X=Me.current.textContent,le=fl(F);Ya(le||X),je({events:R,specificEvent:it,nativeEvent:"onCut",event:F,value:X,clipboardValue:le,editable:tt.checkEditableMode()})},[]),ro=(0,a.useCallback)(F=>{je({specificEvent:Ze,nativeEvent:"onHint",event:F,metaSet:E})},[Ze,R,E]),Jl=(0,a.useMemo)(()=>vn(Mt({},D),{"data-sub-element":yl.input}),[D]),Jn=(0,a.useMemo)(()=>vn(Mt({},D),{"data-sub-element":It&&mt?"":yl.button,"data-testid":`${Z}_button`}),[mt,D]),ll=(0,a.useMemo)(()=>({textAlign:Zt||"left"}),[Zt]),Eo=(0,a.useMemo)(()=>Un({isFixSize:we,style:m,type:dt}),[we,m,dt]),{backgroundColor:Nr,color:Wr}=Eo,ko=g4(Eo,["backgroundColor","color"]),al=tt.checkEditableMode()&&B?B:Wr,sl=!re&&!Ce&&!C&&tt.checkEditableMode(),oo=Mt({id:d,ref:Me,"data-testid":Z,autoComplete:t.name==="username"?"on":t.isAutocomplete?"off":Oe,spellCheck:!!gt,style:ll,tabIndex:Vr(!Ce,L),disabled:Ce,contentEditable:sl,suppressContentEditableWarning:sl,onCopy:no,onPaste:Oo,onCut:Ha,onKeyDown:ql,onInput:tl,onKeyUp:nl,onFocus:Xn},Jl);(0,a.useEffect)(()=>{!Ce&&_&&je({specificEvent:q,nativeEvent:"onModeChange",metaSet:E,value:Ft})},[Ce,E,R,q,Ft]),(0,a.useEffect)(()=>{un.current={value:k,formattedValue:w}},[k,w]),(0,a.useEffect)(()=>{Ce&&tt.setDefaultMode()},[Ce,tt]),(0,a.useEffect)(()=>{var F;de&&!C&&$n&&!Se&&!_&&(dn(!1),(F=Me.current)==null||F.focus())},[C,$n,Se,_]),(0,a.useLayoutEffect)(()=>{T!==void 0&&k!==T&&(Me.current.textContent=T,je({specificEvent:null,nativeEvent:"onImplicitChange",metaSet:E,value:T,notValidValue:!0}))},[]);const lo=(0,a.useCallback)(()=>{let F=A||w||T;Me.current&&!Ce&&(Me.current.textContent=F),je({specificEvent:$,nativeEvent:"onImplicitChange",metaSet:E,events:R,notValidValue:!0})},[$,R,_e,T,Me,E]);if(ws({dataAttrs:D,initialValue:T,value:(n=Me.current)==null?void 0:n.textContent,formattedValue:w,resetValue:lo,controlName:j}),pr(_e?null:o,V,(r=Me==null?void 0:Me.current)==null?void 0:r.textContent),v)return null;let jn=tt.checkEditableMode()||en.current?k:w||k;en.current&&(en.current=!1),nn.current!==null&&(jn=nn.current);const ao=F=>{Nt(F.target.value)},il=F=>{Pt(F),Qt(X=>!X)},Y=/^#[0-9A-F]{6}$/i.test(k),Pe=$e?(0,s.jsx)("img",{className:"icon",style:{height:ze},alt:"",src:on($e)}):null,Ue=F=>{F.stopPropagation(),kt||Me.current&&Me.current.focus()},nt=()=>(0,s.jsx)("input",vn(Mt({name:j,type:ct?"password":"text",value:_t,onChange:ao},oo),{className:"string__input"})),ht=()=>{if((0,$t.isObject)(jn)&&!Array.isArray(jn))throw new Error("\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0443 String \u043F\u0435\u0440\u0435\u0434\u0430\u043D\u044B \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435, currentValue \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0438\u043C\u0435\u0442\u044C \u0442\u0438\u043F [object Object]");return k&&Y?(0,s.jsxs)("div",{className:"string_colored_wrapper",style:{color:al,marginTop:c?"8px":null},children:[Pe,(0,s.jsx)("div",vn(Mt({},oo),{className:"string__input",children:jn}))]}):(0,s.jsxs)("div",{className:`${On}_input-container`,children:[Pe,(0,s.jsx)("div",vn(Mt({},oo),{className:"string__input",style:{color:al,marginTop:c?"8px":null},children:jn}))]})},Et=$n||!!w||tt.checkEditableMode()||Pe,jt={fontSize:Et?"10px":"14px",color:"#b6bbc6",top:Et?0:"50%",transform:Et?null:"translate(0%,-50%)"},Vn=(0,s.jsx)("div",{className:"string_inner_lable",onClick:Ue,style:jt,onMouseDown:C?null:to,children:c}),jo=()=>_e||cn?nt():ht(),Wa=()=>Vt&&!Y&&!_e?(0,s.jsx)(Cn(),Mt({className:`${On}__button`,ref:et,name:Rt,tabIndex:-1,onFocus:Xn,style:{backgroundColor:Nr}},Jn)):Vt&&Y?(0,s.jsx)(Gm,Mt({style:{backgroundColor:jn},ref:et,tabIndex:-1,onFocus:Xn},Jn)):Vt&&_e?(0,s.jsx)("span",vn(Mt({ref:et,tabIndex:-1,onFocus:Xn,style:{color:"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"},onClick:il},Jn),{children:(0,s.jsx)(Ct,{name:Bn})})):null,cl=()=>{if(!re)return Vt&&!Y&&!_e&&Q!=="reference"&&dt!=="enum"?(0,s.jsx)(Cn(),Mt({className:`${On}__button`,ref:et,name:Rt,tabIndex:-1,onFocus:Xn,style:{backgroundColor:Nr}},Jn)):Q==="reference"?(0,s.jsx)("span",Mt({ref:et,tabIndex:-1,onFocus:Xn,className:"ri-folders-fill",style:{color:Ce?"#C7C9D1":"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"}},Jn)):dt==="enum"?(0,s.jsx)("span",Mt({ref:et,tabIndex:-1,onFocus:Xn,className:Hn,style:{color:Ce?"#C7C9D1":"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"}},Jn)):Vt&&Y?(0,s.jsx)(Gm,Mt({style:{backgroundColor:jn},ref:et,tabIndex:-1,onFocus:Xn},Jn)):Vt&&_e?(0,s.jsx)("span",vn(Mt({ref:et,tabIndex:-1,onFocus:Xn,style:{color:"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"},onClick:il},Jn),{children:(0,s.jsx)(Ct,{name:Bn})})):null};return(0,s.jsxs)(s.Fragment,{children:[(!pe||de||cn)&&(0,s.jsx)("div",{style:{backgroundColor:de&&ot?"transparent":ot},className:"string_wrapper",children:(0,s.jsxs)("div",{ref:o,className:kn,style:Mt({backgroundColor:Nr,alignItems:Yn},ko),onMouseDown:C?null:to,onMouseUp:C?null:Yl,onClick:ol,onBlur:eo,onBlurCapture:rl,onPaste:Oo,onDoubleClick:Xl,onMouseEnter:ro,children:[jo(),c&&Vn,Wa()]})}),pe&&!de&&!cn&&(0,s.jsx)($m,{_ref:o,className:u,buttonComponent:cl(),caption:c,componentProps:oo,currentValue:jn,formattedValue:w,inputRef:Me,isDisabled:Ce,isRequired:pt,isStatic:C,isStaticOrDisabled:kt,handleMouseDown:to,handleMouseUp:Yl,onClick:ol,onBlur:eo,onFocus:Xn,onBlurCapture:rl,onPaste:Oo,onDoubleClick:Xl,onMouseEnter:ro,palette:pe,showSuccess:Ln,showError:ge,textColor:al,wrapperStyleProps:ko,isPassword:_e,name:j,innerIcon:Pe,isHexValue:Y,onChange:ao,value:_t,isMultiLine:p,isNumeric:b,isReadOnly:re,type:dt})]})}Gc.propTypes={_ref:y().object,focusedElement:y().object,id:y().string,className:y().string,style:y().object,value:y().string,isWrapped:y().bool,isMultiLine:y().bool,isExcluded:y().bool,isDisabled:y().bool,isStatic:y().bool,hasActiveMode:y().bool,metaSet:y().object,dataAttrs:y().object,hasError:y().bool,hint:y().string,events:y().object,tabIndex:y().oneOfType([y().number,y().string]),testId:y().string,isReadOnly:y().bool,mode:y().string,modeSwitch:y().object,onModeChange:y().func,onFocus:y().func,onBlur:y().func,onClick:y().func,onChange:y().func,onKeyDown:y().func,onKeyUp:y().func,onEnter:y().func,onEsc:y().func,onDelete:y().func,onTab:y().func,onDoubleClick:y().func,isControlledValue:y().bool,isNumeric:y().bool,isPassword:y().bool,browserAutoComplete:y().oneOf(["on","off"]),isParentTable:y().bool,isAutoLock:y().bool,disableOnEdit:y().bool},Gc.defaultProps={_ref:null,focusedElement:null,id:null,className:null,style:{},value:null,isWrapped:!1,isMultiLine:!1,isExcluded:!1,isDisabled:!1,isStatic:!1,metaSet:null,dataAttrs:null,hasError:!1,hint:null,events:null,tabIndex:0,testId:null,isReadOnly:!1,hasActiveMode:!1,mode:null,modeSwitch:null,onModeChange:null,onFocus:null,onBlur:null,onClick:null,onChange:null,onKeyDown:null,onKeyUp:null,onEnter:null,onEsc:null,onDelete:null,onTab:null,onDoubleClick:null,isControlledValue:!1,isNumeric:!1,isPassword:!1,browserAutoComplete:"off",showButton:!1,buttonIconName:"ellipsis-h",isParentTable:!1,isAutoLock:!1,disableOnEdit:!1};var zn=(0,a.memo)((0,a.forwardRef)(s4(Gc))),b4=He(52300);const y4=t=>[...t].map(e=>e.charCodeAt(0)),C4=t=>(t+1)%4===0?1:(t+1)%3===0?2:(t+1)%2===0?3:4,Ps=t=>{const n=y4((0,b4.cv)(t)).map((r,o)=>r+=C4(o));return String.fromCharCode(...n)},Qn="prelogin-form";var _4=({onClose:t})=>{const[e,n]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(!0),u=({event:v,value:g})=>{var b;const h=(b=v.target.dataset)==null?void 0:b.testid;h==="oldPassword"&&o(g),h==="newPassword"&&(n(g),d(l===g)),h==="confirmPassword"&&(i(g),d(e===g))},m=()=>{const v={oldPassword:Ps(r.trim()),newPassword:Ps(e.trim()),obf:!0};t(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(v)},f=()=>{t(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(null)},p=(0,a.useCallback)(v=>{v.key==="Enter"&&c?m():v.key==="Escape"&&f()},[c]);return(0,a.useEffect)(()=>(document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}),[p]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:`${Qn}__input-container`,children:[(0,s.jsx)("label",{className:`${Qn}__label`,children:lt.t("old_password").toString()}),(0,s.jsx)(zn,{className:`${Qn}__input`,isPassword:!0,testId:"oldPassword",onEnter:m,isControlledValue:!0,hasActiveMode:!1,onChange:u,value:r})]}),(0,s.jsxs)("div",{className:`${Qn}__input-container`,children:[(0,s.jsx)("label",{className:`${Qn}__label`,children:lt.t("new_password").toString()}),(0,s.jsx)(zn,{className:`${Qn}__input`,isPassword:!0,testId:"newPassword",onEnter:m,isControlledValue:!0,hasActiveMode:!1,onChange:u,value:e})]}),(0,s.jsxs)("div",{className:`${Qn}__input-container`,children:[(0,s.jsx)("label",{className:`${Qn}__label`,children:lt.t("confirm").toString()}),(0,s.jsx)(zn,{className:`${Qn}__input`,isPassword:!0,testId:"confirmPassword",onEnter:m,isControlledValue:!0,hasActiveMode:!1,onChange:u,value:l})]}),(0,s.jsxs)("div",{className:`${Qn}__button-row`,children:[(0,s.jsx)(Gt,{isDisabled:!c,style:{minWidth:"30"},onClick:m,className:`${Qn}__button`,caption:lt.t("apply")},`${Qn}confirmButton`),(0,s.jsx)(Gt,{isDisabled:!1,style:{minWidth:"30"},onClick:f,className:`${Qn}__button`,caption:lt.t("cancel")},`${Qn}cancelButton`)]})]})};const Yr="prelogin-form";var w4=({roles:t,onClose:e})=>{const[n,r]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&r(t[0].name)},[]);const o=f=>{var p;f.persist(),Pt(f);const v=f.target;r(((p=v==null?void 0:v.parentElement)==null?void 0:p.dataset.name)||(v==null?void 0:v.dataset.name)||"")},l=()=>{e(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(n)},i=()=>{e(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(null)},c=(0,a.useCallback)(f=>{const p=t.findIndex(v=>n===v.name);f.key==="ArrowDown"?t[p+1]&&r(t[p+1].name):f.key==="ArrowUp"?t[p-1]&&r(t[p-1].name):f.key==="Enter"?l():f.key==="Escape"&&i()},[n]);(0,a.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const d=(0,s.jsxs)("div",{className:`${Yr}__row table-header`,children:[(0,s.jsx)("span",{children:(0,cr.ZP)(lt.t("name"))},"roleNameHeader"),(0,s.jsx)("span",{children:(0,cr.ZP)(lt.t("description"))},"roleDescriptionHeader")]},"preloginFormHeader"),u=(0,s.jsx)("ul",{className:`${Yr}__rows`,children:t.map((f,p)=>(0,s.jsxs)("li",{className:`${Yr}__row`+(f.name===n?" chosen":""),id:"role"+p,"data-name":f.name,onClick:o,children:[(0,s.jsx)("span",{children:f.name},"name-"+f.name),(0,s.jsx)("span",{children:f.description},"desc-"+f.description)]},f.name))},"preloginFormList"),m=(0,s.jsxs)("div",{className:`${Yr}__button-row`,children:[(0,s.jsx)(Gt,{name:"okButton",style:{minWidth:"30"},caption:(0,cr.ZP)(lt.t("ok")),className:`${Yr}__button`,onClick:l},`${Yr}okButton`),(0,s.jsx)(Gt,{name:"closeButton",style:{minWidth:"30"},caption:(0,cr.ZP)(lt.t("cancel")),className:`${Yr}__button`,onClick:i},`${Yr}closeButton`)]},"prelogin-form__button-row");return t?(0,s.jsxs)("div",{className:Yr,children:[d,u,m]}):null},x4={PasswordChangeForm:_4,ChooseRoleForm:w4,ImgModal:ZI},S4=He(58949);class t0 extends a.Component{constructor(){super(...arguments),this.handleClickOutside=e=>{this.props.onClickOutside(e)}}render(){const{className:e,children:n,style:r}=this.props,o=be()("outside-wrapper",e);return(0,s.jsx)("div",{className:o,style:r,children:n})}}t0.defaultProps={onClickOutside:()=>{}};var go=(0,S4.Z)(t0),LU={popperIconSize:"18px",primaryColor:"#0bd688"},P4=Object.defineProperty,n0=Object.getOwnPropertySymbols,I4=Object.prototype.hasOwnProperty,O4=Object.prototype.propertyIsEnumerable,r0=(t,e,n)=>e in t?P4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E4=(t,e)=>{for(var n in e||(e={}))I4.call(e,n)&&r0(t,n,e[n]);if(n0)for(var n of n0(e))O4.call(e,n)&&r0(t,n,e[n]);return t};const er="pop-up",k4=(t,e,n)=>{let r="exclamation";switch(t){case Pr.notification:{r="exclamation-triangle";break}case Pr.error:{e?r="times-circle":r="exclamation-circle";break}case Pr.dialog:{n==="ChooseRoleForm"?r="users":n==="PasswordChangeForm"?r="lock":r="question-circle";break}default:break}return r},j4={0:qP,1:ZP,2:YP,3:XP,4:KP},Pr={error:"error",notification:"notification",dialog:"dialog",preview:"preview"};var R4=t=>{const{className:e,message:n,caption:r,style:o,onClose:l,messageId:i,type:c,isLastMessage:d,component:u,componentProps:m,context:f,iconID:p}=t,v=(0,a.useRef)(null),g=u?x4[u]:"",b=["ChooseRoleForm","PasswordChangeForm"].includes(u),h={padding:"6px"},C=be()(e,er,{[`${er}__error`]:c===Pr.error,[`${er}__notification`]:c===Pr.notification}),_=k4(c,f,u),O=p!==void 0,M=(0,a.useCallback)(()=>{l(i)},[i]),P=(0,a.useCallback)(k=>{mo(k.keyCode)&&!b&&M()},[]),S=(k,w)=>w?(0,s.jsx)("img",{className:`${er}__context-icon`,src:j4[p],alt:"Message icon",height:"24px"}):k?(0,s.jsx)(Cn(),{className:`${er}__context-icon fa-2x`,name:_}):(0,s.jsx)(Cn(),{className:`${er}__icon`,name:_}),j=()=>g?(0,s.jsx)(g,E4({onClose:M},m)):f&&!u?(0,s.jsx)(go,{onClickOutside:M,children:(0,s.jsx)("div",{style:o,className:`${er}__button-container`,children:(0,s.jsxs)("button",{className:`${er}__context-button`,onClick:M,children:[S(f,O),n]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:`${er}__message`,children:(0,cr.ZP)(n?lt.t(n):lt.t("empty_message"))})}),(0,s.jsx)("div",{className:`${er}__button-container`,children:(0,s.jsx)(Kr,{name:"OKButton",hint:"",caption:"Ok",iconName:"",isExcluded:!1,isDisabled:!1,isFixSize:!0,style:{width:30,minHeight:8},className:`${er}__button`,onClick:M,ref:v})})]});return(0,a.useEffect)(()=>{var k;(k=v.current)==null||k.focus()},[d]),(0,s.jsx)(Gp(),{focusTrapOptions:{setReturnFocus:k=>k.isContentEditable?k:document.body},children:f?(0,s.jsx)("div",{tabIndex:-1,onKeyDown:P,children:(0,s.jsx)(j,{})}):(0,s.jsxs)("div",{tabIndex:-1,onKeyDown:P,className:C,style:o,children:[!r&&!p?null:(0,s.jsxs)("div",{className:`${er}__title`+(b?" align-left":""),children:[S(f,O),lt.t(r)]}),(0,s.jsx)("div",{className:`${er}__content`,style:b?h:{},children:(0,s.jsx)(j,{})})]})})},D4=Object.defineProperty,o0=Object.getOwnPropertySymbols,N4=Object.prototype.hasOwnProperty,M4=Object.prototype.propertyIsEnumerable,l0=(t,e,n)=>e in t?D4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T4=(t,e)=>{for(var n in e||(e={}))N4.call(e,n)&&l0(t,n,e[n]);if(o0)for(var n of o0(e))M4.call(e,n)&&l0(t,n,e[n]);return t};const F4=[];var A4=(0,Fe.Lq)(F4,t=>{t.addCase(op,(e,n)=>{const{message:r}=n.payload,o="server_notification",l=Pr.notification;return[{message:r,caption:o,type:l},...e]}).addCase(is,(e,n)=>{const{message:r,formId:o,controlId:l}=n.payload,i="error_client",c=Pr.error;return[{message:r,caption:i,type:c,formId:o,controlId:l},...e]}).addCase(oa,(e,n)=>{const{message:r}=n.payload,o="error_server",l=Pr.error;return[{message:r,caption:o,type:l},...e]}).addCase(rp,(e,n)=>{const r="error",o=Pr.error;return[T4({caption:r,type:o},n.payload),...e]}).addCase(np,(e,n)=>{var r;const o=(r=n.payload)==null?void 0:r.id;return o!==void 0?e.filter((l,i)=>i!==o):e}).addCase(cs,(e,n)=>{const{component:r,caption:o="dialog",componentProps:l}=n.payload,i=Pr.dialog;return[{caption:o,type:i,component:r,componentProps:l},...e]}).addCase(us,e=>e).addCase(lp,(e,n)=>{const{component:r,componentProps:o,caption:l}=n.payload,i=Pr.preview;return[{caption:l,type:i,component:r,componentProps:o},...e]})});const a0=null;var B4=(0,Fe.Lq)(a0,t=>{t.addCase(ep,(e,n)=>n.payload).addCase(tp,()=>a0)});const $4=(0,ur.UY)({mainAppParams:IP,authorize:NP,formStackQueue:MP,forms:zP,uploadForm:LP,colorPickerForm:B4,print:GP,modalPopUp:A4});var z4=He(30797);const s0=(0,z4.ZP)();var Xe=(0,Fe.xC)({reducer:$4,middleware:[s0]}),Ge={onMainMenuPin:t=>{rs.setPinned(t),Xe.dispatch(hp(t))},onMainMenuOpen:t=>{rs.setOpened(t),Xe.dispatch(Rc(t))},saveSelectedMainMenuItemId:t=>{Xe.dispatch(ls(t))},saveSelectedRoleCenterItemId:t=>{Xe.dispatch(ls(t))},onMainMenuCommandSend:t=>{Xe.dispatch(gp(t))},onToolbarCommandSend:t=>{Xe.dispatch(Dc(t))},onRoleCenterCommandSend:t=>{Xe.dispatch(bp(t))},onFormStackClose:t=>{Xe.dispatch(Nc(t))},onFormStackActive:t=>{Xe.dispatch(xp(t))},onFormClose:t=>{Xe.dispatch(Nc(t))},onAllFormClose:()=>{Xe.dispatch(yp())},onOthersFormClose:t=>{Xe.dispatch(Cp(t))},onModalFormClose:t=>{Xe.dispatch(_p(t))},onFormActive:t=>{Xe.dispatch(wp(t))},onFormRaise:t=>{Xe.dispatch(jp(t))},onWideScreenModeToggle:t=>{Xe.dispatch(Sp(t))},onLogOut:()=>{Xe.dispatch(aa())},onUploadApprove:t=>{Xe.dispatch(Ip(t))},onUploadAbort:t=>{Xe.dispatch(Op(t))},onChooseColorApprove:t=>{Xe.dispatch(Ep(t))},onChooseColorAbort:t=>{Xe.dispatch(kp(t))},onClientError:t=>{Xe.dispatch(is(t))},onClientDialog:t=>{Xe.dispatch(cs(t))},onClientDialogSubmit:t=>{Xe.dispatch(us(t))},onImagePreview:t=>{Xe.dispatch(lp(t))},onLastFocusedElementUpdate:(t={})=>{Xe.dispatch(Ec(t))},onIFrameClick:(t={})=>{Xe.dispatch(sp(t))},onIFrameMessage:(t={})=>{Xe.dispatch(ip(t))},onShowProcessIndicator:()=>{Xe.dispatch(yc())},onHideProcessIndicator:()=>{Xe.dispatch(Cc())}},L4=Object.defineProperty,H4=Object.defineProperties,W4=Object.getOwnPropertyDescriptors,i0=Object.getOwnPropertySymbols,V4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,c0=(t,e,n)=>e in t?L4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G4=(t,e)=>{for(var n in e||(e={}))V4.call(e,n)&&c0(t,n,e[n]);if(i0)for(var n of i0(e))U4.call(e,n)&&c0(t,n,e[n]);return t},Z4=(t,e)=>H4(t,W4(e));function Zc(t){const{_ref:e,schema:n,renderElement:r,className:o,testId:l}=t,i=be()("hierarchy-list",o);function c(d,u=0){return Do(d).map(m=>{let f;return m!=null&&m.elements&&(f=c(m.elements,u+1)),r({schema:m,children:f,depth:u})})}return(0,s.jsx)("div",{ref:e,className:i,"data-testid":l,children:c(n)})}Zc.propTypes={depthOffsetSize:y().number,className:y().string,testId:y().string,schema:y().oneOfType([y().object,y().array]).isRequired,renderElement:y().func.isRequired,_ref:y().object,dataAttrs:y().shape({})},Zc.defaultProps={_ref:null,className:"",depthOffsetSize:5,dataAttrs:{},testId:""};var Is=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Zc,Z4(G4({},t),{_ref:e})))),bo=He(73935),K4=He(84355),GU={popperIconSize:"18px",primaryColor:"#0bd688"},q4=Object.defineProperty,Y4=Object.defineProperties,X4=Object.getOwnPropertyDescriptors,u0=Object.getOwnPropertySymbols,J4=Object.prototype.hasOwnProperty,Q4=Object.prototype.propertyIsEnumerable,d0=(t,e,n)=>e in t?q4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vo=(t,e)=>{for(var n in e||(e={}))J4.call(e,n)&&d0(t,n,e[n]);if(u0)for(var n of u0(e))Q4.call(e,n)&&d0(t,n,e[n]);return t},Os=(t,e)=>Y4(t,X4(e));const Xr="drop-down",eE="drop-down";function Kc(t){var e,n,r,o;const{_ref:l,isDisabled:i,isExcluded:c,onScroll:d,maxHeight:u,minWidth:m,sameWidth:f,Component:p,targetComponent:v,data:g,className:b,children:h,componentListId:C,withArrow:_,elementNode:O,selected:M,needToRender:P,metaSet:S,events:j,testId:k,hasMenuOffset:w,onFocus:x,onBlur:T,onKeyDown:A,onEnter:B,onEsc:Z,onTab:V,popMaxWIdth:D,isListButton:H,isContextMenu:E,style:R,isIncludedList:L,setActiveMode:U,setEditableMode:q}=t,W=(0,st.v9)(At),G=k||eE,[J,oe]=(0,a.useState)(null),[ce,N]=(0,a.useState)(null),[$,K]=(0,a.useState)(null),[ee,ne]=(0,a.useState)(null),{pageZoom:se}=(0,st.v9)(fe=>fe.mainAppParams),me=(0,a.useMemo)(()=>({name:"custom-size",enabled:!0,phase:"write",fn:({state:fe})=>{const{elements:{popper:ie,reference:Q}}=fe,ae=Vo({},fe.styles),Ie=500,Be=ie.firstChild;return Q.clientWidth>=Be.clientWidth?ae.popper.width=D||Q.clientWidth:ae.popper.maxWidth=Ie,m&&(ae.popper.minWidth=m),u&&(ae.popper.maxHeight=u),f&&(ae.popper.width=Q.clientWidth,ae.popper.maxWidth=Q.clientWidth),ne({width:f?Q.clientWidth:ae.popper.width}),E&&(ae.popper.boxShadow="3px 3px 2px gray"),fe.styles=ae,fe}}),[f,m,u,_,E]),ye=(0,a.useMemo)(()=>({name:"custom-fix-overflow",enabled:!0,phase:"write",fn:({state:fe})=>{var ie,Q,ae;const{elements:{popper:Ie}}=fe,Be=Vo({},fe.styles);if((se||1)<1&&((ie=fe==null?void 0:fe.modifiersData)!=null&&ie.preventOverflow)){const{x:pe,y:Se}=((Q=fe==null?void 0:fe.modifiersData)==null?void 0:Q.preventOverflow)||{},We=new window.WebKitCSSMatrix((ae=Be.popper)==null?void 0:ae.transform),{m41:Ce,m42:Je}=We,et={height:document.body.offsetWidth,width:document.body.offsetWidth},It={left:Ce,top:Je,right:et.width-Ce-Ie.offsetWidth,bottom:et.height-Je-Ie.offsetHeight},vt=pe>0&&It.left>pe,_t=pe<0&&It.right>-pe;(vt||_t)&&(pe||Se)&&Ce&&Je&&(Be.popper.transform=`translate(${Ce-pe}px, ${Je-Se}px)`,fe.modifiersData.preventOverflow={x:0,y:0})}return fe.styles=Be,fe}}),[se]),ue=L?"right-start":w?"bottom-start":"bottom",Re=L?[0,0]:_?[0,14]:[0,2],{styles:De,attributes:xe,state:Ne,update:Te}=(0,K4.D)(J,ce,{placement:ue,modifiers:[{name:"preventOverflow",enabled:!0,options:{rootBoundary:"viewport"}},{name:"offset",enabled:!0,options:{offset:Re}},{name:"arrow",enabled:_,options:{element:$}},{name:"flip",options:{allowedAutoPlacements:["bottom","top"]}},me,ye]}),it=be()(`${Xr}__target-element-container`),$e=be()(b,`${Xr}__popper-element-container`,{[`${Xr}__list-button`]:H}),ze=`${Xr}__popper-element-arrow`,we=be()(`${Xr}__scroll-area`,{[`${Xr}__list-button`]:H}),_e=be()(`${Xr}__scroll-area_palette`,{[`${Xr}__list-button`]:H}),Oe=`${Xr}__list`,Ye={borderRadius:"10px"},qe={borderRadius:"10px",backgroundColor:"#1D223D",margin:"0 2px 0 0"},dt=p&&(g!=null&&g.length)?g.map((fe,ie)=>(0,s.jsx)(p,Os(Vo({},fe),{index:ie,selected:M,ref:O}),fe.keyValue)):[],ft=p&&g?(0,s.jsx)("ul",{id:C,className:Oe,children:dt}):h,rt=(0,a.useCallback)(fe=>{if(i)return;let ie=!0;if(d&&(ie=d({event:fe,metaSet:S})),ie&&(j!=null&&j.onScroll)){const{alias:Q,args:ae}=j.onScroll;ve[Q]({event:fe,metaSet:S,args:ae})}},[i,S,j,d]),bt=(0,a.useCallback)(fe=>{if(i)return;let ie=!0;if(x&&(ie=x({event:fe,metaSet:S})),ie&&(j!=null&&j.onFocus)){const{alias:Q,args:ae}=j.onFocus;ve[Q]({event:fe,metaSet:S,args:ae})}},[i,S,j,x]),pt=(0,a.useCallback)(fe=>{if(i)return;let ie=!0;if(T&&(ie=T({event:fe,metaSet:S})),ie&&(j!=null&&j.onBlur)){const{alias:Q,args:ae}=j.onBlur;ve[Q]({event:fe,metaSet:S,args:ae})}},[i,S,j,T]),mt=(0,a.useCallback)(fe=>{if(!i)if(or(fe.keyCode)){let ie=!0;if(B&&(ie=B({event:fe,metaSet:S})),ie&&(j!=null&&j.onEnter)){const{alias:Q,args:ae}=j.onEnter;ve[Q]({event:fe,metaSet:S,args:ae})}}else if(Lo(fe.keyCode)){let ie=!0;if(V&&(ie=V({event:fe,metaSet:S})),ie&&(j!=null&&j.onTab)){const{alias:Q,args:ae}=j.onTab;ve[Q]({event:fe,metaSet:S,args:ae})}}else if(mo(fe.keyCode)){let ie=!0;if(Z&&(ie=Z({event:fe,metaSet:S})),ie&&(j!=null&&j.onEsc)){const{alias:Q,args:ae}=j.onEsc;ve[Q]({event:fe,metaSet:S,args:ae})}}else if(vo(fe))fe.preventDefault();else{let ie=!0;if(A&&(ie=A({event:fe,metaSet:S})),ie&&(j!=null&&j.onKeyDown)){const{alias:Q,args:ae}=j.onKeyDown;ve[Q]({event:fe,metaSet:S,args:ae})}}},[i,S,j,B,V,Z,A]),Le=(0,a.useCallback)(()=>{L&&q&&q()},[L,q]),de=(0,a.useCallback)(()=>{L&&U&&U()},[L,U]),Ze=(0,a.useCallback)(fe=>{const{button:ie}=fe;ie!==0&&pt(fe),Pt(fe)},[pt]),ot=(n=(e=Ne==null?void 0:Ne.rects)==null?void 0:e.reference)==null?void 0:n.x;(0,a.useEffect)(()=>{if(J&&Te){const fe=new io.Z(Te);return fe.observe(J),()=>{fe.unobserve(J)}}},[J,Te,ot]);let gt=null;if((o=(r=l==null?void 0:l.current)==null?void 0:r.content)!=null&&o.nextSibling&&(gt=l.current.content.nextSibling),(0,a.useEffect)(()=>{gt&&(gt.onclick=fe=>{Pt(fe)})},[gt]),c)return null;const he=b==="login-layout__input-drop-down autocomplete__drop-down";return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{ref:oe,className:it,children:v}),P?(0,bo.createPortal)((0,s.jsx)(go,{onClickOutside:Ze,children:(0,s.jsxs)("div",Os(Vo({onMouseDown:Ze,ref:N,className:$e,style:Os(Vo(Vo({},De.popper),R),{display:he?"none":"relative"})},xe.popper),{onFocus:bt,onBlur:pt,onKeyDown:mt,onMouseEnter:Le,onMouseLeave:de,tabIndex:0,"data-testid":`${G}`,children:[(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,className:W?_e:we,ref:l,onScroll:rt,minimalThumbSize:40,tabIndex:-1,translateContentSizesToHolder:!0,noScrollX:!0,style:ee,contentProps:{style:ee},thumbYProps:{style:W?qe:Ye},children:ft}),_&&(0,s.jsx)("div",{ref:K,className:ze,style:De.arrow})]}))}),document.getElementById("drop-down-list")):""]})}Kc.propTypes={_ref:y().object,onScroll:y().func,maxHeight:y().number,componentId:y().string,data:y().array,Component:y().elementType,targetComponent:y().element,className:y().string,componentListId:y().string,children:y().element,withArrow:y().bool,style:y().object,minWidth:y().string,elementNode:y().object,selected:y().oneOfType([y().number,y().string]),needToRender:y().bool,hasMenuOffset:y().bool,scrollSpeed:y().number},Kc.defaultProps={_ref:null,maxHeight:null,componentId:"",data:null,className:"",Component:null,componentListId:"",children:null,withArrow:!1,selected:null,popperClassName:"",hasMenuOffset:!1,scrollSpeed:1};var _l=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Kc,Os(Vo({},t),{_ref:e})))),ZU={popperIconSize:"18px",primaryColor:"#0bd688"};function f0(t,e,n){return t-e/n}function tE(t,e){let n=t;return n>e.realHeight-e.containerHeight&&(n=e.realHeight-e.containerHeight),n<0&&(n=0),n}function qc(t){t.focus()}const Yc="search",nE="search";function Xc(t){const{className:e,items:n,hasSearchValue:r,onChange:o,onResultListItemSelect:l,children:i,isExcluded:c,testId:d,isSearchResultsOpened:u}=t,m=d||nE,f=200,p=40,v=1,g=(0,a.useRef)(null),b=(0,a.useRef)(null),h=(0,a.useRef)(null),C=(0,a.useRef)(null),_=be()(e,Yc),[O,M]=(0,a.useState)(!0),[P,S]=(0,a.useState)(-1),[j,k]=(0,a.useState)(-1),w=(0,a.useCallback)(()=>{g!=null&&g.current&&qc(g.current)},[g]),x=(0,a.useCallback)(()=>{g!=null&&g.current&&qc(g.current)},[g]);function T(E,R){const L=parseInt(f/p,10);let U;for(let q=0;q<=L;q++){const W=p*q,G=q+1<=L&&p*(q+1),J=q===0;let oe;j>W&&j<=G?(oe=!J&&f/(p*q),U=J?E:f0(E,R,oe)):(oe=f/(p*v),U=f0(E,R,oe))}return U}function A(E,R){if(h!=null&&h.current&&(b!=null&&b.current)){const L={realHeight:h.current.clientHeight,containerHeight:b.current.wrapperElement.clientHeight},U=T(E,L.containerHeight),q=tE(U,L);R.current.scrollTo(null,q)}}function B(E,R,L){let U=E*p;S(E),A(U,b),l({index:E,itemUrl:null,event:L})}const Z=(0,a.useCallback)(E=>{var R,L,U,q,W,G;const J=P>=0,oe=P<n.length-1,ce=E.event||E,N=parseInt((L=(R=ce.currentTarget)==null?void 0:R.dataset)==null?void 0:L.index,10),$=ce.clientY;switch(!ce.keyCode&&(g!=null&&g.current)&&qc(g.current),(Sr(ce.keyCode)||Ur(ce.keyCode))&&ce.preventDefault(),!0){case(Sr(ce.keyCode)&&J):{const K=P-1,ee=((U=n[K])==null?void 0:U.item.caption)||"";M(!1),B(K,ee,ce);break}case(Ur(ce.keyCode)&&oe):{let K=P+1,ee=((q=n[K])==null?void 0:q.item.caption)||"";M(!1),B(K,ee,ce);break}case or(ce.keyCode):{const K=((G=(W=n[P])==null?void 0:W.item)==null?void 0:G.id)||"";l({index:P,itemUrl:K,event:ce});break}case mo(ce.keyCode):{o(""),S(-1);break}case(!Sr(ce.keyCode)&&!Ur(ce.keyCode)&&O):{N!==void 0&&!isNaN(N)&&(S(N),k($));break}default:break}},[P,n,g,O,o,l,B]),V=(0,a.useCallback)(({event:E})=>{E.stopPropagation(),r&&(o({value:""}),C.current.innerText="",S(-1))},[o,r]);function D(){O||M(!0)}const H=u?i.map((E,R)=>{const L=P===E.props.index,U=be()("search__item",{search__item_active:L});return(0,s.jsx)("li",{className:U,"data-index":R,onMouseMove:O?null:D,onMouseEnter:Z,children:E},R)}):[];return(0,a.useEffect)(()=>{n.length||S(-1)},[n]),(0,a.useEffect)(()=>{!r&&g.current&&(C.current.innerText="")},[r,g]),c?null:(0,s.jsxs)("div",{className:_,id:"search","data-testid":m,children:[(0,s.jsx)(_l,{targetComponent:(0,s.jsx)(zn,{ref:g,className:`${Yc}__input`,onChange:o,onKeyDown:Z,onEnter:Z,testId:`${m}_input`,focusedElement:C}),popperPlacement:"bottom-start",needToRender:r,className:"search",popperClassName:"search__items-wrapper",ref:b,onScroll:x,onHover:w,maxHeight:f,sameWidth:!0,children:(0,s.jsx)("ul",{ref:h,children:H})}),(0,s.jsx)(Gt,{className:`${Yc}__button`,iconName:r?"times":"search",onClick:V,testId:`${m}_button`})]})}Xc.propTypes={onChange:y().func.isRequired,hasSearchValue:y().bool.isRequired,items:y().array.isRequired,onResultListItemSelect:y().func.isRequired,className:y().string,children:y().array,isSearchResultsOpened:y().bool},Xc.defaultProps={className:""};var rE=(0,a.memo)(Xc),KU={popperIconSize:"18px",primaryColor:"#0bd688"};function Jc(t){const{index:e,element:n,onMouseEnter:r,onClick:o}=t,{item:{caption:l,id:i},path:c}=n;function d(u){const m=u.target.dataset.openUrl;o({caption:l,index:e,itemUrl:m?i:null,needCloseResultList:!m,event:u})}return(0,s.jsxs)("div",{className:"search__result-item",onClick:d,onMouseEnter:r,tabIndex:e,"data-index":e,"data-id":i,"data-name":l,children:[(0,s.jsx)("span",{"data-open-url":i,className:"search__result-item-name","data-name":l,"data-id":i,title:l,children:l}),(0,s.jsx)("span",{className:"search__result-item-path",title:c,children:c})]})}Jc.propTypes={index:y().number.isRequired,element:y().object.isRequired,onMouseEnter:y().func,onClick:y().func.isRequired},Jc.defaultProps={onMouseEnter:()=>{}};var oE=(0,a.memo)(Jc),qU={popperIconSize:"18px",primaryColor:"#0bd688"},lE=Object.defineProperty,aE=Object.defineProperties,sE=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,iE=Object.prototype.hasOwnProperty,cE=Object.prototype.propertyIsEnumerable,m0=(t,e,n)=>e in t?lE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zn=(t,e)=>{for(var n in e||(e={}))iE.call(e,n)&&m0(t,n,e[n]);if(p0)for(var n of p0(e))cE.call(e,n)&&m0(t,n,e[n]);return t},yo=(t,e)=>aE(t,sE(e));function v0(t){return t.filter(e=>!e.hidden)}function uE(t,e){const n=[];function r(o){o.forEach(l=>{var i;(i=l[e])!=null&&i.length&&(n.push(l.GUID||null),r(v0(l[e])))})}return r(v0(t)),n}function h0(t,e=null){var n;let r=null;return e&&(r=(n=t.find(o=>o.GUID===e))==null?void 0:n.elements),r||t}function g0(t,e,n,r){const o=e==null?void 0:e.clientHeight,l=n==null?void 0:n.clientHeight,i=n.querySelector(`[data-id="${r}"]`),c=i&&i.parentNode.offsetTop,d=l-o;let u=c-o/2;u>d&&(u=d),u<0&&(u=0),t.setState({topPosition:u})}function b0(t,e=!1){var n;const r={activeSubMenuId:null,openedSubMenusId:[],searchValue:"",schema:t};if(t!=null&&t.length&&e){const o=h0(t);r.activeSubMenuId=((n=o[0])==null?void 0:n.GUID)||null,r.openedSubMenusId=uE(o,"elements")}return r}function y0(t,e,n,r="",o=""){return t.reduce((l,i)=>{const{elements:c,GUID:d}=i,{caption:u}=e[d];let m=Zn(Zn({},i),e[d]);if(e[d].isSeparator)return l;if(c!=null&&c.length){let f=r+" > "+u,p=o+" > "+d;l=l.concat(y0(m.elements,e,n,f,p))}else m.caption&&m.caption.toLowerCase().indexOf(n.trim().toLowerCase())!==-1&&!(m!=null&&m.isDisabled)&&l.push({item:m,path:r.substr(3),arrayIds:o.substr(3).split(" > ")});return l},[])}const dE="main-menu";function Qc(t){const{className:e,leftBarHide:n,isPinned:r,testId:o,schema:l,entities:i,selectedItemId:c,isMainMenuOpened:d}=t,u=o||dE,m=10,f=(0,a.useRef)(null),p=(0,a.useRef)(null),v=(0,a.useRef)(null),g=(0,a.useRef)(null),b=(0,a.useRef)(null),h=(0,a.useRef)(!1),[C,_]=(0,a.useState)(()=>b0(l,!n)),O=(0,a.useRef)([]),M={"data-is-active":r};l!==C.schema&&_(b0(l,!n));function P(N){Ge.onMainMenuCommandSend&&Ge.onMainMenuCommandSend(yo(Zn({},N),{controlId:"mainMenu"}))}const S=(0,a.useCallback)(N=>{Pt(N);const{dataset:{itemGuid:$}}=N.currentTarget;_(K=>yo(Zn({},K),{activeSubMenuId:$}))},[]),j=(0,a.useCallback)(N=>{Pt(N);const{currentTarget:$,target:K}=N,{dataset:{subCommand:ee}}=K,{dataset:{itemId:ne,isDisabled:se}}=$;if(se==="true")return;Ge.saveSelectedMainMenuItemId&&Ge.saveSelectedMainMenuItemId(ne);const me={id:ne,advanced:!!ee,isCtrlClick:kI(N.ctrlKey,N.keyCode)||jI(N.metaKey)};P(me)},[]),k=(0,a.useCallback)(N=>{if(Pt(N),h.current)return;const{dataset:{itemGuid:$}}=N.currentTarget,{openedSubMenusId:K}=C;let ee=[];K.includes($)?ee=K.filter(ne=>ne!==$):ee=[...K,$],_(ne=>yo(Zn({},ne),{openedSubMenusId:ee}))},[C.openedSubMenusId]);function w(N){var $,K;const ee={activeSubMenuId:!n&&(($=N.sectionItemsId)!=null&&$.length)?N.sectionItemsId[0]:null};let ne;n&&((K=N.sectionItemsId)!=null&&K.length)?ne=N.sectionItemsId:ne=N.sectionItemsId.reduce((se,me)=>(se.includes(me)||se.push(me),se),[...C.openedSubMenusId]),ee.openedSubMenusId=ne,_(se=>Zn(Zn({},se),ee)),Ge.saveSelectedMainMenuItemId(N.selectedItemId)}const x=(0,a.useCallback)(N=>{_($=>yo(Zn({},$),{searchValue:N}))},[]),T=(0,a.useCallback)(({value:N})=>{const $=N.replace(`
`,"");O.current=y0(l,i,$),($===""||!O.current.length)&&Ge.saveSelectedMainMenuItemId(null),x($)},[l,i]),A=(0,a.useCallback)(({event:N})=>{Pt(N),Ge.onMainMenuPin&&Ge.onMainMenuPin(!r)},[r]),B=(0,a.useCallback)(N=>{const{index:$,itemUrl:K,event:ee,needCloseResultList:ne}=N;Pt(ee);const se=O.current[$];se!=null&&se.path&&w({sectionItemsId:se.arrayIds,selectedItemId:se.item.id}),ne&&x(""),K&&P({id:K})},[]);function Z(){var N;return(N=O.current)==null?void 0:N.map(($,K)=>(0,s.jsx)(oE,{index:K,element:$,onClick:B},`${$.item.GUID}`))}function V(){return l.map(N=>{const{GUID:$,elements:K,id:ee}=N,{caption:ne,isExcluded:se,iconName:me,hint:ye}=i[$];if(K&&!se){const ue=Qx(ne,9,`
`,!0,2),Re=be()("main-menu__left-bar-menu-item",{"main-menu__left-bar-menu-item_active":$===C.activeSubMenuId});return(0,s.jsx)("li",{className:Re,"data-item-guid":$,title:ye||ne,onClick:S,"data-testid":`${u}_left-bar-menu-item_${ee}`,children:(0,s.jsxs)("div",{className:"main-menu__left-bar-menu-item-content",children:[(0,s.jsx)("img",{src:on(me),alt:me,className:"main-menu__left-bar-menu-item-icon"}),(0,s.jsx)("span",{className:"main-menu__left-bar-menu-item-text",children:ue})]})},$)}})}(0,a.useEffect)(()=>{var N;c&&f.current&&g0(f.current,f.current.wrapper,p.current,c),!n&&C.activeSubMenuId&&g0(v.current,(N=v.current)==null?void 0:N.wrapper,g.current,C.activeSubMenuId)},[c,C.activeSubMenuId,n,d]);const D=be()(e,"main-menu"),H=be()("main-menu__pin",{"main-menu__pin_not-active":!r}),E=Z(),R=(0,a.useCallback)((N,$)=>{let K="";return N&&$?K="main-menu__command-item-link-collect":($||N)&&(K="main-menu__command-item-link-indent"),K}),L=(0,a.useCallback)(N=>{const{caption:$,GUID:K,depth:ee,id:ne,renderStyle:se,isExcluded:me,isDisabled:ye,hint:ue,iconName:Re,depthOffsetSize:De}=N,xe=se==null?void 0:se.isNewAvailable,Ne=se==null?void 0:se.isHelp,Te=be()("main-menu__command-item",{"main-menu__command-item_hidden":me,"main-menu__command-item_disabled":ye,"main-menu__command-item_marked":c!==void 0&&c===ne}),it=be()("main-menu__command-span",{"main-menu__command-item_disabled":ye}),$e=R(xe,Ne);let ze={className:"main-menu__item-icon"};Re&&(ze.src=on(Re));const we={"data-id":ne,"data-sub-command":xe?"new":"help","data-testid":`${u}_item_${ne}_sub-command`};return(0,s.jsxs)("li",{"data-item-id":ne,"data-item-guid":K,"data-name":ne,"data-is-disabled":ye,onClick:j,className:Te,children:[(0,s.jsxs)("span",{className:be()(`main-menu__command-item-link ${$e}`,{"main-menu__command-item-link_marked":c!==void 0&&c===ne}),"data-name":$,style:{paddingLeft:`${ee*De}px`},title:ue||lt.t($),"data-caption":lt.t($),"data-id":ne,"data-testid":`${u}_item_${ne}`,children:[Re?(0,s.jsx)("img",yo(Zn({},ze),{"data-testid":`${u}_item_${ne}_icon`})):(0,s.jsx)("span",yo(Zn({},ze),{"data-testid":`${u}_item_${ne}_icon`})),(0,s.jsx)("span",{className:it,children:lt.t($)})]}),xe||Ne?(0,s.jsx)("button",yo(Zn({className:"main-menu__command-add"},we),{children:(0,s.jsx)(Cn(),yo(Zn({},we),{name:xe?"plus":"question-circle"}))})):null]},K)},[c,j,u]),U=(0,a.useCallback)(({GUID:N,hint:$,caption:K,id:ee})=>(0,s.jsx)("li",{className:"main-menu__separator",onClick:Pt,children:(0,s.jsx)("span",{title:$||K,"data-id":ee,"data-testid":`${u}_item_${ee}_separator`,children:K})},N),[u]),q=(0,a.useCallback)(N=>{var $,K;const{GUID:ee,id:ne,depth:se,caption:me,children:ye,hint:ue,iconName:Re,schema:De,isExcluded:xe,isDisabled:Ne}=N,{openedSubMenusId:Te=[]}=C,it=be()("main-menu__category-wrapper"),$e=be()("main-menu__category-name",{"main-menu__category-name_hidden":xe,"main-menu__category-name_disabled":Ne,"main-menu__category-name-title":!((K=($=De==null?void 0:De.elements)==null?void 0:$[0])!=null&&K.elements)}),we=(Te==null?void 0:Te.includes(ee))?"angle-down":"angle-right";return(0,s.jsxs)("li",{id:ee,className:it,"data-item-id":ne,"data-item-guid":ee,onClick:Ne?Pt:k,children:[(0,s.jsxs)("span",{className:$e,style:{paddingLeft:`${se*m}px`},title:ue||me,"data-testid":`${u}_item_${ne}`,children:[(0,s.jsx)(Cn(),{name:we,className:"main-menu__category-icon","data-testid":`${u}_item_${ne}_icon`}),Re&&(0,s.jsx)("img",{className:"main-menu__command-icon",src:on(Re)}),me]}),Te.includes(ee)&&ye]},ee)},[C.openedSubMenusId,k,m,u]),W=(0,a.useCallback)(({schema:N,children:$,depth:K})=>{var ee;const{GUID:ne}=N,{id:se,caption:me,iconName:ye,hint:ue,isExcluded:Re,isDisabled:De,renderStyle:xe,isSeparator:Ne}=i[ne];let Te;const it={GUID:ne,hint:ue,caption:me,id:se};if((ee=N==null?void 0:N.elements)!=null&&ee.length)Te=q(Zn({depth:K,children:$,iconName:ye,schema:N,isExcluded:Re,isDisabled:De},it));else if(Ne)Te=U(Zn({},it));else{const $e=Zn({depth:K,schema:N,renderStyle:xe,isExcluded:Re,isDisabled:De,iconName:ye,depthOffsetSize:6},it);Te=L($e)}return(0,s.jsx)("ul",{className:"main-menu__category",children:Te},ne)}),G=(0,a.useCallback)(()=>{document.body.style["overflow-y"]="auto"},[]),J=(0,a.useCallback)(()=>{document.body.style["overflow-y"]="hidden"},[]),oe=(0,a.useCallback)(N=>{h.current=!1,b.current=N.target},[]),ce=(0,a.useCallback)(N=>{h.current=b.current!==N.target},[]);return l!=null&&l.length?(0,s.jsxs)("div",{className:D,"data-testid":o,children:[(0,s.jsxs)("div",{className:"main-menu__top-bar-area",children:[(0,s.jsx)(rE,{className:"main-menu__search",items:O.current,hasSearchValue:!!C.searchValue,onChange:T,onResultListItemSelect:B,testId:"main-menu_search",isSearchResultsOpened:d,children:E}),(0,s.jsx)(Gt,{dataAttrs:M,testId:"main-menu_pin",className:H,onClick:A,iconName:"thumb-tack"})]}),(0,s.jsxs)("div",{onMouseOut:G,onMouseOver:J,onMouseDown:oe,onMouseUp:ce,className:"main-menu__list-area",children:[n?null:(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,ref:v,className:"main-menu__left-bar",minimalThumbSize:40,noScrollX:!0,translateContentSizeXToHolder:!0,thumbYProps:{style:{borderRadius:"10px"}},children:(0,s.jsx)("ul",{ref:g,className:"main-menu__left-bar-menu","data-testid":"main-menu__left-bar-menu",children:V()})}),(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,ref:f,className:"main-menu__right-bar",thumbYProps:{style:{borderRadius:"10px"}},children:(0,s.jsx)(Is,{schema:h0(C.schema,C.activeSubMenuId),renderElement:W,ref:p,testId:"main-menu__right-bar-menu"})})]})]}):null}Qc.propTypes={elements:y().arrayOf(y().object).isRequired,leftBarHide:y().bool,isPinned:y().bool},Qc.defaultProps={leftBarHide:!0,isPinned:!1,elements:[]};function fE({mainAppParams:{menu:{entities:t,isOpened:e,isPinned:n,leftBarHide:r,schema:o,selectedItemId:l}}}){return{isMainMenuOpened:e,isPinned:n,leftBarHide:r,schema:o,entities:t,selectedItemId:l}}var pE=(0,ur.qC)((0,st.$j)(fE),a.memo)(Qc);function eu(t,e){e||(document.title=t==="ru"?"\u0422\u0423\u0420\u0411\u041E":"TURBO"),tS(t,e),of("language",t,{path:"/"})}function mE(t){lt.init({lng:t}).then(eu.bind(this,t))}function vE(t){lt.changeLanguage(t).then(eu.bind(this,t))}var C0={init:mE,change:vE},an=He(89250),hE=He(15734),_0=He(12599),gE=Object.defineProperty,bE=Object.defineProperties,yE=Object.getOwnPropertyDescriptors,Es=Object.getOwnPropertySymbols,w0=Object.prototype.hasOwnProperty,x0=Object.prototype.propertyIsEnumerable,S0=(t,e,n)=>e in t?gE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CE=(t,e)=>{for(var n in e||(e={}))w0.call(e,n)&&S0(t,n,e[n]);if(Es)for(var n of Es(e))x0.call(e,n)&&S0(t,n,e[n]);return t},_E=(t,e)=>bE(t,yE(e)),wE=(t,e)=>{var n={};for(var r in t)w0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Es)for(var r of Es(t))e.indexOf(r)<0&&x0.call(t,r)&&(n[r]=t[r]);return n},Co=t=>{var e=t,{to:n}=e,r=wE(e,["to"]);const o=(0,an.UO)(),l=typeof n=="string"?n:(0,_0.Ep)(n),i=(0,_0.Gn)(l,o);return(0,s.jsx)(an.Fg,_E(CE({},r),{to:i}))},XU={popperIconSize:"18px",primaryColor:"#0bd688"};const Rn="un-supported-browser";function xE(t){const{webUiLanguage:e}=t;return(0,s.jsx)("div",{className:Rn,children:(0,s.jsxs)("div",{className:`${Rn}__container`,children:[(0,s.jsx)("div",{className:`${Rn}__head`,children:(0,s.jsx)("div",{className:`${Rn}__head-image ${Rn}__head-image_${e}`})}),(0,s.jsxs)("div",{className:`${Rn}__content`,children:[(0,s.jsxs)("div",{className:`${Rn}__content-message`,children:[(0,s.jsx)("div",{children:lt.t("browser_support_message_1")}),(0,s.jsx)("div",{children:lt.t("browser_support_message_2")}),(0,s.jsx)("div",{children:lt.t("browser_support_message_3")})]}),(0,s.jsxs)("div",{className:`${Rn}__browsers`,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:`${Rn}__browsers ${Rn}__browsers_chrome`}),(0,s.jsx)("a",{className:`${Rn}__browser-link`,href:"https://www.google.com/chrome/",target:"_blank",children:"Chrome"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:`${Rn}__browsers ${Rn}__browsers_fire-fox`}),(0,s.jsx)("a",{className:`${Rn}__browser-link`,href:"https://www.mozilla.org",target:"_blank",children:"Firefox"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:`${Rn}__browsers ${Rn}__browsers_edge`}),(0,s.jsx)("a",{className:`${Rn}__browser-link`,href:"https://www.microsoft.com/en-us/windows/microsoft-edge",target:"_blank",children:"Edge"})]})]})]})]})})}function SE({mainAppParams:t}){return{webUiLanguage:t.webUiLanguage}}var PE=(0,st.$j)(SE)(xE),JU={popperIconSize:"18px",primaryColor:"#0bd688"};const IE="indicator";let tu=0;function OE({show:t=!1}){const[n,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>(t?tu=setTimeout(()=>{r(!0)},700):(clearTimeout(tu),r(!1)),()=>{clearTimeout(tu),r(!1)}),[t]),(0,bo.createPortal)((0,s.jsx)("div",{className:n?"indicator":"indicator indicator_hidden",children:(0,s.jsx)("div",{className:`${IE}__loader`})}),document.getElementById("indicator"))}var EE=(0,st.$j)(({mainAppParams:t})=>({show:t.showProcessIndicator}))(OE),kE=He(68607),jE=He.n(kE);function RE({needToPrint:t,serviceURL:e,setPrintStatus:n}){const r=(0,a.useRef)(null),o=(0,a.useRef)(null),l=be()("print print__container"),i=(0,a.useCallback)(()=>{console.warn("Something went wrong while printing!")},[]),c=(0,a.useCallback)(()=>{n({needToPrint:!1,serviceURL:null})},[n]),d=(0,a.useCallback)(m=>{const f=document.createElement("iframe");return f.classList.add("print__frame"),f.src=m,f},[]),u=(0,a.useCallback)(m=>{r.current.innerHTML="",o.current=d(m),r.current.appendChild(o.current),(o.current.contentWindow||o.current[0]).print()},[]);return(0,a.useEffect)(()=>{if(!r.current||!t||!e)return;const m=Jx(e);Ka(["chrome","opera","safari"])?jE()({printable:m,type:"pdf",onPrintDialogClose:c,onError:i}):u(m)},[e,t,c]),t?(0,s.jsx)("div",{ref:r,className:l}):null}function DE(t){const{print:{needToPrint:e,serviceURL:n}}=t;return{needToPrint:e,serviceURL:n}}var NE=(0,st.$j)(DE,{setPrintStatus:as})(RE);const ME=(0,z.ZP)("div")({display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box",minWidth:400,maxWidth:800,minHeight:100,backgroundColor:"#fff",padding:32,borderRadius:8,boxShadow:"0px 8px 24px -8px rgba(34, 60, 80, 0.25)"}),TE=(0,z.ZP)("div")({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20}),FE=(0,z.ZP)("div")({marginBottom:20}),AE=(0,z.ZP)("div")({display:"flex",justifyContent:"end"}),BE=(0,z.ZP)("div")({fontSize:24,fontWeight:500,marginBottom:8}),$E=(0,z.ZP)("div")({fontSize:14,fontWeight:400}),P0={FASHION:"Ghost",ICON_NAME:"Com/Attachment/Icons/Close.svg"},I0={FASHION:"Primary",CAPTION:"OK"},zE=t=>{const{message:e,onClose:n,messageId:r,caption:o}=t,l=()=>{n==null||n(r)};return(0,s.jsxs)(ME,{children:[(0,s.jsxs)(TE,{children:[(0,s.jsx)(Ct,{name:"error-warning",type:"fill",size:28,color:"#FF3352"}),(0,s.jsx)(Gt,{fashion:P0.FASHION,iconName:P0.ICON_NAME,onClick:l})]}),(0,s.jsxs)(FE,{children:[(0,s.jsx)(BE,{children:o}),(0,s.jsx)($E,{children:e})]}),(0,s.jsx)(AE,{children:(0,s.jsx)(Gt,{caption:I0.CAPTION,fashion:I0.FASHION,isFixSize:!0,onClick:l,style:{width:30}})})]})};var QU={popperIconSize:"18px",primaryColor:"#0bd688"};const nu="system-messages",LE=document.getElementById("system-messages");var HE=t=>{const{modalPopUp:e,onPopUpClose:n}=t,r=(0,st.v9)(At),o=i=>{n({id:i})};let l=!1;return e.length>0&&e.every(i=>(i==null?void 0:i.context)===!0)&&(l=!0),(0,s.jsx)(s.Fragment,{children:e.length>0&&(0,bo.createPortal)((0,s.jsxs)("div",{className:nu,children:[e.map((i,c)=>{const{type:d,caption:u,message:m,component:f,context:p,iconID:v,componentProps:g}=i,b=c===e.length-1,h=f==="ImgModal"?`${er}_big`:null;let C={};if(p){const{controlId:_,rowId:O,rowControlId:M,tableControlId:P,formId:S}=i,j=cf({rowId:O,rowControlId:M,tableControlId:P,controlId:_,formId:S});if(j){const{height:k,top:w,left:x}=j.getBoundingClientRect();C={position:"absolute",top:w+k,left:x,width:"fit-content",border:"none"}}}return(0,s.jsx)("div",{className:`${nu}__item`,children:d==="error"&&r?(0,s.jsx)(zE,{message:m,className:h,context:p,style:C,iconID:v,caption:u,messageId:c,onClose:o,type:d,isLastMessage:b,component:f,componentProps:g}):(0,s.jsx)(R4,{className:h,context:p,style:C,iconID:v,caption:u,message:m,messageId:c,onClose:o,type:d,isLastMessage:b,component:f,componentProps:g})},c)}),(0,s.jsx)("div",{style:l&&{background:"none"}||{},className:`${nu}__overlay`})]}),LE)})},mr=He(71336),tG={popperIconSize:"18px",primaryColor:"#0bd688"},WE=Object.defineProperty,VE=Object.defineProperties,UE=Object.getOwnPropertyDescriptors,O0=Object.getOwnPropertySymbols,GE=Object.prototype.hasOwnProperty,ZE=Object.prototype.propertyIsEnumerable,E0=(t,e,n)=>e in t?WE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ru=(t,e)=>{for(var n in e||(e={}))GE.call(e,n)&&E0(t,n,e[n]);if(O0)for(var n of O0(e))ZE.call(e,n)&&E0(t,n,e[n]);return t},k0=(t,e)=>VE(t,UE(e));const ks="list-button",KE="list-button";let wl=null;const qE=({child:t,withIcon:e,index:n,currentActiveIndex:r,setActiveMode:o,setEditableMode:l,isIncludedList:i,setActiveModePrev:c,targetItemTestId:d})=>{var u;const m=(0,a.useRef)(null),{caption:f,GUID:p,name:v,hint:g,iconName:b,isDisabled:h,isPressed:C,className:_,metaSet:O,testId:M,onClick:P,events:S,commandName:j}=t,k=M||d,w=`${ks}__item`,x=be()(_,w,{[`${w}_disabled`]:h,[`${w}_active`]:n===r}),T=`${ks}__item-content`,A=be()(T,{[`${T}_pressed`]:C});let B=null;if(e){let E={className:`${ks}__item-icon`,"data-testid":`${KE}__item-icon`};const R=b||(C?"check":""),L=`${k}_icon`;B=R?R!=null&&R.includes("/")?(0,s.jsx)("img",k0(ru({},E),{src:on(R),alt:"","data-testid":L})):(0,s.jsx)(Cn(),k0(ru({},E),{name:R,"data-testid":L})):(0,s.jsx)("span",ru({},E))}const Z=(0,a.useCallback)(E=>{if(E.preventDefault(),wl&&clearTimeout(wl),i&&l)return l()},[i,wl,l]),V=(0,a.useCallback)(E=>{if(h||i){Pt(E);return}je({specificEvent:P,nativeEvent:"onClick",events:S,value:v,metaSet:O,commandName:j,event:E}),c?c():o()},[c,o,h,j,P,i]),D=(0,a.useCallback)(()=>{l&&i&&(wl=setTimeout(l,500))},[l,i]),H=(0,a.useCallback)(()=>{o&&i&&(wl&&clearTimeout(wl),o())},[o,i]);return pr(m,g,(u=m==null?void 0:m.current)==null?void 0:u.innerText),(0,s.jsx)("li",{"data-item-id":v,"data-item-guid":p,"data-name":v,onClick:V,onMouseEnter:D,onMouseLeave:H,onMouseDown:Z,className:x,children:(0,s.jsxs)("div",{className:A,"data-id":v,"data-name":v,"data-testid":k,ref:m,children:[B,(0,s.jsx)("span",{className:`${ks}__item-caption`,"data-testid":`${k}_caption`,children:lt.t(f)})]})},p||v)};var j0=(0,a.memo)(qE),YE=Object.defineProperty,XE=Object.defineProperties,JE=Object.getOwnPropertyDescriptors,R0=Object.getOwnPropertySymbols,QE=Object.prototype.hasOwnProperty,ek=Object.prototype.propertyIsEnumerable,D0=(t,e,n)=>e in t?YE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,js=(t,e)=>{for(var n in e||(e={}))QE.call(e,n)&&D0(t,n,e[n]);if(R0)for(var n of R0(e))ek.call(e,n)&&D0(t,n,e[n]);return t},ou=(t,e)=>XE(t,JE(e));const N0="list-button",M0="list-button";function tk(t){return t.some(e=>!!e.iconName)}function nk(t){return t.some(e=>!!e.isPressed)}const T0=(t,e,n)=>{let r=e;const o=e;if(n==="up"?r=e-1<0?0:e-1:n==="down"&&(r=e+1>t.length-1?t.length-1:e+1),t[r].isDisabled){let i;switch(n){case"down":{i=t.slice(r).find(c=>c.isDisabled===!1),i||(i=t[o]);break}case"up":{i=t.slice(0,r).reverse().find(c=>c.isDisabled===!1),i||(i=t[o]);break}default:return r}return r=t.findIndex(c=>c===i),r}return r};function F0(t){var e;const{_ref:n,focusedElement:r,className:o,style:l,fashion:i,id:c,name:d,isDisabled:u,isFixSize:m,hasActiveMode:f,mode:p,modeSwitch:v,children:g=[],caption:b,iconName:h,iconSize:C,dataAttrs:_,hint:O,tabIndex:M,events:P,metaSet:S,testId:j,onTab:k,onFocus:w,onBlur:x,onBlurCapture:T,onEnter:A,onEsc:B,onClick:Z,onModeChange:V,onMouseDown:D,dropDownClassName:H,elements:E,onHint:R,isIncludedList:L,sameWidth:U,index:q,setActiveModePrev:W}=t,G=30,J=j||M0,oe=`${J}_item`,ce=lt.t("list_button_hint"),N=he=>["button","listButton"].includes(he==null?void 0:he.type),$=(e=a.Children.map(g,he=>(he==null?void 0:he.props)||he))==null?void 0:e.filter(N),K=$&&(tk($)||nk($));let ee=(0,a.useRef)(null);ee=r||n||ee;let ne=(0,a.useRef)(null);const se=(0,a.useRef)(null),me=(0,a.useRef)(null);ne=v||ne;const[ye,ue]=(0,a.useState)(null),[Re,De]=(0,a.useState)(!1),[xe,Ne]=(0,a.useState)(-1),Te=be()(N0,M0,`list-button-${c}`),it=be()(o),$e=(0,a.useCallback)(()=>{var he,fe;(he=ne.current)==null||he.setDefaultMode(),De(!1),(fe=ee.current)==null||fe.focus()},[]),ze=(0,a.useCallback)(()=>{var he,fe;(he=ne.current)==null||he.setActiveMode(),De(!1),(fe=ee.current)==null||fe.focus()},[]),we=(0,a.useCallback)(()=>{var he;(he=ne.current)==null||he.setEditableMode(),De(!0)},[]),_e=(0,a.useCallback)(({event:he,value:fe})=>{var ie;if(u)return;const Q=vo(he),ae=vs(he);if(Q&&ae){let Ie=!0;if(A&&(Ie=A({event:he,metaSet:S,value:fe})),Ie&&(P!=null&&P.onEnter)){const{alias:Be,args:re}=P.onEnter;ve[Be]({event:he,metaSet:S,args:re,value:fe})}(ie=ne.current)!=null&&ie.checkEditableMode()?f?ze():$e():we()}return!1},[u,S,P,A,f,ze,$e,we]),Oe=(0,a.useCallback)(({event:he,value:fe})=>{if(u)return;let ie=!0;if(w&&(ie=w({event:he,metaSet:S,value:fe})),ie&&(P!=null&&P.onFocus)){const{alias:Q,args:ae}=P.onFocus;ve[Q]({event:he,metaSet:S,args:ae,value:fe})}return!0},[u,S,P,w]),Ye=(0,a.useCallback)(({event:he})=>{if(u)return;let fe=!0;if(x&&(fe=x({event:he,metaSet:S})),fe&&(P!=null&&P.onBlur)){const{alias:ie,args:Q}=P.onBlur;ve[ie]({event:he,metaSet:S,args:Q})}return sS()||De(!1),!0},[u,S,P,x,De]),qe=(0,a.useCallback)(({event:he,value:fe})=>{var ie;if(u)return;let Q=!0;if(T&&(Q=T({event:he,metaSet:S,value:fe})),Q&&(P!=null&&P.onBlurCapture)){const{alias:ae,args:Ie}=P.onBlurCapture;ve[ae]({event:he,metaSet:S,args:Ie,value:fe})}return(ie=he==null?void 0:he.relatedTarget)!=null&&ie.classList.contains("scrollarea-content")&&he.stopPropagation(),!1},[u,S,P,T]),dt=(0,a.useCallback)(({event:he})=>{he.relatedTarget!==ee.current&&$e()},[$e]),ft=(0,a.useCallback)(({event:he})=>{if(!u){if(D&&D({event:he,metaSet:S}),P!=null&&P.onMouseDown){const{alias:fe,args:ie}=P.onMouseDown;ve[fe](js({event:he,metaSet:S},ie))}return Re||(f?ze():$e()),!1}},[u,S,P,D]),rt=(0,a.useCallback)(({event:he})=>{if(!u)return Z&&Z({event:he,metaSet:S}),je({specificEvent:Z,nativeEvent:"onClick",events:P}),Re||we(),!1},[u,$,S,P,Z,Re,f,$e,ze,we]),bt=(0,a.useCallback)(({event:he})=>{if(u)return;let fe=!0;if(k&&(fe=k({event:he,metaSet:S})),fe&&(P!=null&&P.onTab)){const{alias:ie,args:Q}=P.onTab;ve[ie]({event:he,metaSet:S,args:Q})}return f?ze():$e(),!1},[u,S,P,k,f,ze,$e]),pt=(0,a.useCallback)(({event:he})=>{if(u)return;let fe=!0;if(B&&(fe=B({event:he,metaSet:S})),fe&&(P!=null&&P.onEsc)){const{alias:ie,args:Q}=P.onEsc;ve[ie]({event:he,metaSet:S,args:Q})}return f?ze():$e(),!1},[u,S,P,B,f,ze,$e]),mt=(0,a.useCallback)(({value:he})=>{if(u)return;let fe=!0;if(V&&(fe=V({metaSet:S,value:he})),fe&&(P!=null&&P.onModeChange)){const{alias:ie,args:Q}=P.onModeChange;ve[ie](ou(js({},Q),{metaSet:S,value:he}))}},[u,S,P,V]),Le=(0,a.useCallback)(he=>{var fe;const{keyCode:ie}=he;if((fe=se.current)!=null&&fe.contentElement&&$.length>0&&(Sr(ie)||Ur(ie))){let Q;const ae=se.current.contentElement,Ie=se.current.wrapperElement,Be=ae.offsetHeight,re=Array.from(me.current.children),pe=parseInt(se.scrollTop,10),Se=Math.abs(pe),We=Se+Ie.offsetHeight;let Ce=null;Sr(ie)?(Q=T0($,xe,"up"),Ce=re[Q]):(Q=T0($,xe,"down"),Ce=re[Q]);const Je=Ce.offsetTop;let et=pf({parentNodeScrollTop:pe,step:10,activeNodeOffsetTop:Je,visibleRangeMin:Se,visibleRangeMax:We,cellHeight:G});ye&&(Be-et<ye?(et=Be-ye,se.current.state.topPosition=et,se.current.scrollArea.scrollYTo(et)):Q===0?(se.current.state.topPosition=0,se.current.scrollArea.scrollYTo(0)):(se.current.state.topPosition=et,se.current.scrollArea.scrollYTo(et))),Ne(Q)}else if(or(ie)){if(u)return;const Q=$.filter((ae,Ie)=>xe===Ie).shift();if(Q!==void 0){const{name:ae,metaSet:Ie,events:Be,onClick:re}=Q;let pe=!0;if(re&&(pe=re({event:he,metaSet:Ie,value:ae})),pe&&(Be!=null&&Be.onClick)){const{alias:Se,args:We}=Be.onClick;ve[Se]({event:he,args:We,metaSet:Ie,value:ae})}}}},[xe,$,Z,se,G,ye,me]),de=(0,a.useCallback)(()=>{let he=!0;if(R&&(he=R({event,metaSet:S})),he&&(P!=null&&P.onHint)){const{alias:fe,args:ie}=P.onHint;he=ve[fe]({event,args:ie,metaSet:S})}},[R,P,S]);(0,a.useEffect)(()=>{var he;if(Re||Ne(-1),Re&&((he=se==null?void 0:se.current)!=null&&he.content)&&(ee!=null&&ee.current)){const{top:fe,height:ie}=ee.current.getBoundingClientRect(),Q=se.current.content.clientHeight,ae=fe+ie,Ie=document.documentElement.clientHeight-ae;Q>Ie&&ue(205),se.current.content.onkeydown=Be=>{Pt(Be),Le(Be)}}},[Re,Le]);const Ze=(0,a.useCallback)(()=>{W?W():ze()},[ze,W]),ot=L?(0,s.jsx)(j0,{child:{caption:b,name:d,hint:O,iconName:h,isDisabled:u,className:o,metaSet:S,testId:j,onClick:Z,events:P},index:q,withIcon:!!h,currentActiveIndex:xe,setActiveMode:ze,targetItemTestId:oe,setEditableMode:we,isIncludedList:L,setActiveModePrev:Ze}):(0,s.jsx)(Kr,{ref:ee,focusedElement:r,className:it,style:l,fashion:i,id:c,name:d,isDisabled:u,isFixSize:m,hasActiveMode:f,mode:p,modeSwitch:ne,metaSet:S,iconName:h,iconSize:C,caption:lt.t(b),dataAttrs:_,hint:O?`${O}`:ce,tabIndex:M,testId:`${J}`,onTab:bt,onFocus:Oe,onBlur:Ye,onBlurCapture:qe,onModeChange:mt,onMouseDown:ft,onClick:rt,onEnter:_e,onEsc:pt,onHint:de}),gt=(he,fe)=>{if(he.type==="separator")return(0,s.jsx)(mr.Z0,{},fe);const ie=$==null?void 0:$.find(Q=>Q==null?void 0:Q.name.includes(he==null?void 0:he.name));if(!ie)return null;switch(he.type){case"listButton":return(0,s.jsx)(F0,{_ref:null,index:fe,className:o,style:l,name:ie.name,elements:ie.elements,caption:ie.caption,isDisabled:!1,hint:ie.caption,iconSize:ie.iconSize,iconName:ie.iconName,isIncludedList:!0,setActiveModePrev:Ze,children:ie.children||[]},fe);default:return(0,s.jsx)(j0,{child:ie,index:fe,withIcon:K,currentActiveIndex:xe,setActiveMode:ze,targetItemTestId:oe,setActiveModePrev:Ze},fe)}};return(0,s.jsx)("div",ou(js({tabIndex:-1,onKeyDown:Le,className:Te},_),{children:$!=null&&$.length||E!=null&&E.length?(0,s.jsx)(_l,{withArrow:!0,isListButton:!0,sameWidth:U,className:H,targetComponent:ot,needToRender:Re,onTab:bt,onBlur:dt,onEnter:_e,onEsc:pt,testId:`${J}_drop-down-box`,maxHeight:ye,ref:se,isIncludedList:L,setActiveMode:ze,setEditableMode:we,children:(0,s.jsx)("ul",{className:`${N0}__list`,ref:me,children:(E==null?void 0:E.map(gt))||($==null?void 0:$.map(gt))})}):ot}))}var A0=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(F0,ou(js({},t),{_ref:e})))),xl=A0,Rs=He.p+"images/TurboXIcon.svg",nG={popperIconSize:"18px",primaryColor:"#0bd688"},rk=Object.defineProperty,ok=Object.defineProperties,lk=Object.getOwnPropertyDescriptors,B0=Object.getOwnPropertySymbols,ak=Object.prototype.hasOwnProperty,sk=Object.prototype.propertyIsEnumerable,$0=(t,e,n)=>e in t?rk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lu=(t,e)=>{for(var n in e||(e={}))ak.call(e,n)&&$0(t,n,e[n]);if(B0)for(var n of B0(e))sk.call(e,n)&&$0(t,n,e[n]);return t},au=(t,e)=>ok(t,lk(e));const Fr="header",ik=document.getElementById("favicon");let Ds;function z0(t){const{isMainMenuOpen:e,isMainMenuExcluded:n,userName:r,roleName:o,toolbarData:l={},version:i="Version: 0.0.0"}=t,c=(0,st.v9)(h=>h.mainAppParams.reminders,st.wU),d=(0,st.v9)(h=>{var C;return(C=h.mainAppParams.app)==null?void 0:C.appIcon}),u=(0,a.useCallback)(h=>{const C=h==null?void 0:h.isExist;if(Ds&&clearTimeout(Ds),!C)co(d?on(d):Rs);else{const{iconname:_}=h;_!==ik.href.slice(-_.length)?co(on(_)):co(d?on(d):Rs),Ds=setTimeout(u,1e3,h)}},[c]);(0,a.useEffect)(()=>(u(c),()=>{c&&(co(on(d)||Rs),clearTimeout(Ds))}),[c]);const{schema:m,entities:f}=l,p=(0,a.useCallback)(({metaSet:h={}})=>{var C;const{name:_}=h;_&&((C=Ge)!=null&&C.onToolbarCommandSend)&&Ge.onToolbarCommandSend({id:_,mode:"toolbarClick",controlId:"toolBar"})},[]),v=(0,a.useCallback)(()=>{Ge.onMainMenuOpen&&Ge.onMainMenuOpen(!e)},[e,Ge]),g=(0,a.useCallback)(()=>{Ge.onLogOut&&Ge.onLogOut()},[Ge]);let b=null;return m&&f&&(b=m.map(h=>{var C;const{type:_,name:O,elements:M}=h,P=(C=f==null?void 0:f[_])==null?void 0:C[O];if(P){if(h.type==="button")return(0,s.jsx)(Gt,au(lu({},P),{className:`${Fr}__button ${Fr}__toolbar-button`,caption:"",hint:lt.t(P.hint)||lt.t(P.caption),metaSet:{name:O},testId:O,onClick:p}),O);if(h.type==="listButton"){let S=null;return M!=null&&M.length&&(S=M.map(j=>{var k;const{type:w,name:x}=j,T=(k=f==null?void 0:f[w])==null?void 0:k[x];return T?(0,s.jsx)(Gt,au(lu({},T),{metaSet:{name:x},testId:x,onClick:p}),x):null})),(0,s.jsx)(xl,au(lu({},P),{className:`${Fr}__button ${Fr}__toolbar-button`,testId:O,caption:"",hint:lt.t(P.hint)||lt.t(P.caption),children:S}),O)}return null}return null})),(0,s.jsxs)("header",{className:Fr,children:[(0,s.jsxs)("div",{className:`${Fr}__container`,children:[!n&&(0,s.jsx)(Gt,{name:"mainMenuButton",iconName:"bars",hint:lt.t("main_menu"),onClick:v,className:`${Fr}__main-menu-button`,testId:"main-menu-button",isPressed:e}),b]}),(0,s.jsxs)(xl,{name:"user-button",caption:r?`${r} (${o})`:"user",iconName:"user",testId:"user-button",className:`${Fr}__user-button`,children:[(0,s.jsx)(Gt,{name:"exit-button",type:"button",className:`${Fr}__exit-button`,caption:lt.t("workspace_exit"),testId:"exit-button",onClick:g}),(0,s.jsx)(Gt,{name:"version",type:"button",className:`${Fr}__version-button`,isDisabled:!0,caption:i,testId:"app-version"})]})]})}z0.propTypes={isMainMenuExcluded:y().bool,isMainMenuOpen:y().bool.isRequired,userName:y().string,toolbarData:y().object};var ck=(0,a.memo)(z0),rG={popperIconSize:"18px",primaryColor:"#0bd688"},oG={popperIconSize:"18px",primaryColor:"#0bd688"},uk=Object.defineProperty,dk=Object.defineProperties,fk=Object.getOwnPropertyDescriptors,L0=Object.getOwnPropertySymbols,pk=Object.prototype.hasOwnProperty,mk=Object.prototype.propertyIsEnumerable,H0=(t,e,n)=>e in t?uk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W0=(t,e)=>{for(var n in e||(e={}))pk.call(e,n)&&H0(t,n,e[n]);if(L0)for(var n of L0(e))mk.call(e,n)&&H0(t,n,e[n]);return t},V0=(t,e)=>dk(t,fk(e));const U0=t=>t?"0":"180";var G0=t=>{const{orientation:e,index:n,splitterAtRight:r,canHideBySplit:o,canResizeBySplit:l,hideFrame:i,onMouseDown:c,WIDTH_SPLITTER:d,isHideElement:u,autoSize:m}=t,[f,p]=(0,a.useState)(r?!u:u),[v,g]=(0,a.useState)(null),b=Boolean((0,st.v9)(At)),h=()=>e==="horizontal"?"wrapper-hide-frame wrapper-hide-frame__vertical":"wrapper-hide-frame",C=()=>e==="horizontal"?"splitter splitter__vertical":"splitter splitter__horizontal",_=()=>e==="horizontal"?V0(W0({},b&&{border:`1px solid ${I("tree-border-default")}`}),{width:d+"px",cursor:l?"col-resize":"auto"}):V0(W0({},b&&{border:`1px solid ${I("tree-border-default")}`}),{height:d+"px",cursor:l?"row-resize":"auto"}),O=e==="horizontal"?"caret-left":"caret-up",M=e==="horizontal"?"ellipsis__vertical":"ellipsis";(0,a.useEffect)(()=>{p(r?!u:u)},[u]);const P=j=>{if(v!==null&&(e==="vertical"&&j.clientY!==v.y||e==="horizontal"&&j.clientX!==v.x))return!0;j.preventDefault(),i(n),p(!f)},S=j=>{nS(),j.detail===1?(g({x:j.clientX,y:j.clientY}),c(n,r)(j)):j.detail===2&&m(n)};return(0,s.jsx)("div",{className:C(),onMouseDown:l?S:null,style:_(),children:o&&(0,s.jsxs)("div",{onMouseUp:P,className:h(),children:[(0,s.jsx)(Cn(),{className:O,style:{transform:"rotate("+U0(f)+"deg)"},name:O}),(0,s.jsx)("div",{className:M}),(0,s.jsx)(Cn(),{className:O,style:{transform:"rotate("+U0(f)+"deg)"},name:O})]})},n)},vk=Object.defineProperty,hk=Object.defineProperties,gk=Object.getOwnPropertyDescriptors,Z0=Object.getOwnPropertySymbols,bk=Object.prototype.hasOwnProperty,yk=Object.prototype.propertyIsEnumerable,K0=(t,e,n)=>e in t?vk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sl=(t,e)=>{for(var n in e||(e={}))bk.call(e,n)&&K0(t,n,e[n]);if(Z0)for(var n of Z0(e))yk.call(e,n)&&K0(t,n,e[n]);return t},su=(t,e)=>hk(t,gk(e));const q0=t=>(0,s.jsx)("div",{style:{overflow:"auto"},children:(0,s.jsx)("div",{style:{display:"grid",height:"100%",gridTemplateRows:"1fr"},children:t})}),Y0=(t,e)=>t.split(" ").map((n,r)=>r===e?"max-content":n).join(" "),vr=6,iu=(t,e)=>t.findIndex(n=>n.index===e),X0=(t,e)=>t.split(" ").find((n,r)=>r===e),Ck=t=>{const{children:e,orientation:n,style:r,className:o,dataAttrs:l,events:i,childrenHideProps:c,gridTemplateRows:d,gridTemplateColumns:u,scrollTop:m}=t,f=Sl({},r);e.forEach(W=>{var G,J;((G=W==null?void 0:W.props)==null?void 0:G.type)==="table"&&((J=W==null?void 0:W.props)!=null&&J.freezed)&&r!=null&&r.paddingTop&&(f.marginTop=r.paddingTop+2,f.height="auto",delete f.paddingTop)});const[p,v]=(0,a.useState)(null),[g,b]=(0,a.useState)(null),[h,C]=(0,a.useState)(null),[_,O]=(0,a.useState)([]),[M,P]=(0,a.useState)([]),[S,j]=(0,a.useState)([]),[k,w]=(0,a.useState)(null),[x,T]=(0,a.useState)({}),A=(0,a.useRef)(null),B=(W,G)=>J=>{J.preventDefault(),w(X0(n==="horizontal"?p:g,W));const oe=n==="horizontal"?J.clientX:J.clientY,ce=Array.from(A.current.children),N=ce.map(K=>K.clientHeight),$=ce.map(K=>K.clientWidth);T({width:$,height:N}),C({index:W,splitterAtRight:G,client:oe})},Z=(0,a.useCallback)(W=>{let G="";return W?G="minmax(0,100%)"+vr+"px":G=vr+"px minmax(0,100%)",n==="horizontal"?{display:"grid",gridTemplateColumns:G}:{display:"grid",gridTemplateRows:G}},[n,vr]),V=(0,a.useCallback)((W,G,J)=>W.split(" ").map((oe,ce)=>ce===G?J===-1?(j([...S,{index:G,predSize:oe}]),vr+"px"):(j(S.filter(N=>N.index!==G)),S[J].predSize):oe).join(" "),[S,j,vr]),D=(0,a.useCallback)(W=>{const G=iu(S,W);n==="horizontal"?v(V(p,W,G)):b(V(g,W,G))},[p,g,v,b,S]),H=(0,a.useCallback)(W=>{iu(S,W)===-1?n==="horizontal"?v(Y0(p,W)):b(Y0(g,W)):j(S.map(G=>W===G.index?su(Sl({},G),{predSize:"max-content"}):G))},[j,S,p,g,v,b]),E=(0,a.useCallback)(W=>W.reduce((G,J,oe)=>{if(J){const{isAdaptive:ce,isFixSize:N,style:$,autoSize:K,hasGrid:ee,type:ne,useSplitter:se,isSplitterOpen:me=!0,canHideBySplit:ye,hasCaption:ue,_autoSize:Re}=J.props,{size:De,width:xe,paddingLeft:Ne=0,paddingRight:Te=0}=$||{},it=De||xe,$e=Dt($==null?void 0:$.minSize),ze=Dt($==null?void 0:$.maxSize);let we="min-content";return N&&it?we=Wt(it+(Ne+Te)/4+2):N||(we=`${it||1}fr`,!ue&&ue!==void 0&&(we="max-content")),K&&(ne!=="grid"&&ne!=="table"?we="max-content":we="auto"),ee&&Re&&(we="100%",W[W.length-1].props.hasGrid&&(we="auto")),n==="horizontal"&&ne==="group"&&ce&&(we="auto"),ne==="frame"&&se!==void 0?se?we="minmax("+($e||vr)+"px,"+we+")":$e&&(we="minmax("+$e+"px,"+we+")"):ze&&(we="minmax("+($e||0)+"px,"+ze+"px)"),ye&&!me&&(j([...S,{index:oe,predSize:we}]),we=vr+"px"),`${G} ${we}`}else return G},""),[e,O,vr,n]);(0,a.useEffect)(()=>{let W=u||d;(!W||W.split(" ").length!==e.length)&&(W=E(e).trim()),n==="horizontal"?v(W==null?void 0:W.trim()):b(W==null?void 0:W.trim()),vf(e)&&b("minmax(0,1fr)")},[e]),(0,a.useEffect)(()=>{if(h===null&&i!=null&&i.saveContent&&(g&&g!==" "||p&&p!==" ")){const{alias:W,args:G}=i.saveContent;ve[W]({args:G,data:{childrenHide:S,gridTemplateRows:g,gridTemplateColumns:p}})}},[h,S]),(0,a.useEffect)(()=>{c&&j(c)},[]),(0,a.useEffect)(()=>{const W=[],G=[];e.forEach((J,oe)=>{if(J){const ce=iu(S,oe)!==-1,{useSplitter:N,splitterAtRight:$,canResizeBySplit:K,canHideBySplit:ee,name:ne,style:se,type:me}=J.props;G.push({minSize:Dt(se==null?void 0:se.minSize),maxSize:Dt(se==null?void 0:se.maxSize)});const ye={orientation:n,index:oe,splitterAtRight:$,canResizeBySplit:K,canHideBySplit:ee,WIDTH_SPLITTER:vr,onMouseDown:B,hideFrame:D,isHideElement:ce,autoSize:H};N&&(me==="frame"||me==="menuBar")?$?W.push((0,s.jsxs)("div",{style:Z($),children:[q0(J),(0,s.jsx)(G0,Sl({},ye))]},ne)):W.push((0,s.jsxs)("div",{style:Z($),children:[(0,s.jsx)(G0,Sl({},ye)),q0(J)]},ne)):W.push(J)}}),P(G),O(W)},[e,p,g]);const R=(0,a.useCallback)((W,G,J,oe)=>{const ce=J.split(" ").map((N,$)=>{if(h.index===$){let K=W-h.client;h.splitterAtRight||(K*=-1);let ee=G[$]+K;return M[$].minSize&&M[$].minSize>ee&&(ee=M[$].minSize),M[$].maxSize&&M[$].maxSize<=ee&&(ee=M[$].maxSize),ee<vr&&(j([...S,{index:$,predSize:k}]),ee=vr),ee+"px"}return N}).join(" ");oe(ce)},[vr,M,k,S,h,j]),L=(0,a.useCallback)(W=>{h.index!==null&&(j(S.filter(G=>G.index!==h.index)),W.preventDefault(),n==="horizontal"?(document.body.style.cursor="col-resize",R(W.clientX,x.width,p,v)):(document.body.style.cursor="row-resize",R(W.clientY,x.height,g,b)))},[h,S,j,A,x]),U=(0,a.useCallback)(()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",U)},[L]),q=(0,a.useCallback)(()=>{C(null),w(null),U()},[C]);return(0,a.useEffect)(()=>(h!==null&&(window.addEventListener("mousemove",L),window.addEventListener("mouseup",q)),()=>{U()}),[h,L,q,U]),(0,a.useEffect)(()=>{A.current&&m&&setTimeout(()=>A.current.scrollTo(0,m),10)},[A.current]),(0,a.useEffect)(()=>()=>{if(i!=null&&i.saveContent&&A.current){const{alias:W,args:G}=i.saveContent;ve[W]({args:G,data:{scrollTop:A.current.scrollTop}})}},[]),(0,s.jsx)("div",su(Sl({ref:A,className:o,style:su(Sl({},f),{gridTemplateRows:g,gridTemplateColumns:p})},l),{children:_}))};var _k=(0,a.memo)(Ck),aG={popperIconSize:"18px",primaryColor:"#0bd688"};class wk extends a.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n})}render(){return this.state.errorInfo?(0,s.jsxs)("div",{className:"error-boundary",children:[(0,s.jsx)("h2",{children:lt.t("error_application")}),(0,s.jsx)("div",{className:"error-comment",children:lt.t("contact_to_dev")}),(0,s.jsxs)("details",{className:"error-detail-container",children:[(0,s.jsx)("div",{className:"error-detail",children:this.state.error&&this.state.error.toString()}),(0,s.jsx)("div",{className:"error-detail-stack",children:this.state.errorInfo.componentStack})]})]}):this.props.children}}var Ns=wk,J0={popperIconSize:"18px",primaryColor:"#0bd688"},sG={popperIconSize:"18px",primaryColor:"#0bd688"};const xk="slide-bar";function Q0(t){switch(t){case"next":return"caret-right";case"prev":return"caret-left";default:return""}}function ev(t){const{className:e,isExcluded:n,slides:r,activeSlidesIds:o,onSlideClick:l,onSlideRender:i,testId:c,style:d={}}=t,u=["prev","next"],m=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),v=(0,st.v9)(At),g={showPrevButton:!1,showNextButton:!0,leftOffset:0},[b,h]=(0,a.useState)(!1),[C,_]=(0,a.useState)(g),[O,M]=(0,a.useState)(!0),P=c||xk,S=40,j=60;(0,a.useEffect)(()=>{h(m.current.clientWidth<f.current.clientWidth)}),(0,a.useEffect)(()=>{if(p!=null&&p.current){const D=new io.Z(w);return D.observe(p.current),()=>{p!=null&&p.current&&D.unobserve(p.current)}}},[p]),(0,a.useEffect)(()=>{_(b?{leftOffset:m.current.clientWidth-f.current.clientWidth,showPrevButton:!0,showNextButton:!1}:g)},[r.length,b]),(0,a.useEffect)(()=>{var D;if(o!==void 0&&!Array.isArray(o)){const H=f.current.offsetWidth,E=m.current.offsetWidth,R=Array.from((D=f==null?void 0:f.current)==null?void 0:D.childNodes).filter(W=>W.dataset.slideId===o).shift();let L=0;if(R)if(L=R.offsetLeft,O)M(!1);else{const{leftOffset:W}=C,G=R.offsetLeft+R.offsetWidth-Math.abs(W)<=E,J=R.offsetLeft-Math.abs(W)<E;if(!G&&J){T("next");return}if(G&&J&&R.offsetLeft-Math.abs(W)>=0)return}const U=L>5;let q=H-L>=E;if(b){if(L+E>=H){L=L-E+((R==null?void 0:R.offsetWidth)||0)+S,q=H-L>=E,_({leftOffset:-L,showPrevButton:U,showNextButton:q});return}_({leftOffset:-L,showPrevButton:U,showNextButton:q})}else _(g)}},[o]);function k(D){const H=m.current.clientWidth,E=Array.from(f.current.children),{leftOffset:R,showPrevButton:L}=C,U=Math.abs(R);let q=0,W=null,G=L;return E.some(J=>(q+=J.clientWidth,G&&q-U>0?(J===D&&(W=u[0]),G=!1):q-U>H&&J===D&&(W=u[1]),!!W)),W}function w(){var D,H,E;const R=(D=m.current)==null?void 0:D.clientWidth,L=(H=f.current)==null?void 0:H.clientWidth,U=(E=f==null?void 0:f.current)==null?void 0:E.offsetLeft,q=Math.abs(U);if(R<L){const G=q>5,J=L-R-q>0;_({leftOffset:U,showNextButton:J,showPrevButton:G})}else _(g)}const x=D=>{const{leftOffset:H}=C,E=Math.abs(H),R=f.current.offsetWidth,L=m.current.offsetWidth,U=Array.from(f.current.children);let q=null;if(D==="next"){if(q=U.find(G=>G.offsetLeft-E>=L||G.offsetLeft+G.offsetWidth-E>=L),q===U[U.length-1])return(q==null?void 0:q.offsetLeft)+q.offsetWidth-L}else if(q=Array.from(U).reverse().find(G=>G.offsetLeft-E<=0),q===U[1]||q===U[0])return 0;const W=D==="next"?(q==null?void 0:q.offsetLeft)+q.offsetWidth-L-E+S:E-q.offsetLeft+j;return q?D==="next"?W+E:E-W:D==="next"?R-L:0};function T(D){const H=f.current.offsetWidth,E=m.current.offsetWidth,R=x(D),L=R<0?0:R,U=H-R>=E;_({leftOffset:-L,showPrevButton:!!L,showNextButton:U})}const A=D=>{const H=D.currentTarget?D:D.event;H.preventDefault();const{dataset:{nav:E}}=H.currentTarget;T(E)},B=D=>{D.preventDefault();const{dataset:{close:H}}=D.target,{dataset:{slideId:E}}=D.currentTarget,{dataset:{name:R}}=D.currentTarget;if(!H){const L=k(D.currentTarget);L&&T(L)}l&&l({id:E||R,close:!!H})},Z=be()(e,"slide-bar"),V=be()("slide-bar__slide-list-wrapper",{"slide-bar__slider":b,"slide-bar__slider_prev-hidden":!C.showPrevButton,"slide-bar__slider_next-hidden":!C.showNextButton});return n?null:(0,s.jsxs)("div",{className:Z,ref:p,style:d,children:[b&&C.showPrevButton&&!v&&(0,s.jsx)("div",{className:"slide-bar__nav-button-wrapper",children:(0,s.jsx)(Gt,{className:"slide-bar__nav-button",style:{maxWidth:18,maxHeight:18,borderColor:J0.primaryColor},iconName:Q0(u[0]),onClick:A,dataAttrs:{"data-nav":u[0]}})}),(0,s.jsx)("div",{ref:m,className:V,children:(0,s.jsx)("div",{ref:f,className:"slide-bar__slide-list",style:{left:C.leftOffset},"data-testid":`${P}__slide-list`,children:r.map((D,H)=>(0,s.jsx)(a.Fragment,{children:i({slide:D,handleSlideClick:B,activeSlidesIds:o,isLast:r.length-1===H})},D.GUID||H))})}),b&&C.showNextButton&&!v&&(0,s.jsx)("div",{className:"slide-bar__nav-button-wrapper",children:(0,s.jsx)(Gt,{className:"slide-bar__nav-button",style:{maxWidth:18,maxHeight:18,borderColor:J0.primaryColor},iconName:Q0(u[1]),onClick:A,dataAttrs:{"data-nav":u[1]}})})]})}ev.propTypes={className:y().string,activeSlidesIds:y().oneOfType([y().array,y().string]),slides:y().oneOfType([y().array]),onSlideClick:y().func,style:y().object};var Pl=(0,a.memo)(ev),iG={popperIconSize:"18px",primaryColor:"#0bd688"},Sk=Object.defineProperty,Pk=Object.defineProperties,Ik=Object.getOwnPropertyDescriptors,tv=Object.getOwnPropertySymbols,Ok=Object.prototype.hasOwnProperty,Ek=Object.prototype.propertyIsEnumerable,nv=(t,e,n)=>e in t?Sk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ms=(t,e)=>{for(var n in e||(e={}))Ok.call(e,n)&&nv(t,n,e[n]);if(tv)for(var n of tv(e))Ek.call(e,n)&&nv(t,n,e[n]);return t},cu=(t,e)=>Pk(t,Ik(e));const Kn="label";function uu(t){var e,n,r;const{_ref:o,focusedElement:l,className:i,style:c,id:d,isDisabled:u,isExcluded:m,isStatic:f,hasActiveMode:p,hasError:v,hint:g,dataAttrs:b,iconName:h,iconSize:C,value:_,testId:O,tabIndex:M,events:P,metaSet:S,onClick:j,onFocus:k,onBlur:w,onHint:x,isFixSize:T,isMultiLine:A,isWrapped:B,staticStyle:Z,cellColor:V}=t,D=(0,st.v9)(At),H=(0,a.useMemo)(()=>Un({isFixSize:T,style:c}),[T,c]);(e=H.fontSize)!=null||(H.fontSize=D?"14px":"13px"),(n=H.fontFamily)!=null||(H.fontFamily=D?"Ubuntu":"Verdana");const{display:E}=H;let R=(0,a.useRef)(null);(l||o)&&(R=l||o);const[L,U]=zo(),q=be()(i,Kn,{[`${Kn}_error`]:v,[`${Kn}_disabled`]:u,[`${Kn}_active`]:U.checkActiveMode(),[`${Kn}_interactive`]:!f,[`${Kn}_wrapped`]:B,[`${Kn}_multiline`]:A,[`${Kn}_not-multiline`]:!A&&!h,[`${Kn}_not-multiline_with-icon`]:!A&&h,[`${Kn}_static-button`]:Z==="staticButton",[`${Kn}_static-header`]:Z==="staticHeader",[`${Kn}_static-hyperlink`]:Z==="staticHyperlink",[`${Kn}_static-normal`]:Z==="normalText"}),W=(0,a.useCallback)($=>{if(u||f){$.preventDefault();return}if(j&&j({value:_,metaSet:S,event:$}),P.onClick){const{alias:K,args:ee}=P.onClick;ve[K]({args:ee,value:_,event:$})}},[u,f,j,P,S]),G=(0,a.useCallback)($=>{const{keyCode:K}=$;or(K)&&W($)},[W]),J=(0,a.useCallback)($=>{if(u||f)return;const{value:K}=$.currentTarget;let ee=!0;if(k&&(ee=k({event:$,metaSet:S,value:K})),ee&&(P!=null&&P.onFocus)){const{alias:ne,args:se}=P.onFocus;ee=ve[ne]({event:$,metaSet:S,args:se,value:K})}ee&&(p?U.setActiveMode():U.setEditableMode())},[u,P,S,k]),oe=(0,a.useCallback)($=>{if(u||f)return;const{value:K}=$.currentTarget;let ee=!0;if(w&&(ee=w({event:$,metaSet:S,value:K})),ee&&(P!=null&&P.onBlur)){const{alias:ne,args:se}=P.onBlur;ee=ve[ne](cu(Ms({event:$},se),{metaSet:S,value:K}))}ee&&U.setDefaultMode()},[u,P,S,w]),ce=(0,a.useCallback)($=>{let K=!0;if(x&&(K=x({event:$,metaSet:S})),K&&(P!=null&&P.onHint)){const{alias:ee,args:ne}=P.onHint;K=ve[ee]({event:$,args:ne,metaSet:S})}},[x,P,S]);if(pr(R,g||_,(r=R==null?void 0:R.current)==null?void 0:r.innerText),m)return null;let N=null;if(h){const $={width:C,height:C};N=(0,s.jsx)("img",Ms({className:`${Kn}__img img-${O}`,style:$,alt:h,src:on(h)},b))}return(0,s.jsx)("div",{ref:R,onMouseEnter:ce,style:{backgroundColor:V,flexGrow:2,display:E},children:(0,s.jsxs)("div",cu(Ms({className:q,style:H,"data-testid":O,id:d,tabIndex:Vr(!f&&!u,M),onClick:W,onKeyDown:G,onFocus:J,onBlur:oe},b),{children:[N,(0,s.jsx)("span",{className:`${Kn}__span`,children:_})]}))})}uu.propTypes={_ref:y().object,id:y().string,className:y().string,style:y().object,isExcluded:y().bool,isDisabled:y().bool,hasActiveMode:y().bool,isStatic:y().bool,metaSet:y().object,dataAttrs:y().object,iconName:y().string,hasError:y().bool,hint:y().string,events:y().object,tabIndex:y().oneOfType([y().number,y().string]),testId:y().string,value:y().string,onClick:y().func,onFocus:y().func,onBlur:y().func,staticStyle:y().string,cellColor:y().string},uu.defaultProps={_ref:null,id:null,className:null,style:null,isExcluded:!1,isDisabled:!1,hasActiveMode:!1,isStatic:!0,metaSet:null,dataAttrs:null,iconName:null,hasError:!1,hint:null,events:null,tabIndex:0,testId:null,value:"",onClick:null,onFocus:null,onBlur:null,staticStyle:"",cellColor:""};var da=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(uu,cu(Ms({},t),{_ref:e})))),kk=Object.defineProperty,jk=Object.defineProperties,Rk=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertySymbols,rv=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable,lv=(t,e,n)=>e in t?kk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,du=(t,e)=>{for(var n in e||(e={}))rv.call(e,n)&&lv(t,n,e[n]);if(Ts)for(var n of Ts(e))ov.call(e,n)&&lv(t,n,e[n]);return t},fu=(t,e)=>jk(t,Rk(e)),Dk=(t,e)=>{var n={};for(var r in t)rv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ts)for(var r of Ts(t))e.indexOf(r)<0&&ov.call(t,r)&&(n[r]=t[r]);return n};const pu=z.ZP.div`
    position: relative;
    width: fit-content;
    padding: 8px 12px;
    cursor: ${({isDisabled:t})=>t?"auto":"pointer"};
`,av=z.ZP.span`
    position: relative;
    pointer-events: none;
    line-height: 16px;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    
    text-overflow: ellipsis;
    font-size: 14px;
    color: ${({isDisabled:t})=>I(t?"text-disable":"text")};
`,Nk=(0,z.ZP)(pu)`
    padding-bottom: 10px;
    &:first-child {
        padding-left: 0;
    }
    &:last-child {
        padding-right: 0;
    }
`,Mk=(0,z.ZP)(av)`
    /* Подчеркивание */
    ${({isDisabled:t,active:e})=>!t&&z.iv`
        &&:before {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            border-radius: 1px;
            background-color: ${e?I("tabbutton-primary-background-active"):"transparent"};
            
            ${pu}:hover & {
                background-color: ${I(e?"tabbutton-primary-background-active-hover":"tabbutton-primary-background-default-hover")};
            }
        }`}
`,Tk=(0,z.ZP)(pu)`
    border-radius: 8px;
    background-color: ${({active:t})=>I(t?"tabbutton-secondary-background-active":"tabbutton-secondary-background-default")};

    ${({isDisabled:t,active:e})=>!t&&z.iv` 
        &:hover {
            background-color: ${I(e?"tabbutton-secondary-background-active-hover":"tabbutton-secondary-background-default-hover")};
        }
    `}
`;var Fk=t=>{const e=t,{active:n,slide:r,onClick:o,fashion:l,isDisabled:i,isExcluded:c}=e,d=Dk(e,["active","slide","onClick","fashion","isDisabled","isExcluded"]),{name:u,hint:m,title:f}=r,p=f&&typeof f!="string",v=p?f==null?void 0:f.hint:m,g=p?f==null?void 0:f.value:f;let b;p?b=(0,s.jsx)(da,fu(du({},f),{className:"tabs__tab-title_label"})):b=f;const h=(0,a.useRef)(null);if(pr(h,v,g),c)return null;switch(l){case"Secondary":return(0,s.jsx)(Tk,fu(du({ref:h,active:n,"data-name":u,onClick:o,isDisabled:i},d),{children:(0,s.jsx)(av,{active:n,isDisabled:i,children:b})}));case"Primary":default:return(0,s.jsx)(Nk,fu(du({ref:h,active:n,"data-name":u,onClick:o,isDisabled:i},d),{children:(0,s.jsx)(Mk,{active:n,isDisabled:i,children:b})}))}},Ak=Object.defineProperty,Bk=Object.defineProperties,$k=Object.getOwnPropertyDescriptors,sv=Object.getOwnPropertySymbols,zk=Object.prototype.hasOwnProperty,Lk=Object.prototype.propertyIsEnumerable,iv=(t,e,n)=>e in t?Ak(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mu=(t,e)=>{for(var n in e||(e={}))zk.call(e,n)&&iv(t,n,e[n]);if(sv)for(var n of sv(e))Lk.call(e,n)&&iv(t,n,e[n]);return t},Hk=(t,e)=>Bk(t,$k(e)),Wk=t=>{var e;const{activeTabName:n,isDisabled:r,isExcluded:o,handleTabClick:l,handleSlideClick:i,slide:c,fashion:d}=t,u=(0,a.useRef)(),{name:m,hint:f,title:p}=c,v=p&&typeof p!="string"?p:null,g=(0,st.v9)(At),b=be()("tabs__tab-title",{"tabs__tab-title_active":m===n,"tabs__tab-title_disabled":r}),h=C=>{!r&&l(C),i&&i(C)};if(pr(u,f,(e=u==null?void 0:u.current)==null?void 0:e.innerText),o)return null;if(g&&d){const C=Hk(mu({},t),{onClick:h,active:m===n});return(0,s.jsx)(Fk,mu({},C))}return(0,s.jsx)(s.Fragment,{children:v?(0,s.jsx)(da,mu({className:"tabs__tab-title_label"},v)):(0,s.jsx)("div",{ref:u,className:b,onClick:h,"data-name":m,children:p})})},Vk=Object.defineProperty,cv=Object.getOwnPropertySymbols,Uk=Object.prototype.hasOwnProperty,Gk=Object.prototype.propertyIsEnumerable,uv=(t,e,n)=>e in t?Vk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vu=(t,e)=>{for(var n in e||(e={}))Uk.call(e,n)&&uv(t,n,e[n]);if(cv)for(var n of cv(e))Gk.call(e,n)&&uv(t,n,e[n]);return t};const dv="20px",Zk=(0,z.ZP)(Pl)`
    margin: 0;
    /* tabline */
    &:before {
        content: '';
        position: absolute;
        left: ${dv};
        bottom: 0;
        height: 1px;
        width: calc(100% - ${dv} * 2);
        background-color: ${()=>I("tabbutton-primary-tabline")};
    }
`,Kk=(0,z.ZP)(Pl)`
    .slide-bar__slide-list {
        column-gap: 4px;
    }
`;var qk=t=>{const{fashion:e}=t;switch(e){case"Secondary":return(0,s.jsx)(Kk,vu({},t));case"Primary":return(0,s.jsx)(Zk,vu({},t));default:return(0,s.jsx)(Pl,vu({},t))}},fG={popperIconSize:"18px",primaryColor:"#0bd688"},Yk=Object.defineProperty,Xk=Object.defineProperties,Jk=Object.getOwnPropertyDescriptors,fv=Object.getOwnPropertySymbols,Qk=Object.prototype.hasOwnProperty,ej=Object.prototype.propertyIsEnumerable,pv=(t,e,n)=>e in t?Yk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hu=(t,e)=>{for(var n in e||(e={}))Qk.call(e,n)&&pv(t,n,e[n]);if(fv)for(var n of fv(e))ej.call(e,n)&&pv(t,n,e[n]);return t},tj=(t,e)=>Xk(t,Jk(e));const Uo="tabs";function nj(t){const{className:e,name:n,fashion:r,style:o,isDisabled:l,isExcluded:i,children:c,onClick:d,onChange:u,eventsTabs:m,metaSet:f,activeTab:p,isFixSize:v,autoSize:g,showTabs:b}=t,h=a.Children.toArray(c);let C=(0,a.useMemo)(()=>Un({isFixSize:v,style:o}),[v,o]),_=p||cS(h);const O=(0,st.v9)(At),[M,P]=(0,a.useState)([_]),[S,j]=(0,a.useState)([]),[k,w]=(0,a.useState)(0);(0,a.useEffect)(()=>{!M.includes(_)&&P([...M,_])},[_]),(0,a.useEffect)(()=>{const V=h.filter(D=>{var H;return((H=D==null?void 0:D.props.children)==null?void 0:H.length)===0});if(V.length!==k){let D=[...M];w(V.length),V.forEach(H=>{M.includes(H==null?void 0:H.props.name)&&(D=D.filter(E=>E!==(H==null?void 0:H.props.name)),D.length===0?P([_]):P([...D]))})}},[h,_,M]);const x=h.map(V=>({name:V.props.name||"undefined-tab-name",type:V.props.type||"undefined-tab-type",title:V.props.title||V.props.name||"undefined-tab-title",hint:V.props.hint,isDisabled:V.props.isDisabled,isExcluded:V.props.isExcluded})),T=(0,a.useCallback)(V=>{const{dataset:{name:D}}=V.target,H=D;let E=!0;if(!S.includes(H)&&j([...S,H]),m!=null&&m.onChange){if(u&&(E=u({event:V,metaSet:f,value:H})),E){const{alias:R,args:L}=m.onChange;ve[R]({event:V,args:L,metaSet:f,value:H})}}else if(d&&(E=d({event:V,metaSet:f,value:H})),m!=null&&m.onClick){const{alias:R,args:L}=m.onClick;ve[R]({event:V,args:L,metaSet:f,value:H})}},[d,u,m,f,S]);function A(V){const{handleSlideClick:D,slide:H}=V;return(0,s.jsx)(Wk,{activeTabName:_,isDisabled:l!=null?l:H==null?void 0:H.isDisabled,isExcluded:i!=null?i:H==null?void 0:H.isExcluded,handleTabClick:T,handleSlideClick:D,slide:H,fashion:r})}if(i)return null;const B=be()(e,Uo,{disabled:l,[`${Uo}_adaptive`]:g===!1,[`${Uo}__not-show-tabs-links`]:g&&!b,[`${Uo}__not-show-tabs-links__adaptive`]:g===!1&&!b}),Z={fashion:r,slides:x,onSlideRender:A};return(0,s.jsxs)("div",{"data-name":n,className:B,style:C,children:[b&&(O&&r?(0,s.jsx)(qk,hu({},Z)):(0,s.jsx)(Pl,hu({},Z))),_?(0,s.jsx)("div",{className:`${Uo}__content`,children:h.filter(V=>{var D;return M.includes((D=V.props)==null?void 0:D.name)}).map(V=>{var D;const H={activeTabName:_},E=(0,a.cloneElement)(V,H);return(0,s.jsx)("div",{className:be()(((D=E.props)==null?void 0:D.name)===_?`${Uo}__show`:`${Uo}__hidden`),children:E},E.key)})}):null]})}var mv=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(nj,tj(hu({},t),{_ref:e}))));function rj(t,e){const{name:n,autoSizeFrame:r,activeTabName:o,_autoSize:l,isTableGroup:i}=e;let c=t.map(d=>{const{type:u}=(d==null?void 0:d.props)||{};return["table","grid","canvasGrid","tree","chart"].includes(u)?(0,a.cloneElement)(d,{selfWidthByContent:r,isActiveTab:o===n,_autoSize:l,isTableGroup:i}):d});if((c==null?void 0:c.length)===2){let d=!1,u=!1;c.forEach(f=>{var p,v,g,b,h;const C=(b=(v=(p=f.props)==null?void 0:p.children)==null?void 0:v[0])!=null?b:(g=f.props)==null?void 0:g.children;if(!C)return;const _=(h=C.props)==null?void 0:h.type;_==="tree"&&(d=!0),_==="table"&&(u=!0)}),d&&u&&(c=c.map(f=>(0,a.cloneElement)(f,{isTableGroup:!0})))}return c}var oj=Object.defineProperty,lj=Object.defineProperties,aj=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertySymbols,sj=Object.prototype.hasOwnProperty,ij=Object.prototype.propertyIsEnumerable,hv=(t,e,n)=>e in t?oj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gv=(t,e)=>{for(var n in e||(e={}))sj.call(e,n)&&hv(t,n,e[n]);if(vv)for(var n of vv(e))ij.call(e,n)&&hv(t,n,e[n]);return t},cj=(t,e)=>lj(t,aj(e));const Fs="frame";function gu(t){const{className:e,name:n,_autoSize:r,orientation:o,style:l,children:i,dataAttrs:c,autoSize:d,metaSet:u,events:m,onLoadData:f,childrenHide:p,gridTemplateColumns:v,gridTemplateRows:g,scrollerStyle:b,scrollTop:h,activeTabName:C,isTableGroup:_,isSplitterOpen:O}=t,M=(0,a.useMemo)(()=>{const x=gv({},l);switch(b){case 1:x.overflow="hidden";break;case 2:x.overflowX="auto";break;case 3:x.overflowY="auto";break;case 0:default:x.overflow="auto";break}return!d&&!r&&(x.maxSize&&(o==="vertical"?x.maxHeight=Dt(x.maxSize):x.maxWidth=Dt(x.maxSize)),x.minSize&&(o==="vertical"?x.minHeight=Dt(x.minSize):x.minWidth=Dt(x.minSize))),x},[l,o,b]),P=a.Children.toArray(i),S=be()(e,Fs,{[`${Fs}_vertical`]:o==="vertical",[`${Fs}_horizontal`]:o==="horizontal",[`${Fs}_autosize`]:d}),j=(0,st.v9)(xs),k=!!P.length||!!j;(0,a.useEffect)(()=>{!k&&je({specificEvent:f,nativeEvent:"onLoadData",value:n,events:m,metaSet:u})},[]);const w=rj(P,{name:n,autoSizeFrame:d,activeTabName:C,_autoSize:r,isTableGroup:_});return(0,s.jsx)(Ns,{children:o==="tabs"?(0,s.jsx)(mv,cj(gv({},t),{children:w})):(0,s.jsx)(_k,{dataAttrs:c,className:S,orientation:o,events:m,childrenHideProps:p,gridTemplateColumns:v,gridTemplateRows:g,style:M,scrollTop:h,isSplitterOpen:O,children:w})})}gu.propTypes={type:y().string,name:y().string,children:y().oneOfType([y().arrayOf(y().node),y().node]),classNames:y().string,style:y().object,hint:y().oneOfType([y().string,y().object]),scrollerStyle:y().number,autoSize:y().bool,useSplitter:y().bool,splitterAtRight:y().bool,canResizeBySplit:y().bool,isFixSize:y().bool,isDisabled:y().bool,isFlexible:y().bool,isScrollable:y().bool,isPrintable:y().bool},gu.defaultProps={orientation:"vertical",style:null};var bv=(0,a.memo)(gu),pG={popperIconSize:"18px",primaryColor:"#0bd688"},uj=Object.defineProperty,dj=Object.defineProperties,fj=Object.getOwnPropertyDescriptors,As=Object.getOwnPropertySymbols,yv=Object.prototype.hasOwnProperty,Cv=Object.prototype.propertyIsEnumerable,_v=(t,e,n)=>e in t?uj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pj=(t,e)=>{for(var n in e||(e={}))yv.call(e,n)&&_v(t,n,e[n]);if(As)for(var n of As(e))Cv.call(e,n)&&_v(t,n,e[n]);return t},mj=(t,e)=>dj(t,fj(e)),vj=(t,e)=>{var n={};for(var r in t)yv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&As)for(var r of As(t))e.indexOf(r)<0&&Cv.call(t,r)&&(n[r]=t[r]);return n};const bu="group";function yu(t){const{className:e,behavior:n,name:r,isAdaptive:o,style:l,children:i,isDisabled:c,dataAttrs:d,isFixSize:u,isEmpty:m}=t,f=vj(l,[]),p=rS(f),v=a.Children.toArray(i).map(h=>{var C;const{props:{type:_,isParentTable:O}}=h;return _==="radio"&&!O&&!((C=h==null?void 0:h.props)!=null&&C.group)?(0,a.cloneElement)(h,{group:"radioGroup-"+r}):h}),g=be()(e,bu,{[`${bu}_vertical`]:n==="vertical",[`${bu}_horizontal`]:n==="horizontal",adaptive:o,disabled:c,empty:m}),b=v.reduce((h,C)=>{if(C){let{isFixSize:_,style:O,isAdaptive:M,autoSize:P}=C.props,{maxWidth:S,minWidth:j,width:k}=O!=null?O:{},w="min-content";return j&&S&&!_&&o?w=`minmax( ${Wt(j)}, ${Wt(S)})`:S&&!_&&o?w=Wt(S):!_&&o?w=`${k||1}fr`:k&&!o&&(w=Wt(k),p.minWidth=w),P&&(w="max-content"),M&&(w=n==="vertical"?"min-content":"1fr"),`${h} ${w}`}else return h},"");if(n==="horizontal"?p.gridTemplateColumns=b==null?void 0:b.trim():p.gridTemplateRows=b==null?void 0:b.trim(),!u){const h=p.width||1;p.width=`${h}fr`}return(0,s.jsx)("div",mj(pj({className:g,style:p},d),{children:v}))}yu.propTypes={name:y().string,children:y().oneOfType([y().arrayOf(y().node),y().node]),classNames:y().string,style:y().object,hint:y().string,autoSize:y().bool,isExcluded:y().bool,isDisabled:y().bool,isAdaptive:y().bool,isFlexible:y().bool,isScrollable:y().bool,isPrintable:y().bool,isEmpty:y().bool},yu.defaultProps={style:{},behavior:"horizontal"};var hj=(0,a.memo)(yu),mG={popperIconSize:"18px",primaryColor:"#0bd688"},gj=Object.defineProperty,bj=Object.defineProperties,yj=Object.getOwnPropertyDescriptors,wv=Object.getOwnPropertySymbols,Cj=Object.prototype.hasOwnProperty,_j=Object.prototype.propertyIsEnumerable,xv=(t,e,n)=>e in t?gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cu=(t,e)=>{for(var n in e||(e={}))Cj.call(e,n)&&xv(t,n,e[n]);if(wv)for(var n of wv(e))_j.call(e,n)&&xv(t,n,e[n]);return t},Sv=(t,e)=>bj(t,yj(e));const _o="box";function wj(t){var e;const{children:n,className:r,name:o,isCollapsed:l,isHandleCollapsed:i,title:c,hint:d,events:u,onToggle:m,onLoadData:f,metaSet:p}=t,v=!!(n!=null&&n.length),g=(0,a.useRef)(null),b=c&&typeof c!="string"?c:null,{element:h}=b,C=b?{background:b.cellColor,fontSize:b.fontSize,color:b.color}:{},_=be()(r,_o),O=be()(`${_o}__content`,{[`${_o}__content_picture`]:vf(n)}),M=(0,a.useCallback)(function(P){je({specificEvent:m,nativeEvent:"onToggle",event:P,metaSet:p,events:u,value:{isCollapsed:!l}}),!v&&je({specificEvent:f,nativeEvent:"onLoadData",event:P,metaSet:p,events:u})},[v,l,u,m,p,i]);return pr(g,d.value,(e=g==null?void 0:g.current)==null?void 0:e.innerText),(0,s.jsxs)("div",{"data-name":o,className:_,children:[(0,s.jsxs)("div",{className:"box__header",style:C,children:[!b&&(0,s.jsxs)("div",{ref:g,className:`${_o}__title-simple`,onClick:M,children:[(0,s.jsx)(Cn(),{name:l?"angle-right":"angle-down",className:`${_o}__title-icon`}),c]}),b&&(0,s.jsxs)("div",{ref:g,className:`${_o}__title-complex`,onClick:M,children:[(0,s.jsx)(Cn(),{name:l?"angle-right":"angle-down",className:`${_o}__title-icon`,style:{fontSize:b.iconsize}}),(0,s.jsx)(da,Cu({className:`${_o}__title-label`},b))]}),h&&Vl(h)]}),!l&&(n!=null&&n.length)?(0,s.jsx)(bv,Sv(Cu({},t),{className:O})):null]})}var xj=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(wj,Sv(Cu({},t),{_ref:e})))),Sj=Object.defineProperty,Pj=Object.defineProperties,Ij=Object.getOwnPropertyDescriptors,Bs=Object.getOwnPropertySymbols,Pv=Object.prototype.hasOwnProperty,Iv=Object.prototype.propertyIsEnumerable,Ov=(t,e,n)=>e in t?Sj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_u=(t,e)=>{for(var n in e||(e={}))Pv.call(e,n)&&Ov(t,n,e[n]);if(Bs)for(var n of Bs(e))Iv.call(e,n)&&Ov(t,n,e[n]);return t},Ev=(t,e)=>Pj(t,Ij(e)),Oj=(t,e)=>{var n={};for(var r in t)Pv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bs)for(var r of Bs(t))e.indexOf(r)<0&&Iv.call(t,r)&&(n[r]=t[r]);return n};const Ej="integer",kj=/^[-+]?\d*$/;function jj(t){const e=t,{className:n,focusedElement:r,style:o}=e,l=Oj(e,["className","focusedElement","style"]),i=o.textAlign?_u({textAlign:"right"},o):o,c=be()(n,Ej),d=(0,a.useRef)(null),u=r||d;return(0,s.jsx)(zn,Ev(_u({},l),{isNumeric:!0,className:c,isControlledValue:!1,controlRegExp:kj,focusedElement:u,style:i}))}var Rj=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(jj,Ev(_u({},t),{_ref:e})))),Dj=Object.defineProperty,Nj=Object.defineProperties,Mj=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,jv=Object.prototype.propertyIsEnumerable,Rv=(t,e,n)=>e in t?Dj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fa=(t,e)=>{for(var n in e||(e={}))kv.call(e,n)&&Rv(t,n,e[n]);if($s)for(var n of $s(e))jv.call(e,n)&&Rv(t,n,e[n]);return t},Dv=(t,e)=>Nj(t,Mj(e)),Tj=(t,e)=>{var n={};for(var r in t)kv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$s)for(var r of $s(t))e.indexOf(r)<0&&jv.call(t,r)&&(n[r]=t[r]);return n};const Fj=z.ZP.label`
    display: inline-flex;
    align-items: center;
    flex-direction: ${t=>t.labelPosition==="right"?"row":"row-reverse"};
`,Aj=z.ZP.input`
    width: 0;
    height: 0;
    opacity: 0;
`,Bj=z.ZP.label`
	display: inline-flex;
	width: auto;
	align-items: center;
	padding: 4px;
	gap: 2px;
	border-radius: 12px;
	box-sizing: border-box;
	background: ${()=>I("button-ghost-background-default")};
	border: 1px solid ${()=>I("switch-button-border-default")};
    &:focus-within {
       outline-offset: 1px;
       outline: 2px solid ${()=>I("focus-outline")}; 
    };
`,Nv=z.ZP.div`
	padding: ${t=>t.variant==="text"?"8px 16px":"9.67px"};
	background: ${t=>{if(t.disabled&&t.active)return I("button-primary-background-disable");if(t.disabled&&!t.active)return"transparent";if(t.active)return I("button-primary-background-default")}};
	border-radius: 8px;
	cursor: ${t=>t.active||t.disabled?"default":"pointer"};

	&:hover {
		background: ${t=>{if(t.active&&!t.disabled)return I("button-primary-background-hover");if(!t.disabled)return I("button-ghost-background-hover")}};
	}
	&:active {
		background: ${t=>{if(t.active&&!t.disabled)return I("button-primary-background-click");if(!t.disabled)return I("button-ghost-background-click")}};
	}
`,Mv=z.ZP.span`
	font-size: 14px;
	line-height: 16px;
	color: ${t=>{if(t.disabled&&t.active)return I("text-disable");if(t.disabled&&!t.active)return I("text-disable");if(t.active)return I("text-primary");I("text")}};
`,$j=z.ZP.div`
    font-size: 13px;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    outline: none;
    border: none;
    margin: ${t=>t.labelPosition==="right"?"0 0 0 7px":"0 7px  0 0"};
    color: ${({disabled:t})=>I(t?"label-disable":"label")}
`,zj=t=>{const e=t,{icons:n,labels:r,value:o,_ref:l,onMouseEnter:i,isDisabled:c,focusedElement:d,inputTabIndex:u,dataAttrs:m,labelPosition:f,label:p}=e,v=Tj(e,["icons","labels","value","_ref","onMouseEnter","isDisabled","focusedElement","inputTabIndex","dataAttrs","labelPosition","label"]),g=n&&!r?"icon":"text",b=h=>h!=null&&h.includes("/")?(0,s.jsx)("img",fa({style:{padding:"4px"},alt:h,src:on(h)},m)):h?(0,s.jsx)(Cn(),fa({style:{padding:"4px"},name:h},m)):null;return(0,s.jsxs)(Fj,{labelPosition:f!=null?f:"right",children:[(0,s.jsxs)(Bj,{onMouseEnter:i,ref:l,children:[(0,s.jsx)(Nv,{variant:g,active:!!o,disabled:c,tabIndex:-1,children:(0,s.jsxs)(Mv,{active:!!o,disabled:c,children:[r==null?void 0:r[0],n&&b(n==null?void 0:n[0])]})}),(0,s.jsx)(Nv,{disabled:c,variant:g,active:!o,children:(0,s.jsxs)(Mv,{disabled:c,active:!o,children:[r==null?void 0:r[1],n&&b(n==null?void 0:n[1])]})}),(0,s.jsx)(Aj,Dv(fa(fa({ref:d,type:"checkbox"},v),m),{checked:!!o,"data-is-checked":o,tabIndex:u,disabled:c}))]}),p&&(0,s.jsx)($j,{disabled:c,labelPosition:f!=null?f:"right",children:p})]})};var Lj=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(zj,Dv(fa({},t),{_ref:e})))),vG={popperIconSize:"18px",primaryColor:"#0bd688"};const wu=t=>{const e={width:38,height:24};return t==="sm"&&(e.width=30,e.height=20),e};var Hj=Object.defineProperty,Wj=Object.defineProperties,Vj=Object.getOwnPropertyDescriptors,zs=Object.getOwnPropertySymbols,Tv=Object.prototype.hasOwnProperty,Fv=Object.prototype.propertyIsEnumerable,Av=(t,e,n)=>e in t?Hj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xu=(t,e)=>{for(var n in e||(e={}))Tv.call(e,n)&&Av(t,n,e[n]);if(zs)for(var n of zs(e))Fv.call(e,n)&&Av(t,n,e[n]);return t},Bv=(t,e)=>Wj(t,Vj(e)),Uj=(t,e)=>{var n={};for(var r in t)Tv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&zs)for(var r of zs(t))e.indexOf(r)<0&&Fv.call(t,r)&&(n[r]=t[r]);return n};const Gj=z.ZP.label`
    display: inline-flex;
    align-items: center;
    flex-direction: ${t=>t.labelPosition==="right"?"row":"row-reverse"};
    ${t=>t.label?`*:${t.labelPosition==="right"?"first-child":"last-child"} {
            margin-right: 7px;
        }`:""};
`,Zj=z.ZP.div`
    display: inline-block;
    outline-offset: 1px;
    box-sizing: border-box;
    background: ${({isDisabled:t,value:e})=>I(e?t?"toggle-on-background-disable":"toggle-on-background-default":t?"toggle-off-background-disable":"toggle-off-background-default")};
    border-radius: 20px;
    width: ${({size:t})=>wu(t).width}px;
    height: ${({size:t})=>wu(t).height}px;
    padding: 2px;
    position: relative;
    transition: background .1s ease;
    ${({isDisabled:t,value:e})=>t?"":z.iv`  
    cursor: pointer;  
    &:hover {
        background: ${I(e?"toggle-on-background-hover":"toggle-off-background-hover")};
    }
    &:focus {
        background: ${I(e?"toggle-on-background-focus":"toggle-off-background-focus")};
    }
    &:active {
        background: ${I(e?"toggle-on-background-click":"toggle-off-background-click")};
    }
    &:focus-within {
      outline: 2px solid ${I("focus-outline")};
  }
    `}
`,Kj=z.ZP.div`
    position: absolute;
    top: 2px;
    left: ${t=>{const e=wu(t.size).width,n=t.size==="lg"?20:16;return t.value?e-2-n:2}}px;
    background: ${({isDisabled:t,value:e})=>I(t?e?"toggle-on-mark-disable":"toggle-off-mark-disable":e?"toggle-on-mark-default":"toggle-off-mark-default")};
    box-shadow: 0 1px 4px rgba(147, 147, 163, 0.2), 0 1px 1px rgba(147, 147, 163, 0.05);
    width: ${t=>t.size==="lg"?20:16}px;
    height: ${t=>t.size==="lg"?20:16}px;
    border-radius: 50%;
    transition: left .1s ease, background .1s ease;

    ${({isDisabled:t,value:e})=>!t&&z.iv`
        &:hover {
            background: ${I(e?"toggle-on-mark-hover":"toggle-off-mark-hover")};
        }
        &:focus {
            background: ${I(e?"toggle-on-mark-focus":"toggle-off-mark-focus")};
        }
        &:active {
            background: ${I(e?"toggle-on-mark-click":"toggle-off-mark-click")};
        }
    `}
`,qj=z.ZP.input`
    width: 0;
    height: 0;
    opacity: 0;
`,Yj=z.ZP.div`
    font-size: 13px;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    outline: none;
    border: none;
    color: ${({isDisabled:t})=>I(t?"label-disable":"label")}
`,$v=t=>{const e=t,{size:n,value:r,_ref:o,onMouseEnter:l,isDisabled:i,focusedElement:c,inputTabIndex:d,dataAttrs:u,labelPosition:m,label:f}=e,p=Uj(e,["size","value","_ref","onMouseEnter","isDisabled","focusedElement","inputTabIndex","dataAttrs","labelPosition","label"]);return(0,s.jsxs)(Gj,{labelPosition:m!=null?m:"right",label:f,children:[(0,s.jsxs)(Zj,{ref:o,size:n,value:r,onMouseEnter:l,isDisabled:i,children:[(0,s.jsx)(Kj,{size:n,value:r,tabIndex:-1,isDisabled:i}),(0,s.jsx)(qj,Bv(xu(xu({ref:c,type:"checkbox"},p),u),{checked:!!r,"data-is-checked":r,tabIndex:d,disabled:i}))]}),f&&(0,s.jsx)(Yj,{isDisabled:i,children:f})]})};$v.defaultProps={size:"lg"};var Xj=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)($v,Bv(xu({},t),{_ref:e})))),Jj=Object.defineProperty,Qj=Object.defineProperties,eR=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,zv=Object.prototype.hasOwnProperty,Lv=Object.prototype.propertyIsEnumerable,Hv=(t,e,n)=>e in t?Jj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Su=(t,e)=>{for(var n in e||(e={}))zv.call(e,n)&&Hv(t,n,e[n]);if(Ls)for(var n of Ls(e))Lv.call(e,n)&&Hv(t,n,e[n]);return t},tR=(t,e)=>Qj(t,eR(e)),nR=(t,e)=>{var n={};for(var r in t)zv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ls)for(var r of Ls(t))e.indexOf(r)<0&&Lv.call(t,r)&&(n[r]=t[r]);return n};const Hs="[class^=ri-]",Ws=z.ZP.label`
  margin: 2px;
  display: inline-flex;
  flex-direction: ${t=>t.labelPosition==="right"?"row":"row-reverse"};
  column-gap: 7px;
  align-items: center;
  cursor: ${t=>t.isDisabled?"auto":"pointer"};
`,rR=z.ZP.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  outline-offset: 1px;
  ${Ws}:focus-within && {
    ${({value:t,isDisabled:e})=>!e&&z.iv`
      background: ${I(t?"checkbox-on-background-focus":"checkbox-off-background-focus")};
      outline: 2px solid ${()=>I("focus-outline")};
      border-color: ${I(t?"checkbox-on-border-focus":"checkbox-off-border-focus")};
      & ${Hs} {
        color: ${I(t?"checkbox-on-mark-focus":"checkbox-off-mark-focus")};
      }
    `}
  }
  background: ${({value:t,isDisabled:e,isBulk:n})=>I(n?"checkbox-on-background-bulk":t?e?"checkbox-on-background-disable":"checkbox-on-background-default":e?"checkbox-off-background-disable":"checkbox-off-background-default")};
  border-radius: 2px;
  border: 1px solid ${({value:t,isDisabled:e,isBulk:n})=>I(n?"checkbox-on-border-bulk":t?e?"checkbox-on-border-disable":"checkbox-on-border-default":e?"checkbox-off-border-disable":"checkbox-off-border-default")};
  && ${Hs} {
    color: ${({value:t,isDisabled:e,isBulk:n})=>I(n?"checkbox-on-mark-bulk":t?e?"checkbox-on-mark-disable":"checkbox-on-mark-default":e?"checkbox-off-mark-disable":"checkbox-off-mark-default")};
  }

  ${({isDisabled:t,value:e})=>!t&&z.iv`
    ${Ws}:hover && {
      background: ${I(e?"checkbox-on-background-hover":"checkbox-off-background-hover")};
      border-color: ${I(e?"checkbox-on-border-hover":"checkbox-off-border-hover")};
      
      & ${Hs} {
        color: ${I(e?"checkbox-on-mark-hover":"checkbox-off-mark-hover")};
      }
    }
    ${Ws}:active && {
      background: ${I(e?"checkbox-on-background-click":"checkbox-off-background-click")};
      border-color: ${I(e?"checkbox-on-border-click":"checkbox-off-border-click")};
      & ${Hs} {
        color: ${I(e?"checkbox-on-mark-click":"checkbox-off-mark-click")};
      }
    }
  `}
`,oR=z.ZP.span`
  font-size: 14px;
  color: ${({isDisabled:t})=>I(t?"label-disable":"label")}
`,lR=z.ZP.input`
  width: 0;
  height: 0;
  opacity: 0;
  position: absolute;
`,aR=t=>{var e=t,{value:n,_ref:r,onMouseEnter:o,isDisabled:l,focusedElement:i,inputTabIndex:c,dataAttrs:d,labelPosition:u,label:m,isBulk:f}=e,p=nR(e,["value","_ref","onMouseEnter","isDisabled","focusedElement","inputTabIndex","dataAttrs","labelPosition","label","isBulk"]);return(0,s.jsxs)(Ws,{ref:r,labelPosition:u!=null?u:"right",label:m,isDisabled:l,children:[(0,s.jsx)(rR,{isDisabled:l,isBulk:f,value:n||f,onMouseEnter:o,children:(0,s.jsx)(Ct,{name:f?"subtract":"check",type:"line",size:14})}),(0,s.jsx)(lR,Su(Su({ref:i,type:"checkbox",checked:!!n,"data-is-checked":!!n,disabled:l,tabIndex:c},p),d)),m&&(0,s.jsx)(oR,{isDisabled:!!l,children:m})]})};var sR=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(aR,tR(Su({},t),{_ref:e})))),iR=Object.defineProperty,cR=Object.defineProperties,uR=Object.getOwnPropertyDescriptors,Wv=Object.getOwnPropertySymbols,dR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,Vv=(t,e,n)=>e in t?iR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pa=(t,e)=>{for(var n in e||(e={}))dR.call(e,n)&&Vv(t,n,e[n]);if(Wv)for(var n of Wv(e))fR.call(e,n)&&Vv(t,n,e[n]);return t},Uv=(t,e)=>cR(t,uR(e));const Pu=["left","right"],En="checkbox",Gv=1,Zv=5.5;function Iu(t){var e;const{_ref:n,focusedElement:r,className:o,style:l,id:i,isDisabled:c,isExcluded:d,isStatic:u,hasActiveMode:m,mode:f,modeSwitch:p,hasError:v,hint:g,dataAttrs:b,value:h,initialValue:C,testId:_,events:O,metaSet:M,tabIndex:P,label:S,labelPosition:j,onChange:k,onKeyDown:w,onKeyUp:x,onEnter:T,onEsc:A,onFocus:B,onBlur:Z,onTab:V,onClick:D,onModeChange:H,isFixSize:E,isWrapped:R,isMultiLine:L,disableOnEdit:U,onEdit:q,onImplicitChange:W,onHint:G,switchLabels:J,switchIcons:oe,isParentTable:ce,cellColor:N,type:$,isBulk:K}=t;let ee=(0,a.useRef)(null);ee=n||ee;const ne=(O==null?void 0:O.onEdit)||q,se=cc(S);let me=(0,a.useRef)(null);me=r||me;const ye=(0,a.useMemo)(()=>Un({isFixSize:E,style:l}),[E,l]),ue=(0,st.v9)(At),Re={};(l==null?void 0:l.width)<=Zv&&!se&&(Re.width=Wt(l.width-Gv),Re.height=Wt(l.width-Gv));let De=i||null;!De&&se&&(De=wr().generate());const[xe,Ne]=zo(f,p),Te=j===Pu[0],it=j===Pu[1],$e=(0,a.useMemo)(()=>Vr(!u&&!c,P),[u,c,P]),ze=be()(o,En,"text-ellipsis",{[`${En}_with-label`]:!!se,[`${En}_left-direction`]:Te,[`${En}_right-direction`]:it,[`${En}_error`]:v,[`${En}_disabled`]:c,[`${En}_static`]:u,[`${En}_active`]:Ne.checkActiveMode(),[`${En}_editable`]:Ne.checkEditableMode(),[`${En}_custom-style`]:(l==null?void 0:l.width)<=Zv,[`${En}__cell`]:ce}),we=be()(`${En}__label`,{[`${En}__label_left`]:Te,[`${En}__label_right`]:it,[`${En}__label_wrapped`]:R,[`${En}__label_multiline`]:L,[`${En}__label_not-multiline`]:!L}),_e=(0,a.useCallback)(Le=>{if(Pt(Le),ne&&U!==!1)return;let de=!0;if(D&&(de=D({event:Le,metaSet:M,value:h})),de&&(O!=null&&O.onClick)){const{alias:Ze,args:ot}=O.onFocus;de=ve[Ze]({event:Le,metaSet:M,args:ot,value:h})}},[c,M,O,D,h]),Oe=(0,a.useCallback)(Le=>{if(h!==C&&C!==void 0&&(W&&W({event:Le,metaSet:M,value:C,notValidValue:!0}),O!=null&&O.onImplicitChange)){const{alias:Ze,args:ot}=O.onImplicitChange;ve[Ze]({event:Le,metaSet:M,args:ot,value:C,notValidValue:!0})}let de=!0;if(B&&(de=B({event:Le,metaSet:M,value:h})),de&&(O!=null&&O.onFocus)){const{alias:Ze,args:ot}=O.onFocus;de=ve[Ze]({event:Le,metaSet:M,args:ot,value:h})}if(de)if(m){if(Ne.setActiveMode(),ne)if(q)de=q({event:Le,metaSet:M,value:h});else{const{alias:Ze,args:ot}=O.onEdit;ve[Ze]({event:Le,metaSet:M,args:ot,value:h})}}else Ne.setEditableMode()},[c,u,O,M,h,B,W]),Ye=(0,a.useCallback)(Le=>{if(c)return;let de=!0;if(Z&&(de=Z({event:Le,metaSet:M,value:h})),de&&(O!=null&&O.onBlur)){const{alias:Ze,args:ot}=O.onBlur;de=ve[Ze]({event:Le,args:ot,metaSet:M,value:h})}de&&Ne.setDefaultMode()},[c,u,O,M,h,Z]),qe=(0,a.useCallback)(Le=>{if(c||u||ne&&U!==!1){Le!=null&&Le.preventDefault&&(Le==null||Le.preventDefault());return}if(k&&k({event:Le,metaSet:M,value:!h}),O!=null&&O.onChange){const{alias:de,args:Ze}=O.onChange;ve[de]({event:Le,metaSet:M,args:Ze,value:!h})}},[c,u,O,M,k,h,ne]),dt=(0,a.useCallback)(Le=>{const{keyCode:de}=Le;if(c||ne&&U!==!1)return;let Ze=!0;if(or(de))qe(Le);else if(ua(de))Pt(Le);else if(Lo(de)){if(V&&(Ze=V({event:Le,metaSet:M,value:h})),Ze&&(O!=null&&O.onTab)){const{alias:ot,args:gt}=O.onTab;Ze=ve[ot]({event:Le,metaSet:M,args:gt,value:h})}Ze&&Ne.setDefaultMode()}else if(mo(de)){if(A&&(Ze=A({event:Le,metaSet:M,value:h})),Ze&&(O!=null&&O.onEsc)){const{alias:ot,args:gt}=O.onEsc;Ze=ve[ot]({event:Le,metaSet:M,args:gt,value:h})}Ze&&(m?Ne.setActiveMode():Ne.setDefaultMode())}else if(vo(Le))Le.preventDefault();else if(w&&(Ze=w({event:Le,metaSet:M,value:h})),Ze&&(O!=null&&O.onKeyDown)){const{alias:ot,args:gt}=O.onKeyDown;ve[ot]({event:Le,metaSet:M,value:h,args:gt})}},[c,u,O,M,h,w,V,T,A,qe]),ft=(0,a.useCallback)(Le=>{if(c||u||ne&&U!==!1)return;let de=!0;if(x&&(de=x({event:Le,metaSet:M,value:h})),de&&(O!=null&&O.onKeyUp)){const{alias:Ze,args:ot}=O.onKeyUp;ve[Ze]({event:Le,metaSet:M,value:h,args:ot})}},[c,u,O,M,h,x]),rt=(0,a.useCallback)(Le=>{let de=!0;if(G&&(de=G({event:Le,metaSet:M})),de&&(O!=null&&O.onHint)){const{alias:Ze,args:ot}=O.onHint;de=ve[Ze]({event:Le,args:ot,metaSet:M})}},[G,O,M]);(0,a.useEffect)(()=>{if(!c&&m){let Le=!0;if(H&&(Le=H({metaSet:M,value:xe})),Le&&(O!=null&&O.onModeChange)){const{alias:de,args:Ze}=O.onModeChange;ve[de]({args:Ze,metaSet:M,value:xe})}}},[c,m,M,O,H,xe]),(0,a.useEffect)(()=>{c&&Ne.setDefaultMode()},[c]),(0,a.useEffect)(()=>{ne&&U===!1&&qe({})},[U]),pr(ee,g||se,(e=ee==null?void 0:ee.current)==null?void 0:e.innerText),ws({dataAttrs:b,initialValue:C,value:h,resetValue:()=>{if(W&&W({event,metaSet:M,value:C,notValidValue:!0}),O!=null&&O.onImplicitChange){const{alias:Le,args:de}=O.onImplicitChange;ve[Le]({event,metaSet:M,args:de,value:C,notValidValue:!0})}}});const pt=(0,a.useMemo)(()=>({ref:ee,value:h,onBlur:Ye,onFocus:Oe,onChange:qe,onKeyDown:dt,onKeyUp:ft,onMouseEnter:rt,onClick:_e,isDisabled:c,id:De,focusedElement:r,readOnly:c||u,inputTabIndex:$e,dataAttrs:b,label:se,labelPosition:j,isBulk:K}),[h,Ye,Oe,qe,dt,ft,rt,_e,ee,c,u,De,r,b,$e,se,j,K]);return d?null:$==="switch"&&(ue&&(J||oe))?(0,s.jsx)(Lj,pa({labels:J,icons:oe},pt)):$==="switch"&&ue?(0,s.jsx)(Xj,pa({},pt)):ue?(0,s.jsx)(sR,pa({},pt)):(0,s.jsx)("div",{style:{backgroundColor:ce&&N?"transparent":N},children:(0,s.jsxs)("div",{ref:ee,className:ze,style:ye,onMouseEnter:rt,"data-testid":_,tabIndex:-1,children:[(0,s.jsx)("input",Uv(pa({style:Re,type:"checkbox",ref:me,id:De,className:`${En}__control`,disabled:c,checked:h,readOnly:c||u,"data-is-checked":h},b),{tabIndex:$e,onFocus:Oe,onBlur:Ye,onKeyDown:dt,onKeyUp:ft,onChange:qe,onClick:_e})),se&&(0,s.jsx)("span",{className:we,onClick:qe,tabIndex:-1,children:se})]})})}Iu.propTypes={_ref:y().object,focusedElement:y().object,className:y().string,style:y().object,id:y().string,isDisabled:y().bool,isExcluded:y().bool,isStatic:y().bool,hasActiveMode:y().bool,mode:y().string,modeSwitch:y().object,hasError:y().bool,hint:y().string,dataAttrs:y().object,value:y().oneOfType([y().bool,y().string,y().number]),testId:y().string,tabIndex:y().oneOfType([y().number,y().string]),events:y().object,metaSet:y().oneOfType([y().object,y().boolean]),label:y().string,labelPositions:y().string,onChange:y().func,onKeyDown:y().func,onKeyUp:y().func,onEnter:y().func,onEsc:y().func,onTab:y().func,onFocus:y().func,onBlur:y().func,onClick:y().func,onModeChange:y().func,type:y().string,isBulk:y().bool},Iu.defaultProps={_ref:null,focusedElement:null,className:null,style:null,id:null,isDisabled:!1,isExcluded:!1,isStatic:!1,hasActiveMode:!1,mode:null,modeSwitch:null,hasError:!1,hint:null,dataAttrs:null,value:!1,testId:null,tabIndex:0,events:null,metaSet:null,label:null,labelPosition:Pu[1],onChange:null,onKeyDown:null,onKeyUp:null,onEnter:null,onEsc:null,onTab:null,onFocus:null,onBlur:null,onClick:null,onModeChange:null,type:"checkbox"};var Go=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Iu,Uv(pa({},t),{_ref:e})))),pR=He(89755),Ar=He(70722),Il=He(58916),Ol=He(49599),mR=He(37042),vR=He(4543),hR=He(39880),gR={firstDayOfWeek:1,dayNames:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],dayNamesShort:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],dayNamesMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],monthNames:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"],monthNamesShort:["\u044F\u043D","\u0444\u0432","\u043C\u0440","\u0430\u043F","\u043C\u0430\u0439","\u0438\u043D","\u0438\u043B","\u0430\u0432","\u0441\u0442","\u043E\u043A","\u043D\u043E","\u0434\u0435"]},bR={firstDayOfWeek:1,dayNames:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],dayNamesShort:["sun","mon","tue","wed","thur","fri","sat"],dayNamesMin:["Su","Mn","Tu","Wd","Th","Fr","Sa"],monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],monthNamesShort:["jan","feb","mar","apr","may","june","july","aug","sept","oct","nov","dec"]};const Kv={ru:gR,en:bR},Ou={dateAndTime:/^([0-9]|0[1-9]|[12][0-9]|3[01])?(\.)?([0-9]|0[1-9]|1[012])?(\.)?(\d|20\d\d|20[0-9]|210[01]?|1\d\d|19\d\d|0\d|[1-9]\d)?(( )(([012]|[01][0-9]|2[0-3])?([:]([0-9]|[0-5][0-9])?)?([:]([0-9]|[0-5][0-9])?)?)?)?$/,dateOnly:/^([0-9]|0[1-9]|[12][0-9]|3[01])?(\.)?([0-9]|0[1-9]|1[012])?(\.)?(\d|20\d\d|20[0-9]|210[01]?|1\d\d|19\d\d|0\d|[1-9]\d)?$/,timeOnly:/^([0-1]?\d|2[0-3])?:?(?::([0-5]?\d))?:?(?::([0-5]?\d))?$/},qv={dateAndTime:{formatOfDate:"dd.MM.yyyy HH:mm:ss",defaultMask:Ou.dateAndTime,0:/^$/,1:/^[0-9]|[.]$/,2:/^([012][0-9]|3[0|1])|(\d\.)|(\.\d)|(\.\.)$/,3:/^(([012][0-9]|3[0|1])\.)|(\d\.\d)|(\d\.\.)|(\.\.\d)|(\.([0][0-9]|[1][0-2]))$/,4:/^(([012][0-9]|3[0|1])\.\.)|(([012][0-9]|3[0|1])\.\d)|(\d\.([0][0-9]|1[012]))|(\d\.\d\.)|(\.\d\.\d)|(\.([0][0-9]|1[012])\.)|(\.\.(19|2[0-1]))$/,5:/^(([012][0-9]|3[0|1])\.([0][0-9]|[1][0-2]))|(([012][0-9]|3[0|1])\.\d\.)|(([012][0-9]|3[0|1])\.\.\d)|(\d\.([0][0-9]|[1][0-2])\.)|(\d\.\d\.\d)|(\d\.\.\d\d)|(\.([0][0-9]|[1][0-2])\.\d)|(\.\d\.\d\d)|(\.\.\d\d\d)$/},timeOnly:{formatOfDate:"HH:mm:ss",defaultMask:Ou.timeOnly},dateOnly:{formatOfDate:"dd.MM.yyyy",defaultMask:Ou.dateOnly,0:/^$/,1:/^[0-9]|[.]$/,2:/^([012][0-9]|3[0|1])|(\d\.)|(\.\d)|(\.\.)$/,3:/^(([012][0-9]|3[0|1])\.)|(\d\.\d)|(\d\.\.)|(\.\.\d)|(\.([0][0-9]|[1][0-2]))$/,4:/^(([012][0-9]|3[0|1])\.\.)|(([012][0-9]|3[0|1])\.\d)|(\d\.([0][0-9]|1[012]))|(\d\.\d\.)|(\.\d\.\d)|(\.([0][0-9]|1[012])\.)|(\.\.(19|2[0-1]))$/,5:/^(([012][0-9]|3[0|1])\.([0][0-9]|[1][0-2]))|(([012][0-9]|3[0|1])\.\d\.)|(([012][0-9]|3[0|1])\.\.\d)|(\d\.([0][0-9]|[1][0-2])\.)|(\d\.\d\.\d)|(\d\.\.\d\d)|(\.([0][0-9]|[1][0-2])\.\d)|(\.\d\.\d\d)|(\.\.\d\d\d)$/}};function Eu(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function ma(t,e){e||(e={formatOfDate:"dateOnly",utc:!1});const n=Eu(),r=new window.Date;let o=t||null,l=null,i=null,c=null;switch(e.formatOfDate){case"dateAndTime":i="dd.MM.yyyy HH:mm:ss";break;case"timeOnly":i="HH:mm:ss";break;case"dateOnly":default:i="dd.MM.yyyy";break}if(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d+(?:[+-][0-2]\d:[0-5]\d|Z)/.test(o)){let d=(0,Il.Z)(o,"yyyy-MM-dd'T'HH:mm:ss'Z'",r),u=(0,Il.Z)(o,"yyyy-MM-dd'T'HH:mm:ssXXX'Z'",r);!e.utc&&(0,Ol.Z)(d)?l=d:!e.utc&&(0,Ol.Z)(u)&&(l=u),l=e.utc?(0,Ar.utcToZonedTime)(o,n):l,c=o}else if(/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/.test(o)&&e.utc)c=`${o}T00:00:00Z`,l=(0,Ar.utcToZonedTime)(c,n);else if(/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9]Z$/.test(o)&&e.utc)c=`${(0,Ar.format)(r,"yyyy-MM-dd")}T${o}`,l=(0,Ar.utcToZonedTime)(c,n);else if(o)if(o.length!==i.length){let d=(0,Il.Z)(o,"dd.MM.yyyy",r),u=(0,Il.Z)(o,"dd.MM.yyyy HH:mm:ss",r),m=(0,Il.Z)(o,"dd.MM.yyyy HH:mm",r);e.formatOfDate==="dateAndTime"&&(0,Ol.Z)(d)?l=d:e.formatOfDate==="dateAndTime"&&(0,Ol.Z)(m)?l=m:e.formatOfDate==="dateOnly"&&(0,Ol.Z)(u)?l=u:e.formatOfDate==="dateOnly"&&(0,Ol.Z)(m)&&(l=m)}else l=(0,Il.Z)(o,i,r);if(l instanceof Date&&!isNaN(l)&&(o=(0,Ar.format)(l,i),e.utc)){const d=e.formatOfDate==="dateOnly"?(0,mR.Z)((0,vR.Z)((0,hR.Z)(l,0),0),0):l,u=(0,Ar.utcToZonedTime)(d,"UTC");c=(0,Ar.format)(u,"yyyy-MM-dd'T'HH:mm:ss'Z'")}return{value:o,date:l,dateFormat:i,preparedValue:c}}function Yv(){return Kv[lt.language]||Kv.ru}const Xv=(t,e,n,r)=>{if(!t)return t;const o=Eu(),l=new window.Date;let i="",[c,d]=t.split(" "),[u,m,f]=c.split(".");n==="timeOnly"&&(d=c);let[p,v,g]=(d==null?void 0:d.split(":"))||[];f||(f=l.getFullYear()),m?m&&(m=+m-1):m=l.getMonth(),f.length===1?f=`200${f}`:f.length===2&&(f>=46?f=`19${f}`:f=`20${f}`),(!p||!v||!g)&&(p||(p="00"),v||(v="00"),g||(g="00"));const b=h=>h.toString().length>1?h:"0"+h;if(["dateAndTime","dateOnly"].includes(n)){const h=new window.Date(f,m,u,p,v,g);if(h.getDate()!==Number(u)||h.getMonth()!==Number(m)||h.getFullYear()!==Number(f)){let C=n==="dateAndTime"?` ${b(p)}:${b(v)}:${b(g)}`:"";i=`${b(u)}.${b(m+1)}.${f}`+C}else i=(0,Ar.format)(h,e,{timeZone:o})}else n==="timeOnly"&&(i=`${p}:${v}:${g}`);return r.current.value=i,i},yR=(t,e)=>{const n=qv[e][t.length]||qv[e].defaultMask;return n==null?void 0:n.test(t)};var bG={popperIconSize:"18px",primaryColor:"#0bd688"},CR=Object.defineProperty,_R=Object.defineProperties,wR=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,xR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,Qv=(t,e,n)=>e in t?CR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zo=(t,e)=>{for(var n in e||(e={}))xR.call(e,n)&&Qv(t,n,e[n]);if(Jv)for(var n of Jv(e))SR.call(e,n)&&Qv(t,n,e[n]);return t},PR=(t,e)=>_R(t,wR(e));const IR=(0,z.ZP)("div")(({styledState:t})=>{const{focused:e,hovered:n,isDisabled:r,showSuccess:o,showError:l,wrapperStyle:i,hasCaption:c}=t;return Zo(Zo(Zo(Zo({margin:2,position:"relative",overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",height:c?48:32,width:"100%",paddingLeft:12,paddingRight:12,backgroundColor:I(r?"input-background-disable":"input-background"),cursor:r?"default":"text",borderRadius:8,border:`1px solid ${I("input-border")}`},!r&&PR(Zo(Zo(Zo({},e&&{border:`1px solid ${I("input-border-active")}`}),n&&{border:`1px solid ${I("input-border-hover")}`}),n&&e&&{border:`1px solid ${I("input-border-active")}`}),{"&:active":{border:`1px solid ${I("input-border-active")}`}})),o&&{border:`1px solid ${I("input-border-success")}`}),l&&{border:`1px solid ${I("input-border-error")}`}),i)});var OR=Object.defineProperty,ER=Object.defineProperties,kR=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,jR=Object.prototype.hasOwnProperty,RR=Object.prototype.propertyIsEnumerable,th=(t,e,n)=>e in t?OR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nh=(t,e)=>{for(var n in e||(e={}))jR.call(e,n)&&th(t,n,e[n]);if(eh)for(var n of eh(e))RR.call(e,n)&&th(t,n,e[n]);return t},DR=(t,e)=>ER(t,kR(e));const NR=(0,z.ZP)("input")(({styledState:t})=>{const{isDisabled:e,textColor:n,hasCaption:r,wrapperStyle:o}=t;return nh(DR(nh({border:"none",outline:"none",wordBreak:"break-all",height:"auto",alignSelf:"flex-end"},r&&{paddingBottom:o!=null&&o.paddingBottom?0:8}),{minHeight:10,width:"100%",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:n||I("input-text")}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")})});var MR=Object.defineProperty,rh=Object.getOwnPropertySymbols,TR=Object.prototype.hasOwnProperty,FR=Object.prototype.propertyIsEnumerable,oh=(t,e,n)=>e in t?MR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ku=(t,e)=>{for(var n in e||(e={}))TR.call(e,n)&&oh(t,n,e[n]);if(rh)for(var n of rh(e))FR.call(e,n)&&oh(t,n,e[n]);return t};const AR=(0,z.ZP)("div")(({styledState:t})=>{const{isDisabled:e,hasCurrentValue:n,focused:r,hasInputValue:o,wrapperStyle:l}=t;return ku(ku({position:"absolute",top:"50%",transform:"translate(0, -50%)",color:I("input-label"),fontSize:14,lineHeight:1,transition:"font-size .2s, top .2s, color .2s",transitionDelay:".3s"},(r||n||o)&&{color:I("input-label-disabled"),fontSize:12,transitionDelay:"0s",transition:"font-size .2s, top .2s, color .2s",top:l!=null&&l.paddingTop?l.paddingTop:14}),e&&ku({color:I("input-label-disabled"),transition:"none",top:"50%",fontSize:14},n&&{top:l!=null&&l.paddingTop?l.paddingTop:14,fontSize:12}))});var BR=Object.defineProperty,$R=Object.defineProperties,zR=Object.getOwnPropertyDescriptors,lh=Object.getOwnPropertySymbols,LR=Object.prototype.hasOwnProperty,HR=Object.prototype.propertyIsEnumerable,ah=(t,e,n)=>e in t?BR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WR=(t,e)=>{for(var n in e||(e={}))LR.call(e,n)&&ah(t,n,e[n]);if(lh)for(var n of lh(e))HR.call(e,n)&&ah(t,n,e[n]);return t},VR=(t,e)=>$R(t,zR(e));const UR=(0,z.ZP)("div")(({styledState:t})=>{const{isRequiredIndicator:e,isDisabled:n}=t;return VR(WR({width:14,height:14,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:1,transition:".2s",transitionDelay:".3s"},!e&&{opacity:0,transition:".2s",transitionDelay:"0s"}),{"& span, div":{color:I("input-icon-required"),opacity:n?0:1}})}),sh=(0,z.ZP)("button")(({styledState:t})=>{const{isDisabled:e}=t;return{position:"relative",cursor:"pointer",width:16,"& span, i":{color:I(e?"input-icon-disabled":"input-icon")}}}),GR=(0,z.ZP)("div")(({styledState:t})=>{const{hasCaption:e}=t;return{position:"relative",display:"flex",flex:1,height:e?"100%":"initial",overflow:"hidden"}}),ZR=(0,z.ZP)("div")({marginRight:5,display:"flex"}),yG=(0,z.ZP)(Ct)({position:"relative",cursor:"pointer",width:16,color:"#8F93A3"});var KR=Object.defineProperty,qR=Object.defineProperties,YR=Object.getOwnPropertyDescriptors,ih=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,JR=Object.prototype.propertyIsEnumerable,ch=(t,e,n)=>e in t?KR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xn=(t,e)=>{for(var n in e||(e={}))XR.call(e,n)&&ch(t,n,e[n]);if(ih)for(var n of ih(e))JR.call(e,n)&&ch(t,n,e[n]);return t},tr=(t,e)=>qR(t,YR(e));function QR(t){return t==null}const Dn="date",va={input:"input",button:"button"},eD=["pi-chevron-up","pi-chevron-down"],tD=(t,e,n)=>{let r=0,o=0,l=0;for(let i=0;i<t.length;i++)t[i]===e&&r++;if(n==="dateAndTime")for(let i=0;i<t.length;i++)i>=9&&t[i]===" "&&o++,i>=11&&t[i]===":"&&l++;return{count:r,spaceCount:o,colonCount:l}},nD=(t,e)=>{const n=(u,m)=>{let f=r.split("");f.splice(u,0,m),r=f.join("")};let r=t,o=".",l=" ",i=":",c;e==="dateAndTime"||e==="dateOnly"?c=o:e==="timeOnly"&&(c=i);const d=tD(r,c,e);return e==="timeOnly"&&d.count===2||e==="dateOnly"&&d.count===2||(r.length===3&&d.count===0?n(2,o):r.length===6&&d.count===1?n(5,o):r.length===11&&d.spaceCount===0?n(10,l):r.length===14&&d.colonCount===0?n(13,i):r.length===17&&d.colonCount===1&&n(16,i)),r};function ju(t){var e,n,r;const{_ref:o,focusedElement:l,id:i,className:c,style:d,isDisabled:u,isDisabledByAutolock:m,isStatic:f,hasActiveMode:p,mode:v,modeSwitch:g,value:b,formattedValue:h,initialValue:C,initialFormattedValue:_,iconName:O,iconSize:M,testId:P,hasError:S,hint:j,dataAttrs:k,metaSet:w,events:x,tabIndex:T,onAutolock:A,onModeChange:B,onChange:Z,onKeyDown:V,onKeyUp:D,onEnter:H,onEsc:E,onBlur:R,onBlurCapture:L,onImplicitChange:U,onFocus:q,onTab:W,onDelete:G,onMouseDown:J,onMouseUp:oe,onClick:ce,onDoubleMouseDown:N,onDoubleMouseUp:$,onDoubleClick:K,onCopy:ee,onPaste:ne,onCut:se,dateOptions:me,disableOnEdit:ye,onEdit:ue,isRequired:Re,isParentTable:De,cellColor:xe,isFixSize:Ne,isAutoLock:Te,type:it,caption:$e}=t,ze=(0,st.v9)(At),we=f||m,_e=Te&&m===void 0,Oe=(x==null?void 0:x.onEdit)||ue,Ye=k["data-table-id"]==="CardFile",qe=h!==void 0?h:b,dt=(0,a.useRef)({value:b,formattedValue:qe}),ft=(0,a.useRef)(""),{formatOfDate:rt}=me,bt=rt!=="dateOnly",pt=rt==="timeOnly",mt=(0,a.useRef)(null),Le=(0,a.useRef)(null),de=l||mt,Ze=(0,a.useRef)(null),ot=(0,a.useRef)(null),[gt,he]=zo(v,g),fe=(0,a.useRef)(null),[ie,Q]=(0,a.useState)(!1),[ae,Ie]=(0,a.useState)(!1),[Be,re]=(0,a.useState)(()=>{const Y=ma(b,me);return fe.current=Y.dateFormat,Y.date}),[pe,Se]=(0,a.useState)(!1),[We,Ce]=(0,a.useState)(!1),[Je,et]=(0,a.useState)(!1),It=(0,st.v9)(qm);(0,a.useEffect)(()=>{var Y;_!==h&&(((Y=It[0])==null?void 0:Y.caption)==="\u041E\u0448\u0438\u0431\u043A\u0430"&&et(!0),setTimeout(()=>{et(!1),Ce(!1)},500))},[_,h,It]);let vt=!1;const _t=(0,a.useMemo)(()=>i||wr().generate(),[i]),Nt=`${Dn}_${_t}`,ct=!u&&!we,Qt=be()(c,Dn,Nt,{[`${Dn}_disabled`]:u||m,[`${Dn}_error`]:S,[`${Dn}_active`]:he.checkActiveMode(),[`${Dn}_editable`]:he.checkEditableMode(),[`${Dn}_static`]:we,[`${Dn}_with-icon`]:ct,[`${Dn}__cell`]:De}),Rt=be()(`${Dn}__date-picker`,Nt),Bn=be()(c,`${Dn}__input`,{[`${Dn}_required`]:Re&&!b&&!he.checkEditableMode()}),cn=(0,a.useMemo)(()=>tr(xn({},k),{"data-sub-element":va.input}),[]),nn=(0,a.useMemo)(()=>tr(xn({},k),{"data-sub-element":va.button,"data-testid":`${P}_button`}),[]),rn=(0,a.useCallback)(()=>{var Y;(Y=de.current)==null||Y.focus()},[de]);(0,a.useEffect)(()=>{Qt.includes(`${Dn}_editable`)&&rn()},[Qt]);const en=(0,a.useCallback)(()=>{const Y=de.current.value;return Y===qe?b:Y},[b,qe,de]),Vt=(0,a.useCallback)(Y=>{de.current&&(de.current.value=Y)},[de]),un=(0,a.useCallback)(Y=>{var Pe;const Ue=(Pe=de.current)==null?void 0:Pe.value;let nt=Y?b:qe;return!Y&&Ue!==dt.current.formattedValue?nt:!Y&&Ue!==void 0&&Ue!==nt&&Ue!==dt.current.value?Ue:nt},[b,qe]),Pn=un(he.checkEditableMode());(0,a.useEffect)(()=>{de.current&&Pn!==void 0&&de.current.value!==Pn&&Vt(Pn)},[de,Pn]),(0,a.useLayoutEffect)(()=>{if(C!==void 0&&(de.current.value=C,dt.current={initialValue:C,initialFormattedValue:_},b!==C&&(U&&U({event,metaSet:w,value:C,notValidValue:!0}),x!=null&&x.onImplicitChange))){const{alias:Y,args:Pe}=x.onImplicitChange;ve[Y]({event,metaSet:w,args:Pe,value:C,notValidValue:!0})}},[]),pr(de,j,(e=de==null?void 0:de.current)==null?void 0:e.innerText);const[,rr]=zm({targetElement:de.current,needSelection:!0,textSelectionSwitch:Le,editableMode:he.checkEditableMode()}),Ln=(0,a.useCallback)(()=>he.checkDefaultMode(),[he]),gn=(0,a.useCallback)(()=>he.checkActiveMode(),[he]),ge=(0,a.useCallback)(()=>he.checkEditableMode(),[he]),ke=(0,a.useCallback)(()=>{rr.setDefaultMode(),he.setDefaultMode()},[he]),Ve=(0,a.useCallback)(()=>{rr.setDefaultMode(),he.setActiveMode()},[he,un]),Ke=(0,a.useCallback)((Y=!1)=>{rr[Y?"setSelectedMode":"setDefaultMode"](),Ie(!0),he.setEditableMode()},[he,un]);(0,a.useEffect)(()=>{we&&Q(!1)},[we]),(0,a.useEffect)(()=>{if(!u&&p){let Y=!0;if(B&&(Y=B({metaSet:w,value:gt})),Y&&(x!=null&&x.onModeChange)){const{alias:Pe,args:Ue}=x.onModeChange;ve[Pe](tr(xn({},Ue),{args:Ue,metaSet:w,value:gt}))}}},[u,w,x,B,gt]);const ut=Y=>Y instanceof window.Date&&!isNaN(Y);(0,a.useEffect)(()=>{const{date:Y}=ma(b,qe);(ut(Y)||b==="")&&(dt.current={value:b,formattedValue:qe})},[b,qe]),(0,a.useEffect)(()=>{Oe&&pe==="button"&&ye===!1&&Q(!ie)},[ye]);const Me=(0,a.useCallback)(()=>{if(u)return;let Y=!0;const Pe=Xv(en(),fe.current,rt,de);if(H&&(Y=H({metaSet:w,value:Pe})),Y&&(x!=null&&x.onEnter)){const{alias:Ue,args:nt}=x.onEnter;ve[Ue]({metaSet:w,args:nt,value:Pe})}p&&(Q(!1),Ve()),rn()},[rn,u,w,x,H,Ve,p,en]),Ot=(0,a.useCallback)(Y=>{Pt(Y)},[]),Ft=Y=>{Y.stopPropagation(),u||de.current&&de.current.focus()},tt=(0,a.useCallback)(Y=>{if(u||we)return;const{target:{dataset:{subElement:Pe}},detail:Ue}=Y,{value:nt}=de.current;let ht=!0;if(vt=Pe===va.button,Ue===1&&(ce&&(ht=ce({event:Y,metaSet:tr(xn({},w),{subElement:Pe}),value:nt})),ht&&(x!=null&&x.onClick))){const{alias:Et,args:jt}=x.onClick;ve[Et]({event:Y,metaSet:tr(xn({},w),{subElement:Pe}),value:nt,args:jt})}},[u,x,w,b,ce]),Zt=(0,a.useCallback)(Y=>{const{value:Pe}=de.current;let Ue=!0;if(K&&(Ue=K({event:Y,metaSet:w,value:Pe})),Ue&&(x!=null&&x.onDoubleClick)){const{alias:nt,args:ht}=x.onDoubleClick;Ue=ve[nt]({event:Y,metaSet:w,value:Pe,args:ht})}},[w,K,De,u,we]),Yn=(0,a.useCallback)(Y=>{if(u)return;const{target:{dataset:{subElement:Pe}},detail:Ue,button:nt}=Y;if(nt===0){const{value:ht}=de.current;if(Se(Pe),u||Oe&&(ye||ye===void 0))return;let Et=!0;if(vt=Pe===va.button,Ue===1){if(J&&(Et=J({event:Y,metaSet:tr(xn({},w),{subElement:Pe}),value:ht})),Et&&(x!=null&&x.onMouseDown)){const{alias:jt,args:Vn}=x.onMouseDown;ve[jt]({event:Y,metaSet:tr(xn({},w),{subElement:Pe}),value:ht,args:Vn})}vt&&(Y.preventDefault(),Q(!ie),rn(),Ke())}else if(Ue===2){if(N&&(Et=N({event:Y,metaSet:w,value:ht})),Et&&(x!=null&&x.onDoubleMouseDown)){const{alias:jt,args:Vn}=x.onDoubleMouseDown;Et=ve[jt]({event:Y,metaSet:w,value:ht,args:Vn})}Et&&Ke(!0)}}else Y.preventDefault(),ie&&Q(!1)},[u,p,x,w,J,N,Ke]),Hn=(0,a.useCallback)(Y=>{if(u)return;if(Ie(!1),Y==null||Y.persist(),ie&&(Y==null?void 0:Y.target)===de.current){Ke();return}let Pe=en();if(ge()){Pe=Xv(Pe,fe.current,rt,de);let nt=!0;if(U&&(nt=U({event:Y,metaSet:w,value:Pe})),nt&&(x!=null&&x.onImplicitChange)){const{alias:ht,args:Et}=x.onImplicitChange;ve[ht]({event:Y,metaSet:w,args:Et,value:Pe})}}let Ue=!0;if(R&&(Ue=R({event:Y,metaSet:w,value:Pe})),Ue&&(x!=null&&x.onBlur)){const{alias:nt,args:ht}=x.onBlur;ve[nt]({event:Y,metaSet:w,args:ht,value:Pe})}Ue&&ke()},[u,en,ie,ge,fe,rt,de,R,w,x,Ke,ke,U,Pn]),kt=(0,a.useCallback)(()=>{!u&&!we&&ie&&(Hn(),Q(!1))},[u,we,ie,rn,Ke,Hn,en]),$n=(0,a.useCallback)(({event:Y})=>{if(!u)if(ie)Y.preventDefault(),Y.stopPropagation(),Ze.current.querySelector(".p-datepicker-prev.p-link").focus();else{let Pe=!0;if(W&&(Pe=W({event:Y,metaSet:w,value:b})),Pe&&(x!=null&&x.onTab)){const{alias:Ue,args:nt}=x.onTab;ve[Ue]({event:Y,metaSet:w,args:nt,value:b})}return!0}},[ie,u,W,w,b,x]),kn=(0,a.useCallback)(()=>{const Y=new window.Date;let Pe="";switch(rt){case"dateAndTime":Pe="dd.MM.yyyy HH:mm:ss";break;case"dateOnly":Pe="dd.MM.yyyy";break;case"timeOnly":Pe="HH:mm:ss";break;default:break}de.current.value=(0,Ar.format)(Y,Pe),Q(!1)},[ie,rt]),Lt=(0,a.useCallback)(({event:Y})=>{u||(ie&&(b===""||QR(b))&&kn(),Y.altKey?ie?Q(!1):(Ke(),Q(!0)):(p&&(gn()?Ke(!0):Ve()),ge()?Me():Q(!1)))},[p,ie,Ke,Ve,gn,ge,u,Me,kn]),Kt=(0,a.useCallback)(({event:Y,value:Pe})=>{if(u)return;let Ue=Pe;if(p&&gn()){if(de.current.value==="")return;Ue="",de.current.value=Ue}let nt=!0;if(G&&(Ue===""||ut(Ue))&&(nt=G({event:Y,metaSet:w,value:Ue})),nt&&(x!=null&&x.onDelete)){const{alias:ht,args:Et}=x.onDelete;ve[ht]({event:Y,metaSet:w,args:Et,value:Ue})}return!1},[G,u,x,w,de,p,gn]),yt=(0,a.useCallback)(()=>{if(!u){if(C!==void 0&&(de.current.value=C,U&&U({event,metaSet:w,value:C,notValidValue:!0}),x!=null&&x.onImplicitChange)){const{alias:Y,args:Pe}=x.onImplicitChange;ve[Y]({event,metaSet:w,args:Pe,value:C,notValidValue:!0})}Q(!1),p?Ve():ke()}},[p,Ve,ke,u,dt,de]),Wn=(0,a.useCallback)(Y=>{if(!Ze.current)return;const Pe=Ze.current.querySelector(".p-hour-picker"),Ue=Ze.current.querySelector(".p-minute-picker"),nt=Ze.current.querySelector(".p-second-picker");if((Pe||Ue||nt)&&Y.stopPropagation(),!ot.current)return;const ht="pi-chevron-down",Et="pi-chevron-up",jt=Y.target.querySelector(`.${ht}`)||Y.target.classList.contains(ht),Vn=Y.target.querySelector(`.${Et}`)||Y.target.classList.contains(Et);Pe.contains(Y.target)&&(Vn?ot.current.incrementHour(Y):jt&&ot.current.decrementHour(Y)),Ue.contains(Y.target)&&(Vn?ot.current.incrementMinute(Y):jt&&ot.current.decrementMinute(Y)),nt.contains(Y.target)&&(Vn?ot.current.incrementSecond(Y):jt&&ot.current.decrementSecond(Y))},[ot,Ze]),_r=(0,a.useCallback)(Y=>{const{button:Pe}=Y;if(Pe===2){Q(!1);return}bt&&Wn(Y)},[bt,Wn]),dn=(0,a.useCallback)(Y=>{if(Pt(Y),u)return;const{keyCode:Pe}=Y;or(Pe)&&bt&&Wn(Y),mo(Pe)&&(Y.preventDefault(),Q(!1),rn())},[rn,u,bt,Wn]),ir=(0,a.useCallback)(({event:Y,value:Pe})=>{if(u||_e)return;let Ue=!0;if(Z&&Z({event:Y,metaSet:w,value:Pe}),Ue&&(x!=null&&x.onChange)){const{alias:nt,args:ht}=x.onChange;ve[nt](tr(xn({event:Y},ht),{args:ht,metaSet:w,value:Pe}))}},[u,_e,w,x,Z]),Dr=(0,a.useCallback)(Y=>{var Pe,Ue,nt;if(u||_e)return;const ht=Eu(),Et=new window.Date(Y.value),jt=(0,Ar.format)(Et,fe.current,{timeZone:ht}),Vn=eD.some(Wa=>{var cl;return(cl=Y.originalEvent.target.classList)==null?void 0:cl.contains(Wa)});Vt(jt),re(Y.value);const jo=(Ue=(Pe=Y.originalEvent)==null?void 0:Pe.nativeEvent)==null?void 0:Ue.pointerType;return!Vn&&(((nt=Y.originalEvent)==null?void 0:nt.detail)===2||jo==="touch")&&(ir({event:Y,value:jt}),Me({event:Y,value:jt}),Q(!1)),!1},[ir,_e,fe,Me,Vt,ot,rn]),ql=(0,a.useCallback)(()=>{u||_e||(kn(),Me())},[kn,_e,Me]),tl=(0,a.useCallback)(Y=>{Y.persist();const Pe=Y.target.value,Ue=nD(Pe,rt),nt=yR(Ue,rt),{date:ht}=ma(Ue,me);let Et=Y.target.selectionStart;if(nt&&!(Oe&&(ye||ye===void 0))){Y.target.value=Ue;const jt=Y.target.value[Y.target.value.length-2];(jt==="."||jt===":")&&(Et+=1)}else Y.target.value=ft.current,Ue.length>Y.target.value.length?Et-=1:Et+=1;return Y.target.setSelectionRange(Et,Et),re(ht),ir({value:Ue}),!1},[en,ir,me,rt]);(0,a.useEffect)(()=>{const{dateFormat:Y,date:Pe}=ma(b,me);fe.current=Y,re(Pe)},[b,qe,me]);const nl=(0,a.useCallback)(Y=>{if(u)return;const{target:{dataset:{subElement:Pe}},detail:Ue}=Y,{value:nt}=de.current;let ht=!0;if(vt=Pe===va.button,Ue===1){if(oe&&(ht=oe({event:Y,metaSet:tr(xn({},w),{subElement:Pe}),value:nt})),ht&&(x!=null&&x.onMouseUp)){const{alias:Et,args:jt}=x.onMouseUp;ve[Et]({event:Y,metaSet:tr(xn({},w),{subElement:Pe}),value:nt,args:jt})}}else if(Ue===2&&($&&(ht=$({event:Y,metaSet:w,value:nt})),ht&&(x!=null&&x.onDoubleMouseUp))){const{alias:Et,args:jt}=x.onDoubleMouseUp;ve[Et]({event:Y,metaSet:w,value:nt,args:jt})}},[u,x,w,b,oe,$]),Xn=(0,a.useCallback)(Y=>{if(u||Oe&&(ye||ye===void 0))return;const Pe=en();let Ue=!0;if(!zc(Y)){if(mo(Y.keyCode)&&!we)yt({event:Y});else if(or(Y.keyCode)&&!we)Lt({event:Y,value:Pe});else if(im(Y.keyCode)&&!we)Kt({event:Y});else if(Lo(Y.keyCode))$n({event:Y});else if(vo(Y)&&!he.checkEditableMode())Y.preventDefault();else if(!we||Ye){if(ft.current=Pe,V&&(Ue=V({event:Y,metaSet:w,value:Pe})),Ue&&(x!=null&&x.onKeyDown)){const{alias:nt,args:ht}=x.onKeyDown;ve[nt]({event:Y,metaSet:w,args:ht,value:Pe})}Ue&&(he.checkEditableMode()||(gs(Y.keyCode)&&!Ye?(Ke(),de.current.value=""):$c(Y.keyCode)&&Ke()))}}},[yt,Lt,Kt,$n,ie,u,x,w,V,W,H,E,he,ke,Ve,Ke,p,de,w,ve,we,en]),eo=(0,a.useCallback)(Y=>{const{value:Pe}=Y.currentTarget;let Ue=!0;if(q&&(Ue=q({event:Y,metaSet:w,value:Pe})),Ue&&(x!=null&&x.onFocus)){const{alias:nt,args:ht}=x.onFocus;Ue=ve[nt]({event:Y,metaSet:w,args:ht,value:Pe})}if(Te&&!u&&!ge()&&!Oe&&(A&&A({event:Y,metaSet:w,value:Pe}),x!=null&&x.onAutolock)){const{alias:nt,args:ht}=x.onAutolock;ve[nt]({args:ht})}if(Ue&&!we){const{date:nt}=ma(Pe,qe);if(p){if(Oe)if(ue)Ue=ue({event:Y,metaSet:w,value:Pe});else{const{alias:ht,args:Et}=x.onEdit;ve[ht]({event:Y,metaSet:w,args:Et,value:Pe})}ut(nt)||Pe===""?Ve():Ke()}else Ke()}},[u,x,w,q,Ve,Ke,p,de,we,Te,_e]),rl=(0,a.useCallback)(Y=>{if(u)return;const Pe=en();let Ue=!0;if(D&&(Ue=D({event:Y,metaSet:w,value:Pe})),Ue&&(x!=null&&x.onKeyUp)){const{alias:nt,args:ht}=x.onKeyUp;ve[nt](xn({event:Y,metaSet:w,value:Pe},ht))}},[u,x,w,D,de,en]),to=(0,a.useCallback)(Y=>{const{value:Pe}=Y.currentTarget;let Ue=!0;if(L&&(Ue=L({event:Y,metaSet:w,value:Pe})),Ue&&(x!=null&&x.onBlurCapture)){const{alias:nt,args:ht}=x.onBlurCapture;ve[nt]({event:Y,metaSet:w,args:ht,value:Pe})}},[w,x,L]),Yl=(0,a.useCallback)(Y=>{var Pe,Ue;Ya((Pe=de.current)==null?void 0:Pe.value),mf({value:Be,formattedValue:(Ue=de.current)==null?void 0:Ue.value});const nt=fl();je({events:x,specificEvent:ee,nativeEvent:"onCopy",event:Y,value:b,clipboardValue:nt,editable:he.checkEditableMode()})},[de,Be]),ol=(0,a.useCallback)(Y=>{var Pe;if(!he.checkEditableMode()){Y.preventDefault();return}(Pe=Y==null?void 0:Y.clipboardData)!=null&&Pe.types.includes("Files")&&Y.preventDefault();let Ue=!0;const nt=Y.clipboardData.getData("text/plain"),{value:ht,formattedValue:Et}=uS();let jt="";if(nt!==void 0&&(jt=nt),jt===Et&&(Y.preventDefault(),jt=dS(ht,{options:rt}),jt===null&&(jt=nt),de.current.value=jt),je({events:x,specificEvent:ne,nativeEvent:"onPaste",event:Y,value:ht,editable:he.checkEditableMode()}),U&&(Ue=U({event:Y,metaSet:w,value:jt})),Ue&&(x!=null&&x.onImplicitChange)){const{alias:Vn,args:jo}=x.onImplicitChange;ve[Vn]({event:Y,metaSet:w,args:jo,value:jt})}},[de,he,U,w,x,rt]),Xl=(0,a.useCallback)(Y=>{var Pe,Ue;Ya((Pe=de.current)==null?void 0:Pe.value),mf({value:Be,formattedValue:(Ue=de.current)==null?void 0:Ue.value});const nt=fl();je({events:x,specificEvent:se,nativeEvent:"onCut",event:Y,value:b,clipboardValue:nt,editable:he.checkEditableMode()})},[de,Be]),no=(0,a.useCallback)(()=>{const Y=new window.Date;let Pe=Yv().monthNames[Y==null?void 0:Y.getMonth()];return/[а-я]/i.test(Pe)?(Pe=Pe[Pe.length-1]==="\u0442"?Pe+"\u0430":Pe.slice(0,Pe.length-1)+"\u044F",pt?"\u0421\u0435\u0439\u0447\u0430\u0441":`\u0421\u0435\u0433\u043E\u0434\u043D\u044F ${Y==null?void 0:Y.getDate()} ${Pe} ${Y==null?void 0:Y.getFullYear()}`):pt?"Now":`Today ${Pe} ${Y==null?void 0:Y.getDate()}, ${Y==null?void 0:Y.getFullYear()}`},[pt]),Oo=()=>{if(de.current.value=C,U&&U({event,metaSet:w,value:b}),x!=null&&x.onImplicitChange){const{alias:Y,args:Pe}=x.onImplicitChange;ve[Y]({event,metaSet:w,args:Pe,value:b})}};ws({dataAttrs:k,initialValue:C,value:(n=de.current)==null?void 0:n.value,resetValue:Oo});const Ha=!u&&!we&&he.checkEditableMode(),ro=(0,a.useMemo)(()=>Un({isFixSize:Ne,style:d,type:it}),[Ne,d,it]),Jl=xn({ref:de,id:_t,"data-testid":P,autoComplete:"off",spellCheck:"false",tabIndex:Vr(!we&&!u,T),disabled:u,contentEditable:Ha,defaultValue:Pn,onCopy:Yl,onPaste:ol,onCut:Xl,onKeyDown:Xn,onKeyUp:rl,onFocus:eo,onBlur:Hn,onBlurCapture:to,onChange:tl,readOnly:we||ye||_e},cn),Jn=ae||!!qe||!!((r=de.current)!=null&&r.value),ll={fontSize:Jn?"10px":"14px",color:"#b6bbc6",top:Jn?0:"50%",transform:Jn?null:"translate(0%,-50%)"},Eo=(0,s.jsx)("div",{className:"date_inner_lable",onClick:Ft,style:ll,onMouseDown:we?null:Yn,children:$e}),Nr=O?(0,s.jsx)("img",{className:"icon",style:{height:M},alt:"",src:on(O)}):null,[Wr,ko]=(0,a.useState)(!1),al=Pn&&(ae||Wr),sl=()=>{ko(!0)},oo=()=>{ko(!1)},lo=Y=>{Y.preventDefault(),de.current&&!u&&(de.current.value="",de.current.focus()),Ft(Y)},jn={isDisabled:u,showError:Je,focused:ae,hovered:Wr,wrapperStyle:ro,hasCurrentValue:Pn,hasCaption:$e,isRequiredIndicator:Re&&!Pn,showSuccess:We},ao=(0,s.jsxs)("div",{ref:o,className:Qt,style:tr(xn({},ro),{height:$e?void 0:"24px",padding:"2px"}),onMouseDown:we?null:Yn,onMouseUp:we?null:nl,onClick:tt,children:[(0,s.jsxs)("div",{className:`${Dn}_input-container`,style:xn({},(u||we)&&{pointerEvents:"none"}),children:[Nr,(0,s.jsx)("input",tr(xn({},Jl),{className:Bn}))]}),ct&&(0,s.jsx)(Cn(),xn({className:`${Dn}__button`,name:"calendar",tabIndex:-1,onFocus:eo,onBlur:Hn},nn)),$e&&Eo]}),il=(0,s.jsxs)(IR,{ref:o,onMouseDown:we?null:Yn,onMouseUp:we?null:nl,onClick:Ft,styledState:jn,onMouseEnter:sl,onMouseLeave:oo,children:[Nr&&(0,s.jsx)(ZR,{children:Nr}),(0,s.jsxs)(GR,{styledState:jn,children:[(0,s.jsx)(NR,tr(xn({},Jl),{styledState:jn})),$e&&(0,s.jsx)(AR,{styledState:jn,children:$e})]}),(0,s.jsx)(UR,{styledState:jn,children:(0,s.jsx)("div",{className:"fa fa-asterisk",style:{fontSize:"8px"},"aria-hidden":"true"})}),al&&(0,s.jsx)(sh,{styledState:jn,onClick:lo,children:(0,s.jsx)(Ct,{name:"close"})}),ct&&(0,s.jsx)(sh,{styledState:jn,children:(0,s.jsx)("i",xn({className:"ri-time-fill",tabIndex:-1,onFocus:eo,onBlur:Hn},nn))})]});return(0,s.jsx)(go,{onClickOutside:kt,outsideClickIgnoreClass:Nt,className:`${Dn}__outside-wrapped`,onDoubleClick:Zt,style:{backgroundColor:De&&xe?"transparent":xe},children:(0,s.jsx)(_l,{withArrow:!0,targetComponent:ze&&!De?il:ao,needToRender:ie,children:(0,s.jsxs)("div",{className:Rt,ref:Ze,onClick:Ot,onMouseDownCapture:_r,onKeyDown:dn,children:[(0,s.jsx)(pR.Calendar,{ref:ot,locale:Yv(),showTime:bt,timeOnly:pt,dateFormat:fe.current,hourFormat:"24",showSeconds:!0,inline:!0,minDate:new window.Date(100,0,1),maxDate:new window.Date(2101,0,1),monthNavigator:!0,yearNavigator:!0,yearRange:"1900:2101",value:Be,onChange:Dr},Be==null?void 0:Be.toString()),(0,s.jsx)("div",{onClick:ql,className:`${Dn}__label-today-date`,children:no()})]})})})}ju.propTypes={_ref:y().object,focusedElement:y().object,isDisabled:y().bool,isStatic:y().bool,events:y().object,metaSet:y().object,className:y().string,mode:y().string,modeSwitch:y().object,id:y().string,dateOptions:y().object,value:y().string,hasActiveMode:y().bool,onChange:y().func,onBlur:y().func,onTab:y().func,onEnter:y().func,isParentTable:y().bool,isAutoLock:y().bool},ju.defaultProps={events:{},dateOptions:{formatOfDate:"dateOnly"},isParentTable:!1,isAutoLock:!1};var rD=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(ju,tr(xn({},t),{_ref:e}))));function oD(t,e){const{index:n,selected:r,value:o,onMouseDown:l,className:i}=t,c=be()(i,{[`${i}_selected`]:n===r}),d=(0,a.useCallback)(u=>{l&&l({event:u,value:o})},[l,o]);return(0,s.jsx)("li",{className:c,onMouseDown:d,ref:e,children:o.root})}var lD=(0,a.memo)((0,a.forwardRef)(oD)),CG={popperIconSize:"18px",primaryColor:"#0bd688"},aD=Object.defineProperty,sD=Object.defineProperties,iD=Object.getOwnPropertyDescriptors,Vs=Object.getOwnPropertySymbols,uh=Object.prototype.hasOwnProperty,dh=Object.prototype.propertyIsEnumerable,fh=(t,e,n)=>e in t?aD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,El=(t,e)=>{for(var n in e||(e={}))uh.call(e,n)&&fh(t,n,e[n]);if(Vs)for(var n of Vs(e))dh.call(e,n)&&fh(t,n,e[n]);return t},ha=(t,e)=>sD(t,iD(e)),cD=(t,e)=>{var n={};for(var r in t)uh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Vs)for(var r of Vs(t))e.indexOf(r)<0&&dh.call(t,r)&&(n[r]=t[r]);return n};const Ru="enum",uD=31*5,Du=t=>{const e=t,{_ref:n,focusedElement:r,isDisabled:o,isStatic:l,isExcluded:i,isParentTable:c,hasActiveMode:d,modeSwitch:u,events:m,isAutoLock:f,isDisabledByAutolock:p,buttonIconName:v,isSwitchedToEnum:g,metaSet:b,value:h,formattedValue:C,initialValue:_,listValues:O,selected:M,setSelected:P,onEsc:S,onEnter:j,onChange:k,onSelect:w,onKeyDown:x,onBlur:T,showButton:A,onLookup:B,onClick:Z,onDoubleClick:V,onResetAutocompleteValues:D,onImmediatelyAutoComplete:H,style:E,disableOnEdit:R,isAutocomplete:L,keyBoardNavigation:U,elementNode:q,containerNode:W}=e,G=cD(e,["_ref","focusedElement","isDisabled","isStatic","isExcluded","isParentTable","hasActiveMode","modeSwitch","events","isAutoLock","isDisabledByAutolock","buttonIconName","isSwitchedToEnum","metaSet","value","formattedValue","initialValue","listValues","selected","setSelected","onEsc","onEnter","onChange","onSelect","onKeyDown","onBlur","showButton","onLookup","onClick","onDoubleClick","onResetAutocompleteValues","onImmediatelyAutoComplete","style","disableOnEdit","isAutocomplete","keyBoardNavigation","elementNode","containerNode"]),J=(0,st.v9)(At),oe=g?v:"caret-down",ce=f&&p===void 0,N=l||o,$=`${G.className?G.className+"-drop-down":""} ${Ru}__drop-down`,K=g||!L?B:null,ee=g?A:!0,[ne,se]=(0,a.useState)(!1),me=(0,a.useMemo)(()=>{var Q;return ha(El({},E),{textAlign:(Q=E.textAlign)!=null?Q:"left"})},[E]),ye=(0,a.useMemo)(()=>N||R||!ne?!1:!!(O!=null&&O.length),[ne,O,R,N]);let ue=(0,a.useRef)({}),Re=(0,a.useRef)(null),De=(0,a.useRef)(null);ue=u||ue,Re=n||Re,De=r||De;const xe=()=>ue.current.checkEditableMode(),Ne=()=>ue.current.checkActiveMode(),Te=()=>ue.current.checkDefaultMode(),it=(0,a.useCallback)(Q=>{De.current&&(De.current.textContent=Q||C||h)},[De,C,h]),$e=(0,a.useCallback)(()=>{se(!1),P(-1)},[se,P]),ze=(0,a.useCallback)(({event:Q,value:ae})=>{let Ie=!0;if(Ie&&D&&(Ie=D({event:Q,value:ae})),Ie&&(m!=null&&m.onResetAutocompleteValues)){const{alias:Be,args:re}=m.onResetAutocompleteValues;ve[Be](ha(El({},re),{value:ae}))}return Ie},[D,m]),we=(0,a.useCallback)(Q=>{const ae=window.getSelection();ae.removeAllRanges(),Q===Tr.selected&&ae.selectAllChildren(De.current)},[De]),_e=(0,a.useCallback)(()=>{N||Te()||($e(),ue.current.setDefaultMode())},[$e,N,Te]),Oe=(0,a.useCallback)(()=>{N||!d||Ne()||($e(),ue.current.setActiveMode())},[$e,N,d,Ne]),Ye=(0,a.useCallback)(()=>{N||R||xe()||ue.current.setEditableMode()},[R,N,xe]),qe=(0,a.useCallback)(()=>{d?Oe():_e()},[d,_e,Oe]),dt=(0,a.useCallback)(Q=>{var ae;return L||!(O!=null&&O.length)?Q:((ae=O.find(Be=>Be.value===Q))==null?void 0:ae.key)||Q},[L,O]),ft=(0,a.useCallback)(({event:Q,value:ae})=>{if(N)return;let Ie=!0;if(k&&(Ie=k({event:Q,metaSet:b,value:ae})),Ie&&(m!=null&&m.onChange)){const{alias:Be,args:re}=m.onChange;ve[Be]({event:Q,metaSet:b,args:re,value:ae})}return!ae&&Ie&&(Ie=ze({event:Q,value:ae})),Ie&&se(!!ae),!1},[N,m,b,k,ze]),rt=(0,a.useCallback)(({event:Q,value:ae})=>{if(N)return;let Ie=!0;if(ne&&U&&(Ie=U(Q)),!L)return!um(Q.keyCode)&&!cm(Q.keyCode)&&Q.preventDefault(),!1;if(Ie&&x&&(Ie=x({event:Q,type:"autoComplete",autocompleteValues:O,selected:M})),Ie&&(m!=null&&m.onKeyDown)){const{alias:Be,args:re}=m.onKeyDown;ve[Be](ha(El({event:Q,metaSet:b},re),{value:ae}))}return!1},[N,m,b,h,ne,U,x,O,M,L]),bt=(0,a.useCallback)(({event:Q,value:ae})=>{if(N)return;let Ie=!0;if(S&&(Ie=S({event:Q,metaSet:b,value:ae})),Ie&&(m!=null&&m.onEsc)){const{alias:Be,args:re}=m.onEsc;Ie=ve[Be]({event:Q,metaSet:b,args:re,value:ae})}return Ie&&($e(),qe(),we(Tr.default),De.current.scrollLeft=0),!1},[N,b,m,S,$e,qe,we,De]),pt=(0,a.useCallback)(({event:Q,value:ae})=>{if(N||ce)return;Q.preventDefault();const Ie=Array.isArray(ae)?ae[0]:ae,Be=(Ie==null?void 0:Ie.root)===_;let re=!0;if(Be)it();else if(it(Ie==null?void 0:Ie.root),w&&(re=w({event:Q,metaSet:b,value:Ie})),re&&(m!=null&&m.onSelect)){const{alias:pe,args:Se}=m.onSelect;re=ve[pe]({args:Se,value:Ie})}return re&&($e(),qe(),we(Tr.default)),!1},[N,b,m,w,qe,$e,we,_,it,ce]),mt=(0,a.useCallback)(({event:Q,value:ae})=>{if(!(N||Q.repeat)){if(!xe())Ye();else if(M===-1){const Ie=ae?{keyValue:dt(ae),root:ae}:dt(ae);let Be=!0;if(j&&(Be=j({event:Q,metaSet:b,value:Ie})),Be&&(m!=null&&m.onEnter)){const{alias:re,args:pe}=m.onEnter;Be=ve[re]({args:pe,value:Ie})}Be&&($e(),qe(),we(Tr.default))}else if(M>=0){const Ie=O==null?void 0:O[M];if(!Ie)return!1;const{key:Be,value:re}=Ie;pt({event:Q,value:{keyValue:Be,root:re}})}return!1}},[dt,qe,N,we,b,m,O,M,j,pt,xe,Ye]),Le=(0,a.useCallback)(({event:Q,value:ae})=>{if(N)return;let Ie=!0;const Be=dt(ae);if(T&&(Ie=T({event:Q,metaSet:b,value:Be})),Ie&&(m!=null&&m.onBlur)){const{alias:re,args:pe}=m.onBlur;Ie=ve[re]({event:Q,metaSet:b,args:pe,value:Be})}return Ie&&(Ie=ze({event:Q,value:Be})),Ie&&($e(),De.current.scrollLeft=0,_e()),!1},[N,b,m,T,$e,_e,dt,De,ze]),de=(0,a.useCallback)(({event:Q})=>{Q.relatedTarget!==De.current&&_e()},[_e,De]),Ze=(0,a.useCallback)(({event:Q,value:ae})=>{const Ie=ae||"*",Be=ha(El({},b),{isOpenList:ne});let re=!0;if(H&&(re=H({event:Q,metaSet:Be,value:Ie})),re&&(m!=null&&m.onImmediatelyAutoComplete)){const{alias:pe,args:Se}=m.onImmediatelyAutoComplete;ve[pe]({event:Q,metaSet:Be,args:Se,value:Ie})}return re},[N,m,H,ne,b]),ot=(0,a.useCallback)(({event:Q,metaSet:ae,value:Ie,isButtonClick:Be})=>{var re;if(N)return!1;R?($e(),qe()):Be&&(document.activeElement!==De.current&&((re=De.current)==null||re.focus()),se(We=>!We),Ze({event:Q}),xe()||Ye());let pe=!0;if(Z&&(pe=Z({event:Q,metaSet:ae,value:Ie,isButtonClick:Be})),pe&&(m!=null&&m.onClick)){const{alias:Se,args:We}=m.onClick;ve[Se]({event:Q,metaSet:ae,value:Ie,args:We,isButtonClick:Be})}return!1},[N,Ze,De,Ye,xe,we,$e,R,qe,Z,m]),gt=(0,a.useCallback)(({event:Q,metaSet:ae,value:Ie,isButtonClick:Be})=>{var re;if(!(N&&!c))return R?($e(),qe()):Be?(document.activeElement!==De.current&&((re=De.current)==null||re.focus()),se(Se=>!Se),Ze({event:Q}),xe()||Ye()):xe()&&(Ze({event:Q}),se(!0),we(Tr.selected)),je({specificEvent:V,nativeEvent:"onDoubleClick",event:Q,metaSet:ae,value:Ie,isButtonClick:Be}),!1},[N,Ze,De,Ye,xe,we,$e,R,qe,xe,V,m]);(0,a.useEffect)(()=>{R&&xe()&&(qe(),we(Tr.default))},[R,xe,qe,we]),(0,a.useEffect)(()=>{_===h&&it()},[_,h,it]);const he=(0,a.useMemo)(()=>O==null?void 0:O.map(({key:Q="",value:ae=""})=>({value:{keyValue:Q,root:ae},keyValue:Q,className:J?`${Ru}__item_palette`:`${Ru}__item`,onMouseDown:pt})),[pt,O]),fe=(0,a.useMemo)(()=>{const Q=El({},m);return delete Q.onBlur,delete Q.onEnter,delete Q.onSelect,delete Q.onEsc,delete Q.onKeyDown,delete Q.onChange,delete Q.onClick,delete Q.onDoubleClick,delete Q.onImmediatelyAutoComplete,delete Q.onResetAutocompleteValues,!g&&L&&delete Q.onLookup,Q},[m,g,L]);if(i)return null;const ie=(0,s.jsx)(zn,ha(El({},G),{_ref:Re,events:fe,focusedElement:De,buttonIconName:oe,isSwitchedToEnum:g,needTextSelection:!0,isDisabled:o,isStatic:l,isParentTable:c,modeSwitch:ue,hasActiveMode:d,isAutoLock:f,isDisabledByAutolock:p,metaSet:b,value:h,onBlur:Le,isEnum:!0,onEnter:mt,onKeyDown:rt,onChange:ft,onEsc:bt,onLookup:K,onClick:ot,onDoubleClick:gt,isAutocomplete:L,disableOnEdit:R,formattedValue:C,initialValue:_,showButton:ee,style:me,isOpenList:ne}));return(0,s.jsx)(_l,{ref:W,targetComponent:ie,data:he,Component:lD,className:$,maxHeight:uD,hasMenuOffset:!0,selected:M,elementNode:q,needToRender:ye,onBlur:de,onKeyDown:rt})};Du.propTypes={_ref:y().object,focusedElement:y().object,selected:y().number,setSelected:y().func,listValues:y().array,elementNode:y().object,containerNode:y().object,hasActiveMode:y().bool,metaSet:y().object,dataAttrs:y().object,events:y().object,value:y().string,formattedValue:y().string,initialValue:y().string,isExcluded:y().bool,isAutoLock:y().bool,isDisabled:y().bool,isDisabledByAutolock:y().bool,isStatic:y().bool,style:y().object,onLookup:y().func,modeSwitch:y().object,keyBoardNavigation:y().func,onResetAutocompleteValues:y().func,onSelect:y().func,onFocus:y().func,onBlur:y().func,onClick:y().func,onChange:y().func,onKeyDown:y().func,onKeyUp:y().func,onEnter:y().func,onEsc:y().func,onDelete:y().func,onTab:y().func,onDoubleClick:y().func,disableOnEdit:y().bool},Du.defaultProps={_ref:null,metaSet:{},events:{},style:{},isExcluded:!1,isAutoLock:!1,isDisabled:!1,isDisabledByAutolock:!1,isStatic:!1,disableOnEdit:!1};var dD=(0,a.memo)(e4(Du));function ph(t){return new RegExp(`(<table.*?data-tab="${t}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)table>)`,"gi")}function Nu(t){const e=t.match(new RegExp("(<table[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)table>)","gi"));return e!=null&&e.length&&e.length===1?e:!1}function fD(){return{currentReportTable:null,currentReportRow:null,currentReportSerialNumber:null,uniqueCell:0}}function Mu(t){var e,n,r,o,l;return{"data-tab":t.target.dataset.tab||((e=t.target.parentNode)==null?void 0:e.dataset.tab)||((o=(r=(n=t.target.parentNode)==null?void 0:n.parentNode)==null?void 0:r.parentNode)==null?void 0:o.dataset.tab),"data-row":t.target.dataset.row||((l=t.target.parentNode)==null?void 0:l.dataset.row),"data-col":t.target.dataset.col,"data-lvl":t.target.dataset.lvl,"data-grp":t.target.dataset.grp,"data-ind":t.target.dataset.ind,"data-ser":t.target.dataset.ser,"data-event":t.target.dataset.event}}function Tu(t){const e=t==null?void 0:t.split(";");let n=null;return e&&e[0]==="h"&&(n=+e[1]?"onExpand":"onCollapse"),n}function Fu(t){let e=parseInt(t,10),n="";for(;e;)n+=""+e--+"|";return n&&(n=n.slice(0,-1)),n||0}function pD({dataTab:t,dataRow:e,dataLvl:n}){return n?t?new RegExp(`(<tr.*?data-tab="${t}".*?data-row="${e}".*?data-lvl="${n}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):new RegExp(`(<tr.*?data-row="${e}".*?data-lvl="${n}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):t?new RegExp(`(<tr.*?data-tab="${t}".*?data-row="${e}".*?data-lvl="\\d+"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):new RegExp(`(<tr.*?data-row="${e}".*?data-lvl="\\d+"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi")}function mh(t){const e=t==null?void 0:t.match(/data-tab=\"(.*?)\"/),n=t==null?void 0:t.match(/data-row=\"(.*?)\"/),r=t==null?void 0:t.match(/data-lvl=\"(.*?)\"/);return!n||!r?!1:{dataRow:n[1],dataLvl:parseInt(r[1],10),dataTab:e}}function mD(t,e){let n,r;return e?(n=ph(e[1]),r=t.match(n)):r=Nu(t),r?r.join(""):t}function vD(t,e,n){const o=t.search(new RegExp(`<tr.*?data-row="${e}".*?data-lvl="${n}"`,"gm")),i=t.slice(o).search(/<\/tr>/gm);return t.slice(o,o+i+5)}function hD({whereReplace:t,whatToReplace:e,reservedRow:n}){const r=mh(e),o=mh(n),l=r||o,i=r?e:n;if(!l)return t;const{dataTab:c,dataLvl:d,dataRow:u}=l,m=mD(t,c),f=vD(m,u,d),p=m.replace(f,i);return t.replace(m,p)}const gD=t=>{const e={style:"",link:[],script:[],body:"",thead:"",table:"",tbody:[]},n=document.createElement("html");n.innerHTML=t;const r=l=>{var i,c,d;const u=n.getElementsByTagName(`${l}`),m=f=>f==="undefined"?"":f;for(let f=0;f<u.length;f++)switch(l){case"link":e[`${l}`][f]={attributes:Array.from((i=u[f])==null?void 0:i.attributes)};break;case"script":e[`${l}`][f]={src:(d=Array.from((c=u[f])==null?void 0:c.attributes).find(p=>(p==null?void 0:p.name)==="src"))==null?void 0:d.value,text:m(u[f].innerHTML)};break;case"table":e[`${l}`]+=l==="table"?u[f].className:"";break;case"thead":e[`${l}`]+=m(l==="thead"?u[f].outerHTML:u[f].innerHTML);break;case"tbody":e[`${l}`][f]=[...u[f].children];break;default:e[`${l}`]+=m(l==="body"?u[f].innerHTML:u[f].outerHTML);break}};return["style","link","body","script","thead","table","tbody"].forEach(l=>r(l)),e},bD=t=>{const e=t.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=(l,i)=>document.elementFromPoint(l,i);return e.right<0||e.bottom<0||e.left>n||e.top>r?!1:t.contains(o(e.left,e.top))||t.contains(o(e.right,e.top))||t.contains(o(e.right,e.bottom))||t.contains(o(e.left,e.bottom))},yD=t=>{const e=document.querySelectorAll(`.${t}`);let n=[];for(let r=0;r<e.length;r++)bD(e[r])&&n.push(e[r]);if(n.length){const r=document.createElement("IFRAME");document.body.appendChild(r);const o=r.contentWindow.document;n.forEach(l=>{o.write('<div style="-webkit-print-color-adjust: exact; color-adjust: exact">'+(l==null?void 0:l.outerHTML)+"</div>")}),o.close(),r.contentWindow.focus(),r.contentWindow.print(),setTimeout(()=>{document.body.removeChild(r)},500)}};var xG={popperIconSize:"18px",primaryColor:"#0bd688"},CD=Object.defineProperty,_D=Object.defineProperties,wD=Object.getOwnPropertyDescriptors,vh=Object.getOwnPropertySymbols,xD=Object.prototype.hasOwnProperty,SD=Object.prototype.propertyIsEnumerable,hh=(t,e,n)=>e in t?CD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ga=(t,e)=>{for(var n in e||(e={}))xD.call(e,n)&&hh(t,n,e[n]);if(vh)for(var n of vh(e))SD.call(e,n)&&hh(t,n,e[n]);return t},ba=(t,e)=>_D(t,wD(e));const ya="...",gh=5,Us=(t,e)=>{const n=e-t+1;return Array.from({length:n},(r,o)=>o+t)},PD=({itemsQuantity:t,itemsPerPageInitial:e=60})=>{const[n,r]=(0,a.useState)(1),[o,l]=(0,a.useState)(e),i=n*o,c=i-o,d=Math.ceil(t/o),u={currentPage:n,setCurrentPage:r,itemsPerPage:o,setItemsPerPage:l,lastItemIndex:i,firstItemIndex:c,listOfPages:d,itemsQuantity:t};return(0,a.useEffect)(()=>{localStorage.setItem("currentPage",JSON.stringify(n)),(JSON.parse(localStorage.getItem("currentPage")||"1")===null||JSON.parse(localStorage.getItem("currentPage")||"1")<=0)&&localStorage.setItem("currentPage","1")},[n]),(0,a.useMemo)(()=>{if(d<=6)return ba(ga({},u),{paginationRange:[...Us(1,d)]});const m=Math.max(n-1,1),f=Math.min(n+1,d),p=m>2,v=f<=d-2,g=1,b=d;if(!p&&v){const h=Us(1,gh);return ba(ga({},u),{paginationRange:[...h,ya,b]})}if(p&&!v){const h=Us(d-gh+1,d);return ba(ga({},u),{paginationRange:[g,ya,...h]})}if(p&&v){const h=Us(m,f);return ba(ga({},u),{paginationRange:[g,ya,...h,ya,b]})}return ba(ga({},u),{paginationRange:[]})},[d,n,o,c,i])};var SG={popperIconSize:"18px",primaryColor:"#0bd688"};const ID=t=>{const{handleChangePage:e,paginationRange:n,currentPage:r,countOfPages:o}=t;return!n||!r||!o?null:(0,s.jsx)("div",{className:`${Ht}__numbers-wrapper`,children:n.map((l,i)=>l===ya?(0,s.jsx)("div",{className:`${Ht}__dots`,children:"\u2026"},i):(0,s.jsx)("div",{className:`${r===l&&o.length>1?`${Ht}__number_active`:`${Ht}__number`}`,onClick:()=>e(l),children:l},i))})};var bh=(0,a.memo)(ID);const wo=16;var OD=Object.defineProperty,yh=Object.getOwnPropertySymbols,ED=Object.prototype.hasOwnProperty,kD=Object.prototype.propertyIsEnumerable,Ch=(t,e,n)=>e in t?OD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gs=(t,e)=>{for(var n in e||(e={}))ED.call(e,n)&&Ch(t,n,e[n]);if(yh)for(var n of yh(e))kD.call(e,n)&&Ch(t,n,e[n]);return t};const hr={start:"pagination__button_start",prev:"pagination__button_prev",next:"pagination__button_next",end:"pagination__button_end"},jD=t=>{const{countOfPages:e,currentPage:n=null,className:r,isDisabled:o,handleClick:l,onClickAngleDoubleLeftIcon:i,onClickAngleLeftIcon:c,onClickAngleDoubleRightIcon:d,onClickAngleRightIcon:u,isPrevBtnDisabled:m,isNextBtnDisabled:f,handleChangePage:p,paginationRange:v,isAdaptiveButtons:g}=t,b=Boolean((0,st.v9)(At)),h=b?Gr.Remix:Gr.FontAwesome,C=be()(r,`${Ht}__buttons`,{[`${Ht}_disabled`]:o}),_=be()([`${Ht}__prev-buttons`],{[`${Ht}__prev-buttons_disabled`]:n===1||m}),O=be()([`${Ht}__next-buttons`],{[`${Ht}__next-buttons_disabled`]:n===(e==null?void 0:e.length)||f}),M=(0,a.useMemo)(()=>({handleChangePage:p,currentPage:n,countOfPages:e,paginationRange:v}),[p,n,e,v]);return g?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:C,onClick:l,style:Gs({},b&&{height:"16px",padding:0,fontSize:"initial"}),children:[(0,s.jsxs)("div",{className:_,children:[(0,s.jsx)(Ct,{name:b?"arrow-left-double":"angle-double-left",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.start},set:h,onClick:i}),(0,s.jsx)(Ct,{name:b?"arrow-drop-left":"angle-left",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.prev},set:h,onClick:c})]}),(0,s.jsxs)("div",{className:O,children:[(0,s.jsx)(Ct,{name:b?"arrow-drop-right":"angle-right",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.next},set:h,onClick:u}),(0,s.jsx)(Ct,{name:b?"arrow-right-double":"angle-double-right",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.end},set:h,onClick:d})]})]}),(0,s.jsx)(bh,Gs({},M))]}):(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:C,onClick:l,style:Gs({},b&&{height:"16px",padding:0,fontSize:"initial"}),children:[(0,s.jsxs)("div",{className:_,children:[(0,s.jsx)(Ct,{name:b?"arrow-left-double":"angle-double-left",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.start},set:h,onClick:i}),(0,s.jsx)(Ct,{name:b?"arrow-drop-left":"angle-left",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.prev},set:h,onClick:c})]}),(0,s.jsx)(bh,Gs({},M)),(0,s.jsxs)("div",{className:O,children:[(0,s.jsx)(Ct,{name:b?"arrow-drop-right":"angle-right",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.next},set:h,onClick:u}),(0,s.jsx)(Ct,{name:b?"arrow-right-double":"angle-double-right",size:wo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.end},set:h,onClick:d})]})]})})};var Au=(0,a.memo)(jD);const RD=t=>{const{countOfPages:e,handleChangePage:n,isSmallSize:r,currentPage:o}=t,[l,i]=(0,a.useState)(!1),c=(0,a.useRef)(null),d=be()({[`${Ht}__input-wrapper_small`]:r}),u=be()({[`${Ht}__input_error`]:l});(0,a.useEffect)(()=>{c.current&&(c.current.value=o,i(!1))},[c,o]);const m=(0,a.useCallback)(f=>{if(!f.target.value)return;f.target.value=f.target.value.replace(/[^0-9]/g,"");const p=parseInt(f.target.value,10);p<=e.length&&p>0&&n(p),p>e.length||p<=0?i(!0):i(!1)},[n]);return(0,s.jsxs)("div",{className:`${Ht}__input-wrapper ${d}`,children:[(0,s.jsx)("label",{className:`${Ht}__label-input`,children:"\u041A \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435"}),(0,s.jsx)("input",{ref:c,className:`${Ht}__input ${u}`,onChange:m})]})};var _h=(0,a.memo)(RD);const DD=t=>{const{itemsPerPage:e=10,handleChangeItemsPerPage:n,itemsQuantity:r=0,isSmallSize:o}=t,l=(0,a.useRef)(null),[i,c]=(0,a.useState)(!1),d=r>jl?jl:r,u=be()(Ht,{[`${Ht}__input_error`]:i}),m=be()({[`${Ht}__items-count_small`]:o});(0,a.useEffect)(()=>{l.current&&localStorage.getItem("valueOfElements")===null||+(localStorage.getItem("valueOfElements")||"60")>jl?l.current!==null&&(l.current.value=e):l.current!==null&&(l.current.value=localStorage.getItem("valueOfElements")||"60")},[l]);const f=(0,a.useCallback)(p=>{if(!p.target.value)return;p.target.value=p.target.value.replace(/[^0-9]/g,"");const v=parseInt(p.target.value,10);v>0?localStorage.setItem("valueOfElements",JSON.stringify(v)):localStorage.setItem("valueOfElements",JSON.stringify(e)),v>jl?(n(jl),c(!0)):v<=0?(n(e),c(!0)):v>r?(n(r),c(!0)):(n(v),c(!1))},[l.current,n]);return(0,s.jsxs)("div",{className:`${Ht}__items-count ${m}`,children:[(0,s.jsx)("p",{children:"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E"}),(0,s.jsx)("input",{ref:l,className:`${Ht}__input ${u}`,onChange:f}),(0,s.jsxs)("p",{children:["\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430(\u043E\u0432) ",(0,s.jsxs)("span",{children:[" (\u043D\u0435 \u0431\u043E\u043B\u0435\u0435 ",d,")"]})]})]})};var wh=(0,a.memo)(DD),ND=Object.defineProperty,xh=Object.getOwnPropertySymbols,MD=Object.prototype.hasOwnProperty,TD=Object.prototype.propertyIsEnumerable,Sh=(t,e,n)=>e in t?ND(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kl=(t,e)=>{for(var n in e||(e={}))MD.call(e,n)&&Sh(t,n,e[n]);if(xh)for(var n of xh(e))TD.call(e,n)&&Sh(t,n,e[n]);return t};const Ht="pagination",jl=500,Bu="toggle-button",FD=t=>{const{listOfPages:e,currentPage:n,setCurrentPage:r,paginationRange:o,itemsPerPage:l,setItemsPerPage:i,itemsQuantity:c}=t,[d,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!0),g=(0,a.useRef)(null),b=be()({[`${Ht}__small`]:d}),h=be()({[`${Ht}__hidden`]:!p}),C=be()({[`${Bu}_small`]:d});(0,a.useEffect)(()=>{if(g.current){const D=new io.Z(_);return D.observe(g.current),()=>{g.current&&D.unobserve(g.current)}}},[g]);const _=(0,a.useCallback)(()=>{let D=!1,H=!1;g.current!==null&&(D=g.current.clientWidth<900,H=g.current.clientWidth<500),u(D),f(H)},[g]);(0,a.useEffect)(()=>{const D=JSON.parse(localStorage.getItem("currentPage")||"1"),H=JSON.parse(localStorage.getItem("valueOfElements")||"60");H&&H<=jl&&(i==null||i(H)),D===null?r==null||r(1):r==null||r(D)},[]);const O=(0,a.useMemo)(()=>[...Array(e).keys()],[e]),M=(0,a.useCallback)(D=>{D===void 0||!D||D>O.length||r==null||r(D)},[O.length]),P=(0,$t.debounce)(M,500),S=(0,a.useCallback)(D=>{D&&(i==null||i(D),r==null||r(1))},[]),j=(0,$t.debounce)(S,500),k=(0,a.useCallback)(()=>{r==null||r(1)},[]),w=(0,a.useCallback)(()=>{r==null||r(D=>D<=1?D:D-1)},[]),x=(0,a.useCallback)(()=>{r==null||r(O.length)},[O]),T=(0,a.useCallback)(()=>{r==null||r(D=>D>=O.length?D:D+1)},[O]),A=(0,a.useCallback)(()=>{v(!p)},[p]),B=(0,a.useMemo)(()=>({countOfPages:O,currentPage:n,onClickAngleDoubleLeftIcon:k,onClickAngleLeftIcon:w,onClickAngleDoubleRightIcon:x,onClickAngleRightIcon:T,handleChangePage:P,paginationRange:o,isAdaptiveButtons:m}),[O,n,k,w,x,T,P,o,m]),Z=(0,a.useMemo)(()=>({itemsPerPage:l,handleChangeItemsPerPage:j,itemsQuantity:c,isSmallSize:d}),[l,j,c,d]),V=(0,a.useMemo)(()=>({handleChangePage:P,countOfPages:O,isSmallSize:d,currentPage:n}),[P,O,d]);return d?(0,s.jsxs)("div",{className:`${Ht}__main-wrapper${b}`,ref:g,children:[(0,s.jsx)("div",{className:p?`${C} fa fa-angle-down`:`${C} fa fa-angle-up`,onClick:A,title:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C/\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C"}),(0,s.jsxs)("div",{className:`${Ht} ${h}`,children:[(0,s.jsx)("div",{className:`${Ht}__left-block`,children:(0,s.jsx)(Au,kl({},B))}),(0,s.jsxs)("div",{className:`${Ht}__center-block`,children:[(0,s.jsx)(_h,kl({},V)),(0,s.jsx)(wh,kl({},Z))]})]})]}):(0,s.jsxs)("div",{className:`${Ht}__main-wrapper`,ref:g,children:[(0,s.jsx)("div",{className:p?`${Bu} fa fa-angle-down`:`${Bu} fa fa-angle-up`,onClick:A,title:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C/\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C"}),(0,s.jsxs)("div",{className:`${Ht} ${h}`,children:[(0,s.jsxs)("div",{className:`${Ht}__left-block`,children:[(0,s.jsx)(Au,kl({},B)),(0,s.jsx)(_h,kl({},V)),(0,s.jsx)(wh,kl({},Z))]}),n&&O&&(0,s.jsxs)("p",{className:`${Ht}__current-page`,children:["\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 ",n," \u0438\u0437 ",O.length]})]})]})};var AD=(0,a.memo)(FD),BD=Object.defineProperty,$D=Object.defineProperties,zD=Object.getOwnPropertyDescriptors,Ph=Object.getOwnPropertySymbols,LD=Object.prototype.hasOwnProperty,HD=Object.prototype.propertyIsEnumerable,Ih=(t,e,n)=>e in t?BD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$u=(t,e)=>{for(var n in e||(e={}))LD.call(e,n)&&Ih(t,n,e[n]);if(Ph)for(var n of Ph(e))HD.call(e,n)&&Ih(t,n,e[n]);return t},Oh=(t,e)=>$D(t,zD(e));const WD=t=>{const{className:e,isDisabled:n,isStatic:r,isPrevBtnDisabled:o,isNextBtnDisabled:l,onClick:i,onButtonClick:c,metaSet:d,events:u,countOfPages:m,currentPage:f}=t,p=(0,a.useCallback)(g=>{var b,h;if(n||r)return;const C=(h=(b=g==null?void 0:g.target)==null?void 0:b.dataset)==null?void 0:h.id;if(C&&(c&&c({value:C,metaSet:d,event:g}),u!=null&&u.onButtonClick)){const{alias:_,args:O}=g.onButtonClick;ve[_](Oh($u({value:C},O),{event:g}))}if(i&&i({metaSet:d,event:g}),u!=null&&u.onClick){const{alias:_,args:O}=g.onClick;ve[_](Oh($u({},O),{event:g}))}},[n,r,i,c,u,d]),v=(0,a.useMemo)(()=>({isDisabled:n,handleClick:p,isPrevBtnDisabled:o,isNextBtnDisabled:l,className:e,countOfPages:m,currentPage:f}),[n,p,o,l,e,m,f]);return(0,s.jsx)(Au,$u({},v))};var VD=(0,a.memo)(WD);const UD=(0,z.ZP)("div")`
background-color:${()=>I("pagination-background-default")};
border: 1px solid ${()=>I("pagination-border-default")};
border-radius: 0px 0px 8px 8px;
padding: 4px 16px;
min-height: 24px;
height: auto;
width: 100%;
display: flex;
justify-content: space-between;
box-sizing: border-box;
`;function GD(t){function e(r){const{palette:o,isParentTable:l,isServerSide:i}=r;return l||!o||!i?t(r):(0,s.jsx)(UD,{children:t(r)})}const n=r=>({palette:At(r)});return(0,st.$j)(n)(e)}var ZD=GD,KD=Object.defineProperty,Zs=Object.getOwnPropertySymbols,Eh=Object.prototype.hasOwnProperty,kh=Object.prototype.propertyIsEnumerable,jh=(t,e,n)=>e in t?KD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rh=(t,e)=>{for(var n in e||(e={}))Eh.call(e,n)&&jh(t,n,e[n]);if(Zs)for(var n of Zs(e))kh.call(e,n)&&jh(t,n,e[n]);return t},qD=(t,e)=>{var n={};for(var r in t)Eh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zs)for(var r of Zs(t))e.indexOf(r)<0&&kh.call(t,r)&&(n[r]=t[r]);return n};const YD=t=>{const e=t,{isServerSide:n=!1,isClientSide:r=!1,isExcluded:o}=e,l=qD(e,["isServerSide","isClientSide","isExcluded"]);return o?null:r?(0,s.jsx)(AD,Rh({},l)):n?(0,s.jsx)(VD,Rh({},l)):(console.warn("\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D \u0442\u0438\u043F \u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438"),null)};var Rl=(0,a.memo)(ZD(YD)),XD=Object.defineProperty,JD=Object.defineProperties,QD=Object.getOwnPropertyDescriptors,Ks=Object.getOwnPropertySymbols,Dh=Object.prototype.hasOwnProperty,Nh=Object.prototype.propertyIsEnumerable,Mh=(t,e,n)=>e in t?XD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ca=(t,e)=>{for(var n in e||(e={}))Dh.call(e,n)&&Mh(t,n,e[n]);if(Ks)for(var n of Ks(e))Nh.call(e,n)&&Mh(t,n,e[n]);return t},zu=(t,e)=>JD(t,QD(e)),e1=(t,e)=>{var n={};for(var r in t)Dh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ks)for(var r of Ks(t))e.indexOf(r)<0&&Nh.call(t,r)&&(n[r]=t[r]);return n};const t1="report",_a=(t,e)=>Array.from((e||document).querySelectorAll(t));function Lu(t){const{className:e,id:n,dataAttrs:r,isDisabled:o,isExcluded:l,name:i,formId:c,value:d,metaSet:u,selectedCellId:m,onCellSelect:f,onClick:p,onDoubleClick:v,onExpand:g,onCollapse:b,events:h,freezeHeader:C,freezeSide:_,scrollTop:O,scrollLeft:M}=t,P=(0,a.useMemo)(()=>gD(d),[d]),[S,j]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!1),x=(0,a.useRef)(null),T=P.tbody[0],A=60,B=(T==null?void 0:T.length)>=A,Z=PD({itemsPerPageInitial:A,itemsQuantity:T==null?void 0:T.length}),{firstItemIndex:V,lastItemIndex:D}=Z,H=e1(Z,["firstItemIndex","lastItemIndex"]),E=T==null?void 0:T.slice(V,D),R=d&&Nu(d);let L=fD();const U=(0,a.useCallback)(N=>{const $=!!N.attribs;$&&(N.attribs.uniquecell=L.uniqueCell++);const K=ee=>{ee.forEach(ne=>{if(ne.type==="tag"){$&&ne.name==="tr"&&(ne.attribs["data-tab"]=L.currentReportTable,L.currentReportRow=ne.attribs["data-row"]||null,L.currentReportSerialNumber=1),ne.name==="td"&&(ne.attribs["data-tab"]=L.currentReportTable,ne.attribs["data-row"]=L.currentReportRow,!ne.attribs["data-ind"]&&(ne.attribs["data-tab"]||ne.attribs["data-row"]||ne.attribs["data-col"])&&(ne.attribs["data-ser"]=L.currentReportSerialNumber++),ne.attribs.class.includes("hdr1")&&(ne.attribs["data-ser"]=L.currentReportSerialNumber++));for(let se in ne)Array.isArray(ne[se])&&K(ne[se])}})};if(N.name==="table"&&typeof N.attribs["data-tab"]!="undefined"){let{children:ee}=N;L.currentReportTable=N.attribs["data-tab"],K(ee)}else $&&N.type==="tag"&&(N.name==="tr"&&(L.currentReportRow=N.attribs["data-row"],L.currentReportSerialNumber=1),N.name==="td"&&(N.attribs["data-row"]=L.currentReportRow,!N.attribs["data-ind"]&&(N.attribs["data-tab"]||N.attribs["data-row"]||N.attribs["data-col"])&&(N.attribs["data-ser"]=L.currentReportSerialNumber++)),N.name==="th"&&N.attribs.class.includes("hdr1")&&(N.attribs["data-ser"]=L.currentReportSerialNumber++))},[L]),q=(0,a.useCallback)(N=>{if(N.name!=="td"||!N.attribs||!N.attribs["data-ind"]||!Tu(N.attribs["data-ind"]))return;const $=Ca({},N.children[0]);$.attribs=zu(Ca({},N.attribs),{class:"","data-hierarchy-button":!0,"data-lvl":N.parent.attribs&&N.parent.attribs["data-lvl"]||void 0,"data-grp":N.parent.attribs&&N.parent.attribs["data-grp"]||void 0,"data-tab":N.parent.attribs&&N.parent.attribs["data-tab"]||void 0}),$.type="tag",$.name="button",$.children=[...N.children],N.children=[$]},[]),W=(0,a.useCallback)(N=>{N.name==="style"?N.children=N.children.map($=>($.data=`'.report__container' ${$.data}`,$)):(U(N),q(N))},[U,q]),G=(0,a.useCallback)(N=>{if(o||!["BUTTON","TD","TH"].includes(N.target.tagName))return;let $=!0;const K=N.detail,ee=["BUTTON"].includes(N.target.tagName);if(K===1||ee)if(ee){const ne=Mu(N),se=Tu(ne["data-ind"]);se==="onExpand"?$=je({specificEvent:g,nativeEvent:"onExpand",event:N,metaSet:u,value:ne,events:h}):se==="onCollapse"&&($=je({specificEvent:b,nativeEvent:"onCollapse",event:N,metaSet:u,value:ne,events:h}))}else if(N.target.className.includes("hdr1")){const ne=Mu(N);$=je({specificEvent:p,nativeEvent:"onClick",event:N,metaSet:u,value:ne,events:h})}else{const ne=N==null?void 0:N.target.getAttribute("uniqueCell");$=je({specificEvent:f,nativeEvent:"onCellSelect",event:N,metaSet:u,value:ne,events:h})}else if(K===2){const ne=Mu(N);$=je({specificEvent:v,nativeEvent:"onDoubleClick",event:N,metaSet:u,value:ne,events:h})}return $},[o,f,v,g,b,u,h]);(0,a.useEffect)(()=>{if(m){let N=document.querySelectorAll(`[id="${c}"] .report[data-name="${i}"] .report__cell_selected`);N.length&&N.forEach(K=>{K==null||K.classList.remove("report__cell_selected")});const $=document.querySelector(`[id="${c}"] .report[data-name="${i}"] [uniqueCell="${m}"]`);$==null||$.classList.add("report__cell_selected")}},[m]),(0,a.useEffect)(()=>{P!=null&&P.script.length&&!S&&(P==null||P.script.map(N=>{const $=document.createElement("script");$.type="text/javascript",N.src?($.src=N.src,document.head.appendChild($)):($.innerHTML=N.text,document.body.appendChild($))}),j(!0)),P.link.length&&!k&&(P==null||P.link.map(N=>{const $=document.createElement("link");N.attributes&&(N.attributes.forEach(K=>{$[K==null?void 0:K.name]=K==null?void 0:K.textContent}),document.head.appendChild($)),w(!0)}))},[P,S,k]);const J=be()(e,t1,{report_disabled:o});(0,a.useEffect)(()=>{if(d){let N=_a("table.rep");if(N=N&&N.length?N[0]:void 0,!N)return;let $=_a("tr",N);if(!($&&$.length))return;let K=_a("thead",N);K=K&&K.length?K[0]:void 0;let ee=document.querySelector(".report");C&&(ee.style.height="100%",ee.style.overflow="auto",K.classList.add("freezeHeader"));let ne={freezedCells:[],freezeCellsLength:[]};$.forEach(me=>{let ye=me.querySelectorAll(".freeze");ye.length>1&&ne.freezedCells.push(ye);let ue=_a("td",me);ue&&ue.length||(ue=_a("th",me)),ue.forEach(Re=>{_&&Re.classList.contains("freeze")&&Re.classList.add("freezeCells"),me.style.height=Re.offsetHeight+"px;"})}),ne.freezedCells.forEach(me=>{if(_){let ye=0;if(me.length>2)for(const xe of me)ye+=xe.offsetWidth;let ue=[...me],Re=[];ue.map(xe=>Re.push(xe.offsetWidth)),Re=Re.map((xe,Ne)=>Re.slice(0,Ne+1).reduce((Te,it)=>Te+it));for(let xe=1;xe<=ue.length;xe+=1)for(let Ne=0;Ne<=Re.length;Ne+=1)ue[xe]!==void 0&&(ue[xe].style.left=`${Re[xe-1]}px`);const De=()=>{N.style.overflowX=ye>ee.offsetWidth?"hidden":"auto",ee.style.overflowX=ye>ee.offsetWidth?"hidden":"auto"};if(x.current){const xe=new io.Z(De);return xe.observe(x.current),()=>{x.current&&xe.unobserve(x.current)}}}});const se=()=>{if(_||C){let me=window.innerWidth,ye=ne.freezeCellsLength[0]+20;N.style.overflowX=me<=ye?"hidden":"auto",ee.offsetHeight>N.offsetHeight+20&&(N.style.display="block",ee.style.overflowX=me<=ye?"visible":"hidden")}};return se(),window.addEventListener("resize",se),()=>{window.removeEventListener("resize",se)}}},[d,C,_]),(0,a.useEffect)(()=>{x.current&&setTimeout(()=>x.current.scrollTo(M||0,O||0),10)},[]),(0,a.useEffect)(()=>()=>{if(h!=null&&h.saveContent&&x.current){const{alias:N,args:$}=h.saveContent;ve[N]({args:$,data:{scrollTop:x.current.scrollTop,scrollLeft:x.current.scrollLeft}})}},[]);const oe=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",zu(Ca({className:J,"data-name":i,ref:x,id:n},r),{onClick:G,children:[(0,cr.ZP)(P.style,{replace:W}),(0,s.jsxs)("table",{className:P.table,children:[(0,cr.ZP)(P.thead,{replace:W}),(0,s.jsx)("tbody",{children:E==null?void 0:E.map((N,$)=>(0,s.jsx)(a.Fragment,{children:(0,cr.ZP)(N.outerHTML,{replace:W})},$))})]})]})),(0,s.jsx)(Rl,Ca({isClientSide:!0},H))]}),ce=()=>(0,s.jsx)("div",zu(Ca({className:J,"data-name":i,ref:x,id:n},r),{onClick:G,children:(0,cr.ZP)(P.style+P.body,{replace:W})}));return l?null:(0,s.jsx)(s.Fragment,{children:d&&B&&R?oe():ce()})}Lu.propTypes={className:y().string,id:y().string,dataAttrs:y().object,isExcluded:y().bool,name:y().string.isRequired,type:y().string.isRequired,formId:y().string.isRequired,value:y().string.isRequired,metaSet:y().object,selectedCellId:y().string,onCellSelect:y().func,onClick:y().func,onDoubleClick:y().func,onExpand:y().func,onCollapse:y().func,events:y().object,freezeHeader:y().bool,freezeSide:y().bool,scrollTop:y().number,scrollLeft:y().number},Lu.defaultProps={className:"",disabled:!1,id:"",dataAttrs:{}};var n1=(0,a.memo)(Lu),PG={popperIconSize:"18px",primaryColor:"#0bd688"},r1=Object.defineProperty,o1=Object.defineProperties,l1=Object.getOwnPropertyDescriptors,Th=Object.getOwnPropertySymbols,a1=Object.prototype.hasOwnProperty,s1=Object.prototype.propertyIsEnumerable,Fh=(t,e,n)=>e in t?r1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ah=(t,e)=>{for(var n in e||(e={}))a1.call(e,n)&&Fh(t,n,e[n]);if(Th)for(var n of Th(e))s1.call(e,n)&&Fh(t,n,e[n]);return t},i1=(t,e)=>o1(t,l1(e));const qs=z.ZP.label`
  position: relative;
  margin: 2px;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
  ${({labelPosition:t})=>z.iv`
    flex-direction: ${t==="right"?"row":"row-reverse"};
  `}
`,c1=z.ZP.div`
  padding: 0 8px;
  line-height: 16px;
  vertical-align: middle;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 14px;
  color: ${({isDisabled:t})=>I(t?"label-disable":"label")};
`,u1=z.ZP.input`
  position: absolute;
  height: 0;
  width: 0;
  opacity: 0;
  cursor: pointer;
`,d1=z.ZP.span`
  position: relative;
  flex: 0 0 16px;
  height: 16px;
  width: 16px;
  border-radius: 100%;
  ${({isDisabled:t})=>z.iv`
    border: 1px solid
      ${I(t?"radiobutton-off-border-disable":"radiobutton-off-border-default")};
    background-color: ${I(t?"radiobutton-off-background-disable":"radiobutton-off-background-default")};
  `}

  &:after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    width: 6px;
    height: 6px;
    transform: translate(-50%, -50%);
    display: block;
    border-radius: 100%;
    background-color: ${({isDisabled:t})=>I(t?"radiobutton-off-mark-disable":"radiobutton-off-mark-default")};
  }
  
  ${qs}:focus-within && {
    outline-offset: 1px;
    outline: 2px solid ${()=>I("focus-outline")};
    ${({value:t})=>z.iv`
      background-color: ${I(t?"radiobutton-on-background-focus":"radiobutton-off-background-focus")};
      border-color: ${I(t?"radiobutton-on-border-focus":"radiobutton-off-border-focus")};
    `}

    &:after {
      ${({value:t})=>z.iv`
        background-color: ${I(t?"radiobutton-on-mark-focus":"radiobutton-off-mark-focus")};
      `}
    }
  }

  ${({isDisabled:t,value:e})=>e&&z.iv`
      & {
        border-color: ${I(t?"radiobutton-on-border-disable":"radiobutton-on-border-default")};
        background-color: ${I(t?"radiobutton-on-background-disable":"radiobutton-on-background-default")};
      }

      &:after {
        background-color: ${I(t?"radiobutton-on-mark-disable":"radiobutton-on-mark-default")};
      }
    `}

  ${({isDisabled:t,value:e})=>!t&&z.iv`
      ${qs}:hover && {
        border-color: ${I(e?"radiobutton-on-border-hover":"radiobutton-off-border-hover")};
        background-color: ${I(e?"radiobutton-on-background-hover":"radiobutton-off-background-hover")};

        &:after {
          background-color: ${I(e?"radiobutton-on-mark-hover":"radiobutton-off-mark-hover")};
        }
      }

      ${qs}:active && {
        background-color: ${I(e?"radiobutton-on-background-click":"radiobutton-off-background-click")};
        border-color: ${I(e?"radiobutton-on-border-click":"radiobutton-off-border-click")};

        &:after {
          background-color: ${I(e?"radiobutton-on-mark-click":"radiobutton-off-mark-click")};
        }
      }
    `}
`,f1=t=>{const{_ref:e,id:n,tabIndex:r,hint:o,label:l,labelPosition:i,value:c,name:d,group:u,isDisabled:m,isStatic:f,dataAttrs:p,onBlur:v,onFocus:g,onChange:b,onKeyDown:h}=t,C=m||f,_=(0,a.useRef)(null);return pr(_,o||l,""),(0,s.jsxs)(qs,{ref:_,labelPosition:i,children:[(0,s.jsx)(u1,Ah({id:n,ref:e,type:"radio",tabIndex:r,disabled:C,onBlur:v,onFocus:g,onChange:b,onKeyDown:h,checked:c,name:u,value:d},p)),(0,s.jsx)(d1,{isDisabled:C,value:c}),l&&(0,s.jsx)(c1,{isDisabled:C,children:l})]})};var p1=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(f1,i1(Ah({},t),{_ref:e})))),m1=Object.defineProperty,v1=Object.defineProperties,h1=Object.getOwnPropertyDescriptors,Bh=Object.getOwnPropertySymbols,g1=Object.prototype.hasOwnProperty,b1=Object.prototype.propertyIsEnumerable,$h=(t,e,n)=>e in t?m1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hu=(t,e)=>{for(var n in e||(e={}))g1.call(e,n)&&$h(t,n,e[n]);if(Bh)for(var n of Bh(e))b1.call(e,n)&&$h(t,n,e[n]);return t},y1=(t,e)=>v1(t,h1(e));const gr="radio_button",Ys=`${gr}__label`,Xs=(0,a.forwardRef)((t,e)=>{var n,r;const{className:o,dataAttrs:l,events:i,group:c,hasActiveMode:d,mode:u,modeSwitch:m,hint:f,id:p,initialValue:v,isDisabled:g,isMultiLine:b,isParentTable:h,isRequired:C,isStatic:_,isWrapped:O,isFixSize:M,label:P,labelPosition:S,metaSet:j,name:k,onBlur:w,onChange:x,onEdit:T,onFocus:A,onModeChange:B,onTab:Z,onImplicitChange:V,style:D,tabIndex:H,type:E,value:R}=t,L=(i==null?void 0:i.onEdit)||T,U=P?cc(P):void 0,q=Array.isArray(U)?U.join():U,W=(0,a.useMemo)(()=>Un({isFixSize:M,style:D,type:E}),[M,D]),G=typeof R=="string"?R==="true":!!R,J=typeof v=="string"?v==="true":!!v,oe=(0,a.useRef)(null);let ce=(0,a.useRef)(null);ce=e||ce;const[N,$]=zo(u,m),K=$,ee=(0,st.v9)(At),ne=be()(o,gr,`${gr}__container`,{[`${gr}__with-label`]:!!q,[`${gr}__reverse-label`]:!!q&&S==="left",[`${gr}__disabled`]:g,[`${gr}__static`]:_,[`${gr}__required`]:C,[`${gr}__cell`]:h,[`${gr}__active`]:K.checkActiveMode(),[`${gr}__editable`]:K.checkEditableMode()}),se=be()("text-ellipsis",Ys,{[`${Ys}_wrapped`]:O,[`${Ys}_multiline`]:b,[`${Ys}_not-multiline`]:!b}),me=(0,a.useCallback)(Ne=>{if(g)return;je({specificEvent:w,nativeEvent:"onBlur",event:Ne,metaSet:j,events:i,value:G})&&K.setDefaultMode()},[g,_,w,i,j,G]),ye=(0,a.useCallback)(Ne=>{g||_||L||je({specificEvent:x,nativeEvent:"onChange",event:Ne,metaSet:j,events:i,value:!0})},[g,_,x,i,j,L]),ue=(0,a.useCallback)(Ne=>{g||(G!==J&&J!==void 0&&je({specificEvent:V,nativeEvent:"onImplicitChange",event:Ne,metaSet:j,events:i,value:J,notValidValue:!0}),je({specificEvent:A,nativeEvent:"onFocus",event:Ne,metaSet:j,events:i,value:G}),d?(K.setActiveMode(),L&&je({specificEvent:T,nativeEvent:"onEdit",event:Ne,metaSet:j,events:i,value:G})):K.setEditableMode())},[g,_,A,i,j,G,d]),Re=(0,a.useCallback)(Ne=>{const{keyCode:Te}=Ne;g||L||(or(Te)?ye(Ne):ua(Te)?Pt(Ne):Lo(Te)?je({specificEvent:Z,nativeEvent:"onTab",event:Ne,metaSet:j,events:i,value:G})&&K.setDefaultMode():vo(Ne)&&Ne.preventDefault())},[g,_,i,j,G,Z,ye]);(0,a.useEffect)(()=>{!g&&d&&je({specificEvent:B,nativeEvent:"onModeChange",event,metaSet:j,events:i,value:N})},[g,d,j,i,B,N]),(0,a.useEffect)(()=>{g&&K.setDefaultMode()},[g]),ws({dataAttrs:l,initialValue:J,value:G,resetValue:()=>{je({specificEvent:V,nativeEvent:"onImplicitChange",event,metaSet:j,events:i,value:J,notValidValue:!0})}}),pr(oe,f||q||((n=ce==null?void 0:ce.current)==null?void 0:n.value),((r=ce==null?void 0:ce.current)==null?void 0:r.value)||"");const xe=(0,a.useMemo)(()=>y1(Hu({},t),{_ref:ce,value:G,hint:f,label:q,labelPosition:S,dataAttrs:l,onBlur:me,onFocus:ue,onChange:ye,onKeyDown:Re}),[ce,G,f,q,S,l,me,ue,ye,Re]);return ee?(0,s.jsx)(p1,Hu({},xe)):(0,s.jsxs)("label",{ref:oe,className:ne,children:[(0,s.jsx)("input",Hu({type:"radio",id:p,ref:ce,tabIndex:H,name:c,value:k,disabled:g||_,onBlur:me,onChange:ye,onFocus:ue,onKeyDown:Re,checked:G},l)),(0,s.jsx)("span",{className:`${gr}__checkmark`}),q&&(0,s.jsx)("div",{className:se,style:W,children:q})]})});Xs.propTypes={className:y().string,dataAttrs:y().any,events:y().any,group:y().string,hasActiveMode:y().bool,mode:y().string,modeSwitch:y().any,hint:y().string,id:y().string,initialValue:y().oneOfType([y().string,y().bool]).isRequired,isDisabled:y().bool,isMultiLine:y().bool,isParentTable:y().bool,isRequired:y().bool,isStatic:y().bool,isWrapped:y().bool,isFixSize:y().bool,label:y().string,labelPosition:y().oneOf(["left","right"]),metaSet:y().object,name:y().string.isRequired,onBlur:y().func,onChange:y().func,onEdit:y().bool,onFocus:y().func,onModeChange:y().func,onTab:y().func,onImplicitChange:y().func,style:y().object,fashion:y().string,tabIndex:y().number,type:y().string.isRequired,value:y().oneOfType([y().string,y().bool]).isRequired},Xs.defaultProps={hasActiveMode:!1,initialValue:!1,isDisabled:!1,isMultiLine:!1,isParentTable:!1,isRequired:!1,isStatic:!1,isWrapped:!1,isFixSize:!1,value:!1},Xs.displayName="RadioButton";var C1=(0,a.memo)(Xs);const _1=(0,z.ZP)("ul")`
    display: grid;
    font-size: 13px;
    list-style-type: none;
`;function w1({children:t}){return(0,s.jsx)(_1,{children:t})}var x1=w1;const S1=(0,z.ZP)("li")`
    padding: 6px 8px;
    position: relative;
    box-sizing: border-box;
    overflow: hidden;
    text-overflow: ellipsis;

    &_hidden {
        display: none;
    }

    &_disabled {
        pointer-events: none;
        color: #D5D8E7;
    }

    &_marked {
        cursor: pointer;
        background: transparent;
    }

    ${({isActive:t})=>t&&z.iv`
        background-color: ${I("tree-item-background-default")};
        border-radius: 8px;
    `}
`,P1=(0,z.ZP)("span")`
    cursor: pointer;
    padding: 0 1px;
    height: 20px;
    text-decoration: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    align-items: center;
    user-select: none;

    &:hover {
        cursor: pointer;
    }
`,I1=(0,z.ZP)("span")`
    font-weight: 400;
    font-size: 12px;
    line-height: 14px;
    font-style: normal;

    height: 14px;
    padding-right: 10px;
    background-color: transparent;
    pointer-events: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`,O1=(0,z.ZP)(Ct)`
    height: 21px;
    width: 21px;
    min-width: 21px;
    max-width: 21px;
    padding: 0 8px;
    display: inline-block;
    pointer-events: none;
    vertical-align: middle;
`,E1=(0,z.ZP)("span")`
    width: 10px;
`;var k1=Object.defineProperty,j1=Object.defineProperties,R1=Object.getOwnPropertyDescriptors,zh=Object.getOwnPropertySymbols,D1=Object.prototype.hasOwnProperty,N1=Object.prototype.propertyIsEnumerable,Lh=(t,e,n)=>e in t?k1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hh=(t,e)=>{for(var n in e||(e={}))D1.call(e,n)&&Lh(t,n,e[n]);if(zh)for(var n of zh(e))N1.call(e,n)&&Lh(t,n,e[n]);return t},Wh=(t,e)=>j1(t,R1(e));function M1(t){const{caption:e,GUID:n,depth:r,name:o,hint:l,iconName:i,nodeId:c,dataAttrs:d,handleNodeClick:u,handleDoubleClick:m,wrapClick:f=h=>C=>h(C),selfTestId:p,preparedDataAttrs:v,depthOffsetSize:g,isActive:b}=t;return(0,s.jsx)(S1,Wh(Hh({isActive:b,"data-item-id":c,"data-item-guid":n,onClick:f(u),onDoubleClick:m},d),{"data-testid":`${p}__command-item`,children:(0,s.jsxs)(P1,Wh(Hh({},v),{style:{paddingLeft:`${r*g}px`},title:l||lt.t(e),"data-caption":lt.t(e),"data-id":o,"data-testid":`${p}__command-item-link`,children:[i?(0,s.jsx)(O1,{name:i,size:16,type:"line",color:b?"#000":"#B7BAC4"}):(0,s.jsx)(E1,{}),(0,s.jsx)(I1,{children:e})]}))}),n)}var T1=M1;const F1=(0,z.ZP)("li")`
    background: transparent;
    border: none;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;

    &_hidden {
        display: none;
    }
`,A1=(0,z.ZP)("span")`
    background: transparent;
    padding: 6px 8px;
    height: 20px;
    white-space: nowrap;
    overflow: hidden;
    align-items: center;
    display: flex;

    ${({isActive:t})=>t&&z.iv`
        background-color: ${I("tree-item-background-default")};
        border-radius: 8px;
    `}
`,B1=(0,z.ZP)("span")`
    font-weight: 400;
    font-size: 12px;
    line-height: 14px;
    font-style: normal;

    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`,$1=(0,z.ZP)(Ct)`
    padding-right: 4px;
`,z1=(0,z.ZP)(Ct)`
    padding-right: 8px;
    display: inline-block;
    pointer-events: none;
    vertical-align: middle;
`;var L1=Object.defineProperty,H1=Object.defineProperties,W1=Object.getOwnPropertyDescriptors,Vh=Object.getOwnPropertySymbols,V1=Object.prototype.hasOwnProperty,U1=Object.prototype.propertyIsEnumerable,Uh=(t,e,n)=>e in t?L1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G1=(t,e)=>{for(var n in e||(e={}))V1.call(e,n)&&Uh(t,n,e[n]);if(Vh)for(var n of Vh(e))U1.call(e,n)&&Uh(t,n,e[n]);return t},Z1=(t,e)=>H1(t,W1(e));function K1(t){const{depth:e,children:n,iconName:r,GUID:o,hint:l,caption:i,nodeId:c,dataAttrs:d,handleToggleItemClick:u,wrapClick:m,handleDoubleClick:f,depthOffsetSize:p,selfTestId:v,isOpenSubItems:g,isActive:b}=t,h=g?"arrow-down-s":"arrow-right-s";return(0,s.jsxs)(F1,Z1(G1({id:o,"data-item-id":c,"data-item-guid":o,"data-testid":`${v}__category`},d),{onClick:m(u),onDoubleClick:f,children:[(0,s.jsxs)(A1,{isActive:b,"data-testid":`${v}__category-name`,style:{paddingLeft:`${e*p}px`},title:l||lt.t(i),children:[(0,s.jsx)("span",{"data-arrow-wrapper":!0,children:(0,s.jsx)($1,{"data-testid":`${v}__category-icon`,name:h,size:12,type:"line",color:I("tree-item-icon-color-default")})}),r&&(0,s.jsx)(z1,{name:r,size:16,type:"line",color:b?"#000":"#B7BAC4"}),(0,s.jsx)(B1,{children:i})]}),g&&n]}),o)}var q1=K1;const wa=()=>z.iv`
-ms-overflow-style: none;
    /* IE 10+ */
    scrollbar-width: none;
    /* Firefox */
    overflow: -moz-scrollbars-none;
    /* Firefox */

    &::-webkit-scrollbar {
        /* chrome based */
        width: 0;
        /* ширина scrollbar'a */
        height: 0;
        /* высота scrollbar'a */
        background: transparent;
        /* опционально */
    }
`,Wu=(t="transparent",e="rgba(0, 0, 0, 0.4)",n=!1,r="#777777")=>z.iv`
    @supports(scrollbar-width: thin) {
        scrollbar-width: thin;
        scrollbar-color: ${e} ${t};
    }

    &::-webkit-scrollbar {
        height: 10px;
        width: 10px;
        background-color: var(--scrollbar-backgroundColor, ${t});

        &-thumb {
            background-color: ${e};
            border: 3px solid transparent;
            border-radius: 20px;
            background-clip: content-box;
            min-height: 30px;
            min-width: 30px;

            &:hover,
            &:active {
                border: 0;
            }
        }

        &-corner {
            background-color: ${t};
        }

        ${n&&z.iv`
            // stylelint-disable-next-line selector-pseudo-class-no-unknown
            &-button:single-button {
                background-color: ${t};
                display: block;
                border-style: solid;
                height: 5px;
                width: 5px;

                /* Up */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical {
                    border-width: 0px 4px 6px 4px;
                    border-color: transparent transparent ${e} transparent;

                    &:hover {
                        border-color: transparent transparent ${r} transparent;
                    }
                }

                /* Down */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical:increment {
                    border-width: 6px 4px 0 4px;
                    border-color: ${e} transparent transparent transparent;

                    &:hover {
                        border-color: ${r} transparent transparent transparent;
                    }
                }

                /* Left */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal {
                    border-width: 4px 6px 4px 0;
                    border-color: transparent ${e} transparent transparent;

                    &:hover {
                        border-color: transparent ${r} transparent transparent;
                    }
                }

                /* Right */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal:increment {
                    border-width: 4px 0 4px 6px;
                    border-color: transparent transparent transparent ${e};

                    &:hover {
                        border-color: transparent transparent transparent ${r};
                    }
                }
            }
        `}
    }
`,Y1=()=>z.iv`
    height: auto !important;
    padding: 0px 8px;
    border: 1px solid ${()=>I("input-border")};
    box-shadow: inset 0px -10px 10px #efecff;
    border-radius: 20px;
`,X1=()=>z.iv`
    padding: 0px 8px;
    background: ${()=>I("table-background-default")};
    cursor: default;

    &:hover {
        background: none;
        box-shadow: inset 0px -20px 10px #efecff;
    }

    &:active {
        box-shadow: inset 0px 10px 10px #efecff;
        & span {
            transform: translate(1px, 1px);
        }
    }
`,J1=()=>z.iv`
    &:hover {
        color: ${()=>I("table-link-color-default")};
        cursor: pointer;
        text-decoration: underline;
    }

    &:active {
        color: ${()=>I("table-link-color-error")};
    }
`,Q1=(0,z.ZP)(Is)`
    display: grid;
    font-size: 13px;
    list-style-type: none; 
    width: 100%;
    max-height: 100%;
    box-sizing: border-box;
    overflow: auto;
    
    ${({showAddButton:t})=>z.iv`
        ${t?Wu():z.iv`
            overflow: visible;
        `}
    `}
`,eN=z.iv`
    border: 1px solid ${()=>I("tree-border-default")};
    border-right: none;
    border-radius: 8px 0 0 8px;
    margin-right: 0 !important;
`,tN=(0,z.ZP)("div")`
    ${({isTableGroup:t,showAddButton:e})=>z.iv`
        ${t&&eN}
        ${!e&&Wu()}
    `}

    overflow: auto;
`,nN=(0,z.ZP)("div")`
    box-sizing: border-box;
    display: grid;
    overflow: auto;
    
    ${({showAddButton:t})=>t?z.iv`
            height: 100%;
            grid-template-rows: minmax(auto, calc(100% - 57px)) 1px auto;
        `:z.iv`grid-template-rows: auto;`}
    row-gap: 12px;
    padding: 8px;
`,rN=(0,z.ZP)("span")`
    width: 100%;
    height: 1px;
    background-color: ${()=>I("tree-separator-background-default")};
`,oN=(0,z.ZP)("div")`
    & button {
        min-height: 28px;
        padding: 4px 8px;
        color: ${()=>I("tree-button-color-default")};
    }

    & span {
        font-size: 12px
    }
    
    display: flex;
    align-items: start;
`;var lN=Object.defineProperty,aN=Object.defineProperties,sN=Object.getOwnPropertyDescriptors,Gh=Object.getOwnPropertySymbols,iN=Object.prototype.hasOwnProperty,cN=Object.prototype.propertyIsEnumerable,Zh=(t,e,n)=>e in t?lN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dl=(t,e)=>{for(var n in e||(e={}))iN.call(e,n)&&Zh(t,n,e[n]);if(Gh)for(var n of Gh(e))cN.call(e,n)&&Zh(t,n,e[n]);return t},Kh=(t,e)=>aN(t,sN(e));function uN(t){const{schema:e,entities:n,style:r,isDisabled:o,isExcluded:l,name:i,GUID:c,handleNodeClick:d,handleDoubleClick:u,handleToggleItemClick:m,handleKeyDown:f,handleKeyUp:p,handleFocusOnTree:v,handleBlurOnTree:g,wrapClick:b,treeRef:h,handleClickAdd:C,isTableGroup:_,activeNodeId:O,openNodesIds:M,depthOffsetSize:P,showAddButton:S}=t,j="tree",k=T=>{const{nodeId:A}=T,B=O!==void 0&&O===A,Z=Kh(Dl({},T),{handleNodeClick:d,handleDoubleClick:u,wrapClick:b,depthOffsetSize:P,selfTestId:j,isActive:B});return(0,s.jsx)(T1,Dl({},Z))},w=T=>{const{nodeId:A}=T,B=O!==void 0&&O===A,Z=M==null?void 0:M.includes(A),V=Kh(Dl({},T),{handleToggleItemClick:m,wrapClick:b,handleDoubleClick:u,depthOffsetSize:P,selfTestId:j,isOpenSubItems:Z,isActive:B});return(0,s.jsx)(q1,Dl({},V))},x=({schema:T,children:A,depth:B})=>{var Z;const{nodeId:V,GUID:D}=T!=null?T:{};if(!V)return null;const{caption:H,iconName:E,hint:R,isExpansible:L}=(Z=n[V])!=null?Z:{};let U=null;const q={GUID:D,hint:R,caption:H,nodeId:V};return L?U=w(Dl({depth:B,children:A,iconName:E,schema:T},q)):U=k(Dl({depth:B,schema:T,isExcluded:l,isDisabled:o,iconName:E},q)),(0,s.jsx)(x1,{"data-testid":`${j}__category`,children:U},D)};return(0,s.jsx)(tN,{style:r,tabIndex:0,onKeyDown:f,onKeyUp:p,onFocus:v,onBlur:g,ref:h,"data-name":i,"data-item-guid":c,isTableGroup:_,children:(0,s.jsxs)(nN,{showAddButton:S,children:[(0,s.jsx)(Q1,{schema:e,renderElement:x,testId:"tree__hierarchy-list",showAddButton:S}),S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(rN,{}),(0,s.jsx)(oN,{children:(0,s.jsx)(Gt,{onClick:C,fashion:"Ghost",caption:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u0430\u043F\u043A\u0443",iconName:"add",iconSize:16,iconType:"line",iconColor:I("tree-button-icon-color-default")})})]})]})})}var dN=uN,IG={popperIconSize:"18px",primaryColor:"#0bd688"};function qh(t,e=null){let n=(0,a.useRef)(e);return n=t||n,n}var fN=Object.defineProperty,pN=Object.defineProperties,mN=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertySymbols,vN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,Xh=(t,e,n)=>e in t?fN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Br=(t,e)=>{for(var n in e||(e={}))vN.call(e,n)&&Xh(t,n,e[n]);if(Yh)for(var n of Yh(e))hN.call(e,n)&&Xh(t,n,e[n]);return t},Nl=(t,e)=>pN(t,mN(e));const Vu=({currentTarget:t})=>{var e;return(e=t==null?void 0:t.dataset)==null?void 0:e.itemId},Jh=(t,e,n)=>{let r=t;return n==="up"?r=t-1<0?0:t-1:n==="down"&&(r=t+1>e.length-1?e.length-1:t+1),r};function gN(t){const{_ref:e,schema:n,entities:r,className:o,style:l,name:i,isExcluded:c,isDisabled:d,onSelect:u,onToggle:m,onBlur:f,onFocus:p,onDoubleClick:v,GUID:g,openNodesIds:b,currentNodeId:h,events:C,metaSet:_,isFixSize:O,isTableGroup:M}=t,P=(0,a.useMemo)(()=>ff(n,b),[n,b]),[S,j]=(0,a.useState)(h),k=qh(e,null),w=(0,a.useRef)(null),x=(0,st.v9)(At),T=(0,a.useMemo)(()=>Un({isFixSize:O,style:l}),[O,l]),A=16;let B;const Z="tree",V=be()(o,"tree",{disabled:d}),D=(0,a.useCallback)(N=>{if(d)return;let $=!0;if(p&&($=p({event:N,metaSet:_})),$&&(C!=null&&C.onFocus)){const{alias:K,args:ee}=C.onFocus;$=ve[K]({event:N,args:ee,metaSet:_})}return $},[p,C,_,d]),H=(0,a.useCallback)(N=>{if(d)return;let $=!0;if(f&&($=f({event:N,metaSet:_})),$&&(C!=null&&C.onBlur)){const{alias:K,args:ee}=C.onBlur;$=ve[K]({event:N,args:ee,metaSet:_})}return $},[f,C,_,d]),E=(0,a.useCallback)(N=>{if(d)return;let $=!0;const K=Vu(N);if(v&&($=v({event:N,metaSet:_,value:K})),$&&(C!=null&&C.onDoubleClick)){const{alias:ee,args:ne}=C.onDoubleClick;$=ve[ee]({event:N,args:ne,metaSet:_,value:K})}return $},[d,v,C,_]),R=(0,a.useCallback)(N=>{N.preventDefault(),N.stopPropagation(),clearTimeout(B),E(N)},[]),L=(0,a.useCallback)(N=>{if(d)return;let $=!0;const K=Vu(N);if(u&&($=u({event:N,metaSet:_,value:K})),$&&(C!=null&&C.onSelect)){const{alias:ee,args:ne}=C.onSelect;$=ve[ee]({event:N,args:ne,metaSet:_,value:K})}return $&&(clearTimeout(w.current),j(K)),$},[d,u,C,_]),U=(0,a.useCallback)(N=>{if(d)return;const{parentNode:$}=N.target,{dataset:{arrowWrapper:K}}=$;if(K){let ee=!0;const ne=Vu(N);if(m&&(ee=m({event:N,metaSet:_,value:ne})),ee&&(C!=null&&C.onToggle)){const{alias:ye,args:ue}=C.onToggle;ee=ve[ye]({event:N,args:ue,metaSet:_,value:ne})}const se=ic(n,ne);if(!!ic(se,S)&&S!==ne){if(d)return;if(u&&(ee=u({event:N,metaSet:_,value:ne})),ee&&(C!=null&&C.onSelect)){const{alias:ye,args:ue}=C.onSelect;ee=ve[ye]({event:N,args:ue,metaSet:_,value:ne})}}return ee}else L(N)},[d,m,C,L,_,n,u,S]),q=N=>$=>{$.preventDefault(),Pt($);const K={currentTarget:$.currentTarget,target:$.target};$.detail===1&&(B=setTimeout(()=>{N(K)},200))},W=(0,a.useCallback)(N=>{N.preventDefault()},[]),G=(0,a.useCallback)(N=>{N.preventDefault();const{keyCode:$}=N,K=Object.keys(r);if(K.length>0&&(Sr($)||Ur($))){let ee;const ne=P.findIndex(me=>me===S);Sr($)?ee=Jh(ne,K,"up"):ee=Jh(ne,K,"down");const se=P[ee];if(j(se),se){if(d)return;let me=!0;const ye=se;if(u&&(me=u({event:N,metaSet:_,value:ye})),me&&(C!=null&&C.onSelect)){const{alias:ue,args:Re}=C.onSelect;clearTimeout(w.current),w.current=setTimeout(()=>{ve[ue]({event:N,args:Re,metaSet:_,value:ye})},500)}if(me&&(k!=null&&k.current)){const ue=k.current,Re=ue==null?void 0:ue.querySelector(`[data-item-id="${ye}"]`),De=ue==null?void 0:ue.getBoundingClientRect().top,xe=Re.offsetTop;if((ue==null?void 0:ue.scrollHeight)>(ue==null?void 0:ue.clientHeight)){const Ne=xe-De,Te=ue.scrollTop,it=ue.clientHeight,$e=Te,ze=$e+it,_e={top:pf({activeNodeOffsetTop:Ne,parentNodeScrollTop:Te,cellHeight:22,step:20,visibleRangeMax:ze,visibleRangeMin:$e}),left:0,behavior:"smooth"};ue==null||ue.scrollTo(_e)}}return me}}if(or($)){if(d)return;let ee=!0;const ne=S;if(m&&(ee=m({event:N,metaSet:_,value:ne})),ee&&(C!=null&&C.onToggle)){const{alias:se,args:me}=C.onToggle;ee=ve[se]({event:N,args:me,metaSet:_,value:ne})}return ee}},[r,S,u,C,_,P,m,k]);(0,a.useEffect)(()=>{j(h)},[h]);const J=(0,a.useCallback)(N=>{const{caption:$,GUID:K,depth:ee,name:ne,hint:se,iconName:me,nodeId:ye,dataAttrs:ue}=N,Re=be()("tree__hierarchy-list__command-item"),De=be()("tree__hierarchy-list__command-span");let xe={className:be()("tree__hierarchy-list__item-icon")};me&&(xe.src=on(me));const Ne=S!==void 0&&S===ye,Te=Br({},ue);return Te["data-name"]=ne,(0,s.jsx)("li",Nl(Br({"data-item-id":ye,"data-item-guid":K,onClick:q(L),onDoubleClick:R},ue),{className:Re,"data-testid":`${Z}__command-item`,children:(0,s.jsxs)("span",Nl(Br({className:be()("tree__hierarchy-list__command-item-link",{"tree__hierarchy-list__command-item-link_marked":Ne})},Te),{style:{paddingLeft:`${ee*A}px`},title:se||lt.t($),"data-caption":lt.t($),"data-id":ne,"data-testid":`${Z}__command-item-link`,children:[(0,s.jsx)("span",{className:"tree__hierarchy-list__command-action-item-arrow-stub"}),me?(0,s.jsx)("img",Nl(Br({},xe),{"data-testid":`${Z}__command-item-icon`})):(0,s.jsx)("span",Nl(Br({},xe),{"data-testid":`${Z}__command-item-icon`})),(0,s.jsx)("span",{className:De,children:$})]}))}),K)},[S,L,R,A,Z]),oe=(0,a.useCallback)(N=>{const{depth:$,children:K,iconName:ee,GUID:ne,hint:se,caption:me,nodeId:ye,dataAttrs:ue}=N,Re=S!==void 0&&S===ye,De=be()("tree__hierarchy-list__category-wrapper"),xe=be()("tree__hierarchy-list__category-name",{"tree__hierarchy-list__category_marked":Re});let Ne=b==null?void 0:b.includes(ye);const Te=Ne?"angle-down":"angle-right";return(0,s.jsxs)("li",Nl(Br({id:ne,className:De,"data-item-id":ye,"data-item-guid":ne,"data-testid":`${Z}__category`},ue),{onClick:q(U),onDoubleClick:R,children:[(0,s.jsxs)("span",{className:xe,style:{paddingLeft:`${$*A}px`},title:se||me,"data-testid":`${Z}__category-name`,children:[(0,s.jsx)("span",{"data-arrow-wrapper":!0,children:(0,s.jsx)(Cn(),{name:Te,className:"tree__hierarchy-list__category-icon","data-testid":`${Z}__category-icon`})}),ee&&(0,s.jsx)(Ct,{className:"tree__hierarchy-list__command-icon",name:ee,size:16,type:"line"}),(0,s.jsx)("span",{className:"tree__hierarchy-list__category-caption text-ellipsis",children:me})]}),Ne&&K]}),ne)},[b,S,U,R,A,Z,q]),ce=(0,a.useCallback)(({schema:N,children:$,depth:K})=>{const{nodeId:ee,GUID:ne}=N||{};if(!ee)return null;const{caption:se,iconName:me,hint:ye,isExpansible:ue}=r[ee];let Re="";const De={GUID:ne,hint:ye,caption:se,nodeId:ee};return ue?Re=oe(Br({depth:K,children:$,iconName:me,schema:N,nodeId:ee},De)):Re=J(Br({depth:K,schema:N,isExcluded:c,isDisabled:d,iconName:me},De)),(0,s.jsx)("ul",{className:"tree__hierarchy-list","data-testid":`${Z}__category`,children:Re},ne)});if(c)return null;if(x){const N=K=>{d||je({specificEvent:null,nativeEvent:"onClickAdd",event:K,metaSet:_,events:C})},$=Nl(Br({},t),{style:T,handleNodeClick:L,handleClickAdd:N,handleDoubleClick:R,handleToggleItemClick:U,handleKeyDown:W,handleKeyUp:G,handleFocusOnTree:D,handleBlurOnTree:H,wrapClick:q,treeRef:k,renderProps:ce,isTableGroup:M,activeNodeId:S,openNodesIds:b,depthOffsetSize:A});return(0,s.jsx)(dN,Br({},$))}return(0,s.jsx)("div",{style:T,"data-name":i,"data-item-guid":g,className:V,tabIndex:0,onKeyDown:W,onKeyUp:G,onFocus:D,onBlur:H,ref:k,children:(0,s.jsx)(Is,{className:"tree__hierarchy-list",schema:n,renderElement:ce,testId:"tree__hierarchy-list"})})}var bN=(0,a.memo)(gN),OG={popperIconSize:"18px",primaryColor:"#0bd688"},yN=Object.defineProperty,Qh=Object.getOwnPropertySymbols,CN=Object.prototype.hasOwnProperty,_N=Object.prototype.propertyIsEnumerable,eg=(t,e,n)=>e in t?yN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wN=(t,e)=>{for(var n in e||(e={}))CN.call(e,n)&&eg(t,n,e[n]);if(Qh)for(var n of Qh(e))_N.call(e,n)&&eg(t,n,e[n]);return t};const xN="pdf";function Uu(t){const{className:e,id:n,dataAttrs:r,isExcluded:o,value:l,style:i,name:c,GUID:d,isFixSize:u}=t,m=(0,a.useMemo)(()=>Un({isFixSize:u,style:i}),[u,i]);if(o)return null;const f=n||d||c||wr().generate(),p=be()(e,xN);return(0,s.jsx)("iframe",wN({src:l,className:p,id:f,style:m},r))}Uu.defaultProps={value:""},Uu.propTypes={className:y().string,id:y().string,value:y().string.isRequired,dataAttrs:y().object,style:y().object,name:y().string,GUID:y().string};var SN=(0,a.memo)(Uu),EG={popperIconSize:"18px",primaryColor:"#0bd688"},PN=Object.defineProperty,IN=Object.defineProperties,ON=Object.getOwnPropertyDescriptors,tg=Object.getOwnPropertySymbols,EN=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable,ng=(t,e,n)=>e in t?PN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rg=(t,e)=>{for(var n in e||(e={}))EN.call(e,n)&&ng(t,n,e[n]);if(tg)for(var n of tg(e))kN.call(e,n)&&ng(t,n,e[n]);return t},og=(t,e)=>IN(t,ON(e));const jN="img";function RN(t){return t>6?1:t>3.5?.5:t>1?.25:.1}function lg(t){const{clientWidth:e,clientHeight:n,scrollWidth:r,scrollHeight:o}=t;return o>n||r>e}function ag(t){t.preventDefault()}function Gu(t){const{className:e,id:n,title:r,dataAttrs:o,value:l,center:i,stretch:c,shrink:d,preview:u,isExcluded:m,GUID:f,name:p,type:v,events:g,metaSet:b,onDoubleClick:h,scaleByWheel:C}=t,_=v==="img",O=l.includes(".svg"),M=n||f||p||wr().generate(),P={high:10,low:.1},[S,j]=(0,a.useState)(null),k=(0,a.useRef)(1),w=(0,a.useRef)(null),x=(0,a.useRef)({}),T=(0,a.useRef)(null),A=be()(e,"image",{image_center:i&&_}),B=be()("image__img",{image__img__svg:O,image__img_shrink:d&&_&&!(c&&S==="stretch"),image__img_stretch:c&&_&&!(d&&S==="shrink")}),Z=(0,a.useCallback)(()=>{i&&lg(T.current)&&T.current.scrollTo((w.current.clientWidth-T.current.clientWidth)/2,(w.current.clientHeight-T.current.clientHeight)/2)},[i,w,T,lg]),V=(0,a.useCallback)(({width:G,height:J})=>{w.current.style.height=J,w.current.style.width=G},[w]),D=(0,a.useCallback)(()=>{x.current={width:w.current.clientWidth,height:w.current.clientHeight},k.current=1},[w,x,k]),H=(0,a.useCallback)(()=>{var G,J;if(d&&c){const{height:oe,width:ce}=((G=w==null?void 0:w.current)==null?void 0:G.getBoundingClientRect())||{},{height:N,width:$}=((J=T==null?void 0:T.current)==null?void 0:J.getBoundingClientRect())||{};j($/ce<N/oe?"stretch":"shrink")}},[w,T,d,c]),E=(0,a.useCallback)(()=>{V({width:"",height:""})},[V]),R=(0,a.useCallback)(()=>{H(),D(),Z()},[D,H,Z]),L=(0,a.useCallback)(G=>{var J,oe,ce;if(g!=null&&g.onClick){const{alias:N,args:$}=g.onClick,K={args:$,value:l,event:G},ee=(ce=(oe=(J=G==null?void 0:G.target)==null?void 0:J.parentElement)==null?void 0:oe.href)==null?void 0:ce.baseVal;return ee&&(K.href=ee),ve[N](K),!1}u&&(Pt(G),Ge.onImagePreview({component:"ImgModal",componentProps:{value:l,className:jN}}))},[u,l,g]),U=(0,a.useCallback)(G=>{let J=!0;if(h&&(J=h({event:G,metaSet:b,value:l})),J&&(g!=null&&g.onDoubleClick)){const{alias:oe,args:ce}=g.onDoubleClick;J=ve[oe]({event:G,args:ce,metaSet:b,value:l})}},[h,g,b]),q=(0,a.useCallback)(G=>{if(C){const J=G.deltaY||G.detail||G.wheelDelta,oe=RN(k.current);J>0?k.current.toFixed(1)>P.low&&(k.current-=oe):k.current.toFixed(1)<P.high&&(k.current+=oe),V({width:x.current.width*k.current+"px",height:x.current.height*k.current+"px"}),Z()}},[k,C,x,V,Z]),W=(0,a.useCallback)(()=>{var G,J,oe,ce;if(O){const N=w.current.contentDocument.documentElement;if(N&&!N.getAttribute("viewBox")){const{height:$,width:K}=N.getBBox();$&&K&&N.setAttribute("viewBox",`0 0 ${((J=(G=N.width)==null?void 0:G.baseVal)==null?void 0:J.value)||K} ${((ce=(oe=N.height)==null?void 0:oe.baseVal)==null?void 0:ce.value)||$}`)}}R()},[R,O,w]);return(0,a.useLayoutEffect)(()=>{(d||c)&&E(),R()},[d,c,w,T]),(0,a.useEffect)(()=>{Z()},[i]),(0,a.useEffect)(()=>{const G=T.current;C?G.addEventListener("wheel",ag):G.removeEventListener("wheel",ag)},[T,C]),(0,a.useEffect)(()=>{const G=T==null?void 0:T.current;if(G&&R){const J=new io.Z(()=>{(k==null?void 0:k.current)===1&&R()});return J.observe(G),()=>{J.unobserve(G)}}},[T,k,R]),m?null:(0,s.jsx)("div",{ref:T,className:A,onWheel:q,onClick:L,onDoubleClick:U,children:O?(0,s.jsx)("object",og(rg({data:l,type:"image/svg+xml",ref:w,tabIndex:-1,id:M,className:B,title:r||lt.t("image"),onLoad:W},o),{children:r||lt.t("image")})):(0,s.jsx)("img",og(rg({ref:w,src:l,id:M,className:B,title:r,tabIndex:-1,onLoad:W},o),{alt:r||lt.t("image")}))})}Gu.defaultProps={center:!1,stretch:!1,shrink:!1,preview:!1,originalStyle:{},events:null},Gu.PropTypes={className:y().string,id:y().string,title:y().string,value:y().string.isRequired,dataAttrs:y().object,center:y().bool,stretch:y().bool,shrink:y().bool,preview:y().bool,isExcluded:y().bool,name:y().string,type:y().string,events:y().object};var DN=(0,a.memo)(Gu),NN=DN,kG={popperIconSize:"18px",primaryColor:"#0bd688"},MN=Object.defineProperty,sg=Object.getOwnPropertySymbols,TN=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable,ig=(t,e,n)=>e in t?MN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AN=(t,e)=>{for(var n in e||(e={}))TN.call(e,n)&&ig(t,n,e[n]);if(sg)for(var n of sg(e))FN.call(e,n)&&ig(t,n,e[n]);return t};const cg="html",ug="<p><br></p>",BN=["OnTextChange","DoExecuteScriptAsyncResult","DoSelectionChange"];function Zu(t){const{className:e,id:n,dataAttrs:r,isExcluded:o,value:l,srcdoc:i,style:c,name:d,GUID:u,isFixSize:m,initialScripts:f,events:p,scriptValues:v,content:g}=t,b=r["data-form-id"],h=(0,a.useRef)(null),[C,_]=(0,a.useState)(!1),[O,M]=(0,a.useState)([]),P=(0,a.useRef)("");(0,a.useEffect)(()=>{v&&M([...O,...v])},[v]);const S=E=>{if(Ge.onIFrameClick&&E.button===0){const R=E.target.dataset||{},L=b;if(Object.keys(R).length){const U={controlId:d,formId:L,data:R};Ge.onIFrameClick(U)}}},j=(0,a.useCallback)(()=>{var E;const R=(E=h.current)==null?void 0:E.contentDocument;if(!R)return;const L=R.querySelector("#chartDiv");if(!L)return;const U=R.querySelector("html"),q=R.body;[U,q,L].forEach(W=>{W.style.height="100%"})},[h]),k=(0,a.useCallback)(E=>{var R,L,U,q;if(Ge.onIFrameMessage&&((R=E==null?void 0:E.data)!=null&&R.dataset)&&E.source===h.current.contentWindow){const W=((L=E==null?void 0:E.data)==null?void 0:L.dataset)||{},G=b;if(Object.keys(W).length){const oe={controlId:d,formId:G,data:W};Ge.onIFrameMessage(oe)}const J=(q=(U=h.current)==null?void 0:U.contentDocument)==null?void 0:q.querySelector(".ql-editor");if(!J)return;if(BN.includes(W.Event)&&J.innerHTML===ug){P.current=J.innerHTML;return}J.innerHTML===ug&&P.current?J.innerHTML=P.current:P.current=J.innerHTML}},[h,P,b]),w=()=>{Ge.onShowProcessIndicator()},x=()=>{Ge.onHideProcessIndicator()},T=()=>{var E;const R=(E=h.current)==null?void 0:E.contentDocument;R.onmouseup=S,R.showThrobber=w,R.hideThrobber=x},A=()=>{h.current.contentWindow.getData=()=>g},B=()=>{T(),_(!0)},Z=()=>{if(B(),!g){const E=v!=null&&v.length&&!(0,$t.isEqual)(v,f)?v:[];M([...f,...E])}};(0,a.useEffect)(()=>(window.addEventListener("message",k),()=>{window.removeEventListener("message",k)}),[]),(0,a.useLayoutEffect)(()=>(h&&g&&A(),()=>{var E,R,L,U;if(h&&(R=(E=h.current)==null?void 0:E.contentDocument)!=null&&R.body&&p!=null&&p.saveContent){const{alias:q,args:W}=p.saveContent;if(!((L=h.current)!=null&&L.contentWindow.saveData))return;const G=(U=h.current)==null?void 0:U.contentWindow.saveData(),J="";ve[q]({args:W,content:G,value:J})}}),[h]),(0,a.useEffect)(()=>{h&&O.length!==0&&C&&(O.forEach(E=>{var R,L;try{(L=(R=h.current)==null?void 0:R.contentWindow)==null||L.eval(E)}catch(U){console.error(U)}}),M([]),j())},[h,O,C,j]);const V=(0,a.useMemo)(()=>Un({isFixSize:m,style:c}),[m,c]),D=n||u||d||wr().generate(),H=be()(e,cg);return o?null:(0,s.jsx)("div",{className:"wrapper_"+cg,children:(0,s.jsx)("iframe",AN({ref:h,srcDoc:i,src:l||" ",className:H,id:D,style:V,onLoad:Z,sandbox:"allow-modals allow-popups allow-same-origin allow-top-navigation allow-scripts"},r))})}Zu.defaultProps={value:"",style:null,scriptValues:[],initialScripts:[]},Zu.propTypes={className:y().string,id:y().string,value:y().string.isRequired,dataAttrs:y().object,style:y().object,name:y().string,GUID:y().string};var $N=(0,a.memo)(Zu,(t,e)=>t.scriptValues===e.scriptValues&&t.value===e.value);const zN="30px";var jG={popperIconSize:"18px",primaryColor:"#0bd688"};const xa="circle-item";function LN(t){const{name:e,caption:n,iconName:r,cellSize:o,onItemSelect:l,dummy:i}=t,c=be()(xa,{[`${xa}__dummy`]:i}),d={maxWidth:Dt(o==null?void 0:o.maxWidth),minWidth:Dt(o==null?void 0:o.minWidth)},u={width:(d.maxWidth+d.minWidth)/2},m=(0,a.useCallback)(f=>{var p;if(f.target.classList.contains("circle-item"))return null;const v=(p=f.currentTarget.dataset)==null?void 0:p.id;l(v)},[l]);return(0,s.jsxs)("div",{className:c,"data-id":e,style:d,onClick:m,title:n,children:[(0,s.jsx)("div",{className:`${xa}__icon-wrapper`,children:(0,s.jsx)(Ct,{className:`${xa}__icon`,size:zN,name:r})}),(0,s.jsx)("p",{className:`${xa}__title`,style:u,children:n})]})}var Ku=(0,a.memo)(LN),RG={popperIconSize:"18px",primaryColor:"#0bd688"};const Ir="circle-menu";function HN(t){const{circles:e,caption:n,cellSize:r,onItemSelect:o,entities:l}=t,[i,c]=(0,a.useState)(!1),d={maxWidth:35,minWidth:21},u={maxWidth:Dt(r==null?void 0:r.maxWidth),width:"100%",minWidth:Dt(r==null?void 0:r.minWidth)},m=50,f=(0,a.useCallback)(b=>{let h={x:3,y:2};return b<=4&&b>2?h={x:2,y:2}:b<=2&&(h={x:2,y:1}),h},[]),p=(0,a.useCallback)(()=>{c(!i)},[i]),v=(0,a.useCallback)(b=>b?(0,s.jsx)("h1",{className:`${Ir}__title`,children:b}):"",[]),g=(0,a.useCallback)(()=>{const b=f(e.length),h=e.map(P=>{const S=l==null?void 0:l[P.name];return(0,s.jsx)(Ku,{name:P.name,caption:S.caption,iconName:S.iconName,cellSize:d,onItemSelect:o,entities:l},P.name)}),C={borderRadius:"10px"},_={top:`${m}px`},O={width:`${m}px`,height:`${m}px`},M={gridTemplateColumns:`repeat(${b.x}, max-content)`,gridTemplateRows:`repeat(${b.y}, max-content)`};return(0,s.jsx)("div",{style:u,className:Ir,children:(0,s.jsx)(_l,{withArrow:!0,className:`${Ir}__drop-down-menu`,targetComponent:(0,s.jsxs)("div",{className:`${Ir}__arrow-container`,onClick:p,children:[(0,s.jsx)("div",{className:`${Ir}__arrow-wrapper`,style:O,children:(0,s.jsx)(Cn(),{size:"2x",name:"angle-right",className:`${Ir}__arrow`})}),(0,s.jsx)("p",{className:`${Ir}__more`,style:_,children:"\u0415\u0449\u0435..."})]}),needToRender:i,children:(0,s.jsxs)("div",{onClick:p,className:`${Ir}__drop-down-container`,children:[v(n),(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,translateContentSizesToHolder:!0,thumbYProps:{style:C},children:(0,s.jsx)("div",{className:`${Ir}__items-wrapper`,style:M,children:h})}),(0,s.jsx)("div",{className:`${Ir}__triangle`})]})})})},[e,l,o,p]);return(0,s.jsxs)(s.Fragment,{children:[i?(0,s.jsx)("div",{className:`${Ir}__substrate`,onClick:p}):"",g()]})}var WN=(0,a.memo)(HN),DG={popperIconSize:"18px",primaryColor:"#0bd688"};const Jr="tile";function VN(t){const{onItemSelect:e}=t,n=(0,a.useCallback)(({elements:c,elementsLength:d,cols:u,rows:m})=>{const f=u*m,p={renderInWrap:[],circlesInMenu:[],needToRenderMenu:d>f};return p.needToRenderMenu?(p.renderInWrap=c.slice(0,f-1),p.circlesInMenu=c.slice(f-1)):p.renderInWrap=c&&c.slice(),p},[]),r=(0,a.useCallback)((c,d)=>{const u=(0,s.jsx)("h1",{className:`${Jr}__title`,children:c||" "});return d!=null&&d.length?u:String.fromCharCode(160)},[]);let o=[];const l=(0,a.useCallback)(c=>{const{circlesItemsList:d,circlesInMenu:u,heightCircle:m,caption:f,cellSize:p,entities:v,needToRenderMenu:g,cols:b}=c;return d==null?void 0:d.reduce((C,_,O)=>{const M=o.length,P=d.length-1;if(P>O)if(M===b){const S=(0,s.jsx)("div",{className:`${Jr}__column-wrapper`,children:[...o]},_.key);C=C.concat(S),o=[_]}else o.push(_);else if(P===O){if(M===b){const j=(0,s.jsx)("div",{className:`${Jr}__column-wrapper`,children:[...o]},_.key);C=C.concat(j),o=[_]}else o.push(_);if(g&&o.push((0,s.jsx)(WN,{circles:u,heightCircle:m,caption:f,onItemSelect:e,cellSize:p,entities:v},f)),o.length<b){const j=b-o.length;for(let k=0;k<j;k++)o.push((0,s.jsx)(Ku,{dummy:!0,cellSize:p},k))}const S=(0,s.jsx)("div",{className:`${Jr}__column-wrapper`,children:[...o]},O);C=C.concat(S),o=[]}return C},[])},[o]),i=(0,a.useCallback)(c=>{const{id:d,cols:u,rows:m,caption:f,orientation:p,elements:v,index:g=0,length:b=0,cellSize:h,entities:C,heightCircle:_}=c,O=Boolean(f),M=Dt(h==null?void 0:h.maxWidth),P=be()(Jr,{[`${Jr}__vertical--offset`]:p==="vertical"&&g>0&&g+1!==b,[`${Jr}__vertical-orientation`]:p==="vertical"&&!O,[`${Jr}__horizontal-orientation`]:p==="horizontal"||O}),S=(v==null?void 0:v.filter(D=>!D.isExcluded).length)||0,k=(v==null?void 0:v.some(D=>D.elements))&&(v==null?void 0:v.map((D,H)=>{const E=C==null?void 0:C[D.name];if(!D.elements)return;const R={index:H,id:E.name,cols:E.cols,rows:E.rows,caption:E.caption,orientation:E.orientation,elements:D.elements,length:S,cellSize:h,entities:C};return i(R)})),w=!!(k!=null&&k.length),x=w?{}:{width:u*M},{renderInWrap:T,circlesInMenu:A,needToRenderMenu:B}=n({elements:v,elementsLength:S,cols:u,rows:m}),Z=T&&T.map(D=>{const H=C==null?void 0:C[D.name];return H.isExcluded?null:(0,s.jsx)(Ku,{name:D.name,caption:H==null?void 0:H.caption,iconName:H==null?void 0:H.iconName,cellSize:h,onItemSelect:e},D.name)}),V={circlesItemsList:Z,circlesInMenu:A,heightCircle:_,caption:f,cellSize:h,entities:C,needToRenderMenu:B,cols:u};return(0,s.jsxs)("div",{className:P,style:x,"data-id":d,children:[w||r(f,Z),(0,s.jsx)("div",{className:`${Jr}__wrapper`,children:w?k:l(V)})]},d)},[n,e,r,l]);return i(t)}var UN=(0,a.memo)(VN);const qu=(0,a.createContext)({});var NG={popperIconSize:"18px",primaryColor:"#0bd688"},GN=Object.defineProperty,ZN=Object.defineProperties,KN=Object.getOwnPropertyDescriptors,dg=Object.getOwnPropertySymbols,qN=Object.prototype.hasOwnProperty,YN=Object.prototype.propertyIsEnumerable,fg=(t,e,n)=>e in t?GN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yu=(t,e)=>{for(var n in e||(e={}))qN.call(e,n)&&fg(t,n,e[n]);if(dg)for(var n of dg(e))YN.call(e,n)&&fg(t,n,e[n]);return t},XN=(t,e)=>ZN(t,KN(e));const Ko="role-center";function JN(t){const{name:e,className:n,isExcluded:r,entities:o,schema:l,buttonsBefore:i,buttonsAfter:c}=t,{formId:d}=(0,a.useContext)(qu);if(r)return null;const u=be()(n,Ko),m=(0,a.useCallback)(b=>{Ge.saveSelectedRoleCenterItemId&&Ge.saveSelectedRoleCenterItemId(b),Ge.onRoleCenterCommandSend&&Ge.onRoleCenterCommandSend({id:b,controlId:"roleCenter",formId:d,roleCenterId:e})},[Ge.saveSelectedRoleCenterItemId,Ge.onRoleCenterCommandSend]),f=(0,a.useCallback)((b,h)=>b.elements?b.elements.map(C=>{const _=o[C.name];return(0,s.jsx)(UN,{id:C.name,cols:_.cols,rows:_.rows,caption:_.caption,elements:C.elements,orientation:_.orientation,cellSize:h.cellSize,onItemSelect:m,entities:o},C.name)}):[],[o,m]),p=(0,a.useCallback)((b,h)=>b.map(C=>{var _;if(C.type==="button")return(0,s.jsx)(Gt,Yu({className:`${Ko}__button-title ${h}`,metaSet:C.name,testId:C.name},C),C.name);if(C.type==="listButton"){let O=null;return(_=C.elements)!=null&&_.length&&(O=C.elements.map(M=>(0,s.jsx)(Gt,Yu({metaSet:M.name,testId:M.name},M),M.name))),(0,s.jsx)(xl,XN(Yu({className:`${Ko}__button-title ${h}`},C),{children:O}),C.name)}}),[]),v=(0,a.useCallback)(b=>{let h="",C="";return i!=null&&i.length&&(h=p(i,"before-title")),c!=null&&c.length&&(C=p(c,"after-title")),(0,s.jsxs)("div",{className:`${Ko}__title-group`,children:[h,(0,s.jsx)("h1",{className:`${Ko}__first-lvl-ids-title`,children:b||""}),C]})},[]),g=(0,a.useCallback)(b=>{const h=o[b.name],C=h.orientation==="vertical"?`${Ko}__vertical-orientation`:`${Ko}__horizontal-orientation`;return(0,s.jsxs)(a.Fragment,{children:[v(h.caption),(0,s.jsx)("div",{className:C,children:f(b,h)},b.name)]},b.name)},[o,f]);return(0,s.jsx)("div",{className:u,children:(0,s.jsx)(Ns,{children:l.map(b=>g(b))})})}var QN=(0,a.memo)(JN),eM=He(47229);function tM(t){return Boolean(t==null?void 0:t.current)}function Js(t,e){(0,a.useEffect)(()=>{let n;if(tM(t)?n=t==null?void 0:t.current:n=t,!n)return;const r=new io.Z(o=>{for(const l of o)window.requestAnimationFrame(()=>{e==null||e(l)})});return r.observe(n),()=>{r.unobserve(n)}},[])}var nM=Object.defineProperty,rM=Object.defineProperties,oM=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertySymbols,lM=Object.prototype.hasOwnProperty,aM=Object.prototype.propertyIsEnumerable,mg=(t,e,n)=>e in t?nM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qs=(t,e)=>{for(var n in e||(e={}))lM.call(e,n)&&mg(t,n,e[n]);if(pg)for(var n of pg(e))aM.call(e,n)&&mg(t,n,e[n]);return t},ei=(t,e)=>rM(t,oM(e));const Sa="chart",vg=t=>{var e,n,r;const o=((e=t.legend)==null?void 0:e.show)===void 0||((n=t.legend)==null?void 0:n.show);return!!((r=t.legend)!=null&&r.showForSingleSeries&&o)};function Xu(t){var e,n,r;const{className:o,style:l,series:i,options:c,chartType:d,height:u,dataAttrs:m,isDisabled:f,events:p,onDataPointSelect:v,onClick:g,metaSet:b,selfWidthByContent:h}=t,C=(0,a.useMemo)(()=>Un({style:l}),[l]),O=u?Wt(u):h?"auto":"100%",M=(0,a.useRef)(null);let P;const[S,j]=(0,a.useState)((0,$t.cloneDeep)(c)),k=be()(o,Sa,{[`${Sa}_disabled`]:f,[`${Sa}_custom-legend`]:vg(c)&&((e=i[0])==null?void 0:e.name)===""}),w=(0,a.useCallback)((T,A,B)=>{if(f)return!1;let Z=!0;const{detail:V}=T,D=B.seriesIndex+1,E={valueNumber:B.dataPointIndex+1,seriesNumber:D};if(V===1)P=setTimeout(()=>{if(Z&&g&&(Z=g({event:T,metaSet:b,value:E})),Z&&(p!=null&&p.onClick)){const{alias:R,args:L}=p.onClick;ve[R]({event:T,args:L,metaSet:b,value:E})}},200);else if(V===2&&(clearTimeout(P),Z&&v&&(Z=v({event:T,metaSet:b,value:E})),Z&&(p!=null&&p.onDataPointSelect))){const{alias:R,args:L}=p.onDataPointSelect;ve[R]({event:T,args:L,metaSet:b,value:E})}},[g,v,p]);(0,a.useEffect)(()=>{var T,A,B,Z,V,D,H;let E=(0,$t.cloneDeep)(c);if((A=(T=E.plotOptions)==null?void 0:T.bar)!=null&&A.horizontal||(E=ei(Qs({},E),{plotOptions:{bar:{dataLabels:{position:"top"}}}})),!((Z=(B=E.plotOptions)==null?void 0:B.bar)!=null&&Z.horizontal)&&((V=E.xaxis)!=null&&V.title)&&(E.xaxis.title={offsetY:80}),E.dataLabels&&d==="bar"&&!((D=E.plotOptions.bar)!=null&&D.horizontal)&&(E.dataLabels={offsetY:-25,position:"bottom",background:{enabled:!0,foreColor:"#333",borderRadius:2,padding:10,borderWidth:1.5,borderColor:"#aab"}}),d==="pie"&&!E.dataLabels&&(E.formatters.type==="value"?E.dataLabels={formatter:(R,L)=>L.w.config.series[L.seriesIndex]}:E.formatters.type==="names"&&(E.dataLabels={formatter:(R,L)=>L.w.config.formatters.names[L.seriesIndex]})),E.chart||(E.chart={}),!E.chart.parentHeightOffset&&(E.chart.parentHeightOffset=0),E.chart.animations||(E.chart.animations={enabled:!1}),["bubble","scatter"].includes(d)&&(i!=null&&i.length)){const{min:R,max:L,tickPlacement:U}=(E==null?void 0:E.xaxis)||{};if(R!==void 0&&L!==void 0&&U==="on"){const[q,W]=i.reduce((G,J)=>{const[oe,ce]=J.data.reduce((N,[$])=>[Math.min($,N[0]),Math.max($,N[1])],[Number.MAX_VALUE,Number.MIN_VALUE]);return[Math.min(oe,G[0]),Math.max(ce,G[1])]},[Number.MAX_VALUE,Number.MIN_VALUE]);(R<q||L>W)&&(E.chart.events=ei(Qs({},E.chart.events),{beforeZoom:function(G,{xaxis:J}){return J.min===q&&J.max===W&&(R<q&&(J.min=R),L>W&&(J.max=L)),{xaxis:J}}}))}}E.xaxis&&E.xaxis.categories&&!((H=E.plotOptions.bar)!=null&&H.horizontal)&&(E.xaxis={categories:E.xaxis.categories.reverse(),labels:{rotate:-45,rotateAlways:!1,minHeight:120}}),E.chart.events=ei(Qs({},E.chart.events),{dataPointSelection:(R,L,U)=>w(R,L,U),mounted:R=>{var L,U;(U=(L=c.chart.events)==null?void 0:L.mounted)==null||U.call(L),R.windowResizeHandler()}}),vg(E)&&(E.legend.formatter=(R,L)=>{const U=L.w.globals.labels||[];return R||U.map(q=>q).join("<br />")}),["area","line"].includes(E.chart.type)&&(E.tooltip||(E.tooltip={},E.tooltip.intersect=!0,E.tooltip.shared=!1),E.markers||(E.markers={},E.markers.size=5)),f&&(E.chart.toolbar={show:!1}),j(E)},[c,w,i,f]);const x=(0,a.useRef)(null);return Js((r=(n=x.current)==null?void 0:n.chart)==null?void 0:r.el,()=>{var T,A;const B=M.current,Z=(A=(T=x.current)==null?void 0:T.chart)==null?void 0:A.el;!B||!Z||!h||(B.style.height=Z.style.minHeight)}),(0,s.jsxs)("div",ei(Qs({className:k,style:C,ref:M},m),{children:[f&&(0,s.jsx)("div",{className:`${Sa}_overlay`}),i!=null&&i.length&&d?(0,s.jsx)(eM.Z,{ref:x,className:`${Sa}__apexchart`,options:S,series:i,type:d,height:O}):null]}))}Xu.propTypes={chartType:y().string,height:y().any,className:y().string,id:y().string.isRequired,dataAttrs:y().object.isRequired,events:y().object.isRequired,style:y().object,options:y().object,series:y().array,isDisabled:y().bool,isExcluded:y().bool,onDataPointSelect:y().func},Xu.defaultProps={chartType:""};var sM=(0,a.memo)(Xu),iM=sM,Nn=He(78092),ti=He(19688),MG={popperIconSize:"18px",primaryColor:"#0bd688"},TG={popperIconSize:"18px",primaryColor:"#0bd688"},cM=Object.defineProperty,uM=Object.defineProperties,dM=Object.getOwnPropertyDescriptors,hg=Object.getOwnPropertySymbols,fM=Object.prototype.hasOwnProperty,pM=Object.prototype.propertyIsEnumerable,gg=(t,e,n)=>e in t?cM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ju=(t,e)=>{for(var n in e||(e={}))fM.call(e,n)&&gg(t,n,e[n]);if(hg)for(var n of hg(e))pM.call(e,n)&&gg(t,n,e[n]);return t},bg=(t,e)=>uM(t,dM(e));const Ml="item-context-menu",yg="item-context-menu";var Cg=t=>{var e;const{caption:n,GUID:r,name:o,hint:l,iconName:i,isDisabled:c,isPressed:d,className:u,testId:m,index:f,currentActiveIndex:p}=t,v=(0,a.useRef)(null),g=m||yg,b=be()(u,Ml,{[`${Ml}_disabled`]:c,[`${Ml}_active`]:f===p}),h=`${Ml}-content`,C=be()(h,{[`${h}_pressed`]:d});let _={className:`${Ml}-icon`,"data-testid":`${yg}-icon`};const O=i||(d?"check":""),M=`${g}_icon`,P=O?O!=null&&O.includes("/")?(0,s.jsx)("img",bg(Ju({},_),{src:on(O),alt:"","data-testid":M})):(0,s.jsx)(Cn(),bg(Ju({},_),{name:O,"data-testid":M})):(0,s.jsx)("span",Ju({},_));return pr(v,l,(e=v==null?void 0:v.current)==null?void 0:e.innerText),(0,s.jsx)("div",{"data-item-id":o,"data-item-guid":r,"data-name":o,className:b,children:(0,s.jsxs)("div",{className:C,"data-id":o,"data-name":o,"data-testid":g,ref:v,children:[P,(0,s.jsx)("span",{className:`${Ml}-caption`,"data-testid":`${g}_caption`,children:lt.t(n)})]})},r||o)},mM=Object.defineProperty,vM=Object.defineProperties,hM=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,gM=Object.prototype.hasOwnProperty,bM=Object.prototype.propertyIsEnumerable,wg=(t,e,n)=>e in t?mM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tl=(t,e)=>{for(var n in e||(e={}))gM.call(e,n)&&wg(t,n,e[n]);if(_g)for(var n of _g(e))bM.call(e,n)&&wg(t,n,e[n]);return t},Pa=(t,e)=>vM(t,hM(e));const yM=document.getElementById("context-menu");function CM(t){const{itemsContextMenu:e,id:n,handleClickContextMenu:r,handleCloseContextMenu:o,metaSet:l,dataAttrs:i,events:c}=t,d=(0,a.useRef)(null),{hideAll:u}=(0,mr.av)({id:n}),m=Tl({"data-testid":"contextMenu-"+n},i),{pageZoom:f}=(0,st.v9)(_=>_.mainAppParams),p=(0,a.useCallback)(({event:_,data:O,props:M})=>{if(r){const{menuItem:P}=O;r(Pa(Tl({event:_,metaSet:O},M),{menuItem:P}))}},[r]),v=(0,a.useCallback)(_=>{d.current&&!d.current.contains(_.target)&&u(),o&&o(_)},[u,d]),g=(0,a.useCallback)(()=>{c!=null&&c.onShowContextMenu&&je({events:c,specificEvent:null,nativeEvent:"onShowContextMenu"});const _=f||1;if(_<1){const{left:O,top:M}=d.current.firstChild.style;d.current.firstChild.style.left=`${parseInt(O,10)/_}px`,d.current.firstChild.style.top=`${parseInt(M,10)/_}px`}document.addEventListener("click",v)},[v,f]),b=(0,a.useCallback)(()=>{document.removeEventListener("click",v)},[v]);(0,a.useEffect)(()=>b,[b]);const h=(_,O)=>{if(_.isExcluded===!0||_.disabled)return null;switch(_.type){case"separator":return(0,s.jsx)(mr.Z0,{},O);case"group":return(0,s.jsx)(mr.rS,{arrow:!1,className:"context-menu__item context-menu__submenu",label:(0,s.jsx)(Cg,Pa(Tl({},_),{index:O})),children:_.elements.map(h)},O);default:return(0,s.jsx)(mr.ck,{disabled:_.isDisabled,data:Pa(Tl({},l),{id:n,menuItem:_.name}),onClick:p,className:"context-menu__item",children:(0,s.jsx)(Cg,Pa(Tl({},_),{index:O}))},O)}},C=(0,a.useMemo)(()=>e==null?void 0:e.map(h),[e]);return(0,bo.createPortal)((0,s.jsx)("div",{ref:d,children:(0,s.jsx)(mr.v2,Pa(Tl({},m),{onShown:g,onHidden:b,className:"context-menu",animation:!1,id:n,children:C}))}),yM)}var xg=(0,a.memo)(CM),Fl=xg;const Sg=["string","number","integer","enum","date","checkbox","radio"],_M=[...Sg];function wM(t){return Sg.includes(t)}function ni(t){return _M.includes(t)}var xM=Object.defineProperty,Pg=Object.getOwnPropertySymbols,SM=Object.prototype.hasOwnProperty,PM=Object.prototype.propertyIsEnumerable,Ig=(t,e,n)=>e in t?xM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IM=(t,e)=>{for(var n in e||(e={}))SM.call(e,n)&&Ig(t,n,e[n]);if(Pg)for(var n of Pg(e))PM.call(e,n)&&Ig(t,n,e[n]);return t};const lr=26,Al=28,Ia=10,OM=41,tn="table",xo=tn+"__grid-header",EM=tn+"__grid-cells",Qu=xo+"-sorter",Og=xo+"-cell",Eg=Og+"-item";function Qr(t,e,n){return`${t}-${e}-${n}`}function kg(t,e){return dl(e,"rowId",t,1)}function jg(t,e){return dl(e,"rowId",t,-1)}function kM(t,e){return dl(e,"name",t,1)}function jM(t,e){return dl(e,"name",t,-1)}function RM(t,e={}){const{maxWidth:n,minWidth:r,width:o}=e;if(o===void 0)return null;const l=Math.round(o-t);return ed(l,r,n)}function ed(t=0,e,n){return n&&t>n?n:e&&t<e?e:t<Al?Al:t}function DM(t){return Number.isFinite(t)&&Number(t)!==0?Math.round(parseFloat(t)/4):t||null}const NM=(t,e)=>{var n,r;if(!e||!(t!=null&&t.length))return null;for(const o of t){if(o.name===e)return o;if((n=o.insideColumns)!=null&&n.length){const l=o.insideColumns.find(i=>i.name===e);if(l)return l}if((r=o.linkedColumns)!=null&&r.length){const l=NM(o.linkedColumns,e);if(l)return l}}return null},Rg=(t,e)=>{const n=Object.assign({},e),r={},o=(i,c)=>{r[i]||(r[i]=[]),r[i].push(c)},l=(i,c=1)=>{var d,u,m;const f={row:c,height:(m=(u=(d=e[i.name])==null?void 0:d.headerSize)==null?void 0:u.height)!=null?m:lr},{name:p,rowspan:v,linkedColumns:g}=i;if(v&&v>1&&!g.length){f.rowspan=v;for(let b=c+1;b<=v;b++)o(b,p)}n[p]?n[p].headerSize=f:n[p]={headerSize:f},o(c,p),i.linkedColumns.forEach(b=>l(b,c+1))};return t.forEach(i=>l(i)),{newHeaderRows:r,newTableSizes:n}},Dg=(t,e,n,r)=>{const o=Object.entries(t),l=e-(n?Ia:0);let i=0,c=0;const d={};o.forEach(([p,v])=>{d[p]=IM({},v),v.isFixSize&&v.width?i+=v.width:v.width&&c++});const u=()=>l-i-r-4;let m=!0;const f=[];for(;m;)m=!1,o.forEach(([p,v])=>{const{width:g,minWidth:b,maxWidth:h,isFixSize:C}=v;if(C||f.includes(p)||!g)return;let _=Math.round(u()/c);const O=ed(_,b,h);_!==O&&(f.push(p),i+=O,c--,_=O,m=!0),d[p].width=_});return d},td=(t,e=[],n)=>{var r,o;const l=(r=e[t])==null?void 0:r.rowId;if(l){const i=lr-8;return(((o=n[l])==null?void 0:o.reduce((d,u)=>u>d?u:d,i))||i)+8}return lr},MM=({rowsData:t=[],columnsData:e,wrapperWidth:n,isCardFile:r,getWidthColumn:o,serviceListWidth:l,rowsHeights:i,headerHeight:c,hasScroll:d,isTableOptimisationNeeded:u})=>{const m=t.length||1,f=n||0;let p;r?p=f:p=e.reduce((h,{name:C})=>h+o({name:C}),l)+2;let v,g=0;for(let b=0;b<m;b++){let h=td(b,t,i);t.length||(h-=lr),g+=h}return v=g+c+4,d.horizontal&&(v+=Ia),d.vertical&&u&&(p+=Ia),{countedWidth:p,countedHeight:v}};var TM=Object.defineProperty,FM=Object.defineProperties,AM=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,BM=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable,Mg=(t,e,n)=>e in t?TM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tg=(t,e)=>{for(var n in e||(e={}))BM.call(e,n)&&Mg(t,n,e[n]);if(Ng)for(var n of Ng(e))$M.call(e,n)&&Mg(t,n,e[n]);return t},Fg=(t,e)=>FM(t,AM(e));const ri=({isActive:t,isDisabled:e,isSelected:n})=>z.iv`
  display: flex;
  padding: 0px 8px;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid ${()=>I("table-border-default")};
  border-right: 1px solid ${()=>I("table-border-default")};
  font-size: 12px;
  background-color: white;
  overflow: hidden;
  
  .string, .date__input {
    font-size: 12px;
    color: ${()=>I("text")};
  }

  ${t&&z.iv`
    background-color: ${()=>I("table-cell-background-active")};
  `}

  ${n&&z.iv`
    background-color: ${()=>I("table-cell-background-selected","#D6F5E9")};
  `}

  ${e&&z.iv`
    pointer-events: initial !important;
    background-color: ${()=>I("table-cell-background-disabled")};
    & .string__input {
      background-color: inherit;
      border: none;
    }
  `}

  ${t&&n&&z.iv`
    background-color: ${()=>I("table-cell-background-active-selected")};
  `}

  ${t&&e&&z.iv`
    background-color: ${()=>I("table-cell-background-active-disabled")};
  `}

  ${n&&e&&z.iv`
    background-color: ${()=>I("table-cell-background-selected-disabled","#D6F5E9")};
  `}

  ${t&&n&&e&&z.iv`
    background-color: ${()=>I("table-cell-background-active-selected-disabled")};
  `}

  .string_static,
  .enum_static {
    border-color: transparent;
    background-color: transparent;
  }
`,Bl=({type:t,state:e={}}={})=>{switch(t){case"header":return z.iv`
        ${ri(e)}
        background-color: ${()=>I("table-header-background-default")};
        border-bottom: none;
      `;case"service":{const n=Fg(Tg({},e),{isDisabled:!1});return z.iv`
        ${ri(n)}
        width: 32px;
        height: 100%;
      `}case"service-header":{const n=Fg(Tg({},e),{isDisabled:!1});return z.iv`
        ${ri(n)}
        background-color: ${()=>I("table-header-background-default")};
        border-bottom: none;

        width: 32px;
        height: 100%;
      `}case"cell":default:return ri(e)}},zM=(0,z.ZP)("div")`
  ${({cellState:t,cellType:e})=>Bl({state:t,type:e})}
`;var LM=Object.defineProperty,HM=Object.defineProperties,WM=Object.getOwnPropertyDescriptors,oi=Object.getOwnPropertySymbols,Ag=Object.prototype.hasOwnProperty,Bg=Object.prototype.propertyIsEnumerable,$g=(t,e,n)=>e in t?LM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VM=(t,e)=>{for(var n in e||(e={}))Ag.call(e,n)&&$g(t,n,e[n]);if(oi)for(var n of oi(e))Bg.call(e,n)&&$g(t,n,e[n]);return t},UM=(t,e)=>HM(t,WM(e)),GM=(t,e)=>{var n={};for(var r in t)Ag.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&oi)for(var r of oi(t))e.indexOf(r)<0&&Bg.call(t,r)&&(n[r]=t[r]);return n};function ZM(t,e){const n=t,{children:r,isActive:o,isDisabled:l,isSelected:i,cellType:c}=n,d=GM(n,["children","isActive","isDisabled","isSelected","cellType"]);return(0,s.jsx)(zM,UM(VM({ref:e},d),{cellType:c,cellState:{isActive:o,isDisabled:l,isSelected:i},children:r}))}var KM=(0,a.forwardRef)(ZM),qM=Object.defineProperty,YM=Object.defineProperties,XM=Object.getOwnPropertyDescriptors,li=Object.getOwnPropertySymbols,zg=Object.prototype.hasOwnProperty,Lg=Object.prototype.propertyIsEnumerable,Hg=(t,e,n)=>e in t?qM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$r=(t,e)=>{for(var n in e||(e={}))zg.call(e,n)&&Hg(t,n,e[n]);if(li)for(var n of li(e))Lg.call(e,n)&&Hg(t,n,e[n]);return t},nd=(t,e)=>YM(t,XM(e)),Wg=(t,e)=>{var n={};for(var r in t)zg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&li)for(var r of li(t))e.indexOf(r)<0&&Lg.call(t,r)&&(n[r]=t[r]);return n},Vg=(0,a.memo)(({data:t,columnIndex:e,rowIndex:n,style:r})=>{var o,l,i,c,d;const{tableId:u,columns:m,rows:f,currentRowId:p,currentColumnId:v,isCardFile:g,onRowSelect:b,onRowsSelect:h,isInPlaceEdit:C,editableRowId:_,onNavigation:O,onCellDoubleClick:M,onCellControlEvent:P,onRowsBlur:S,onRowHeightChange:j,showContextMenuColumn:k,onMove:w,setFocusedEditableCell:x,tableWasFocused:T,wasServiceRowFocused:A,getWidthColumn:B,cellsBackgroundColor:Z,selectedRowIds:V}=t,D=["string","number","integer","enum","checkbox","date","button","listButton","label","radio"],H=f[n]||null,E=m[e],{name:R,control:L,isDisabled:U}=E,q=H?H.rowId:null,W=(H==null?void 0:H[R])||{},G=W,{style:J,isRequired:oe,isWrapped:ce,isMultiLine:N,dataAttrs:$={}}=G,K=Wg(G,["style","isRequired","isWrapped","isMultiLine","dataAttrs"]),ee=nd($r({},J),{width:DM(B({name:R}))}),ne={rowId:q,rowIndex:n,columnId:R,columnIndex:e},se=p===q,me=_===q,ye=v===R&&se,ue=`${tn}__grid-cell`,Re=be()(ue,{[`${tn}__main-cell`]:!0,[`${ue}_active`]:se&&!U,[`${ue}_disabled`]:U,[`${ue}_active_disabled`]:se&&U}),De=L,{events:xe}=De,Ne=Wg(De,["events"]),{type:Te,hint:it}=Ne,$e=(0,a.useRef)(null),ze=(0,a.useRef)(null),we=(0,a.useRef)(mn.active),_e=Qr(u,q,R),Oe=(0,st.v9)(At),Ye=(0,a.useCallback)((ie,{event:Q,value:ae,rowId:Ie,columnId:Be})=>(P({event:Q,eventType:ie,control:L,cellData:ne,value:ae,targetRowId:Ie,targetColumnId:Be}),!0),[L,ne,P]),qe=(0,a.useCallback)(ie=>{var Q;const{detail:ae,ctrlKey:Ie,shiftKey:Be}=ie;if(ae===1&&!C&&(Ie&&b({event:ie,rowId:q}),Be)){const re=f.findIndex(Ce=>Ce.rowId===q),pe=f.findIndex(Ce=>Ce.rowId===p),Se=[re,pe].sort((Ce,Je)=>Ce-Je),We=[];for(let Ce=Se[0]+1;Ce<=Se[1];Ce++)We.push(f[Ce].rowId);h({event:ie,rowIds:We}),document.getSelection().removeAllRanges()}ae===2&&M&&(!C||p!==q)&&((Q=ze.current)==null||Q.focus(),M({event:ie,rowId:q}))},[q,M,b,ze,C]),dt=(0,a.useCallback)(ie=>{var Q;Pt(ie);const{keyCode:ae}=ie,Ie=Sr(ae),Be=Ur(ae);if(ua(ae)&&!C&&b({event:ie,rowId:q}),(Ie||Be)&&(we.current!==mn.editable||g)){const re=Ie?jg(q,f):kg(q,f);return(Q=document.getElementById(Qr(u,re,R)))==null||Q.focus({preventScroll:!0}),!1}return!0},[u,q,R,f,C,b,we]),ft=(0,a.useCallback)(({event:ie})=>{let Q={rowId:q,columnId:R};return se&&delete Q.rowId,R===v&&delete Q.columnId,w({event:ie,value:{submit:!se||!T.current&&!g,rowId:q,columnId:R}}),(Q.rowId||Q.columnId)&&q==="serviceRow"&&!A.current&&(A.current=!0,O({event:ie,value:Q})),T.current||(T.current=!0),!0},[O,q,p,R,v,w,se,T,A]),rt=(0,a.useCallback)(({event:ie})=>{var Q;const ae=(Q=ie==null?void 0:ie.relatedTarget)==null?void 0:Q.dataset;return((ae==null?void 0:ae.tableId)!==u||!Ae(ae,"rowId"))&&S({event:ie,value:{lastSelectedRowId:q}}),!0},[u,S,q]),bt=(0,a.useCallback)(({event:ie,value:Q})=>(Ye("onImplicitChange",{event:ie,value:Q}),!0),[Ye]),pt=(0,a.useCallback)(({event:ie})=>{const{shiftKey:Q}=ie,ae=m.filter(Be=>!Be.isDisabled);return(Q?jM(R,ae):kM(R,ae))===R&&ie.preventDefault(),!1},[R,m]),mt=(0,a.useCallback)(ie=>(Ye("onEnter",ie),!0),[Ye,we]),Le=(0,a.useCallback)(ie=>(Ye("onEdit",ie),!0),[Ye,we]),de=(0,a.useCallback)(({value:ie})=>{we.current=ie},[we]),Ze=(0,a.useCallback)(({value:ie})=>{const Q=ie.borderBoxSize.blockSize;j({rowId:q,rowIndex:n,columnIndex:e,height:Q})},[q,n,e,j]),ot=(0,a.useMemo)(()=>nd($r({},$),{["data-table-id"]:u,["data-row-id"]:q,["data-column-id"]:R}),[u,q,R,$]);let gt=null;//!
if(D.includes(Te)){const ie={isWrapped:ce,isMultiLine:N,isRequired:oe,hint:it,style:ee,className:`${tn}__cell-control`||null,isDisabled:U,focusedElement:ze,isStatic:U||g&&(!me||!C),isParentTable:!0,tabIndex:Vr(C&&!U)},Q={};for(const Ie in xe)Ae(xe,Ie)&&(Q[Ie]=Ye.bind(void 0,Ie));Q.onTab=pt,Q.onBlur=rt,Q.onEnter=mt,Q.onModeChange=de,Q.onEdit=xe&&Object.keys(xe).includes("onEdit")&&Le;let ae=null;switch(Te){case"checkbox":{ie.isStatic=!C;break}case"button":{ie.isStatic=!C;break}case"listButton":{ie.isStatic=!C,(o=Ne.elements)!=null&&o.length&&(ae=Ne.elements.map(Ie=>{var Be;const re=$r({},Ie);return(Be=Ie==null?void 0:Ie.actions)!=null&&Be.length&&Ie.actions.forEach(pe=>{re[pe]=Ye.bind(void 0,pe)}),Vl(re,Ne.isDisabled)}));break}case"radio":{ie!=null&&ie.group||(ie.group="radioGroup-"+u+"-"+q);break}default:break}ie.dataAttrs=ot,ie.value=W.value,ni(Te)&&(ie.formattedValue=W.formattedValue||W.value,Q.onImplicitChange=bt),ie.isWrapped&&(Q.onResize=Ze),gt=Vl($r($r($r($r({GUID:_e},Ne),ie),K),Q),!1,ae)}gt!==null&&!gt.props.style.backgroundColor&&Z&&!se&&g&&(gt.props.style.backgroundColor=Z),(0,a.useEffect)(()=>{var ie;g&&ye&&C&&ze.current&&!U&&((ie=ze.current)==null||ie.focus(),x(ze.current))},[ye,C]);const{show:he}=(0,mr.av)({id:u,props:{rowId:q,columnId:R}}),fe=ie=>{var Q;he(ie),(Q=ze.current)==null||Q.focus()};if(H){if(Oe){const ie={style:$r({backgroundColor:(i=(l=gt==null?void 0:gt.props)==null?void 0:l.style)==null?void 0:i.backgroundColor},r),tabIndex:-1,onClick:qe,onKeyDown:dt,onFocus:ft,onContextMenu:k?fe:null,isActive:se,isDisabled:U,isSelected:V.includes(q.toString()),mainCssClass:tn};return(0,s.jsx)(KM,nd($r({ref:$e},ie),{"data-cell":"",children:gt}))}return(0,s.jsx)("div",{ref:$e,className:Re,style:$r({backgroundColor:(d=(c=gt==null?void 0:gt.props)==null?void 0:c.style)==null?void 0:d.backgroundColor},r),tabIndex:-1,"data-cell":"",onClick:qe,onKeyDown:dt,onContextMenu:k?fe:null,onFocus:ft,children:gt})}else return null},Nn.wy);const JM=(0,z.ZP)("div")`
  display: flex;
  align-items: center;
`,rd=(0,z.ZP)("div")`
      ${({isActiveRow:t,isSelectedRow:e})=>Bl({type:"service",state:{isActive:t,isSelected:e}})}
`,QM=(0,z.ZP)(rd)`
  width: 4px;
  border-right: none;
  flex: 0 0 auto;

  ${({isActiveRow:t,isSelectedRow:e,cellBgColor:n})=>!e&&z.iv`
      background-color: ${t?I("table-cell-background-active"):n};
    `}
`,eT=(0,z.ZP)(rd)`
  width: 32px;
  justify-content: initial;
  padding-left: 4px;
  flex: 0 0 auto;

  ${({isActiveRow:t,isSelectedRow:e,cellBgColor:n})=>!e&&z.iv`
      background-color: ${t?I("table-cell-background-active"):n};
    `}
`,tT=(0,z.ZP)(rd)`
  padding: 2px;
  flex: 0 0 auto;

  ${({isActiveRow:t,isSelectedRow:e})=>!e&&t&&z.iv`
      background-color: ${I("table-cell-background-active")};
    `}
`,nT=(0,z.ZP)("div")`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 60%;
  aspect-ratio: 1 / 1;
  
  .img {
    max-width: 100%;
    max-height: 100%;
  }
`;var Oa=(t=>(t.checkBox="sc-checkBox",t.subMenu="sc-subMenu",t.image="sc-image",t))(Oa||{});const rT=16,oT=t=>{const{cellData:e,style:n,rowId:r,rowIcon:o,isActiveRow:l,isSelectedRow:i,styleImagCell:c,checkBoxTestId:d,handleCellClick:u,handleClickIcon:m,handleKeyDown:f,handleFocus:p,handleBlur:v,handleCheckBoxChange:g,controlDataAttrs:b}=t,{tableId:h,isDisabled:C,showSelectColumn:_,showIcon:O,cellsBackgroundColor:M}=e!=null?e:{};return(0,s.jsxs)(JM,{style:n,children:[_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(QM,{isActiveRow:l,isSelectedRow:i,cellBgColor:M}),(0,s.jsx)(eT,{isActiveRow:l,isSelectedRow:i,cellBgColor:M,"data-table-id":h,"data-row-id":r,"data-column-id":Oa.checkBox,onClick:u,onKeyDown:f,onFocus:p,onBlur:v,tabIndex:-1,children:(0,s.jsx)(Go,{id:Qr(h,r,Oa.checkBox),isDisabled:C,value:i,onChange:g,dataAttrs:b,metaSet:{rowId:r},tabIndex:-1,testId:d,isParentTable:!0})})]}),O&&(0,s.jsx)(tT,{isActiveRow:l,isSelectedRow:i,"data-table-id":h,"data-row-id":r,"data-column-id":Oa.image,style:c,onClick:m,onKeyDown:f,onFocus:p,onBlur:v,tabIndex:-1,children:(0,s.jsx)(nT,{children:(0,s.jsx)(Ct,{tabIndex:-1,id:Qr(h,r,Oa.image),name:o.name,type:"line",size:rT,color:o==null?void 0:o.color,"data-table-id":h,"data-row-id":r})})})]})};var lT=(0,a.memo)(oT),aT=Object.defineProperty,Ug=Object.getOwnPropertySymbols,sT=Object.prototype.hasOwnProperty,iT=Object.prototype.propertyIsEnumerable,Gg=(t,e,n)=>e in t?aT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cT=(t,e)=>{for(var n in e||(e={}))sT.call(e,n)&&Gg(t,n,e[n]);if(Ug)for(var n of Ug(e))iT.call(e,n)&&Gg(t,n,e[n]);return t},Zg=(0,a.memo)(({data:t,index:e,style:n})=>{const{tableId:r,isDisabled:o,rows:l,currentRowId:i,selectedRowIds:c,showSelectColumn:d,showIcon:u,onRowsBlur:m,testId:f,onRowSelect:p,onRowsSelect:v,onNavigation:g,onMove:b,onCellDoubleClick:h,onClickIcon:C,isCardFile:_,tableWasFocused:O,wasServiceRowFocused:M,isInPlaceEdit:P,cellsBackgroundColor:S}=t,j={checkBox:"sc-checkBox",subMenu:"sc-subMenu",image:"sc-image"},k=l[e]||null,w=(k==null?void 0:k.rowId)||null,x=(k==null?void 0:k.iconName)||{},T=i===w,A=c.includes(w),B=be()(`${tn}__grid-cell`,`${tn}__service-cell`,{[`${tn}__grid-cell_active`]:T}),Z=`${tn}__row-marker`,V=be()(B,Z,{[`${Z}_select`]:A,[`${Z}_edit`]:!1}),D=be()(B,`${tn}__row-selector`),H=be()(B,`${tn}__row-image`),E=K=>{const ee={};return K!=null&&K.bgColor?ee.backgroundColor=K.bgColor:!(K!=null&&K.bgColor)&&S&&!T&&(ee.backgroundColor=S),ee},R=bf(x==null?void 0:x.color),L=E(x),U=`${f}_${w}_checkbox-selector`,q=(0,a.useCallback)(K=>{const{detail:ee,ctrlKey:ne,shiftKey:se}=K;if(g&&g({event:K,value:{rowId:w}}),ee===1&&!P&&(ne&&p({event:K,rowId:w}),se)){const ye=l.findIndex(xe=>xe.rowId===w),ue=l.findIndex(xe=>xe.rowId===i),Re=[ye,ue].sort((xe,Ne)=>xe-Ne),De=[];for(let xe=Re[0]+1;xe<=Re[1];xe++)De.push(l[xe].rowId);v({event:K,rowIds:De}),document.getSelection().removeAllRanges()}ee===2&&h&&h({event:K,rowId:w})},[w,g,h]),W=K=>{const{detail:ee}=K;ee===1&&C&&!_?C({event:K,rowId:w}):ee===1&&h&&_&&h({event:K,rowId:w})},G=(0,a.useCallback)(K=>{var ee;Pt(K);const{keyCode:ne,currentTarget:{dataset:{tableId:se,columnId:me,rowId:ye}}}=K,ue=Sr(ne),Re=Ur(ne);if(ua(ne)&&!P&&p({event:K,rowId:ye}),ue||Re){const De=ue?jg(ye,l):kg(ye,l);return(ee=document.getElementById(Qr(se,De,me)))==null||ee.focus(),!1}return!0},[l,P,p]),J=(0,a.useCallback)(K=>(b({event:K,value:{submit:!T||!O.current&&!_,rowId:w}}),O.current||(O.current=!0),w==="serviceRow"&&!M.current&&(M.current=!0,g({event:K,value:{rowId:w}})),!0),[g,w,O,T,M,b]),oe=(0,a.useCallback)(K=>{var ee;const ne=(ee=K.relatedTarget)==null?void 0:ee.dataset;return((ne==null?void 0:ne.tableId)!==r||!Ae(ne,"rowId"))&&m({event:K,value:{lastSelectedRowId:w}}),!0},[r,m,w]),ce=(0,a.useCallback)(({event:K,value:ee})=>{p&&p({event:K,value:ee,rowId:w})},[p,w]),N=(0,a.useMemo)(()=>({["data-table-id"]:r,["data-row-id"]:w}),[r,w]);if(Boolean((0,st.v9)(At))){const K={cellData:t,style:n,columnIds:j,rowId:w,rowIcon:x,isActiveRow:T,isSelectedRow:A,styleImagCell:L,checkBoxTestId:U,handleCellClick:q,handleClickIcon:W,handleKeyDown:G,handleFocus:J,handleBlur:oe,handleCheckBoxChange:ce,controlDataAttrs:N};return(0,s.jsx)(lT,cT({},K))}return(0,s.jsxs)("div",{className:`${tn}__grid-service-row`,style:n,children:[d&&(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{className:V,style:{backgroundColor:T?null:S}}),(0,s.jsx)("div",{className:D,style:{backgroundColor:T?null:S},"data-table-id":r,"data-row-id":w,"data-column-id":j.checkBox,onClick:q,onKeyDown:G,onFocus:J,onBlur:oe,tabIndex:-1,children:(0,s.jsx)(Go,{id:Qr(r,w,j.checkBox),isDisabled:o,value:A,onChange:ce,dataAttrs:N,metaSet:{rowId:w},tabIndex:-1,testId:U,isParentTable:!0})})]}),u&&(0,s.jsx)("div",{className:H,"data-table-id":r,"data-row-id":w,"data-column-id":j.image,style:L,onClick:W,onKeyDown:G,onFocus:J,onBlur:oe,tabIndex:-1,children:(0,s.jsx)("div",{className:"service-cell__img-container",children:(0,s.jsx)("img",{style:R,tabIndex:-1,id:Qr(r,w,j.image),className:"img",src:on(x.name),"data-table-id":r,"data-row-id":w,alt:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"})})})]})},Nn.wy),uT=He(18446),dT=He.n(uT);const fT=({_ref:t,cellColor:e,textStyle:n,hasSorter:r,handleMouseUp:o,handleCellResizeMouseDown:l,className:i,controlClasses:c,sorterClasses:d,isFixSize:u,title:m,children:f,tabIndex:p,height:v})=>{const g=(0,s.jsxs)("div",{className:be()(c,i),style:{position:"relative",height:v},onMouseUp:o,tabIndex:p,children:[(0,s.jsx)("span",{className:`table__grid-header-drop-indicator\r
            table__grid-header-drop-indicator__left`}),(0,s.jsx)("span",{ref:t,className:"table__grid-header-text text-ellipsis",style:n,title:m,children:f}),r&&(0,s.jsx)("span",{className:d}),!u&&(0,s.jsx)("div",{className:"table__grid-header-lane-resizable",onMouseDown:l}),(0,s.jsx)("span",{className:`table__grid-header-drop-indicator\r
            table__grid-header-drop-indicator__right`})]});return e?(0,s.jsx)("div",{className:"table__grid-header-cell-item_wrapper",style:{background:e},children:g}):g};var pT=(0,a.memo)(fT),mT=Object.defineProperty,vT=Object.defineProperties,hT=Object.getOwnPropertyDescriptors,Kg=Object.getOwnPropertySymbols,gT=Object.prototype.hasOwnProperty,bT=Object.prototype.propertyIsEnumerable,qg=(t,e,n)=>e in t?mT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yg=(t,e)=>{for(var n in e||(e={}))gT.call(e,n)&&qg(t,n,e[n]);if(Kg)for(var n of Kg(e))bT.call(e,n)&&qg(t,n,e[n]);return t},Xg=(t,e)=>vT(t,hT(e));const yT=t=>{const{headerCellData:e,getWidthHeader:n}=t;return(0,s.jsx)(s.Fragment,{children:e.linkedColumns.map(r=>{const{style:o}=r,l=n(r),i=Xg(Yg({},o),{width:l+"px",maxWidth:l+"px",minWidth:l+"px"});return(0,a.createElement)(cb,Xg(Yg({},t),{headerCellData:r,style:i,key:r.name}))})})};var CT=(0,a.memo)(yT);const _T=(0,z.ZP)("div")`
  padding: 0 8px;
  flex-grow: 1;
  flex-shrink: 1;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  box-sizing: border-box;
  border-top: none;

  text-align: center;
  line-height: 1.5;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;

  ${({hasOnClick:t})=>t&&z.iv`
      cursor: default;
      &:hover {
        background: linear-gradient(
          to top,
          ${()=>I("table-header-background-default")} 25%,
          white
        );
      }
    `}

  ${({staticStyle:t})=>{switch(t){case"staticHyperlink":return z.iv`
          ${J1};
          border-right: 1px solid ${()=>I("table-border-default")};
          cursor: pointer;
        `;case"staticButton":return z.iv`
          ${Y1};
          padding: 2px 3px;
          background-color: ${()=>I("table-background-default","white")};
          box-shadow: inset 0px -10px 10px #efecff;
          border: 1px solid ${()=>I("table-border-default")};
          transition: 0.3s;
          &:first-of-type {
            border-top: 1px solid ${()=>I("table-border-default")};
          }
          &:active {
            box-shadow: inset 0px 10px 10px #efecff;
            & span {
              transform: translate(1px, 1px);
            }
          }
          &:hover {
            border: 1px solid #4f99d4;
            background-color: #f6fafd;
          }
        `;case"staticHeader":return z.iv`
          ${X1};
          width: inherit;
        `;case"normalText":return z.iv`
          &:focus {
            border: 1px dotted ${()=>I("text")};
            &:first-of-type {
              border-top: 1px dotted ${()=>I("text")};
            }
          }
        `;default:return""}}}
`,wT=(0,z.ZP)("span")`
  flex-grow: 1;
  text-align: center;
  line-height: 1.5;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;

  ${({isEllipsis:t})=>t&&z.iv`
      white-space: normal;
    `}
`,xT=(0,z.ZP)("div")`
  position: absolute;
  height: 100%;
  width: 7px;
  cursor: e-resize;
  right: 0px;
`,ST=(0,z.ZP)("div")`
  width: inherit;
  background-color: ${({cellColor:t})=>t};
`,Jg=(0,z.ZP)("div")`
  position: absolute;
  height: 100%;
  width: 7px;
  background-color: ${()=>I("table-drop-indicator-background-default")};
  display: none;

  ${({side:t})=>{if(t==="left")return z.iv`
        left: 0px;
      `;if(t==="right")return z.iv`
        right: 0px;
      `}}
`,PT=16,IT=({_ref:t,cellColor:e,staticStyle:n,hasOnClick:r,textStyle:o,hasSorter:l,handleMouseUp:i,handleCellResizeMouseDown:c,className:d,sortDir:u,isFixSize:m,title:f,children:p,tabIndex:v,height:g})=>{const b=u?`sort-${u}`:"",h=(0,s.jsxs)(_T,{staticStyle:n,hasOnClick:r,className:d,style:{position:"relative",height:g},onMouseUp:i,tabIndex:v,children:[(0,s.jsx)(Jg,{side:"left",className:"table__grid-header-drop-indicator"}),(0,s.jsx)(wT,{isEllipsis:!0,ref:t,style:o,title:f,children:p}),l&&(0,s.jsx)(Ct,{name:b,size:PT,type:""}),!m&&(0,s.jsx)(xT,{onMouseDown:c}),(0,s.jsx)(Jg,{side:"right",className:"table__grid-header-drop-indicator"})]});return e?(0,s.jsx)(ST,{cellColor:e,children:h}):h};var OT=(0,a.memo)(IT);const ET=(0,z.ZP)("div")`
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-right: 1px solid ${()=>I("table-border-default")};
  box-sizing: border-box;
  flex-grow: 1;
  flex-shrink: 1;
`,kT=(0,z.ZP)("div")`
  flex-grow: 1;
  flex-shrink: 1;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  box-sizing: border-box;
  position: relative;
  padding-left: 1px;
  margin-top: 1px;

  &::before {
    content: "";
    width: inherit;
    height: 1px;
    position: absolute;
    top: -1px;
    left: 0px;
    background-color: ${()=>I("table-border-default","black")};
  }
`;var jT=Object.defineProperty,RT=Object.defineProperties,DT=Object.getOwnPropertyDescriptors,Qg=Object.getOwnPropertySymbols,NT=Object.prototype.hasOwnProperty,MT=Object.prototype.propertyIsEnumerable,eb=(t,e,n)=>e in t?jT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tb=(t,e)=>{for(var n in e||(e={}))NT.call(e,n)&&eb(t,n,e[n]);if(Qg)for(var n of Qg(e))MT.call(e,n)&&eb(t,n,e[n]);return t},nb=(t,e)=>RT(t,DT(e));const TT=t=>{const{headerCellData:e,getWidthHeader:n}=t;return(0,s.jsx)(s.Fragment,{children:e.linkedColumns.map(r=>{const{style:o}=r,l=n(r),i=nb(tb({},o),{width:l+"px",maxWidth:l+"px",minWidth:l+"px"});return(0,a.createElement)(od,nb(tb({},t),{headerCellData:r,style:i,key:r.name}))})})};var FT=(0,a.memo)(TT),AT=Object.defineProperty,BT=Object.defineProperties,$T=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,ob=Object.prototype.propertyIsEnumerable,lb=(t,e,n)=>e in t?AT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ea=(t,e)=>{for(var n in e||(e={}))rb.call(e,n)&&lb(t,n,e[n]);if(ai)for(var n of ai(e))ob.call(e,n)&&lb(t,n,e[n]);return t},zT=(t,e)=>BT(t,$T(e)),LT=(t,e)=>{var n={};for(var r in t)rb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ai)for(var r of ai(t))e.indexOf(r)<0&&ob.call(t,r)&&(n[r]=t[r]);return n};const HT=t=>{var e,n;const r=t,{containerRef:o,className:l,headerCellData:i,columnIndex:c,sortDir:d,hasOnClick:u,hasLinkedColumns:m,style:f,getHeaderCellHeight:p,handleControlMouseUp:v,handleCellResizeMouseDown:g,handleContextMenu:b}=r,h=LT(r,["containerRef","className","headerCellData","columnIndex","sortDir","hasOnClick","hasLinkedColumns","style","getHeaderCellHeight","handleControlMouseUp","handleCellResizeMouseDown","handleContextMenu"]),C={_ref:o,hasSorter:d!=="none",sortDir:d,staticStyle:i.staticStyle,hasOnClick:u,textStyle:Ea({textAlign:"left"},i.style),handleMouseUp:v,handleCellResizeMouseDown:g,isFixSize:i.isFixSize||!!i.sizes.fixedSize.length,title:(e=i.hint)!=null?e:i.title,cellColor:i.cellColor,tabIndex:Vr(u),height:p(i.name)},_=Ea(Ea({},t),h);return(0,s.jsxs)(ET,{className:l,style:f,onContextMenu:b,"data-column-index":c,children:[(0,s.jsx)(OT,zT(Ea({},C),{children:(n=i.title)!=null?n:""})),m&&Boolean(i.linkedColumns.length)&&(0,s.jsx)(kT,{children:(0,s.jsx)(FT,Ea({},_))})]},i.name)};var WT=(0,a.memo)(HT),VT=Object.defineProperty,UT=Object.defineProperties,GT=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,ZT=Object.prototype.hasOwnProperty,KT=Object.prototype.propertyIsEnumerable,sb=(t,e,n)=>e in t?VT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,si=(t,e)=>{for(var n in e||(e={}))ZT.call(e,n)&&sb(t,n,e[n]);if(ab)for(var n of ab(e))KT.call(e,n)&&sb(t,n,e[n]);return t},ib=(t,e)=>UT(t,GT(e));const qT=t=>{var e,n,r;const{className:o,headerCellData:l,columnIndex:i,style:c,isResizedHeaderWidth:d,handleHeaderClick:u,onMouseDownResizableWidthHed:m,setCellHeight:f,getHeaderCellHeight:p,getWidthHeader:v,onContextMenu:g}=t,b=Boolean((0,st.v9)(At)),h=(0,a.useRef)(null),C=l.sortDir,_=(e=l.events)==null?void 0:e.includes("onClick"),O=!!l.linkedColumns.length,M=be()(o,Eg,xo,{[`${xo}_clicked`]:_,[`${xo}_hyperlink`]:l.staticStyle==="staticHyperlink",[`${xo}_button`]:l.staticStyle==="staticButton",[`${xo}_header`]:l.staticStyle==="staticHeader",[`${xo}_normal`]:l.staticStyle==="normalText"}),P=be()(Qu,{[`${Qu}_asc`]:C==="asc",[`${Qu}_desc`]:C==="desc"}),S=(0,a.useCallback)(x=>{if(_){if(d){x.preventDefault();return}x.button===0&&x.detail<2&&u({event:x,value:l.name})}},[_,d,u]),j=(0,a.useCallback)(x=>{var T;if(l.linkedColumns.length){m(x,[l.name,...l.linkedColumns.map(A=>A.name)]);return}if((T=l.insideColumns)!=null&&T.length){m(x,[l.name,...l.insideColumns.map(A=>A.name)]);return}m(x,[l.name])},[m,l]),k=(0,a.useCallback)(x=>{g(x,l.name)},[l.name]),w=(0,a.useCallback)(()=>({_ref:h,hasSorter:C!=="none",textStyle:l.style,handleMouseUp:S,handleCellResizeMouseDown:j,controlClasses:M,sorterClasses:P,isFixSize:l.isFixSize||!!l.sizes.fixedSize.length,title:l.hint||l.title,cellColor:l.cellColor,tabIndex:Vr(_),height:p(l.name)}),[]);if((0,a.useEffect)(()=>{h.current&&h.current.clientHeight>0&&f(l.name,h.current.clientHeight)},[(n=h.current)==null?void 0:n.clientHeight]),b){const x=ib(si({},t),{containerRef:h,className:o,headerCellData:l,sortDir:C,hasOnClick:_,hasLinkedColumns:O,style:c,getHeaderCellHeight:p,getWidthHeader:v,handleControlMouseUp:S,handleCellResizeMouseDown:j,handleContextMenu:k});return(0,s.jsx)(WT,si({},x))}return(0,s.jsxs)("div",{className:Og,style:c,onContextMenu:k,"data-column-index":i,children:[(0,s.jsx)(pT,ib(si({},w()),{children:(r=l.title)!=null?r:""})),O&&(0,s.jsx)("div",{className:Eg,children:(0,s.jsx)(CT,si({},t))})]},l.name)};var cb=(0,a.memo)(qT),od=cb,YT=Object.defineProperty,ub=Object.getOwnPropertySymbols,XT=Object.prototype.hasOwnProperty,JT=Object.prototype.propertyIsEnumerable,db=(t,e,n)=>e in t?YT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fb=(t,e)=>{for(var n in e||(e={}))XT.call(e,n)&&db(t,n,e[n]);if(ub)for(var n of ub(e))JT.call(e,n)&&db(t,n,e[n]);return t};const QT="draggable";function e3(t,e){const{innerRef:n,itemData:r,tableName:o,draggableColumns:l}=t,{order:i,mode:c,draggable:d,disableTableScroll:u,onOrderChange:m,onDropSuccess:f}=l;let p,v,g=[],b;const h=Math.max(...Object.values(i)),C=c==="reorder",_=(0,a.useRef)(null),O=(0,a.useRef)(null),M=(0,a.useRef)(null),P=(0,a.useRef)(null),S=(0,a.useRef)(null);let j=(0,a.useRef)(null);j=n||j,(0,a.useEffect)(()=>{k()},[l,r]);const k=()=>{var x;Array.from(((x=j.current)==null?void 0:x.children)||[]).forEach(A=>{A.setAttribute(QT,"true"),A.ondragstart=B=>{if(B.stopPropagation(),d===!1)return!1;if(o&&(P.current=o,u)){const Z=document.querySelector(`.${tn}[data-name="${o}"]`);if(Z){const V=Z.getElementsByClassName(EM)[0];S.current=V,V.style.overflow="hidden"}}_.current=parseInt(A.dataset.columnIndex||"",10),O.current=gf(A),M.current=A},A.ondrag=B=>{B.stopPropagation()},A.ondragenter=B=>{B.stopPropagation(),B.preventDefault()},A.ondragover=B=>{if(B.preventDefault(),!M.current||!j.current)return!1;const Z=B.currentTarget;if(C){const[V,D]=Z.getElementsByClassName("table__grid-header-drop-indicator");if(b&&(b==null?void 0:b.left)!==V&&(b==null?void 0:b.right)!==D&&(b.left.style.display="none",b.right.style.display="none"),b={left:V,right:D},O.current!==gf(Z)){const E=fS(Z).left+Z.offsetWidth/2;B.pageX>E?(b.right.style.display="block",b.left.style.display="none",p=1):(b.left.style.display="block",b.right.style.display="none",p=-1)}}},A.ondragleave=B=>{B.preventDefault(),C&&b&&(b.left.style.display="none",b.right.style.display="none")},A.ondrop=B=>{if(B.preventDefault(),P.current!==o)return!1;const Z=B.currentTarget,V=_.current;let D=parseInt(Z.dataset.columnIndex||"",10);if(V===null||D===null)return!1;if(v=V>D,C&&(v?p===1&&(D+=1):p===-1&&(D-=1)),D<0?D=0:D>h&&(D=h),V!==D&&i){const E=Object.keys(i),R=E.find(U=>i[U]===V),L=E.find(U=>i[U]===D);if(L&&R)C||g.push({name:L,index:V}),g.push({name:R,index:D});else return!1;f&&f(R,L,V,D)}P.current=null,C&&b&&(b.left.style.display="none",b.right.style.display="none",b=null)},A.ondragend=()=>{if(S.current&&(S.current.style.overflow="auto"),g.length&&i){const B=fb({},i);if(C){const Z=Object.keys(B).sort((V,D)=>B[V]-B[D]);g.forEach(({name:V,index:D})=>{const H=i[V];if(v)for(let E=D;E<=H;E++){const R=Z[E];B[R]+=1}else for(let E=D;E>=H;E--){const R=Z[E];B[R]-=1}B[V]=D})}else g.forEach(({name:Z,index:V})=>{B[Z]=V});m&&m(B)}g=[]}})},w=()=>{k()};return(0,s.jsx)(Nn.S_,fb({ref:e,innerRef:j,onItemsRendered:w},t))}var t3=(0,a.forwardRef)(e3),pb=t3;const mb=(0,z.ZP)("div")`
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  z-index: 0;
  overflow: auto;

  border: 1px solid ${()=>I("table-border-default")};
  border-radius: 8px;

  ${({isCardFile:t})=>!t&&z.iv`
      ${wa()}
    `}

  ${({isTableGroup:t})=>t&&z.iv`
      border-left: none;
      border-radius: 0 8px 8px 0;
      margin-left: 0 !important;
    `}
`,vb=(0,z.ZP)("div")`
  box-sizing: border-box;
  width: max-content;

  ${mb} & {
    .wrapper_button,
    .checkbox {
      margin: 0;
    }
  }

  ${({isTableGroup:t})=>t&&z.iv`
      border-left: none;
    `}
`,n3=(0,z.ZP)("div")`
  display: flex;
  color: ${()=>I("table-text-interactive")};
  font-weight: 400;
  font-size: 13px;
  border-bottom: 1px solid ${()=>I("table-border-default")};
  background-color: ${()=>I("table-header-background-default")};

  ${({isFreezed:t})=>t&&z.iv`
      position: sticky;
      top: 0;
      z-index: 11;
    `}
`,r3=(0,z.ZP)("div")`
  display: flex;
`,o3=(0,z.ZP)("div")`
  width: 16px;
  border-left: 1px solid ${()=>I("table-border-default")};
  background-color: ${()=>I("table-background-default","white")};
`,l3=(0,z.ZP)("div")`
  ${({show:t})=>t&&z.iv`
      height: 16px;
      border-top: 1px solid ${()=>I("table-border-default")};
      border-right: 1px solid ${()=>I("table-border-default")};
    `}
`,a3=(0,z.ZP)("div")`
  z-index: 10;
`,s3=(0,z.ZP)("div")`
  display: flex;

  &:focus {
    outline: none;
  }
`,hb=(0,z.ZP)("div")`
  flex: 0 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  border-radius: 0 0 8px 8px;

  ${wa()}
`,i3=(0,z.ZP)("div")`
  ${({isCardFile:t})=>t&&z.iv`
      flex: 1 1 auto;
      overflow: hidden;
      border-radius: 3px;
      border-bottom: 1px solid ${()=>I("table-border-default")};

      ${vb} {
        border-top: 0;
      }
    `}

  ${({isTableGroup:t})=>t&&z.iv`
      border-right: none;
    `}
`,c3=(0,z.ZP)("span")`
  color: ${()=>I("table-footer-text-default")};
  font-size: 10px;
`,u3=(0,z.ZP)(Nn.cd)`
  flex: 0 1 auto;
  will-change: initial !important;

  ${Wu()}

  &::-webkit-scrollbar {
    height: 16px;
    width: 16px;
    background-color: white;
    border-top: 1px solid ${()=>I("table-border-default")};

    &:vertical {
      border-top: none;
      border-left: 1px solid ${()=>I("table-border-default")};
    }

    &-track {
      height: 16px;
      width: 16px;
    }

    &-corner {
      border-left: 1px solid ${()=>I("table-border-default")};
      border-top: 1px solid ${()=>I("table-border-default")};
    }

    &-thumb {
      background-color: ${()=>I("table-scrollbar-thumb-background-default")};
      border: 6px solid transparent;

      &:hover,
      &:active {
        border: 5px solid transparent;
      }
    }
  }

  > div:only-child {
    min-height: 1px;
  }
`,d3=(0,z.ZP)(Nn.S_)`
  ${wa()}
`,f3=(0,z.ZP)(pb)`
  flex: 0 1 auto;
  ${wa()}
`,$G=(0,z.ZP)("div")`
  ${Bl()};
`,ld=(0,z.ZP)("div")`
  ${Bl({type:"service-header"})}
  .button {
    background: transparent;
    border: none;
    color: ${()=>I("table-text-interactive")};

    &:hover {
      background: transparent;
      border: none;
      color: ${()=>I("table-cell-marked-text-default")};
    }
  }
`,zG=(0,z.ZP)("div")`
  ${Bl({type:"service"})}
`,p3=(0,z.ZP)(ld)`
  width: 4px;
  border-right: none !important;
  flex: 0 0 auto;
`,m3=(0,z.ZP)(ld)`
  width: 32px;
  justify-content: initial;
  padding-left: 4px;
  flex: 0 0 auto;
`,v3=(0,z.ZP)(od)`
  ${Bl({type:"header"})}

  padding: 0;
  flex-grow: 1;
  flex-shrink: 1;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  box-sizing: border-box;

  &_wrapper {
    width: inherit;
  }
`,h3=32,g3=16,b3="allRowsSelector",$l=30,ka=16;var y3=Object.defineProperty,gb=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable,bb=(t,e,n)=>e in t?y3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w3=(t,e)=>{for(var n in e||(e={}))C3.call(e,n)&&bb(t,n,e[n]);if(gb)for(var n of gb(e))_3.call(e,n)&&bb(t,n,e[n]);return t};const yb=(t,e=0,n,r)=>{const o=Object.entries(t),l=e-(n?ka:0);let i=0,c=0;const d={};o.forEach(([p,v])=>{d[p]=w3({},v),v.isFixSize&&v.width?i+=v.width:v.width&&c++});const u=()=>l-i-r;let m=!0;const f=[];for(;m;)m=!1,o.forEach(([p,v])=>{const{width:g,minWidth:b,maxWidth:h,isFixSize:C}=v;if(C||f.includes(p)||!g)return;let _=Math.round(u()/c);const O=ed(_,b,h);_!==O&&(f.push(p),i+=O,c--,_=O,m=!0),d[p].width=_});return d},Cb=(t,e=[],n)=>{var r,o;const l=(r=e[t])==null?void 0:r.rowId;if(l){const i=$l-8;return(((o=n[l])==null?void 0:o.reduce((d,u)=>u>d?u:d,i))||i)+8}return $l},x3=({rowsData:t=[],columnsData:e,wrapperWidth:n,isCardFile:r,getWidthColumn:o,serviceListWidth:l,rowsHeights:i,headerHeight:c,hasScroll:d,isTableOptimisationNeeded:u})=>{const m=t.length||1,f=n||0;let p;r?p=f:p=e.reduce((h,{name:C})=>h+o({name:C}),l);let v,g=0;for(let b=0;b<m;b++){let h=Cb(b,t,i);t.length||(h-=$l),g+=h}return v=g+c,d.horizontal&&(v+=ka),d.vertical&&u&&(p+=ka),{countedWidth:p,countedHeight:v}};var S3=Object.defineProperty,P3=Object.defineProperties,I3=Object.getOwnPropertyDescriptors,_b=Object.getOwnPropertySymbols,O3=Object.prototype.hasOwnProperty,E3=Object.prototype.propertyIsEnumerable,wb=(t,e,n)=>e in t?S3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zl=(t,e)=>{for(var n in e||(e={}))O3.call(e,n)&&wb(t,n,e[n]);if(_b)for(var n of _b(e))E3.call(e,n)&&wb(t,n,e[n]);return t},ii=(t,e)=>P3(t,I3(e)),k3=t=>{const{tableWrapperRef:e,cellsGrid:n,serviceRowsList:r,columnHeadersList:o,cellsGridOuterContainer:l,cellsGridInnerContainer:i,innerColumnHeadersList:c,handleCellWidthGetter:d,handleCellsScroll:u,handleCellsGridRender:m,handleAllRowSelect:f,handleServiceRowsScroll:p,handleHeaderCellWidthGetter:v,handleColumnHeadersScroll:g,handleOrderChange:b,handleHierarchyButtonClick:h,handleTableCtxMenu:C,handleArrowKeys:_,handleEnter:O,handlePaginationClick:M,handleRowCounterClick:P,handleCloseHeaderCtxMenu:S,handleClickHeaderCtxMenu:j,handleMenuItemSelect:k,onContextMenu:w,isFixSize:x,isAdaptive:T,isDisabled:A,isCardFile:B,isFirstPage:Z,isLastPage:V,isTableGroup:D,isFreezed:H,hasCaption:E,hasScroll:R,showFilter:L,showScroll:U,showIcon:q=!1,showSelectColumn:W=!1,showHierarchyButton:G,showContextMenuColumn:J,checkScrollVisibility:oe,getWidthColumn:ce,setAutoSizerWidth:N,setHasScroll:$,setTableSizes:K,name:ee,activeName:ne,style:se,cellItemData:me,headerItemData:ye,serviceCellsItemData:ue,rowsData:Re,headersData:De,columnsData:xe,columnsOrder:Ne,draggableColumns:Te,selectedRowIds:it,displayRowCount:$e,summaryRowCount:ze,headersDataOrdered:we,headerRows:_e,tableSizes:Oe,rowsHeights:Ye,events:qe,currentRowId:dt,currentColumnId:ft,contextMenuElements:rt,contextHeader:bt,autoSizerWidth:pt}=t,{columnsReorderMode:mt,disableTableScroll:Le}=Te||{},de=(0,a.useMemo)(()=>{const vt=zl({},se);return E!==void 0&&(E?vt.marginBottom="0":vt.marginTop="0"),Un({isFixSize:x,style:vt,type:null})},[x,se]),Ze=se==null?void 0:se.backgroundColor,ot=L,gt=U||ze,he=$e>60,fe=Re.length&&Re.every(vt=>it.includes(vt.rowId)),ie=(0,a.useCallback)(vt=>{var _t;let Nt=$l;const ct=(_t=_e.current[vt])!=null?_t:[];for(const Qt of ct){const Rt=Oe[Qt];if(Rt!=null&&Rt.headerSize){let{height:Bn}=Rt.headerSize;const{rowspan:cn}=Rt.headerSize;cn&&(Bn/=cn),Bn>Nt&&(Nt=Bn)}}return Nt},[_e.current,Oe]),Q=(0,a.useCallback)(vt=>Cb(vt,Re,Ye),[Ye,Re]),ae=(0,a.useCallback)(()=>{const vt=Object.keys(_e.current),_t=vt.length-1;return vt.map(ie).reduce((Nt,ct)=>Nt+ct,_t)},[_e.current,ie]),Ie=(0,a.useCallback)(vt=>{const _t=Oe[vt];if(_t&&_t.headerSize){const{row:Nt,rowspan:ct}=_t.headerSize;if(ct){let Qt=0;for(let Rt=Nt;Rt<Nt+ct;Rt++)Qt+=ie(Rt);return Qt}return ie(Nt)}return $l},[Oe,ie]),Be=(0,a.useCallback)(vt=>Math.round(vt!=null?vt:0)-ae(),[ae]),re=(0,a.useCallback)(vt=>{const _t=Be(vt);return R.horizontal?_t-ka:_t},[Be,R.horizontal]),pe=h3*(0+ +q+ +W)+g3*+W,{countedWidth:Se,countedHeight:We}=x3({rowsData:Re,columnsData:xe,wrapperWidth:pt,isCardFile:B,getWidthColumn:ce,serviceListWidth:pe,rowsHeights:Ye,headerHeight:ae(),hasScroll:R,isTableOptimisationNeeded:he}),Ce=Se-pe,Je=Ce-ka*+(R==null?void 0:R.vertical),et=(0,a.useCallback)(({width:vt})=>{N(vt);const _t=oe();_t&&$(_t),e.current&&T&&Object.keys(Oe).length&&K(yb(Oe,vt||0,(_t==null?void 0:_t.vertical)||R.vertical,pe))},[e,oe,Oe]);function It({data:vt,index:_t,style:Nt}){let ct=we[_t];T&&(ct=Object.assign({},ct,{isFixSize:!0}));const Qt=ii(zl({},vt),{headerCellData:ct,columnIndex:Ne[ct==null?void 0:ct.name]||_t,style:Nt});return(0,s.jsx)(v3,zl({},Qt))}return(0,a.useEffect)(()=>{var vt;const _t={};xe.forEach(Rt=>{var Bn,cn,nn,rn,en,Vt,un,Pn,rr,Ln,gn,ge,ke,Ve;_t[Rt.name]={minWidth:Dt((cn=(Bn=Rt.control)==null?void 0:Bn.style)==null?void 0:cn.minWidth)||((nn=Oe[Rt.name])==null?void 0:nn.minWidth),maxWidth:Dt((en=(rn=Rt.control)==null?void 0:rn.style)==null?void 0:en.maxWidth)||((Vt=Oe[Rt.name])==null?void 0:Vt.maxWidth),width:Dt(((Pn=(un=Rt.control)==null?void 0:un.style)==null?void 0:Pn.width)||((rr=Rt==null?void 0:Rt.style)==null?void 0:rr.width))||((Ln=Oe[Rt.name])==null?void 0:Ln.width)||Al,isFixSize:Rt.isFixSize||((gn=Oe[Rt.name])==null?void 0:gn.isFixSize),canResize:((ge=Rt.control)==null?void 0:ge.canResize)||((ke=Oe[Rt.name])==null?void 0:ke.canResize)};const Ke=(Ve=Oe[Rt.name])==null?void 0:Ve.headerSize;Ke&&(_t[Rt.name].headerSize=Ke)});const Nt=Rg(De,_t),{newHeaderRows:ct}=Nt;let{newTableSizes:Qt}=Nt;_e.current=ct,T&&(Qt=yb(Qt,(vt=e.current)==null?void 0:vt.clientWidth,R.vertical,pe)),K(Qt)},[xe,De]),(0,s.jsxs)(mb,ii(zl({},t),{style:ii(zl({},de),{height:he?"100%":null,minWidth:!x||T||he?null:Se,width:B||T||he?null:Se-1}),isTableGroup:D,isCardFile:B,children:[ot&&(0,s.jsx)(hb,{children:U&&(0,s.jsx)(Rl,{isServerSide:!0,isDisabled:A,isPrevBtnDisabled:Z,isNextBtnDisabled:V})}),(0,s.jsx)(i3,{ref:e,style:{height:We,maxHeight:document.body.clientHeight,backgroundColor:Ze},isTableGroup:D,isCardFile:B,children:(0,s.jsx)(ti.Z,{onResize:et,children:({height:vt})=>(0,s.jsxs)(vb,{isTableGroup:D,children:[E!==!1&&(0,s.jsxs)(n3,{style:{height:ae()},onContextMenu:w,isFreezed:H,children:[(0,s.jsxs)(r3,{children:[W&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p3,{}),(0,s.jsx)(m3,{children:(0,s.jsx)(Go,{isDisabled:A,value:fe,onChange:f,metaSet:{rowId:b3},tabIndex:-1,isParentTable:!0})})]}),q&&(0,s.jsx)(ld,{children:G&&(0,s.jsx)(Kr,{isDisabled:A,iconName:"level-up",onClick:h,tabIndex:-1,isParentTable:!0})})]}),(0,s.jsx)(f3,{ref:o,innerRef:c,tableName:ee,layout:"horizontal",height:ae(),width:Je,itemCount:De.length,itemSize:v,onScroll:g,itemData:ii(zl({},ye),{getHeaderCellHeight:Ie}),draggableColumns:{order:Ne,draggable:!!B&&!ne,mode:mt,disableTableScroll:Le,onOrderChange:b},children:(0,a.memo)(It,Nn.wy)}),(R==null?void 0:R.vertical)&&(0,s.jsx)(o3,{})]}),(0,s.jsxs)(s3,{tabIndex:-1,onContextMenu:C,onKeyDownCapture:_,onKeyUp:O,children:[(0,s.jsxs)(a3,{children:[(0,s.jsx)(d3,{ref:r,height:re(vt),width:pe,itemCount:$e,itemSize:Q,onScroll:p,itemData:ue,style:{backgroundColor:Ze},children:Zg}),(R==null?void 0:R.horizontal)&&(0,s.jsx)(l3,{show:q||W})]}),(0,s.jsx)(u3,{ref:n,outerRef:l,innerRef:i,width:Ce,height:Be(vt),columnCount:xe.length,rowCount:$e,columnWidth:d,rowHeight:Q,estimatedRowHeight:$l,onScroll:u,onItemsRendered:m,itemData:me,style:{backgroundColor:Ze},children:Vg})]})]})})}),gt&&(0,s.jsxs)(hb,{children:[U&&(0,s.jsx)(Rl,{isServerSide:!0,isParentTable:!0,isDisabled:A,isPrevBtnDisabled:Z,isNextBtnDisabled:V,onButtonClick:M}),ze&&(0,s.jsx)(c3,{onClick:P,children:ze})]}),J&&(0,s.jsx)(Fl,{events:qe,cellData:{currentColumnId:ft,currentRowId:dt},itemsContextMenu:hf(bt==null?void 0:bt.list),id:ee+"-header",handleCloseContextMenu:S,handleClickContextMenu:j}),J&&(0,s.jsx)(Fl,{events:qe,cellData:{currentColumnId:ft,currentRowId:dt},itemsContextMenu:rt,id:ee,handleClickContextMenu:k})]}))},j3=Object.defineProperty,R3=Object.defineProperties,D3=Object.getOwnPropertyDescriptors,xb=Object.getOwnPropertySymbols,N3=Object.prototype.hasOwnProperty,M3=Object.prototype.propertyIsEnumerable,Sb=(t,e,n)=>e in t?j3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ut=(t,e)=>{for(var n in e||(e={}))N3.call(e,n)&&Sb(t,n,e[n]);if(xb)for(var n of xb(e))M3.call(e,n)&&Sb(t,n,e[n]);return t},Sn=(t,e)=>R3(t,D3(e));const ad="allRowsSelector",T3="table";function sd(t){var e,n,r,o;const{className:l,style:i,isFixSize:c,name:d,isDisabled:u,dataAttrs:m,events:f,metaSet:p,initialValue:v,isInPlaceEdit:g,isCardFile:b,showFilter:h,showScroll:C,isFirstPage:_,isLastPage:O,headersData:M,showIcon:P,showSelectColumn:S,showHierarchyButton:j,columnsData:k,columnsOrder:w,draggableColumns:x,rowsData:T,displayRowCount:A,currentRowId:B,currentColumnId:Z,selectedRowIds:V,summaryRowCount:D,contextMenuElements:H,contextHeader:E,testId:R,onEnter:L,onHierarchyButtonClick:U,onRowsSelect:q,onRowsBlur:W,onCellClick:G,onCellControlEvent:J,onNavigation:oe,onMove:ce,onDoubleClick:N,onRowCounterClick:$,onMenuItemSelect:K,onHeaderCtxMenuClick:ee,onHeaderClick:ne,onStartPageMove:se,onEndPageMove:me,onPrevPageMove:ye,onNextPageMove:ue,onClickIcon:Re,freezed:De,hasCaption:xe,isActiveTab:Ne,isAdaptive:Te,isTableGroup:it}=t,{columnsReorderMode:$e,disableTableScroll:ze}=x||{},we=(0,a.useRef)(!1);(0,a.useEffect)(()=>{we.current&&(we.current=document.activeElement.dataset.tableId===d)},[(e=document.activeElement.dataset)==null?void 0:e.tableId]);const _e=R||T3,Oe=be()(l,tn,{[`${tn}__cardfile`]:b}),Ye=be()(`${tn}__grid`,`${tn}__grid-wrapper`,{[`${tn}__cardfile-wrapper`]:b}),qe=be()(`${tn}__grid-headers`,{[`${tn}__grid-headers__freezed`]:De}),dt=(0,a.useMemo)(()=>{const F=Ut({},i);return xe!==void 0&&(xe?F.marginBottom="0":F.marginTop="0"),Un({isFixSize:c,style:F})},[c,i]),ft=(0,a.useRef)(null),rt=(0,a.useRef)({}),bt=(0,a.useRef)(!1),pt=(0,a.useRef)(null),mt=(0,a.useRef)(null),Le=(0,a.useRef)(null),de=(0,a.useRef)(null),Ze=(0,a.useRef)(null),ot=(0,a.useRef)(null),gt=(0,a.useRef)(null),he=A>60,fe=OM*(0+!!P+!!S),ie=h,Q=C||D,ae=!!H,Ie=T.length&&T.every(F=>V.includes(F.rowId)),Be=(n=Ze.current)==null?void 0:n.scrollLeft,re=i.backgroundColor,[pe,Se]=(0,a.useState)(!1),[We,Ce]=(0,a.useState)(null),[Je,et]=(0,a.useState)(null),[It,vt]=(0,a.useState)((r=ft.current)==null?void 0:r.clientWidth),[_t,Nt]=(0,a.useState)(null),[ct,Qt]=(0,a.useState)({}),[Rt,Bn]=(0,a.useState)(null),[cn,nn]=(0,a.useState)(!1),[rn,en]=(0,a.useState)({}),[Vt,un]=(0,a.useState)({vertical:!1,horizontal:!1}),[Pn,rr]=(0,a.useState)(null),[Ln,gn]=(0,a.useState)(w),ge=(0,a.useCallback)(F=>{if(Ln){const X=Ee=>Ln[Ee.name],le=(Ee,Qe)=>X(Ee)-X(Qe);return structuredClone(F).sort(le)}return F},[Ln]),ke=ge(M),Ve=ge(k);if(re){const F=document.querySelector(".table__grid-cells");F==null||F.style.setProperty("--scrollbar-backgroundColor",`${re}`)}const Ke=(0,a.useCallback)(F=>{var X;let le=lr;const Ee=(X=rt.current[F])!=null?X:[];for(const Qe of Ee){const at=ct[Qe];if(at&&at.headerSize){let{height:Bt,rowspan:bn}=at.headerSize;bn&&(Bt/=bn),Bt>le&&(le=Bt)}}return le},[lr,rt.current,ct]),ut=(0,a.useCallback)(()=>{const F=Object.keys(rt.current),X=F.length-1;return F.map(Ke).reduce((le,Ee)=>le+Ee,X)},[rt.current,Ke]),Me=(0,a.useCallback)(F=>{const X=ct[F];if(X&&X.headerSize){const{row:le,rowspan:Ee}=X.headerSize;if(Ee){let Qe=0;for(let at=le;at<le+Ee;at++)Qe+=Ke(at);return Qe}return Ke(le)}return lr},[ct,Ke]),Ot=(0,a.useCallback)((F,X)=>{const le=ct[F];if(le&&le.headerSize&&le.headerSize.height&&le.headerSize.height!==X){const Ee=Object.assign({},ct);Ee[F].headerSize.height=X,Qt(Ee)}},[ct]),Ft=(0,a.useCallback)(F=>Math.round(F)-ut()-4,[ut]),tt=(0,a.useCallback)(F=>{const X=Ft(F);return Vt.horizontal?X-Ia:X},[ut,Vt.horizontal]),Zt=(0,a.useCallback)(({event:F,rowId:X,columnId:le,isDisabledColumn:Ee})=>{if(u)return;const Qe={rowId:X,columnId:le};Ee&&(Qe.columnId=Z),je(Sn(Ut({specificEvent:G,nativeEvent:"onCellClick"},{event:F,metaSet:p,events:f}),{value:Qe}))},[u,p,f,Z,G]),Yn=(0,a.useCallback)(({event:F,rowId:X})=>{let le=!0;const Ee={rowId:X};if(Re&&(le=G({event:F,metaSet:p,value:Ee})),le&&(f!=null&&f.onClickIcon)){const{alias:Qe,args:at}=f.onClickIcon;ve[Qe]({event:F,args:at,metaSet:p,value:Ee})}},[p,f]),Hn=(0,a.useCallback)((F,X)=>{let le=[...F];return le.includes(X)?le=le.filter(Ee=>Ee!==X):le.push(X),le},[]),kt=(0,a.useCallback)(({event:F,value:X,rowId:le})=>{if(F.stopPropagation(),u)return;let Ee=!0;const Qe={selectedRowIds:null};return le===ad?Qe.selectedRowIds=X?T.map(Bt=>Bt.rowId):[]:Qe.selectedRowIds=Hn(V,le),Ee=je(Sn(Ut({specificEvent:q,nativeEvent:"onRowsSelect"},{event:F,metaSet:p,events:f}),{value:Qe})),le!==ad&&Zt({event:F,rowId:le}),Ee},[u,T,V,Zt,p,f,q]),$n=(0,a.useCallback)(({event:F,rowIds:X})=>{if(F.stopPropagation(),u)return;let le=!0;const Qe={selectedRowIds:X==null?void 0:X.reduce((Bt,bn)=>Hn(Bt,bn),[...V])};return le=je(Sn(Ut({specificEvent:q,nativeEvent:"onRowsSelect"},{event:F,metaSet:p,events:f}),{value:Qe})),le},[u,T,V,Zt,p,f,q]),kn=(0,a.useCallback)(({event:F,value:X,metaSet:{rowId:le}})=>{kt({event:F,value:X,rowId:le})},[kt]),Lt=(0,a.useCallback)(({event:F,rowId:X})=>{if(u)return;je(Sn(Ut({specificEvent:N,nativeEvent:"onDoubleClick"},{event:F,metaSet:p,events:f}),{value:X}))},[u,N,f,p]),Kt=(0,a.useCallback)(F=>{if(u)return;je(Ut({specificEvent:$,nativeEvent:"onRowCounterClick"},{event:F,metaSet:p,events:f}))},[u,f,p,$]);(0,a.useEffect)(()=>{if(b&&!A&&ot.current&&Le.current){const F=ot.current.style,X=Le.current.style;F.width!==X.width&&(F.width=X.width)}},[ct]);const yt=(0,a.useCallback)(F=>{var X,le;const{horizontalScrollDirection:Ee,verticalScrollDirection:Qe,scrollLeft:at,scrollTop:Bt}=F;Qe&&(rr(Bt),(X=pt.current)==null||X.scrollTo(Bt)),Ee&&((le=mt.current)==null||le.scrollTo(at)),gt.current=at},[pt,mt]),Wn=(0,a.useCallback)(F=>{var X;const{scrollOffset:le,scrollUpdateWasRequested:Ee}=F;Ee||(X=de.current)==null||X.scrollTo({scrollTop:le})},[de]);(0,a.useEffect)(()=>{var F;Pn&&((F=de.current)==null||F.scrollTo({scrollTop:Pn+1}))},[(o=ft.current)==null?void 0:o.offsetLeft]),(0,a.useEffect)(()=>{let F={};T.map(({rowId:X})=>{rn[X]?F[X]=rn[X]:F[X]=k.map(()=>15)}),en(F),T.length===1&&T[0].rowId==="serviceRow"&&(bt.current=!1)},[T]);const _r=(0,a.useCallback)(F=>{var X;const{scrollOffset:le,scrollUpdateWasRequested:Ee}=F;Ee||(X=de.current)==null||X.scrollTo({scrollLeft:le})},[de]),dn=(0,a.useCallback)(F=>{var X;const le=(X=ct[F.name])==null?void 0:X.width;return le&&le>=Al?le:Al},[ct,Ln]),ir=(0,a.useCallback)(F=>dn(Ve[F]),[k,dn]),Dr=(0,a.useCallback)(F=>{if(u)return;je(Ut({specificEvent:U,nativeEvent:"onHierarchyButtonClick"},{event:F,metaSet:p,events:f}))},[u,U,p,f]),ql=(0,a.useCallback)(({value:F,event:X})=>{if(u)return;let le=null,Ee=null;if(F===hr.start){if(_)return;se&&(le=se),f!=null&&f.onStartPageMove&&(Ee=f.onStartPageMove)}else if(F===hr.end){if(O)return;me&&(le=me),f!=null&&f.onEndPageMove&&(Ee=f.onEndPageMove)}else if(F===hr.prev){if(_)return;ye&&(le=ye),f!=null&&f.onPrevPageMove&&(Ee=f.onPrevPageMove)}else if(F===hr.next){if(O)return;ue&&(le=ue),f!=null&&f.onNextPageMove&&(Ee=f.onNextPageMove)}if(le&&le({event:X,metaSet:p}),Ee){const{alias:Qe,args:at}=Ee;ve[Qe]({event:X,args:at,metaSet:p})}},[u,f,p,_,O,se,me,ye,ue]),tl=(0,a.useCallback)(F=>{if(u||g||!or(F.keyCode))return;const X={rowId:B};je(Sn(Ut({specificEvent:L,nativeEvent:"onEnter"},{event:F,metaSet:p,events:f}),{value:X}))},[u,f,p,L,B,g]),nl=(0,a.useCallback)(F=>{$c(F.keyCode)&&F.preventDefault()},[]),Xn=(0,a.useCallback)(({event:F,value:X})=>{if(u)return;let le=!0;return le=je(Sn(Ut({specificEvent:G,nativeEvent:b?"onCellClick":null},{event:F,metaSet:p,events:f}),{value:X})),le},[u,f,p,oe]),eo=(0,a.useCallback)(({event:F,value:X})=>{if(u)return;let le=!0;return le=je(Sn(Ut({specificEvent:ce,nativeEvent:"onMove"},{event:F,metaSet:p,events:f}),{value:X})),le},[u,f,p,ce]),rl=(0,a.useCallback)(({event:F,menuItem:X})=>{if(u)return;const le=!!M.find(at=>at.name===X),Ee={menuItem:X,hidden:le};je(Sn(Ut({specificEvent:ee,nativeEvent:"onHeaderCtxMenuClick"},{event:F,metaSet:p,events:f}),{value:Ee}))},[u,f,p,ee,M]),to=(0,a.useCallback)(({event:F,rowId:X,columnId:le,menuItem:Ee})=>{if(u)return;const Qe={menuItem:Ee,rowId:X,columnId:le};je(Sn(Ut({specificEvent:K,nativeEvent:"onMenuItemSelect"},{event:F,metaSet:p,events:f}),{value:Qe}))},[u,f,p,K]),Yl=(0,a.useCallback)(({event:F,value:X})=>{if(u)return;je(Sn(Ut({nativeEvent:"onHeaderCtxMenu"},{event:F,events:f}),{value:X}))},[u,f,p]),ol=(0,a.useCallback)(()=>{if(u)return;je(Ut({nativeEvent:"onCloseHeaderCtxMenu"},{events:f}))},[u,f,p]),Xl=(0,a.useCallback)(({event:F,value:X})=>{if(u)return;Se(!0),je(Sn(Ut({specificEvent:ne,nativeEvent:"onHeaderClick"},{event:F,metaSet:p,events:f}),{value:X}))},[u,f,p,ne]),no=(0,a.useCallback)(F=>{var X,le;let Ee=0;return(X=F.linkedColumns)!=null&&X.length?F.linkedColumns.forEach(Qe=>{Ee+=no(Qe)}):((le=F.insideColumns)==null?void 0:le.length)>0?F.insideColumns.forEach(Qe=>{Ee+=no(Qe)}):Ee+=dn(F),Ee},[dn]),Oo=(0,a.useCallback)(F=>no(ke[F]),[M,no]),Ha=(0,a.useCallback)(({event:F,eventType:X,control:le,cellData:Ee,value:Qe,targetRowId:at,targetColumnId:Bt})=>{if(u)return!1;let bn=!0;const so={controlType:le.type,controlId:le.name,controlEvents:le.events,eventType:X,cellData:Ee,cellValue:Qe,targetRowId:at,targetColumnId:Bt};if(J&&(bn=J({event:F,metaSet:p,value:so})),bn&&(f!=null&&f.onCellControlEvent)){const{alias:ul,args:tc}=f.onCellControlEvent;ve[ul]({event:F,args:tc,metaSet:p,value:so})}},[u,f,p,J]),ro=(0,a.useCallback)((F=0)=>{var X,le;(X=de.current)==null||X.resetAfterRowIndex(F,!1),(le=pt.current)==null||le.resetAfterIndex(F,!1)},[]),Jl=(0,a.useCallback)(({rowId:F,rowIndex:X,columnIndex:le,height:Ee})=>{en(Qe=>{if(!Qe[F])return ro(X),Qe;const at=Ut({},Qe);return at[F][le]=Ee,ro(X),at})},[ro]),Jn=(0,a.useCallback)(({event:F,value:X})=>{if(u)return!1;const le=Sn(Ut({},X),{rowId:null});je(Sn(Ut({specificEvent:W,nativeEvent:"onRowsBlur"},{event:F,metaSet:p,events:f}),{value:le}))},[u,f,p,W]),ll={tableId:d,isDisabled:u,rows:T,currentRowId:B,selectedRowIds:V,showSelectColumn:S,showContextMenuColumn:ae,showIcon:P,onRowsBlur:Jn,onRowSelect:kt,onRowsSelect:$n,onNavigation:Xn,onMove:eo,onMenuItemSelect:to,onCellDoubleClick:Lt,onClickIcon:Yn,contextMenuElements:H,testId:_e,isCardFile:b,tableWasFocused:we,wasServiceRowFocused:bt,isInPlaceEdit:g,cellsBackgroundColor:re},Eo={cellsGrid:de,tableId:d,isDisabled:u,selectedRowIds:V,columns:Ve,rows:T,currentColumnId:Z,currentRowId:B,isCardFile:b,isInPlaceEdit:g,editableRowId:Rt,onRowSelect:kt,onRowsSelect:$n,onNavigation:Xn,onMove:eo,onCellDoubleClick:Lt,onCellControlEvent:Ha,onRowsBlur:Jn,onRowHeightChange:Jl,showContextMenuColumn:ae,setFocusedEditableCell:Ce,tableWasFocused:we,wasServiceRowFocused:bt,getWidthColumn:dn,cellsBackgroundColor:re};(0,a.useLayoutEffect)(()=>{gn(w||M.reduce((F,X,le)=>(F[X.name]=le,F),{}))},[M,w]),(0,a.useEffect)(()=>{var F,X,le;if(we.current&&document.activeElement.dataset.rowId!==B&&(document.activeElement.dataset.tableId!==d||B===(v==null?void 0:v.currentRowId))){const Ee=Z||((F=k==null?void 0:k[0])==null?void 0:F.name);(X=document.getElementById(Qr(d,B,Ee)))==null||X.focus()}(le=de.current)==null||le.scrollToItem({rowIndex:T.findIndex(Ee=>(Ee==null?void 0:Ee.rowId)===B)})},[B]),(0,a.useEffect)(()=>{b&&g&&We&&Ne&&(We.focus(),Se(!1))},[Ne,pe]),(0,a.useEffect)(()=>{g&&Rt===null?Bn(B):g||Bn(null)},[g,B]),(0,a.useEffect)(()=>{var F;gt.current!==Be&&((F=Ze.current)==null||F.scroll({left:gt.current}))},[Be]),(0,a.useEffect)(()=>{de.current&&de.current.resetAfterColumnIndex(0),pt.current&&pt.current.resetAfterIndex(0),mt.current&&mt.current.resetAfterIndex(0)},[Eo,ll]);const Nr=(0,a.useCallback)(F=>td(F,T,rn),[rn,T]),Wr=(0,a.useCallback)(()=>{const F=ot.current,X=Ze.current;if(X&&F){const le={vertical:F.clientHeight===1?!1:F.clientHeight>X.clientHeight,horizontal:F.clientWidth>X.clientWidth};if(!dT()(Vt,le))return le}},[Ze,ot,Vt]),ko=(0,a.useCallback)(()=>{const F=Wr();F&&un(F)},[Wr]),al=(0,a.useCallback)(()=>{const F={};if(Object.keys(ct))for(const X in ct){if(!(Je!=null&&Je.includes(X)))continue;const le=ct[X];le.width&&!Number.isNaN(le.width)&&(F[X]=parseFloat((le.width/3.8).toFixed(5)))}if(Object.keys(F).length){const{alias:X,args:le}=f.onControlResize;ve[X]({formId:le==null?void 0:le.formId,controlId:d,columns:F})}},[ct,f]),sl=(0,a.useCallback)(F=>{gn(F);const{alias:X,args:le}=f.onTableOrderChange;ve[X]({formId:le==null?void 0:le.formId,type:le==null?void 0:le.type,controlId:d,columnsOrder:F})},[f,d]);(0,a.useEffect)(()=>{var F;if(cl)return;const X={};k.forEach(Qe=>{var at,Bt,bn,so,ul,tc,Rx,Dx,Nx,Mx,Tx,Fx,Ax,Bx;X[Qe.name]={minWidth:Dt((Bt=(at=Qe.control)==null?void 0:at.style)==null?void 0:Bt.minWidth)||((bn=ct[Qe.name])==null?void 0:bn.minWidth),maxWidth:Dt((ul=(so=Qe.control)==null?void 0:so.style)==null?void 0:ul.maxWidth)||((tc=ct[Qe.name])==null?void 0:tc.maxWidth),width:Dt(((Dx=(Rx=Qe.control)==null?void 0:Rx.style)==null?void 0:Dx.width)||((Nx=Qe==null?void 0:Qe.style)==null?void 0:Nx.width))||((Mx=ct[Qe.name])==null?void 0:Mx.width)||Al,isFixSize:Qe.isFixSize||((Tx=ct[Qe.name])==null?void 0:Tx.isFixSize),canResize:((Fx=Qe.control)==null?void 0:Fx.canResize)||((Ax=ct[Qe.name])==null?void 0:Ax.canResize)};const $x=(Bx=ct[Qe.name])==null?void 0:Bx.headerSize;$x&&(X[Qe.name].headerSize=$x)});let{newHeaderRows:le,newTableSizes:Ee}=Rg(M,X);rt.current=le,Te&&(Ee=Dg(Ee,(F=ft.current)==null?void 0:F.clientWidth,Vt.vertical,fe)),Qt(Ee)},[k,M]);const oo=(0,a.useCallback)(()=>{var F,X,le;de.current&&((F=de.current)==null||F.resetAfterIndices({columnIndex:0,rowIndex:0})),mt.current&&((X=mt.current)==null||X.resetAfterIndex(0)),pt.current&&((le=pt.current)==null||le.resetAfterIndex(0))},[de,mt,pt]),lo=(0,a.useCallback)(F=>{if(Je!==null){F.preventDefault();const X=_t-F.clientX,le={},Ee=Object.keys(ct),Qe=Je.reduce((at,Bt)=>Ee.includes(Bt)?at+1:at,0);Je.forEach(at=>{if(Ee.includes(at)){const Bt=ct[at],bn=RM(X/(Qe||1),Bt);le[at]=Sn(Ut({},ct[at]),{width:bn})}}),Qt(Ut(Ut({},ct),le)),oo()}},[Je,oo]),jn=(0,a.useCallback)((F,X)=>{nn(!0),Nt(F.clientX),et(X)},[Nt,et]),ao=(0,a.useCallback)(()=>{al(),nn(!1),et(null),window.removeEventListener("mousemove",lo),window.removeEventListener("mouseup",ao)},[ct,lo]);(0,a.useEffect)(()=>(Je&&(window.addEventListener("mousemove",lo),window.addEventListener("mouseup",ao)),()=>{window.removeEventListener("mousemove",lo),window.removeEventListener("mouseup",ao)}),[Je,lo,ao]),(0,a.useEffect)(()=>{let F=0;T.forEach((X,le)=>{X.rowId===B&&(F=le)}),F!==0&&setTimeout(()=>{var X,le;(X=pt.current)==null||X.scrollToItem(F-1,"start"),(le=de.current)==null||le.scrollToItem({rowIndex:F-1,align:"start"})},0)},[]);const il=(0,a.useCallback)(({width:F})=>{vt(F);const X=Wr();X&&un(X),ft.current&&Te&&Object.keys(ct).length&&Qt(Dg(ct,F,(X==null?void 0:X.vertical)||Vt.vertical,fe))},[ft,Wr,ct]),{show:Y}=(0,mr.av)();(0,a.useEffect)(()=>{E!=null&&E.event&&(E!=null&&E.target)&&Y(E.event,{id:d+"-header"})},[E]);const{show:Pe}=(0,mr.av)({id:d,props:{rowId:B}}),Ue=F=>{F.target.parentElement===F.currentTarget&&Pe(F)},nt=(F,X)=>{F.preventDefault(),F.stopPropagation(),F.persist(),Yl({event:F,value:{columnName:X,isCardFile:b}})},ht={columnsOrder:Ln,isAdaptive:Te,isResizedHeaderWidth:cn,handleHeaderClick:Xl,onMouseDownResizableWidthHed:jn,onContextMenu:nt,getWidthHeader:no,headersData:ke,setCellHeight:Ot,getHeaderCellHeight:Me,getWidthColumn:dn};function Et({data:F,index:X,style:le}){let Ee=ke[X];Te&&(Ee=Object.assign({},Ee,{isFixSize:!0}));const Qe=Sn(Ut({},F),{headerCellData:Ee,columnIndex:Ln[Ee==null?void 0:Ee.name]||X,style:le});return(0,s.jsx)(od,Ut({},Qe))}const{countedWidth:jt,countedHeight:Vn}=MM({rowsData:T,columnsData:k,wrapperWidth:It,isCardFile:b,getWidthColumn:dn,getCellHeight:td,serviceListWidth:fe,rowsHeights:rn,headerHeight:ut(),hasScroll:Vt,isTableOptimisationNeeded:he}),jo=jt-fe-(1+!!b),Wa=jo-Ia*(0+!!Vt.vertical);Js(document.body,()=>{if(!ft.current)return;const F=document.body.clientHeight;ft.current.style.maxHeight=F+"px"});const cl=Boolean((0,st.v9)(At));if(cl){const F=Sn(Ut({},t),{tableWrapperRef:ft,cellsGrid:de,serviceRowsList:pt,columnHeadersList:mt,cellsGridOuterContainer:Ze,cellsGridInnerContainer:ot,innerColumnHeadersList:Le,handleCellWidthGetter:ir,handleCellHeightGetter:Nr,handleCellsScroll:yt,handleCellsGridRender:ko,handleAllRowSelect:kn,handleServiceRowsScroll:Wn,handleHeaderCellWidthGetter:Oo,handleColumnHeadersScroll:_r,handleOrderChange:sl,handleHierarchyButtonClick:Dr,handleAutoSizerResize:il,handleTableCtxMenu:Ue,handleArrowKeys:nl,handleEnter:tl,handlePaginationClick:ql,handleRowCounterClick:Kt,handleCloseHeaderCtxMenu:ol,handleClickHeaderCtxMenu:rl,handleMenuItemSelect:to,onContextMenu:nt,isFixSize:c,isAdaptive:Te,isDisabled:u,isCardFile:b,isFirstPage:_,isLastPage:O,isTableGroup:it,isFreezed:De,hasCaption:xe,hasScroll:Vt,showFilter:h,showScroll:C,showIcon:P,showSelectColumn:S,showHierarchyButton:j,showContextMenuColumn:ae,checkScrollVisibility:Wr,getWidthColumn:dn,setAutoSizerWidth:vt,setHasScroll:un,setTableSizes:Qt,name:d,activeName:Je,style:i,countedHeight:Vn,countedWidth:jt,cellItemData:Eo,headerItemData:ht,serviceCellsItemData:ll,rowsData:T,headersData:M,columnsData:k,columnsOrder:Ln,draggableColumns:x,selectedRowIds:V,displayRowCount:A,summaryRowCount:D,headersDataOrdered:ke,headerRows:rt,tableSizes:ct,rowsHeights:rn,events:f,currentRowId:B,currentColumnId:Z,contextMenuElements:H,contextHeader:E,autoSizerWidth:It});return(0,s.jsx)(k3,Ut(Sn(Ut({},F),{"data-name":d,"data-testid":_e}),m))}return(0,s.jsxs)("div",Sn(Ut({"data-name":d,className:Oe,style:Sn(Ut({},dt),{height:he?"100%":null,minWidth:!c||Te||he?null:jt,width:b||Te||he?null:jt+2})},m),{"data-testid":_e,children:[ie&&(0,s.jsx)("div",{className:"table__service-row table__service-row_top",children:C&&(0,s.jsx)(Rl,{isServerSide:!0,className:"table__pagination",isDisabled:u,isPrevBtnDisabled:_,isNextBtnDisabled:O})}),(0,s.jsx)("div",{className:Ye,ref:ft,style:{padding:"1px",height:Vn,maxHeight:document.body.clientHeight,backgroundColor:re},children:(0,s.jsx)(ti.Z,{onResize:il,className:`${tn}__auto-sizer`,children:({width:F,height:X})=>(0,s.jsxs)("div",{className:"table__grid-body",style:{width:F},children:[xe!==!1&&(0,s.jsxs)("div",{className:qe,style:{height:ut()},onContextMenu:nt,children:[(0,s.jsxs)("div",{className:"table__grid-service-headers",children:[S&&(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{className:`table__grid-cell table__grid-cell_header\r
                        table__service-cell table__row-marker`}),(0,s.jsx)("div",{className:`table__grid-cell table__grid-cell_header\r
                            table__service-cell table__row-selector`,children:(0,s.jsx)(Go,{isDisabled:u,value:Ie,onChange:kn,metaSet:{rowId:ad},tabIndex:-1,isParentTable:!0})})]}),P&&(0,s.jsx)("div",{className:"table__grid-cell table__grid-cell_header table__service-cell",children:j&&(0,s.jsx)(Kr,{className:"table__grid-cell-button_transparent",isDisabled:u,iconName:"level-up",onClick:Dr,tabIndex:-1,isParentTable:!0})})]}),(0,s.jsx)(pb,{ref:mt,innerRef:Le,tableName:d,className:`${tn}__grid-column-headers`,layout:"horizontal",height:ut(),width:Wa,itemCount:M.length,itemSize:Oo,onScroll:_r,itemData:ht,draggableColumns:{order:Ln,draggable:!!b&&!Je,mode:$e||"reorder",disableTableScroll:ze,onOrderChange:sl},children:(0,a.memo)(Et,Nn.wy)}),Vt.vertical&&(0,s.jsx)("div",{className:"table__grid-column-headers-fake-scroll"})]}),(0,s.jsxs)("div",{tabIndex:-1,className:"table__grid-rows",onContextMenu:Ue,onKeyDownCapture:nl,onKeyUp:tl,children:[(0,s.jsxs)("div",{className:"table__grid-service-rows-container",children:[(0,s.jsx)(Nn.S_,{ref:pt,className:`${tn}__grid-service-rows`,height:tt(X),width:fe,itemCount:A,itemSize:Nr,onScroll:Wn,itemData:ll,style:{backgroundColor:re},children:Zg}),Vt.horizontal&&b&&(0,s.jsx)("div",{className:"table__grid-service-rows-fake-scroll",style:{backgroundColor:re}})]}),(0,s.jsx)(Nn.cd,{ref:de,outerRef:Ze,innerRef:ot,className:`${tn}__grid-cells`,width:jo,height:Ft(X),columnCount:k.length,rowCount:A,columnWidth:ir,rowHeight:Nr,estimatedRowHeight:lr,onScroll:yt,onItemsRendered:ko,itemData:Eo,style:{backgroundColor:re},children:Vg})]})]})})}),Q&&(0,s.jsxs)("div",{className:"table__service-row table__service-row_bottom",children:[C&&(0,s.jsx)(Rl,{isServerSide:!0,className:"table__pagination",isDisabled:u,isPrevBtnDisabled:_,isNextBtnDisabled:O,onButtonClick:ql}),D&&(0,s.jsx)("div",{className:"table__row-counter",onClick:Kt,children:D})]}),ae&&(0,s.jsx)(Fl,{events:f,cellData:{currentColumnId:Z,currentRowId:B},itemsContextMenu:hf(E==null?void 0:E.list),id:d+"-header",handleCloseContextMenu:ol,handleClickContextMenu:rl}),ae&&(0,s.jsx)(Fl,{events:f,cellData:{currentColumnId:Z,currentRowId:B},itemsContextMenu:H,id:d,handleClickContextMenu:to})]}))}sd.propTypes={classNames:y().string,columnsData:y().array,contextMenuElements:y().array,currentColumnId:y().string,currentRowId:y().string,dataAttrs:y().object,displayRowCount:y().number,events:y().object,freezed:y().bool,hasCaption:y().bool,headersData:y().array,headerHeightMultiplier:y().number,isActiveTab:y().bool,isAdaptive:y().bool,isCardFile:y().bool,isFirstPage:y().bool,isFixSize:y().bool,isInPlaceEdit:y().bool,isLastPage:y().bool,metaSet:y().object,name:y().string,onCellClick:y().func,onCellControlEvent:y().func,onDoubleClick:y().func,onEndPageMove:y().func,onPrevPageMove:y().func,onNextPageMove:y().func,onEnter:y().func,onClickIcon:y().func,onControlResize:y().object,onHeaderClick:y().func,onHierarchyButtonClick:y().func,onNavigation:y().func,onMenuItemSelect:y().func,onMove:y().func,onRowsSelect:y().func,onRowsBlur:y().func,onRowCounterClick:y().func,onStartPageMove:y().func,rowsData:y().array,showFilter:y().bool,showScroll:y().bool,style:y().object,showIcon:y().bool,showSelectColumn:y().bool,showHierarchyButton:y().bool,selectedRowIds:y().array,summaryRowCount:y().string,testId:y().string},sd.defaultProps={};var F3=(0,a.memo)(sd),HG={popperIconSize:"18px",primaryColor:"#0bd688"},A3=Object.defineProperty,B3=Object.defineProperties,$3=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,Pb=Object.prototype.hasOwnProperty,Ib=Object.prototype.propertyIsEnumerable,Ob=(t,e,n)=>e in t?A3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ui=(t,e)=>{for(var n in e||(e={}))Pb.call(e,n)&&Ob(t,n,e[n]);if(ci)for(var n of ci(e))Ib.call(e,n)&&Ob(t,n,e[n]);return t},di=(t,e)=>B3(t,$3(e)),z3=(t,e)=>{var n={};for(var r in t)Pb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ci)for(var r of ci(t))e.indexOf(r)<0&&Ib.call(t,r)&&(n[r]=t[r]);return n};const Eb=26,L3=30,H3=20,kb=25,id=8,qo=10,fi=2,qt="grid",cd=(t,e)=>dl(e,"id",t,1),ud=(t,e)=>dl(e,"id",t,-1),W3=(t,e,n)=>{const r=[];return t&&r.push(di(ui({},t),{priority:t.priority+.75})),e&&r.push(di(ui({},e),{priority:e.priority+.5})),n?r.push(di(ui({},n),{priority:e.priority+.25})):r.push({control:{},style:{},cellSettings:{},priority:.25}),r.sort((o,l)=>o.priority>l.priority?-1:o.priority<l.priority?1:0)},jb=t=>{var e,n;let r=1;return(e=t==null?void 0:t.nodes)!=null&&e.length&&(r=t.nodes.reduce((o,l)=>o+jb(l),0)),(n=t==null?void 0:t.branches)!=null&&n.length&&t.isExpanded&&(r+=t.branches.reduce((o,l)=>o+jb(l),0)),r},Rb=t=>{var e;let n=0;return(e=t.branches)!=null&&e.length&&(n=1+t.branches.reduce((r,o)=>{const l=Rb(o);return r<l?l:r},0)),n},V3=t=>t.reduce((e,n)=>{const r=Rb(n);return e<r?r:e},0),Db=t=>{var e,n;let r=Eb,o=0,l=[];const i=c=>{o+=1,c.forEach(d=>{var u;const m=d,{nodes:f}=m,p=z3(m,["nodes"]);f&&(l=l.concat(f)),(u=p.branches)!=null&&u.length&&p.isExpanded&&i(p.branches)})};return(e=t.nodes)!=null&&e.length&&(l=l.concat(t.nodes)),(n=t.branches)!=null&&n.length&&t.isExpanded&&i(t.branches),r+=H3*o,l.length&&(r+=l.reduce((c,d)=>{const u=Db(d);return c<=u?u:c},0)),r},U3=t=>t.reduce((e,n)=>{const r=Db(n);return e<r?r:e},0),Ll=(t,e=null,n=[])=>{const{isFixed:r,auto:o,min:l,value:i,max:c}=t||{};let d=i||L3;if(r)return d;if(o)if(e)d=e.length?e.length*2:2,l&&d<l&&(d=l),c&&c<d&&(d=c);else if(l&&c){const u=(l+c)/3;d=u<l?l:u}else if(l||c)d=l||c;else{const u=V3(n);d+=u*kb}return d},pi=t=>{var e,n,r,o;const{sizeValue:l,isAdaptiveCell:i}=ja(t.size);if(i&&!((e=t.nodes)!=null&&e.length)&&!((n=t.branches)!=null&&n.length))return Dt(Ll(t.size,t.caption)+id);let c=l||0;return(r=t.nodes)!=null&&r.length&&(c=t.nodes.reduce((d,u)=>d+pi(u),0)),(o=t.branches)!=null&&o.length&&t.isExpanded&&(c+=t.branches.reduce((d,u)=>d+pi(u),0)),c},WG=(t,e=null)=>{let n=t;const r=o=>{o!==e&&(n=n.reduce((l,i)=>i.nodes?l.concat(i.nodes):l,[]),r(o+1))};return r(0),n},Hl=(t,e,n)=>`${t}-${e}-${n}`,ja=t=>!t||t.auto||!t.value?{isAdaptiveCell:!0,sizeValue:null}:{isAdaptiveCell:!1,sizeValue:Dt(t.value)},Ra=(t,e,n)=>{t&&e&&n&&(t[e]=n)},Nb=t=>{var e;if((e=t.nodes)!=null&&e.length)return t.nodes.reduce((n,r)=>n+pi(r),0);{const{isAdaptiveCell:n,sizeValue:r}=ja(t.size);return n?Dt(Ll(t.size,t.caption)+id):r}},G3=t=>{const e=di(ui({},t),{minHeight:"100%"});return e==null||delete e.height,e},Z3=t=>t.map(e=>{const n=JSON.parse(JSON.stringify(e));return Ae(n,"iconname")&&(n.iconName=n.iconname,delete n.iconname),n});var K3=Object.defineProperty,q3=Object.defineProperties,Y3=Object.getOwnPropertyDescriptors,Mb=Object.getOwnPropertySymbols,X3=Object.prototype.hasOwnProperty,J3=Object.prototype.propertyIsEnumerable,Tb=(t,e,n)=>e in t?K3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dd=(t,e)=>{for(var n in e||(e={}))X3.call(e,n)&&Tb(t,n,e[n]);if(Mb)for(var n of Mb(e))J3.call(e,n)&&Tb(t,n,e[n]);return t},Fb=(t,e)=>q3(t,Y3(e));const fd=t=>{var e,n,r,o,l,i;const{header:c,isRow:d,headerLevel:u,branchLevel:m,columns:f,levels:p,handleHeaderEvent:v,isDisabled:g,updateRowHeaderHeight:b,updateColumnHeaderSizes:h,columnHeaderSizes:C}=t,_=(0,a.useRef)(null),O=(0,a.useRef)(null),M=(0,a.useRef)(null),P=(e=c.events)==null?void 0:e.includes("onClick"),S=g,j=`${qt}__header`,k=be()(j,{[`${j}_root`]:P,[`${j}_disabled`]:S});let w=null,x=null,T=null;const A=Dt(Ll((n=p==null?void 0:p.rows[u])==null?void 0:n.size))-m*kb;if(d){const E=A;w=E,x=E;const{isAdaptiveCell:R,sizeValue:L}=ja(c.size);R||(T=L)}else w=Nb(c);const B=dd({},c.style);T&&Ra(B,"minHeight",`${T}px`),w&&Ra(B,"width",`${w}px`),x&&Ra(B,"minWidth",`${x}px`),w||(Ra(B,"flex","1 1"),Ra(B,"maxWidth","100%"));const Z=P&&B.textAlign;Z&&(B.justifyContent=B.textAlign);const V=E=>{!S&&P&&v({event:E,isRow:d,header:c})};let D=null,H=null;return(r=c.branches)!=null&&r.length&&c.isExpanded&&(D=(0,s.jsxs)("div",{className:`${qt}__header-branches-container`,children:[(0,s.jsx)("div",{className:`${qt}__header-branches-padding`}),(0,s.jsx)("div",{className:`${qt}__header-branches`,children:c.branches.map(E=>{const R={header:E,columns:f,levels:p,handleHeaderEvent:v,isRow:d,headerLevel:u,branchLevel:m+1,isDisabledGrid:g,updateRowHeaderHeight:b};return(0,a.createElement)(fd,Fb(dd({},R),{key:E.id}))})})]})),H=c.icon?(0,s.jsx)("img",{className:`${qt}__header-img img`,alt:"",src:on(c.icon)}):null,(0,a.useEffect)(()=>{var E,R;_.current&&O.current&&b&&((E=c.nodes)!=null&&E.length||(R=c.branches)!=null&&R.length?b(c.id,_.current.clientHeight,O.current.clientHeight):b(c.id,O.current.clientHeight))},[(o=_.current)==null?void 0:o.clientHeight,(l=O.current)==null?void 0:l.clientHeight]),(0,a.useEffect)(()=>{var E,R;!d&&M.current&&_.current&&h&&((E=c.nodes)!=null&&E.length||(R=c.branches)!=null&&R.length?h(u,M.current.clientHeight):h(u,_.current.clientHeight))},[d,u,h]),(0,a.useEffect)(()=>{M.current&&(C!=null&&C[u])&&(M.current.style.minHeight=`${C[u]}px`)},[C]),(0,s.jsxs)(a.Fragment,{children:[c.expandDirection==="prev"&&D,(0,s.jsxs)("div",{ref:O,className:`${qt}__header-cell`,children:[(0,s.jsxs)("div",{ref:M,"data-id":c.id,className:k,style:B,onClick:V,children:[H,(0,s.jsx)("span",{ref:_,className:`${qt}__header-text`,title:c.caption,style:Z&&{flexGrow:0},children:`${c.caption||""}`})]}),(i=c.nodes)!=null&&i.length?(0,s.jsx)("div",{className:`${qt}__header-nodes`,children:c.nodes.map(E=>{const R={header:E,columns:f,levels:p,handleHeaderEvent:v,isRow:d,headerLevel:u+1,branchLevel:0,isDisabledGrid:g,updateRowHeaderHeight:b};return(0,a.createElement)(fd,Fb(dd({},R),{key:E.id}))})}):null]}),c.expandDirection==="next"&&D]},c.id)};var Q3=(0,a.memo)(fd),Ab=Q3,eF=Object.defineProperty,Bb=Object.getOwnPropertySymbols,tF=Object.prototype.hasOwnProperty,nF=Object.prototype.propertyIsEnumerable,$b=(t,e,n)=>e in t?eF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rF=(t,e)=>{for(var n in e||(e={}))tF.call(e,n)&&$b(t,n,e[n]);if(Bb)for(var n of Bb(e))nF.call(e,n)&&$b(t,n,e[n]);return t};const zb=(0,a.memo)(({data:t,index:e,style:n})=>{var r;const o=(0,a.useRef)(null),{columns:l,levels:i,handleHeaderEvent:c,isDisabled:d,updateColumnHeaderHeight:u,updateColumnHeaderSizes:m,columnHeaderSizes:f}=t,p=l[e],v={isDisabled:d,header:p,columns:l,levels:i,handleHeaderEvent:c,isRow:!1,headerLevel:0,branchLevel:0,updateColumnHeaderSizes:m,columnHeaderSizes:f};return(0,a.useEffect)(()=>{o.current&&u(o.current.clientHeight)},[(r=o.current)==null?void 0:r.clientHeight]),(0,s.jsx)("div",{ref:o,className:`${qt}__column-list-item`,style:G3(n),children:(0,s.jsx)(Ab,rF({},v))})},Nn.wy);zb.displayName="Column";var oF=Object.defineProperty,Lb=Object.getOwnPropertySymbols,lF=Object.prototype.hasOwnProperty,aF=Object.prototype.propertyIsEnumerable,Hb=(t,e,n)=>e in t?oF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sF=(t,e)=>{for(var n in e||(e={}))lF.call(e,n)&&Hb(t,n,e[n]);if(Lb)for(var n of Lb(e))aF.call(e,n)&&Hb(t,n,e[n]);return t};const Wb=(0,a.memo)(({data:t,index:e,style:n})=>{const{rows:r,columns:o,levels:l,handleHeaderEvent:i,isDisabled:c,updateRowHeaderHeight:d}=t,u=r[e],m={isDisabled:c,header:u,columns:o,levels:l,handleHeaderEvent:i,isRow:!0,headerLevel:0,branchLevel:0,updateRowHeaderHeight:d};return(0,s.jsx)("div",{className:`${qt}__row-list-item`,style:n,children:(0,s.jsx)(Ab,sF({},m))})},Nn.wy);Wb.displayName="Row";function Da(t,e){var n;return(n=t==null?void 0:t.classList)==null?void 0:n.contains(e)}function Vb(t,e){var n;(n=t==null?void 0:t.classList)==null||n.add(e)}function Ub(t,e){var n;(n=t==null?void 0:t.classList)==null||n.remove(e)}const pd=(t,e)=>{t&&(t.style.cursor=e)},iF=t=>["false","true"].includes(t.trim())?t==="true":t,Gb=({items:t,bounds:e})=>{var n,r;const{start:o,end:l}=e;if(!(o&&l))return"";let i="";for(let c=o[0];c<=l[0];c++){const d=t==null?void 0:t[c];c!==o[0]&&(i+=`
`);for(let u=o[1];u<=l[1];u++){const m=d==null?void 0:d[u];let f=((n=m==null?void 0:m.value)==null?void 0:n.toString())||"";((r=f.match(/[.]/g))==null?void 0:r.length)===1&&(f=f.replace(".",",")),i+=f,u+1!==(d==null?void 0:d.length)&&(i+="	")}}return i},mi=(t,{items:e,bounds:n},r)=>{var o;const l=[],i=e,c=t.length===1&&t[0].length===1;for(let d=0;d<i.length;d++){const u=i[d];for(let m=0;m<(u==null?void 0:u.length);m++){const f=u[m];if(!f||r&&r(d,m))continue;const p=n.start||[0,0],v=c?t[0][0]:(o=t==null?void 0:t[d-p[0]])==null?void 0:o[m-p[1]];if(v!==void 0){const g=typeof v=="string"?iF(v):v;l.push({type:"string",rowId:f==null?void 0:f.row,columnId:f==null?void 0:f.column,value:g,index:[d,m]})}}}return l};function cF(){const[t,e]=(0,a.useReducer)(n=>n+1,0);return[t,e]}function Zb(t,e,n){const r=(0,a.useRef)([]),o=(0,a.useRef)({start:null,end:null}),l=()=>{const u=[null,null],m=[0,0],f=r.current;for(const[p,v]of f.entries())if(v)for(const[g,b]of v.entries())b&&((u[0]===null||u[0]>p)&&(u[0]=p),(u[1]===null||u[1]>g)&&(u[1]=g),m[0]<p&&(m[0]=p),m[1]<g&&(m[1]=g));return{start:u,end:m}};return{get:()=>({items:r.current,bounds:o.current}),select:({start:u,end:m})=>{if(u&&m){const f=u[0]<m[0]?1:-1,p=u[1]<m[1]?1:-1;for(let v=u[0];v!==m[0]+f;v+=f)for(let g=u[1];g!==m[1]+p;g+=p){const b=t(v,g);if(n&&!n(b,v,g))return!1;e(r.current,b,v,g)}}return o.current=l(),r.current},clear:()=>{r.current=[],o.current={start:null,end:null}}}}function uF(t,e={edgeSize:25,scrollSpeed:12}){const n=(0,a.useRef)(null),{edgeSize:r,scrollSpeed:o}=e;return(0,a.useCallback)((i,c=!0)=>{if(!t)return!1;if(!c)return k(),!1;const d=t.getBoundingClientRect(),u=t,m=i.clientX-d.left,f=i.clientY-d.top,p=d.width,v=d.height,g=r,b=r,h=v-r,C=p-r,_=m<b,O=m>C,M=f<g,P=f>h;_||O||M||P?j():k();function S(){T()?(n.current=null,j()):k()}function j(){n.current||(n.current=window.requestAnimationFrame(S))}function k(){n.current&&(window.cancelAnimationFrame(n.current),n.current=null)}const w=u.scrollWidth-u.clientWidth,x=u.scrollHeight-u.clientHeight;function T(){const A=u.scrollLeft,B=u.scrollTop,Z=B>0,V=B<x,D=A>0,H=A<w;let E=A,R=B;return _&&D?E-=o:O&&H&&(E+=o),M&&Z?R-=o:P&&V&&(R+=o),E=Math.max(0,Math.min(w,E)),R=Math.max(0,Math.min(x,R)),E!==A||R!==B?(u.scrollTo(E,R),!0):!1}},[t,e])}function vi(t){const e=(0,a.useRef)(t);return(0,a.useEffect)(()=>{e.current=t},[t]),e}const dF="portal";function fF(t){let e=t,n=!1;for(;e&&(e==null?void 0:e.nodeName)!=="BODY";){if(Da(e,dF)){n=!0;break}e=e==null?void 0:e.parentElement}return n}var pF=Object.defineProperty,mF=Object.defineProperties,vF=Object.getOwnPropertyDescriptors,hi=Object.getOwnPropertySymbols,Kb=Object.prototype.hasOwnProperty,qb=Object.prototype.propertyIsEnumerable,Yb=(t,e,n)=>e in t?pF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gi=(t,e)=>{for(var n in e||(e={}))Kb.call(e,n)&&Yb(t,n,e[n]);if(hi)for(var n of hi(e))qb.call(e,n)&&Yb(t,n,e[n]);return t},md=(t,e)=>mF(t,vF(e)),hF=(t,e)=>{var n={};for(var r in t)Kb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&hi)for(var r of hi(t))e.indexOf(r)<0&&qb.call(t,r)&&(n[r]=t[r]);return n};const bi=(0,a.createContext)(null);function Xb(t){const e=t.displayName||t.name||"VariableSizeGrid",n=r=>{const o=r,{forwardedRef:l,children:i,outerRef:c,innerRef:d,itemData:u,gridMatrix:m,onItemsRendered:f,onPaste:p,offset:v=[0,0],isSelectOnHeaderClick:g}=o,b=hF(o,["forwardedRef","children","outerRef","innerRef","itemData","gridMatrix","onItemsRendered","onPaste","offset","isSelectOnHeaderClick"]),{gridId:h,cellCssClass:C,columnTerminalNodes:_,rowTerminalNodes:O,cells:M,events:P}=u,S=C+"_select",[j,k]=cF(),w=qh(c),x=uF(w.current),T=vi(m||M),A=vi(O),B=vi(_),Z=vi(v),V=(0,a.useRef)(!1),D=(0,a.useRef)(!1),H=(0,a.useRef)(!1),R=(0,a.useRef)({start:null,end:null}).current,L=(0,a.useRef)(null),U=(0,a.useRef)([0,0]),q=(0,a.useRef)([]),W=(0,a.useRef)([]),G=(0,a.useCallback)((re,pe)=>{let Se=!1,We=!1;for(const Ce of q.current)if(re>=Ce[0]&&re<=Ce[1]){Se=!0;break}for(const Ce of W.current)if(pe>=Ce[0]&&pe<=Ce[1]){We=!0;break}return Se&&We},[q,W]),J=(0,a.useCallback)((re,pe)=>{var Se,We;return((Se=A.current[re])==null?void 0:Se.isDisabled)||((We=B.current[pe])==null?void 0:We.isDisabled)},[A,B]),oe=(0,a.useCallback)((re,pe)=>{var Se,We,Ce,Je;const et=(We=(Se=A.current)==null?void 0:Se[re])==null?void 0:We.id,It=(Je=(Ce=B.current)==null?void 0:Ce[pe])==null?void 0:Je.id;return[et,It]},[A,B]),ce=(0,a.useCallback)((re,pe)=>document.getElementById(Hl(h,re,pe)),[Hl]),N=(0,a.useCallback)(re=>document.querySelector(`[data-id="${re}"]`),[]),$=(0,a.useCallback)(re=>{let pe=re;for(;!Da(pe,C)&&(pe==null?void 0:pe.nodeName)!=="BODY";)pe=pe==null?void 0:pe.parentElement;return pe},[w]),K=(re,pe)=>{const[Se,We]=oe(re,pe),[Ce,Je]=oe(re-Z.current[0],pe-Z.current[1]);return{element:ce(Se,We),data:{row:Ce,column:Je}}},ee=(re,pe)=>{var Se,We,Ce,Je;return Array.isArray(T.current)?(We=(Se=T.current)==null?void 0:Se[Number(re)])==null?void 0:We[Number(pe)]:(Je=(Ce=T.current)==null?void 0:Ce[re])==null?void 0:Je[pe]},ne=(0,a.useCallback)(()=>{var re,pe,Se,We;const Ce=ue.get().bounds;if(!Ce)return{rows:0,columns:0};const Je=Math.abs((((re=Ce.start)==null?void 0:re[0])||0)-(((pe=Ce.end)==null?void 0:pe[0])||0))+1,et=Math.abs((((Se=Ce.start)==null?void 0:Se[1])||0)-(((We=Ce.end)==null?void 0:We[1])||0))+1;return{rows:Je,columns:et}},[]),se=(0,a.useCallback)((re,pe,Se,We)=>{var Ce;let{row:Je,column:et}=pe.data;Number(Je)<0&&(Je=0),Number(et)<0&&(et=0);const It=ee(Je,et),vt=pe.element&&$(pe.element);if(It)return H.current?((Ce=re==null?void 0:re[Se])==null||delete Ce[We],Ub(vt,S)):(re[Se]||(re[Se]=[]),re[Se][We]=md(gi({},It),{row:Je,column:et}),Vb(vt,S)),re},[T,$]),me=(re,pe,Se)=>{const{row:We,column:Ce}=re.data;return G(pe,Se)||!(We&&Ce)},ye=Zb(K,se,me),ue=Zb(K,se,me),Re=re=>{const{overscanColumnStartIndex:pe,overscanColumnStopIndex:Se,overscanRowStartIndex:We,overscanRowStopIndex:Ce}=re;Ye([We,Ce,pe,Se]),q.current=Xa([...q.current,[We,Ce]]),W.current=Xa([...W.current,[pe,Se]]),f&&f(re),k()},De=(0,a.useCallback)((re,pe)=>{const Se=A.current.findIndex(Ce=>Ce.id===re),We=B.current.findIndex(Ce=>Ce.id===pe);return[Se,We]},[A,B]),xe=(0,a.useCallback)(re=>re!=null&&re.children.length?xe(re.firstChild):re,[]),Ne=(0,a.useCallback)(()=>ue.get().items,[ue]),Te=re=>V.current?ye.select(re):ue.select(re),it=(0,a.useCallback)((re,pe,Se)=>{Se!==void 0&&(H.current=Se),Te({start:re,end:pe})},[]),$e=(0,a.useCallback)((re,pe)=>{if(V.current=!0,pd(w.current,"crosshair"),pe&&U.current)R.start=U.current;else{H.current=Da(re,S);const Se=xe(re);R.start=De(Se==null?void 0:Se.dataset.rowId,Se==null?void 0:Se.dataset.columnId),R.start&&(U.current=[R.start[0],R.start[1]])}},[]),ze=(0,a.useCallback)(re=>{var pe;if(!L.current)return;const Se=xe(L.current);R.end=De(Se==null?void 0:Se.dataset.rowId,Se==null?void 0:Se.dataset.columnId),(re||R.start&&R.end&&R.start.toString()!==R.end.toString())&&(Te(R),(pe=document.activeElement)==null||pe.blur())},[]),we=(0,a.useCallback)(re=>{V.current=!1,pd(w.current,"auto"),ye.clear(),ze(re)},[]),_e=(0,a.useCallback)((re,pe)=>{const Se=K(re,pe).element,We=Se&&$(Se);Da(We,S)&&Ub(We,S)},[K,$]),Oe=(0,a.useCallback)(()=>{var re,pe,Se;if(!w.current)return;const We=ye.get().items,Ce=ue.get().items;if(V.current||We.length){for(let Je=0;Je<We.length;Je++)for(let et=0;et<((re=We==null?void 0:We[Je])==null?void 0:re.length);et++)(pe=Ce==null?void 0:Ce[Je])!=null&&pe[et]||_e(Je,et);ye.clear()}else{for(let Je=0;Je<Ce.length;Je++)for(let et=0;et<((Se=Ce==null?void 0:Ce[Je])==null?void 0:Se.length);et++)_e(Je,et);ue.clear()}},[w,_e]),Ye=(0,a.useCallback)(re=>{const[pe,Se,We,Ce]=re,Je=(et,It)=>{var vt,_t;if((_t=(vt=Ne())==null?void 0:vt[et])!=null&&_t[It]){const Nt=K(et,It).element,ct=Nt&&$(Nt);Da(ct,S)||Vb(ct,S)}};for(let et=pe;et<=Se;et++)for(let It=We;It<=Ce;It++)Je(et,It)},[T,ce,$]),qe=(0,a.useCallback)(re=>{re.ctrlKey&&(re.preventDefault(),Pt(re))},[]),dt=(0,a.useCallback)(re=>{re.detail===2||re.button!==0||(re.ctrlKey?re.stopPropagation():Oe(),$e(re.currentTarget,re.shiftKey))},[$e,Oe]),ft=(0,a.useCallback)(re=>{L.current=re.currentTarget,V.current&&(Oe(),ze(re.ctrlKey))},[Oe,ze]),rt=(0,a.useCallback)(()=>{D.current=!1},[]),bt=(0,a.useCallback)(()=>{D.current=!0},[]),pt=(0,a.useCallback)(re=>{const pe=re.target;pe===re.currentTarget&&!(re.offsetX>pe.clientWidth-qo||re.offsetY>pe.clientHeight-qo)&&Oe()},[Oe]),mt=(0,a.useCallback)(re=>{V.current&&we(re.ctrlKey)},[we]),Le=(0,a.useCallback)(()=>{V.current&&(Oe(),V.current=!1,pd(w.current,"auto"))},[Oe]),de=(0,a.useCallback)(re=>{x(re,V.current)},[x]),Ze=(0,a.useCallback)(re=>{!re.ctrlKey&&!fF(re.target)&&Oe()},[Oe]),ot=(0,a.useCallback)(re=>{var pe;if(Ne().length){re.preventDefault();const Se=Gb(ue.get());(pe=re.clipboardData)==null||pe.setData("text/plain",Se)}},[Gb]),gt=(0,a.useCallback)((re,pe)=>{p&&p({event:re,changedCells:pe,offset:Z.current,events:P}),Oe()},[Oe,p]),he=(0,a.useCallback)(re=>{re.preventDefault();const pe=Ne(),Se=fl(re),We=Se?Se.split(`
`).map(Ce=>Ce.split("	")):[[null]];if(D.current&&!pe.length&&U.current){const[Ce,Je]=U.current,et=Object.values(We),It=et==null?void 0:et.length,vt=et.reduce((_t,Nt)=>(Nt==null?void 0:Nt.length)>_t?Nt==null?void 0:Nt.length:_t,-Number.MAX_VALUE);it(U.current,[Math.min(Ce+It,A.current.length)-1,Math.min(Je+vt,B.current.length)-1])}if(pe.length){const Ce=mi(We,ue.get(),J);gt(re,Ce)}},[D,mi,gt,it,getSelection]),fe=(0,a.useCallback)(re=>{const pe=re.key;if((pe==="Delete"||pe==="Backspace")&&Ne().length){const We=ne(),Ce=Array(We.rows);Ce.fill(Array(We.columns).fill(null));const Je=mi(Ce,ue.get(),J);gt(re,Je)}},[ne,mi,gt]),ie=(0,a.useMemo)(()=>({selOnCellMouseDown:dt,selOnCellMouseEnter:ft,selOnCellCtrlClick:qe,selOnCellFocus:bt,selOnCellBlur:rt}),[dt,ft,qe,bt,rt]);(0,a.useEffect)(()=>(w.current&&(Ho(w.current,{mousedown:pt,mouseup:mt,mouseleave:Le,mousemove:de}),Ho(document.body,{copy:ot,paste:he,keydown:fe})),()=>{w.current&&(Wo(w.current,{mousedown:pt,mouseup:mt,mouseleave:Le,mousemove:de}),Wo(document.body,{copy:ot,paste:he,keydown:fe}))}),[j]);const Q=(0,a.useCallback)(re=>{var pe;const Se=Ne(),We=((pe=Se==null?void 0:Se[re])==null?void 0:pe.length)===B.current.length;if(!We)return!1;let Ce=!0;for(const Je of Se[re])if(!Je){Ce=!1;break}return We&&Ce},[]),ae=(0,a.useCallback)(re=>{const pe=Ne(),Se=pe.reduce(Ce=>Ce+1,0)===A.current.length;if(!Se)return!1;let We=!0;for(const Ce of pe)if(!Ce[re]){We=!1;break}return Se&&We},[]),Ie=(0,a.useCallback)(re=>{const pe=re.currentTarget;if(!pe)return;const Se=A.current.findIndex(We=>We.id===pe.dataset.id);it([Se,0],[Se,B.current.length-1],Q(Se))},[A,Te,Q]),Be=(0,a.useCallback)(re=>{const pe=re.currentTarget;if(!pe)return;const Se=B.current.findIndex(We=>We.id===pe.dataset.id);it([0,Se],[A.current.length-1,Se],ae(Se))},[B,Te,ae]);return(0,a.useEffect)(()=>{var re,pe;let Se=[],We=[];return g&&(Se=(re=A.current)==null?void 0:re.reduce((Ce,Je)=>{const et=N(Je==null?void 0:Je.id);return et&&Ce.push(et),Ce},[]),We=(pe=B.current)==null?void 0:pe.reduce((Ce,Je)=>{const et=N(Je==null?void 0:Je.id);return et&&Ce.push(et),Ce},[]),Ho(Se,{click:Ie}),Ho(We,{click:Be})),()=>{g&&(Wo(Se,{click:Ie}),Wo(We,{click:Be}))}},[A,B]),(0,s.jsx)(bi.Provider,{value:md(gi({},ie),{getSelection:ue.get}),children:(0,s.jsx)(go,{onClickOutside:Ze,children:(0,s.jsx)(t,md(gi({ref:l,outerRef:w,innerRef:d,itemData:u,onItemsRendered:Re},b),{children:i}))})})};return n.displayName=`withGridSelection(${e})`,(0,a.forwardRef)((r,o)=>(0,s.jsx)(n,gi({forwardedRef:o},r)))}var gF=He(23279),vd=He.n(gF),bF=Object.defineProperty,yF=Object.defineProperties,CF=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,_F=Object.prototype.hasOwnProperty,wF=Object.prototype.propertyIsEnumerable,Qb=(t,e,n)=>e in t?bF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ar=(t,e)=>{for(var n in e||(e={}))_F.call(e,n)&&Qb(t,n,e[n]);if(Jb)for(var n of Jb(e))wF.call(e,n)&&Qb(t,n,e[n]);return t},xF=(t,e)=>yF(t,CF(e));const ey=(0,a.memo)(({data:t,columnIndex:e,rowIndex:n,style:r})=>{var o,l;const{gridId:i,isDisabled:c,columnTerminalNodes:d,rowTerminalNodes:u,currentColumnId:m,currentRowId:f,cells:p,globalCellSettings:v,onCellControlEvent:g,onNavigation:b,onCellsBlur:h,showContextMenuColumn:C,hasActiveMode:_,setCurrentCell:O,currentCell:M}=t,P=(0,a.useContext)(bi),S=["string","number","integer","enum","checkbox","date"],j=u[n],k=d[e],w=u[n].id,x=d[e].id,T=(o=p==null?void 0:p[w])==null?void 0:o[x],A=c||j.isDisabled||k.isDisabled||(T==null?void 0:T.isDisabled),B=j.isDivider||k.isDivider,Z=B?`${qt}__cell-divider`:`${qt}__cell`,V={rowId:w,rowIndex:n,columnId:x,columnIndex:e},[D,H,E]=W3(k,j,v),R=m===x&&f===w,L=ar(ar(ar({type:(T==null?void 0:T.type)||"number"},E.control),H.control),D.control),U=ar(ar(ar({},E.cellSettings),H.cellSettings),D.cellSettings),q=ar(ar({},U),r),W=L.type,G=(0,a.useRef)(null),J=(0,a.useRef)(mn.active),oe=Hl(i,w,x),ce=(0,a.useCallback)((_e,{event:Oe,value:Ye,rowId:qe,columnId:dt})=>(g({event:Oe,eventType:_e,controlType:W,cellData:V,value:Ye,rowId:qe,columnId:dt}),!0),[W,V,g]),N=(_e,Oe)=>{var Ye;(Ye=T==null?void 0:T.actions)!=null&&Ye.includes("onClick")&&ce("onClickCell",{event:_e,rowId:w,columnId:x,value:Oe})},$=()=>M&&A&&M.rowId===w&&M.columnId===x,K=vd()(N,200),ee=(0,a.useCallback)(_e=>{var Oe;const{detail:Ye}=_e;!(A||B)&&Ye===1&&((Oe=G.current)==null||Oe.focus()),!$()&&O({columnId:x,rowId:w}),K(_e,Ye===1?"0":"1")},[A,B,G]),ne=(0,a.useCallback)(({event:_e})=>{var Oe,Ye;Pt(_e);const{keyCode:qe}=_e,dt=Sr(qe),ft=Ur(qe);if((dt||ft)&&J.current!==mn.editable){const pt=u.filter(Le=>!Le.isDisabled&&!Le.isDivider),mt=dt?ud(w,pt):cd(w,pt);return(Oe=document.getElementById(Hl(i,mt!=null?mt:w,x)))==null||Oe.focus(),!1}const rt=cm(qe),bt=um(qe);if((rt||bt)&&J.current!==mn.editable){const pt=d.filter(Le=>!Le.isDisabled&&!Le.isDivider),mt=rt?ud(x,pt):cd(x,pt);return(Ye=document.getElementById(Hl(i,w,mt!=null?mt:x)))==null||Ye.focus(),!1}return!0},[i,w,x,u]),se=(0,a.useCallback)(({event:_e})=>{const Oe={rowId:w,columnId:x};return w===f&&delete Oe.rowId,x===m&&delete Oe.columnId,(Oe.rowId||Oe.columnId)&&b({event:_e,value:Oe}),!0},[b,w,f,x,m]),me=(0,a.useCallback)(({event:_e})=>{var Oe;const Ye=(Oe=_e==null?void 0:_e.relatedTarget)==null?void 0:Oe.dataset;return((Ye==null?void 0:Ye.gridId)!==i||!Ae(Ye,"rowId"))&&h({event:_e}),!0},[i,ce,h,J]),ye=(0,a.useCallback)(({event:_e,value:Oe})=>(ce("onImplicitChange",{event:_e,value:Oe}),!0),[ce]),ue=(0,a.useCallback)(({event:_e})=>{var Oe,Ye,qe,dt,ft;const{shiftKey:rt}=_e,bt=d.filter(mt=>!mt.isDisabled&&!mt.isDivider);if((rt?ud(x,bt):cd(x,bt))===x){_e.preventDefault();const mt=u.filter(Ze=>!Ze.isDisabled&&!Ze.isDivider),Le=rt?(Oe=bt[bt.length-1])==null?void 0:Oe.id:(Ye=bt[0])==null?void 0:Ye.id,de=rt?(qe=mt[n-1])==null?void 0:qe.id:(dt=mt[n+1])==null?void 0:dt.id;(ft=document.getElementById(Hl(i,de,Le)))==null||ft.focus()}return!1},[x,d]),Re=(0,a.useCallback)(_e=>{var Oe;return J.current!==mn.editable?(Oe=_e.event)!=null&&Oe.stopPropagation&&Pt(_e.event):ce("onEnter",_e),!0},[ce,J]),De=(0,a.useCallback)(_e=>{var Oe;return J.current===mn.editable?(Oe=_e.event)!=null&&Oe.stopPropagation&&Pt(_e.event):ce("onDelete",_e),!0},[ce,J]),xe=(0,a.useCallback)(({value:_e})=>{J.current=_e},[J]),{show:Ne}=(0,mr.av)({id:i,props:{rowId:w,columnId:x,getSelection:P==null?void 0:P.getSelection}}),Te=_e=>{!$()&&O({columnId:x,rowId:w}),Ne(_e)},it=(0,a.useMemo)(()=>({["data-grid-id"]:i,["data-row-id"]:w,["data-column-id"]:x}),[i,w,x]),$e=be()(Z,{[`${Z}_column`]:k.isDivider,[`${Z}_row`]:j.isDivider,[`${Z}_disabled`]:A,[`${Z}_current`]:$()});if(!T)return(0,s.jsx)("div",{className:$e,style:r,tabIndex:-1,children:(0,s.jsx)("div",{className:"indicator__loader"})});const ze=T!=null&&T.iconName||T!=null&&T.icon?(0,s.jsx)("img",{className:`${qt}__cell-img img`,alt:"",src:on(T.iconName||T.icon)}):null;let we=null;if(S.includes(W)){const _e={style:U,className:`${qt}__cell-control`||null,isDisabled:A,focusedElement:G,isStatic:A,tabIndex:Vr(!A),mode:R?mn.active:mn.default,hasActiveMode:_,isSpellCheck:T==null?void 0:T.isSpellCheck,isParentTable:!0},Oe={onTab:ue,onFocus:se,onBlur:me,onDelete:De,onKeyDown:ne,onModeChange:xe,onAutolock:ce.bind(void 0,"onAutolock")};switch(W){case"checkbox":{Oe.onChange=ce.bind(void 0,"onChange"),_e.isStatic=!1;break}case"date":{Oe.onEnter=ce.bind(void 0,"onEnter");break}case"enum":{Oe.onEnter=ce.bind(void 0,"onEnter"),Oe.onSelect=ce.bind(void 0,"onEnter");break}case"string":case"number":case"integer":{Oe.onEnter=Re,(l=L.action)!=null&&l.includes("onLookup")&&(Oe.onLookup=ce.bind(void 0,"onLookup"));break}default:break}_e.dataAttrs=it,_e.value=T==null?void 0:T.value,ni(W)&&(_e.formattedValue=T==null?void 0:T.staticValue,Oe.onImplicitChange=ye),we=Vl(xF(ar(ar(ar({GUID:oe,initialValue:T==null?void 0:T.initialValue},L),_e),Oe),{style:(T==null?void 0:T.style)||{}}))}return B?(0,s.jsx)("div",{className:$e,style:q}):(0,s.jsx)(bi.Consumer,{children:_e=>{const{selOnCellMouseDown:Oe,selOnCellMouseEnter:Ye,selOnCellCtrlClick:qe,selOnCellFocus:dt,selOnCellBlur:ft}=_e||{};return(0,s.jsxs)("div",{className:$e,style:ar(ar({},q),T==null?void 0:T.style),tabIndex:-1,onMouseDown:Oe,onMouseEnter:Ye,onClick:rt=>{ee(rt),qe&&qe(rt)},onFocus:dt,onBlur:ft,onContextMenu:C?Te:void 0,children:[ze,we]})}})},Nn.wy);ey.displayName="Cell";var SF=Object.defineProperty,PF=Object.defineProperties,IF=Object.getOwnPropertyDescriptors,ty=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,EF=Object.prototype.propertyIsEnumerable,ny=(t,e,n)=>e in t?SF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Na=(t,e)=>{for(var n in e||(e={}))OF.call(e,n)&&ny(t,n,e[n]);if(ty)for(var n of ty(e))EF.call(e,n)&&ny(t,n,e[n]);return t},hd=(t,e)=>PF(t,IF(e));const kF=`${qt}__cell`,jF=Xb(Nn.cd);function gd(t){const{className:e,style:n,name:r,isDisabled:o,dataAttrs:l,events:i,metaSet:c,columns:d,cells:u,levels:m,rows:f,cellSettings:p,currentRowId:v,currentColumnId:g,onCellControlEvent:b,onCellsPaste:h,onNavigation:C,onCellsBlur:_,onHeaderEvent:O,onLoadData:M,rowThreshold:P=15,columnThreshold:S=15,loadedRowCount:j=60,loadedColumnCount:k=60,popupMenu:w,selfWidthByContent:x,hasActiveMode:T,_autoSize:A}=t,B=Z3(w),Z=be()(e,qt),V=(0,a.useRef)(null),D=(0,a.useRef)(null),H=(0,a.useRef)(null),E=(0,a.useRef)(null),R=(0,a.useRef)(null),L=(0,a.useRef)(null),U=(0,a.useRef)([]),q=(0,a.useRef)([]),W=(0,a.useRef)({}),G=(0,a.useRef)({}),J=(0,a.useRef)({}),[oe,ce]=(0,a.useState)(null),[N,$]=(0,a.useState)(null),K=!!B,{show:ee}=(0,mr.av)({id:r,props:{rowId:v,columnId:g}}),ne=ge=>{ge.target.parentElement===ge.currentTarget&&ee(ge)},se=(0,a.useCallback)(ge=>{const{event:ke,rowId:Ve,menuItem:Ke,columnId:ut,getSelection:Me}=ge,Ot=(0,$t.flatten)(Me().items).filter(Zt=>Boolean(Zt));if(o)return;const Ft={menuItem:Ke,rowId:Ve,columnId:ut,selectedCells:Ot};je(hd(Na({specificEvent:null,nativeEvent:"onMenuItemSelect"},{event:ke,metaSet:c,events:i}),{value:Ft}))},[o,i,c]),[me,ye]=(0,a.useState)({overscanColumnStartIndex:0,overscanColumnStopIndex:0,overscanRowStartIndex:0,overscanRowStopIndex:0,visibleColumnStartIndex:0,visibleColumnStopIndex:0,visibleRowStartIndex:0,visibleRowStopIndex:0}),[ue,Re]=(0,a.useState)({vertical:!1,horizontal:!1}),De=(0,a.useRef)(null),xe=(0,a.useRef)([]),Ne=(0,a.useRef)([]),[Te,it]=(0,a.useState)(U3(d)),$e=(0,a.useCallback)(ge=>{Te<ge&&ge>=lr&&it(ge)},[]),[ze,we]=(0,a.useState)({}),_e=(ge,ke)=>{((ze==null?void 0:ze[ge])<ke||!(ze!=null&&ze[ge]))&&we(Ve=>{const Ke=Na({},Ve);return(Ke[ge]<ke||!Ke[ge])&&(Ke[ge]=ke),Ke})},Oe=(0,a.useRef)({}),Ye=(0,a.useCallback)((ge,ke,Ve)=>{const Ke=Ve?1:0,ut={height:ke+Ke>lr?ke+Ke:lr};Ve&&(ut.heightWithNodes=Ve>lr?Ve:lr),Oe.current[ge]=ut},[Oe]),qe=sc(d);(0,$t.isEqual)(U.current,qe)||(U.current=qe);const dt=sc(f);(0,$t.isEqual)(q.current,dt)||(q.current=dt),(0,$t.isEqual)(W.current,u)||(W.current=u),(0,$t.isEqual)(G.current,p)||(G.current=p);const ft=U.current,rt=q.current,bt=W.current,pt=G.current,mt=(0,a.useCallback)((ge,ke,Ve,Ke)=>{var ut,Me,Ot,Ft,tt;const Zt={},Yn=Object.keys(J.current),Hn=Object.keys(bt),kt=(0,$t.intersection)(Hn,Yn),$n=Yn.length&&kt.length<Yn.length;for(let kn=ge;kn<=ke;kn++){const Lt=(ut=ft[kn])==null?void 0:ut.id;for(let Kt=Ve;Kt<=Ke;Kt++){const yt=(Me=rt[Kt])==null?void 0:Me.id;(!((Ot=bt[yt])!=null&&Ot[Lt])&&yt&&Lt&&!((Ft=J.current[yt])!=null&&Ft[Lt])||!((tt=bt[yt])!=null&&tt[Lt])&&$n)&&(Zt[yt]||(Zt[yt]=[]),Zt[yt].push(Lt),J.current[yt]||(J.current[yt]={}),J.current[yt][Lt]=!0)}}return Zt},[ft,rt,bt,J]),Le=(0,a.useCallback)(ge=>{const{overscanColumnStartIndex:ke,overscanColumnStopIndex:Ve,overscanRowStartIndex:Ke,overscanRowStopIndex:ut,visibleColumnStartIndex:Me,visibleColumnStopIndex:Ot,visibleRowStartIndex:Ft,visibleRowStopIndex:tt}=ge,Zt=Ft<me.visibleRowStartIndex||tt<me.visibleRowStopIndex,Yn=Ft>me.visibleRowStartIndex||tt>me.visibleRowStopIndex,Hn=Me<me.visibleColumnStartIndex||Ot<me.visibleColumnStopIndex,kt=Me>me.visibleColumnStartIndex||Me>me.visibleColumnStopIndex;ye(ge),xe.current=Xa([...xe.current,[Ke,ut]]),Ne.current=Xa([...Ne.current,[ke,Ve]]);const $n={start:0,stop:ft.length-1},kn={start:0,stop:rt.length-1};let Lt;if(kt){let Kt=Me,yt=Ot+S+k;yt>$n.stop&&(yt=$n.stop),Lt=mt(Kt,yt,Ke,ut)}else if(Hn){let Kt=Me-S-k,yt=Ot;Kt<$n.start&&(Kt=$n.start),Lt=mt(Kt,yt,Ke,ut)}else if(Yn){let Kt=Ft,yt=tt+P+j;yt>kn.stop&&(yt=kn.stop),Lt=mt(ke,Ve,Kt,yt)}else if(Zt){let Kt=Ft-P-j,yt=tt;Kt<kn.start&&(Kt=kn.start),Lt=mt(ke,Ve,Kt,yt)}else Lt=mt(ke,Ve,Ke,ut);if(Lt&&Object.keys(Lt).length){const Kt=Lt;let yt=!0;if(M&&(yt=M({metaSet:c,value:Kt})),yt&&i.onLoadData){const{alias:Wn,args:_r}=i.onLoadData;ve[Wn]({metaSet:c,args:_r,value:Kt})}}},[rt,ft,me,mt,i,c,M,P,S,j,k]),de=Dt(m==null?void 0:m.rows.reduce((ge,ke)=>ge+Ll(ke==null?void 0:ke.size,null,f),0)),Ze=(0,a.useCallback)(ge=>{var ke,Ve;const{isAdaptiveCell:Ke,sizeValue:ut}=ja(ge.size),{height:Me,heightWithNodes:Ot}=(ke=Oe.current[ge.id])!=null?ke:{};let Ft=ge.isExpanded?Ot:Me;return(Ve=ge==null?void 0:ge.nodes)!=null&&Ve.length&&(Ft=ge.nodes.reduce((tt,Zt)=>tt+ot(Zt),0)),!Ke&&Ft<ut?ut:Ft>=ut?Ft:Eb},[Oe]),ot=(0,a.useCallback)(ge=>{var ke,Ve;let Ke=Ze(ge);return(ke=ge==null?void 0:ge.nodes)!=null&&ke.length&&ge.isExpanded&&(Ke=ge.nodes.reduce((ut,Me)=>ut+ot(Me),0)),(Ve=ge==null?void 0:ge.branches)!=null&&Ve.length&&ge.isExpanded&&(Ke+=ge.branches.reduce((ut,Me)=>ut+ot(Me),0)),Ke},[Ze]),gt=(0,a.useCallback)(ge=>{const ke=f[ge];return ot(ke)},[f,ot]),he=(0,a.useCallback)(ge=>{const ke=ft[ge]||{},{isAdaptiveCell:Ve,sizeValue:Ke}=ja(ke.size);if(!Ve)return Ke;const{size:ut,caption:Me}=ke,Ot=Ll(ut,Me);return Dt(Ot+id)},[ft,S]),fe=(0,a.useCallback)(ge=>{const ke=rt[ge];return Ze(ke)},[rt,Ze]),ie=(0,a.useCallback)(ge=>ge-de-fi,[de]),Q=(0,a.useCallback)(ge=>{const ke=ie(ge);return ue.vertical?ke-qo:ke},[ie,ue]),ae=(0,a.useCallback)(ge=>ge-Te-fi,[Te]),Ie=(0,a.useCallback)(ge=>{const ke=ae(ge);return ue.horizontal?ke-qo:ke},[ae,ue]),Be=(0,a.useCallback)(({event:ge,isRow:ke,header:Ve})=>{if(o)return;const Ke={event:"onClick",isRow:ke,headerId:Ve.id};let ut=!0;if(O&&(ut=O({event:ge,metaSet:c,value:Ke})),ut&&i.onHeaderEvent){const{alias:Me,args:Ot}=i.onHeaderEvent;ve[Me]({event:ge,metaSet:c,args:Ot,value:Ke})}},[o,i,c,O]),re=(0,a.useCallback)(ge=>{var ke,Ve;const{horizontalScrollDirection:Ke,verticalScrollDirection:ut,scrollLeft:Me,scrollTop:Ot}=ge;ut&&((ke=V.current)==null||ke.scrollTo(Ot)),Ke&&((Ve=D.current)==null||Ve.scrollTo(Me))},[V,D]),pe=(0,a.useCallback)(ge=>{const{scrollOffset:ke,scrollUpdateWasRequested:Ve}=ge;Ve||oe==null||oe.scrollTo({scrollTop:ke})},[oe]),Se=(0,a.useCallback)(ge=>{const{scrollOffset:ke,scrollUpdateWasRequested:Ve}=ge;Ve||oe==null||oe.scrollTo({scrollLeft:ke})},[oe]),We=(0,$t.debounce)(Le,200),Ce=(0,a.useCallback)(ge=>{if(ge&&We(ge),!R.current||!L.current)return;const{clientWidth:ke,clientHeight:Ve}=R.current,{clientWidth:Ke,clientHeight:ut}=L.current,Me=ut>Ve!==ue.vertical,Ot=Ke>ke!==ue.horizontal;(Me||Ot)&&Re({vertical:ut>Ve,horizontal:Ke>ke})},[R,L,ue.vertical,ue.horizontal,Le]),Je=(0,a.useCallback)(()=>{var ge,ke;oe&&(oe==null||oe.resetAfterIndices({columnIndex:0,rowIndex:0})),D.current&&((ge=D.current)==null||ge.resetAfterIndex(0)),V.current&&((ke=V.current)==null||ke.resetAfterIndex(0))},[oe,D,V]),et=(0,a.useCallback)(()=>{Je()},[Je]),It=(0,a.useCallback)(({event:ge,value:ke})=>{if(o)return;let Ve=!0;if(C&&(Ve=C({event:ge,metaSet:c,value:ke})),Ve&&(i!=null&&i.onNavigation)){const{alias:Ke,args:ut}=i.onNavigation;Ve=ve[Ke]({event:ge,args:ut,metaSet:c,value:ke})}return Ve},[o,i,c,C]),vt=(0,a.useCallback)(ge=>{const ke=d[ge];return pi(ke)},[d]),_t=(0,a.useCallback)(({data:ge,columnIndex:ke,rowIndex:Ve})=>{const{columnTerminalNodes:Ke,rowTerminalNodes:ut}=ge,Me=ut[Ve].id,Ot=Ke[ke].id;return`${Me}:${Ot}`},[]),Nt=(0,a.useCallback)(({event:ge,eventType:ke,controlType:Ve,cellData:Ke,value:ut,rowId:Me,columnId:Ot})=>{if(o)return!1;let Ft=!0;if(b&&(Ft=b(ge)),Ft&&(i!=null&&i.onCellControlEvent)){const{alias:tt,args:Zt}=i.onCellControlEvent;ve[tt]({event:ge,args:Zt,metaSet:c,value:{controlType:Ve,eventType:ke,cellData:Ke,cellValue:ut===""?null:ut,rowId:Me,columnId:Ot}})}},[o,i,c,b]),ct=(0,a.useCallback)(({event:ge,changedCells:ke})=>{const Ve="onPasteCells",Ke=ke.map(({type:Me,rowId:Ot,columnId:Ft,value:tt,index:Zt})=>{const Yn=Zt==null?void 0:Zt[0],Hn=Zt==null?void 0:Zt[1];return{cellData:{columnId:Ft,columnIndex:Hn,rowId:Ot,rowIndex:Yn},cellValue:tt,columnId:Ft,rowId:Ot,controlType:Me,eventType:Ve}});if(o)return!1;let ut=!0;if(h&&(ut=h(ge)),ut&&(i!=null&&i.onPasteEvent)){const{alias:Me,args:Ot}=i.onPasteEvent;ve[Me]({event:ge,args:Ot,metaSet:c,value:{eventType:Ve,cellsData:Ke}})}},[o,i,c,h]),Qt=(0,a.useCallback)(({event:ge})=>{if(o)return!1;let ke=!0;const Ve={rowId:null,columnId:null};if(_&&(ke=_({event:ge,metaSet:c,value:Ve})),ke&&(i!=null&&i.onCellsBlur)){const{alias:Ke,args:ut}=i.onCellsBlur;ve[Ke]({event:ge,args:ut,metaSet:c,value:Ve})}},[o,i,c,_]),Rt=(0,a.useMemo)(()=>({rows:f,columns:d,levels:m,columnHeaderSizes:ze,handleHeaderEvent:Be,updateColumnHeaderSizes:_e,updateColumnHeaderHeight:$e,updateRowHeaderHeight:Ye}),[f,d,m,ze,_e,Be,$e,Ye]),Bn=(0,a.useMemo)(()=>({isDisabled:o,gridId:r,columnTerminalNodes:ft,rowTerminalNodes:rt,currentColumnId:g,currentRowId:v,globalCellSettings:pt,cells:bt,cellCssClass:kF,onCellsBlur:Qt,onCellControlEvent:Nt,onNavigation:It,showContextMenuColumn:K,hasActiveMode:T,currentCell:N,setCurrentCell:$}),[r,ft,rt,g,v,pt,bt,Nt,It,Qt,N,$]),cn=!!Object.keys(Bn.cells||{}).length,nn=oe,rn=ft.length,en=D.current;(0,a.useEffect)(()=>{en==null||en.resetAfterIndex(0),nn==null||nn.resetAfterColumnIndex(0)},[en,nn,rn]);const Vt=rt.length,un=V.current;(0,a.useEffect)(()=>{un==null||un.resetAfterIndex(0),nn==null||nn.resetAfterRowIndex(0)},[un,nn,Vt]);const Pn=(0,a.useCallback)(()=>{let ge=1+de+fi+d.reduce((Ve,Ke)=>Ve+Nb(Ke),0),ke;return A?(ke="100%",ue.horizontal&&(ke=`calc(${ke}+${qo})`)):(ke=1+Te+fi+f.reduce((Ve,Ke,ut)=>Ve+gt(ut),0),ue.horizontal&&(ke+=qo)),ue.vertical&&(ge+=qo),{width:ge,height:ke}},[d,de,f,Te,ue.vertical,ue.horizontal]),rr=(0,a.useMemo)(()=>{const ge=`${qt}__row-list`;return be()(ge,{[`${ge}_scrollable`]:ue.horizontal})},[ue]),Ln=(0,a.useMemo)(()=>{const ge=`${qt}__column-list`;return be()(ge,{[`${ge}_scrollable`]:ue.vertical})},[ue]);let gn=Na({},n);if(gn.width&&!gn.width.toString().includes("px")&&(gn.width=Dt(gn.width)),x){const{width:ge,height:ke}=Pn();gn=hd(Na({},gn),{minWidth:ge,minHeight:ke})}return(0,s.jsx)("div",{style:{minHeight:"inherit",display:"flex",boxSizing:"border-box"},children:(0,s.jsxs)("div",hd(Na({"data-name":r,className:Z,style:gn},l),{tabIndex:0,children:[(0,s.jsx)(ti.Z,{className:`${qt}__auto-sizer`,onResize:et,children:({height:ge,width:ke})=>(0,s.jsxs)("div",{style:{height:ge,width:ke},ref:De,children:[(d==null?void 0:d.length)>0&&(0,s.jsxs)("div",{className:`${qt}__columns`,children:[(0,s.jsx)("div",{className:`${qt}__row-levels`,style:{width:de,height:Te},children:m==null?void 0:m.rows.map((Ve,Ke)=>(0,s.jsx)("div",{className:`${qt}__header`,style:{width:Dt(Ll(Ve==null?void 0:Ve.size))+10},children:(0,s.jsx)("span",{className:`${qt}__header-text text-ellipsis`,title:Ve.caption,children:`${Ve.caption||""}`})},Ve.caption||Ke))}),(0,s.jsx)(Nn.S_,{ref:D,innerRef:E,className:Ln,layout:"horizontal",height:Te,width:Q(ke),itemCount:d.length,itemSize:vt,onScroll:Se,itemData:Rt,children:zb})]}),(0,s.jsxs)("div",{className:`${qt}__body`,onContextMenu:ne,children:[(0,s.jsx)("div",{className:`${qt}__rows`,children:(0,s.jsx)(Nn.S_,{ref:V,innerRef:H,className:rr,height:Ie(ge),width:de,itemCount:f.length,itemSize:gt,onScroll:pe,itemData:Rt,children:Wb})}),cn&&(0,s.jsx)(jF,{ref:ce,outerRef:R,innerRef:L,className:`${qt}__cells`,width:ie(ke),height:ae(ge),columnCount:ft.length,rowCount:rt.length,columnWidth:he,rowHeight:fe,onScroll:re,onItemsRendered:Ce,onPaste:ct,itemData:Bn,itemKey:_t,overscanColumnCount:S,overscanRowCount:P,isSelectOnHeaderClick:!0,children:ey})]})]})}),K&&(0,s.jsx)(Fl,{itemsContextMenu:B,id:r,handleClickContextMenu:se})]}))})}gd.propTypes={GUID:y().string,actions:y().array,cellSettings:y().object,cells:y().object,children:y().array,columns:y().array,currentColumnId:y().string,currentRowId:y().string,dataAttrs:y().object,events:y().object,hasActiveMode:y().bool,hint:y().string,id:y().string,isDisabled:y().bool,isExcluded:y().bool,isFixSize:y().bool,isStatic:y().bool,levels:y().object,metaSet:y().object,name:y().string,rows:y().array,adaptiveBigDataGrid:y().bool,selfWidthByContent:y().bool,style:y().object,testId:y().string,type:y().string},gd.defaultProps={isDisabled:!1,isExcluded:!1};var RF=gd,VG={popperIconSize:"18px",primaryColor:"#0bd688"},DF=Object.defineProperty,NF=Object.defineProperties,MF=Object.getOwnPropertyDescriptors,yi=Object.getOwnPropertySymbols,ry=Object.prototype.hasOwnProperty,oy=Object.prototype.propertyIsEnumerable,ly=(t,e,n)=>e in t?DF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zr=(t,e)=>{for(var n in e||(e={}))ry.call(e,n)&&ly(t,n,e[n]);if(yi)for(var n of yi(e))oy.call(e,n)&&ly(t,n,e[n]);return t},Ma=(t,e)=>NF(t,MF(e)),ay=(t,e)=>{var n={};for(var r in t)ry.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yi)for(var r of yi(t))e.indexOf(r)<0&&oy.call(t,r)&&(n[r]=t[r]);return n};const TF=(t,e,n)=>{var r;const o=(r=n[e])==null?void 0:r[t];return o===void 0?{isLoading:!0}:o===!0?{X:t+1,Y:e+1,value:""}:o==="isHidden"?!1:o},FF=(t,e)=>t.style&&Ae(e,t.style)?e[t.style]:{},AF=(t,e)=>{if(t.control&&Ae(e,t.control))return e[t.control]},sy=(t,e,n=[],r)=>{let o=new Array(e).fill(Dt(t));const l=[];if(n.forEach(i=>{Ae(i,"size")&&(o[i.index-1]=Dt(i.size)),Ae(i,"hidden")&&i.hidden===!0&&(o[i.index-1]=0)}),r){for(let i=0;i<r;i++)l[i]=o[i];o=o.slice(r)}return[o,l]},UG={overscanColumnStartIndex:0,overscanColumnStopIndex:0,overscanRowStartIndex:0,overscanRowStopIndex:0,visibleColumnStartIndex:0,visibleColumnStopIndex:0,visibleRowStartIndex:0,visibleRowStopIndex:0},GG=(t,e)=>{var n;const r=[];for(let o=t[0];o<=t[2];o+=1)for(let l=t[1];l<=t[3];l+=1)((n=e[l])==null?void 0:n[o])===void 0&&(r.length?(r[0]=Math.min(o,r[0]),r[1]=Math.min(l,r[1])):(r[0]=o,r[1]=l));if(r.length)return r},BF=(t,e)=>{const n=[...t],r=e[2]-e[0],o=e[3]-e[1];return t[2]-t[0]<r&&(n[2]=t[0]+r),t[3]-t[1]<o&&(n[3]=t[1]+o),n},$F=t=>{const e=[...t];for(let n=0;n<t.length;n+=1)e[n]+=1;return e},zF=t=>{const{renderedCells:e,events:n,viewBox:r,freezedRows:o,freezedCols:l}=t,{visibleColumnStartIndex:i,visibleRowStartIndex:c,visibleColumnStopIndex:d,visibleRowStopIndex:u}=e;let m=[i,c,d+l,u+o];m=BF($F(m),r),JSON.stringify(m)!==JSON.stringify(r)&&je({specificEvent:null,nativeEvent:"onLoadData",value:m,events:n})},iy={center:"center",middle:"center",left:"flex-start",right:"flex-end",top:"flex-start",bottom:"flex-end"},LF=t=>{const e={enumType:"enum"},{listValues:n,value:r,formattedValue:o,isAutocomplete:l}=t;if(!l&&(n!=null&&n.length)&&r){const i=n.find(c=>c.key===r);i&&(e.value=i.value)}return n&&n.length&&(e.listValues=n),r!==void 0&&(o===void 0&&(e.formattedValue=e.value),e.initialValue=e.value,e.initialFormattedValue=e.value),e},HF=t=>{const{control:e,cellData:n,cellStyleData:r={},events:o,gridName:l,eventProps:i,wrapperStyle:c,focusRef:d}=t,u=r,{fontColor:m,color:f,horzAlign:p,vertAlign:v,border:g=["none"]}=u,b=ay(u,["fontColor","color","horzAlign","vertAlign","border"]),h=e==null?void 0:e.disabled,C=e==null?void 0:e.hasButton,_=zr({},b);_.backgroundColor=f,_.color=m,_.textAlign=p;const O=e==null?void 0:e.type;if(O==="checkbox"&&(_.justifyContent=p?iy[p]:"center"),_.verticalAlign=v?iy[v]:"center",_.borderRadius=0,_.margin=0,_.width=c.width,_.height=c.height,r!=null&&r.border){if(g.length===1)g[0]==="none"?_.border="none":(_.borderWidth=g[0],_.borderStyle="solid");else if(g.length===4)for(let V=0;V<4;V+=1)if(g[V]==="none")switch(V){case 0:_.borderLeft="none";break;case 1:_.borderTop="none";break;case 2:_.borderRight="none";break;default:_.borderBottom="none";break}else switch(V){case 0:_.borderLeftWidth=g[0],_.borderLeftStyle="solid";break;case 1:_.borderTopWidth=g[1],_.borderTopStyle="solid";break;case 2:_.borderRightWidth=g[2],_.borderRightStyle="solid";break;default:_.borderBottomWidth=g[3],_.borderBottomStyle="solid";break}}const[M,P]=WF(i,o,h,n.value,e==null?void 0:e.type),S=Qr(l,n.Y,n.X),j={["data-grid-id"]:l,["data-row-id"]:n.Y,["data-column-id"]:n.X};let k=n.value,w=n.value,x,T=n.value,A,B,Z;if(ni(O)&&O!=="enum")n.staticValue&&(k=n.staticValue);else if((O==="enum"||O==="shortlist")&&e){const{value:V,formattedValue:D,initialFormattedValue:H,initialValue:E,listValues:R,enumType:L}=LF(zr(zr({},n),e));T=V,w=E,A=H,k=D,B=L,x=R,O==="shortlist"&&(Z=!0)}return Ma(zr(zr({GUID:S,dataAttrs:j,isWrapped:r==null?void 0:r.wrap,isAutocomplete:Z,isParentTable:!0,isDisabled:h,initialValue:w,initialFormattedValue:A,focusedElement:d,formattedValue:k,value:T,listValues:x},M),e),{type:B||(e==null?void 0:e.type),showButton:C,events:P,style:_})},cy=(t,e,n)=>{function r(o){const{value:l}=o,i=["onEnter","onAutocomplete"].includes(t)?Ma(zr({},n),{value:l}):n;je({specificEvent:null,nativeEvent:t,events:e,value:i})}return r},WF=(t,e,n,r,o)=>{const l=t,{actionList:i}=l,c=ay(l,["actionList"]),d={},u={};return i&&i.length&&i.forEach(m=>{const f=m==="onDblClick"?"onDoubleClick":m;d[f]=cy(f,e,c),e[f]&&(u[f]=e[f])}),n||(d.onEnter=cy("onEnter",e,c),ni(o)&&(d.onImplicitChange=m=>{(m==null?void 0:m.value)!==r&&je({specificEvent:null,nativeEvent:"onEnter",events:e,value:Ma(zr({},c),{value:m.value})})})),o==="checkbox"&&(d.onChange=m=>{je({specificEvent:null,nativeEvent:"onEnter",events:e,value:Ma(zr({},c),{value:m.value})})}),(o==="enum"||o==="shortlist")&&(d.onSelect=m=>{const{value:f}=m;return je({specificEvent:null,nativeEvent:"onEnter",events:e,value:Ma(zr({},c),{value:typeof f=="object"&&(f==null?void 0:f.keyValue)!==void 0?f==null?void 0:f.keyValue:f})}),!0}),o==="shortlist"&&(d.onImmediatelyAutoComplete=m=>(je({specificEvent:null,nativeEvent:"onCellAutoComplete",events:e,state:c,value:m.value}),!1),d.onChange=m=>(je({specificEvent:null,nativeEvent:"onCellAutoComplete",events:e,state:c,value:m.value}),!0)),[d,u]},VF=({colSpan:t,rowSpan:e,wrapperStyle:n,columnWidths:r,rowHeights:o,rowIndex:l,columnIndex:i})=>{const c=zr({},n);if(t){let d=0;for(let u=0;u<=t;u++)d+=r[i+u];c.width=d,c.position="absolute",c.left="0",c.zIndex=t+(e||0)}if(e){let d=0;for(let u=0;u<=e;u++)d+=o[l+u];c.height=d,c.position="absolute",c.top="0",c.zIndex=e+(t||0)}return c},UF=t=>{const e=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];return t.reduce((n,{props:{columnIndex:r,rowIndex:o}})=>{let[l,i,c,d]=n;return o<l&&(l=o),o>i&&(i=o),r<c&&(c=r),r>d&&(d=r),[l,i,c,d]},e)},GF=(t=0,e=0,n)=>{var r;let o=n;if(o=o.slice(e),t)for(let l=0;l<o.length;l++)o[l]=(r=o[l])==null?void 0:r.slice(t);return{gridMatrixWoFreezedCells:o,freezedCols:t,freezedRows:e}},ZF=(t,e)=>{const{focusedCellCoords:n,setFocusedCellCoords:r,rowsCount:o,colsCount:l}=e;if(n.length)switch(t.key){case"ArrowUp":n[1]>=1&&r([n[0],n[1]-1]);break;case"ArrowDown":n[1]<o&&r([n[0],n[1]+1]);break;case"ArrowLeft":n[0]>=1&&r([n[0]-1,n[1]]);break;case"ArrowRight":n[0]<l&&r([n[0]+1,n[1]]);break;default:}},KF=t=>{const e=t[0][0];return typeof e=="object"?[e.X||1,e.Y||1]:[1,1]},qF=({changedCells:t,offset:e,events:n})=>{const r="onPasteCells",o=t.map(({rowId:l,columnId:i,value:c})=>({value:c,col:Number(i)+e[0],row:Number(l)+e[1]}));je({specificEvent:null,nativeEvent:"onPasteEvent",value:{eventType:r,cells:o},events:n})};var YF=Object.defineProperty,XF=Object.defineProperties,JF=Object.getOwnPropertyDescriptors,uy=Object.getOwnPropertySymbols,QF=Object.prototype.hasOwnProperty,eA=Object.prototype.propertyIsEnumerable,dy=(t,e,n)=>e in t?YF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wl=(t,e)=>{for(var n in e||(e={}))QF.call(e,n)&&dy(t,n,e[n]);if(uy)for(var n of uy(e))eA.call(e,n)&&dy(t,n,e[n]);return t},tA=(t,e)=>XF(t,JF(e));const nA=t=>{const{columnIndex:e,rowIndex:n,isFreezed:r,style:o,data:{styles:l,defaultStyle:i,defaultControl:c,controls:d,currentRow:u,currentCol:m,events:f,freezedCols:p=0,freezedRows:v=0,columnWidths:g,rowHeights:b,focusedCellCoords:h,setFocusedCellCoords:C,handleNavigation:_,cells:O,gridId:M}}=t,P=`${bd}__cell`,S=TF(e,n,O),j=(0,a.useRef)(null),k=()=>{(h[0]!==e||h[1]!==n)&&!(typeof S=="object"&&S.isLoading)&&C([e,n])};if((0,a.useEffect)(()=>{j.current&&h.length===2&&e===h[0]&&n===h[1]&&document.activeElement!==j.current&&j.current.focus()},[h,j.current]),S===!1||o.height===0)return null;const w=AF(S,d)||d[c],x={actionList:w==null?void 0:w.actionList,currentRow:n+1+(r?0:v),currentCol:e+1+(r?0:p)},T=S.colSpan||S.rowSpan,A=u===x.currentRow&&m===x.currentCol,B=Wl(Wl(Wl({},l[i]),FF(S,l)),A&&{color:I("canvas-grid-cell-active")||"#E3E4E8"});let Z={width:o.width||"100%",height:o.height||"100%"};if(T){const{colSpan:D,rowSpan:H}=S;Z=VF({colSpan:D,rowSpan:H,wrapperStyle:Z,columnWidths:g,rowHeights:b,rowIndex:n,columnIndex:e})}const V=Vl(Wl(Wl({},{iconName:B==null?void 0:B.iconname,iconSize:B==null?void 0:B.iconsize}),HF({control:w,cellStyleData:B,cellData:S,eventProps:x,gridName:M,events:f,wrapperStyle:Z,focusRef:j})));return(0,s.jsx)(bi.Consumer,{children:D=>{const{selOnCellMouseDown:H,selOnCellMouseEnter:E,selOnCellCtrlClick:R,selOnCellFocus:L,selOnCellBlur:U}=D||{};return(0,s.jsx)("div",{"data-log":n,onMouseDown:H,onMouseEnter:E,onClick:q=>{k(),R&&R(q)},onFocus:q=>{L&&L(q),_({event:q,value:S})},onBlur:U,style:tA(Wl({},o),{overflow:T?"initial":void 0}),className:P,children:(0,s.jsx)("div",{style:Z,children:S.isLoading?(0,s.jsx)("div",{className:"indicator__loader"}):V})})}})};var Ci=(0,a.memo)(nA,Nn.wy),fy=(0,a.createContext)(null);const py=1;var rA=Object.defineProperty,oA=Object.defineProperties,lA=Object.getOwnPropertyDescriptors,_i=Object.getOwnPropertySymbols,my=Object.prototype.hasOwnProperty,vy=Object.prototype.propertyIsEnumerable,hy=(t,e,n)=>e in t?rA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Or=(t,e)=>{for(var n in e||(e={}))my.call(e,n)&&hy(t,n,e[n]);if(_i)for(var n of _i(e))vy.call(e,n)&&hy(t,n,e[n]);return t},Ta=(t,e)=>oA(t,lA(e)),aA=(t,e)=>{var n={};for(var r in t)my.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_i)for(var r of _i(t))e.indexOf(r)<0&&vy.call(t,r)&&(n[r]=t[r]);return n};const Er=(t,e)=>t+e,sA=(t,e,n,r,o,l,i)=>{const c=[],d=o.slice(0,i).reduce(Er,0);for(let u=e+i;u<=n+i;u++){const m={left:o.slice(i,u).reduce(Er,0)+d};for(let f=0;f<l;f++){const p={height:r[f],width:o[u],top:r.slice(0,f).reduce(Er,0)};c.push((0,s.jsx)("div",{className:"frozen-columns-cell",style:Or(Or({},p),m),children:(0,s.jsx)(Ci,{isFreezed:!0,columnIndex:u,rowIndex:f,data:t,style:p})},`${u}${f}`))}}return c},iA=(t,e,n,r,o,l,i)=>{const c=[];for(let d=e+l;d<=n+l;d++){const u={top:r.slice(0,d-l).reduce(Er,0)};for(let m=0;m<i;m++){const f={height:r[d],width:o[m],left:o.slice(0,m).reduce(Er,0)};c.push((0,s.jsx)("div",{className:"frozen-rows-cell",style:Or(Or({},f),u),children:(0,s.jsx)(Ci,{isFreezed:!0,columnIndex:m,rowIndex:d,style:f,data:t})},`${d}${m}`))}}return c},cA=(t,e,n,r,o)=>{const l=[];for(let i=0;i<r;i++){const c={top:e.slice(0,i).reduce(Er,0),left:0};for(let d=0;d<o;d++){c.left=n.slice(0,d).reduce(Er,0);const u={height:e[i],width:n[d]};l.push((0,s.jsx)("div",{className:"frozen-corner-cell",style:Or(Or({},u),c),children:(0,s.jsx)(Ci,{isFreezed:!0,columnIndex:d,rowIndex:i,style:u,data:t})},`${i}${d}`))}}return l},gy=(0,a.forwardRef)((t,e)=>{var n=t,{children:r}=n,o=aA(n,["children"]);return(0,s.jsx)(fy.Consumer,{children:l=>{const{freezedData:i,itemData:c,initialGridMatrix:d}=l||{};if(i&&c){const{freezedRowsSizes:u,freezedColsSizes:m,freezedCols:f,freezedRows:p}=i,v=u.reduce(Er,0),g=m.reduce(Er,0),[b,h,C,_]=UF(r),O=[...m,...c.columnWidths],M=[...u,...c.rowHeights],P=sA(Ta(Or({},c),{cells:d||c.cells,columnWidths:O,rowHeights:M}),C,_,M,O,p,f),S=iA(Ta(Or({},c),{cells:d||c.cells,columnWidths:O,rowHeights:M}),b,h,M,O,p,f),j=cA(Ta(Or({},c),{cells:d||c.cells,columnWidths:O,rowHeights:M}),M,O,p,f),k={width:`${c.columnWidths.reduce(Er,0)}px`,height:`${c.rowHeights.reduce(Er,0)}px`},w={top:v,width:g,height:`calc(100% - ${v}px)`},x={width:`calc(100% + ${g}px)`,height:v-py},T={height:v-py,width:g},A=Ta(Or({},o),{style:k}),B={top:v,left:g};return(0,s.jsxs)("div",Ta(Or({className:"grid-container",ref:e},A),{children:[(Boolean(f)||Boolean(p))&&(0,s.jsx)("div",{className:"frozen-corner",style:T,children:j}),(0,s.jsxs)("div",{className:"grid-wrapper",style:k,children:[Boolean(p)&&(0,s.jsx)("div",{className:"frozen-columns",style:x,children:P}),Boolean(f)&&(0,s.jsx)("div",{className:"frozen-rows",style:w,children:S}),(0,s.jsx)("div",{className:"grid-container",style:B,children:r})]})]}))}}})});gy.displayName="FrozenItems";var uA=gy,KG={popperIconSize:"18px",primaryColor:"#0bd688"},dA=Object.defineProperty,fA=Object.defineProperties,pA=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,by=Object.prototype.hasOwnProperty,yy=Object.prototype.propertyIsEnumerable,Cy=(t,e,n)=>e in t?dA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mA=(t,e)=>{for(var n in e||(e={}))by.call(e,n)&&Cy(t,n,e[n]);if(wi)for(var n of wi(e))yy.call(e,n)&&Cy(t,n,e[n]);return t},vA=(t,e)=>fA(t,pA(e)),hA=(t,e)=>{var n={};for(var r in t)by.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wi)for(var r of wi(t))e.indexOf(r)<0&&yy.call(t,r)&&(n[r]=t[r]);return n};const gA=Xb(Nn.cd);var bA=t=>{var e=t,{freezedData:n,initialGridMatrix:r,columnWidth:o,rowHeight:l,children:i,cols:c,rows:d,itemData:u}=e,m=hA(e,["freezedData","initialGridMatrix","columnWidth","rowHeight","children","cols","rows","itemData"]);const f=p(c,d);function p(g,b){const h=(0,a.useRef)(null);return a.useEffect(()=>{h.current&&h.current.resetAfterIndices({columnIndex:0,rowIndex:0,shouldForceUpdate:!0})},[g,b]),h}const v=(0,a.useMemo)(()=>KF(r),[r]);return(0,s.jsx)(fy.Provider,{value:{freezedData:n,initialGridMatrix:r,itemData:u},children:(0,s.jsx)(gA,vA(mA({columnWidth:o,rowHeight:l,innerElementType:uA,ref:f,itemData:u,onPaste:qF,offset:v,gridMatrix:r},m),{children:i}))})},yA=Object.defineProperty,xi=Object.getOwnPropertySymbols,_y=Object.prototype.hasOwnProperty,wy=Object.prototype.propertyIsEnumerable,xy=(t,e,n)=>e in t?yA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CA=(t,e)=>{for(var n in e||(e={}))_y.call(e,n)&&xy(t,n,e[n]);if(xi)for(var n of xi(e))wy.call(e,n)&&xy(t,n,e[n]);return t},_A=(t,e)=>{var n={};for(var r in t)_y.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xi)for(var r of xi(t))e.indexOf(r)<0&&wy.call(t,r)&&(n[r]=t[r]);return n};const Sy=0,bd="canvas-grid";var wA=t=>{const{name:e,freezedCols:n=0,freezedRows:r=0,colsCount:o,currentRow:l,currentCol:i,rowsCount:c,rows:d,cols:u,styles:m,controls:f,defaultControl:p,defaultStyle:v,defaultCol:g,defaultRow:b,events:h,gridMatrix:C,maxColSpan:_,maxRowSpan:O,selfWidthByContent:M,viewBox:P,metaSet:S}=t,[j,k]=sy(b.size||Sy,c,d,r),[w,x]=sy(g.size||Sy,o,u,n),T=CA({freezedRowsSizes:k,freezedColsSizes:x},GF(n,r,C)),{gridMatrixWoFreezedCells:A}=T,B=_A(T,["gridMatrixWoFreezedCells"]),Z=se=>w[se],V=se=>j[se],D=(0,a.useRef)(null),H=(0,a.useRef)(null),E=`${bd}__cell`,R=c-r,L=o-n,[U,q]=(0,a.useState)([]),W={focusedCellCoords:U,setFocusedCellCoords:q,rowsCount:c,colsCount:o},G=se=>ZF(se,W),J=vd()(zF,350),oe=(0,a.useCallback)(se=>{se&&J({renderedCells:se,events:h,viewBox:P,freezedRows:r,freezedCols:n})},[P,h]),ce=(0,a.useCallback)(({event:se,value:me})=>{je({specificEvent:null,nativeEvent:"onNavigation",event:se,metaSet:S,events:h,value:me})},[h,S]),N=Object.keys(C).map(se=>({id:se})),$=Object.keys(C[0]).map(se=>({id:se})),K=(0,a.useRef)(null),ee=Ja(w)+Ja(x),ne=Ja(j)+Ja(k);return Js(document.body,()=>{const se=K==null?void 0:K.current;if(!se||!M)return;const me=document.body.clientWidth,ye=document.body.clientHeight;se.style.minWidth=Math.min(ee,me)+"px",se.style.minHeight=Math.min(ne,ye)+"px"}),(0,s.jsx)("div",{ref:K,"data-name":e,style:{height:"100%",width:"100%"},onKeyDown:G,children:(0,s.jsx)(ti.Z,{children:({height:se,width:me})=>(0,s.jsx)(bA,{height:se||0,width:me||0,initialGridMatrix:C,columnCount:L,rowCount:R,rowHeight:V,columnWidth:Z,outerRef:H,innerRef:D,freezedData:B,className:bd,cols:u,rows:d,overscanColumnCount:_||1,overscanRowCount:O||1,itemData:{styles:m,defaultStyle:v,defaultControl:p,controls:f,events:h,freezedCols:n,freezedRows:r,columnWidths:w,rowHeights:j,gridId:e,cellCssClass:E,rowTerminalNodes:N,columnTerminalNodes:$,focusedCellCoords:U,setFocusedCellCoords:q,handleNavigation:ce,cells:A,currentRow:l,currentCol:i},onItemsRendered:oe,children:Ci})})})},xA=wA,SA=He(97762),Py=He(73042),XG={popperIconSize:"18px",primaryColor:"#0bd688"},PA={labelInvalidField:"\u041D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0444\u0430\u0439\u043B\u044B",labelFileWaitingForSize:"\u0412 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438 \u0440\u0430\u0437\u043C\u0435\u0440\u0430",labelFileSizeNotAvailable:"\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D",labelFileLoading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",labelFileLoadError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",labelFileProcessing:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",labelFileProcessingComplete:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",labelFileProcessingAborted:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430",labelFileProcessingError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",labelFileProcessingRevertError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043C\u0435\u043D\u0435",labelFileRemoveError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438",labelTapToCancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",labelTapToRetry:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443",labelTapToUndo:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",labelButtonRemoveItem:"\u0423\u0434\u0430\u043B\u044F\u0442\u044C",labelButtonAbortItemLoad:"\u041F\u0440\u0435\u0440\u0432\u0430\u0442\u044C",labelButtonRetryItemLoad:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",labelButtonAbortItemProcessing:"\u041E\u0442\u043C\u0435\u043D\u0430",labelButtonUndoItemProcessing:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",labelButtonRetryItemProcessing:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",labelButtonProcessItem:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",imageValidateSizeLabelFormatError:"\u0422\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F",imageValidateSizeLabelImageSizeTooSmall:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435",imageValidateSizeLabelImageSizeTooBig:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435",imageValidateSizeLabelExpectedMinSize:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {minWidth} \xD7 {minHeight}",imageValidateSizeLabelExpectedMaxSize:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {maxWidth} \xD7 {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043D\u0438\u0437\u043A\u043E\u0435",imageValidateSizeLabelImageResolutionTooHigh:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u044B\u0441\u043E\u043A\u043E\u0435",imageValidateSizeLabelExpectedMinResolution:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {maxResolution}",labelFileTypeNotAllowed:"\u0424\u0430\u0439\u043B \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430",fileValidateTypeLabelExpectedTypes:"\u041E\u0436\u0438\u0434\u0430\u0435\u0442 {allButLastType} \u0438\u043B\u0438 {lastType}",labelMaxFileSizeExceeded:"\u0424\u0430\u0439\u043B \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0439",labelMaxFileSize:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 {filesize}",labelMaxTotalFileSizeExceeded:"\u041F\u0440\u0435\u0432\u044B\u0448\u0435\u043D \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440",labelMaxTotalFileSize:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 {filesize}"},IA={labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"Size not available",labelFileLoading:"Loading",labelFileLoadError:"Error during load",labelFileProcessing:"Uploading",labelFileProcessingComplete:"Upload complete",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelFileRemoveError:"Error during remove",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Remove",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Cancel",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload",imageValidateSizeLabelFormatError:"Image type not supported",imageValidateSizeLabelImageSizeTooSmall:"Image is too small",imageValidateSizeLabelImageSizeTooBig:"Image is too big",imageValidateSizeLabelExpectedMinSize:"Minimum size is {minWidth} \xD7 {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum size is {maxWidth} \xD7 {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolution is too low",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimum resolution is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum resolution is {maxResolution}",labelFileTypeNotAllowed:"File of invalid type",fileValidateTypeLabelExpectedTypes:"Expects {allButLastType} or {lastType}",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is {filesize}",labelMaxTotalFileSizeExceeded:"Maximum total size exceeded",labelMaxTotalFileSize:"Maximum total file size is {filesize}"},OA=Object.defineProperty,EA=Object.defineProperties,kA=Object.getOwnPropertyDescriptors,Si=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,Oy=Object.prototype.propertyIsEnumerable,Ey=(t,e,n)=>e in t?OA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pi=(t,e)=>{for(var n in e||(e={}))Iy.call(e,n)&&Ey(t,n,e[n]);if(Si)for(var n of Si(e))Oy.call(e,n)&&Ey(t,n,e[n]);return t},yd=(t,e)=>EA(t,kA(e)),jA=(t,e)=>{var n={};for(var r in t)Iy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Si)for(var r of Si(t))e.indexOf(r)<0&&Oy.call(t,r)&&(n[r]=t[r]);return n};if(Ka()){const t=He(18236);(0,Py.fo)(t)}const ky={ru:PA,en:IA},Fa="upload",Cd=({_ref:t,className:e,style:n,id:r,isDisabled:o,isExcluded:l,hasActiveMode:i,mode:c,modeSwitch:d,hasError:u,hint:m,dataAttrs:f,value:p,testId:v,events:g,metaSet:b,multiple:h,onFocus:C,onBlur:_,onLoadSuccess:O,onLoadError:M,fileMaxSize:P=10*1024*1024,fileExtMask:S,server:j,onRemoveFile:k})=>{const w=(0,a.useRef)(null),x=t||w,[,T]=zo(c,d),[A,B]=(0,a.useState)([]),Z=(0,a.useMemo)(()=>r||wr().generate(),[r]),V=be()(e,Fa,{[`${Fa}_error`]:u,[`${Fa}_disabled`]:o,[`${Fa}_active`]:!o&&T.checkActiveMode()});function D(){return ky[lt.language]||ky.ru}const H=()=>(0,SA.Dq)((0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(Cn(),{style:{fontSize:"2em",color:"#000"},name:"upload"}),(0,s.jsxs)("p",{children:[" \u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438 ",(0,s.jsx)("span",{className:"filepond--label-action",children:" \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 "})]})]})),E=(0,a.useCallback)(W=>{if(o)return;let G=!0;if(C&&(G=C({event:W,metaSet:b})),G&&(g!=null&&g.onFocus)){const{alias:J,args:oe}=g.onFocus;ve[J]({event:W,metaSet:b,args:oe})}G&&x.current.className!=="upload"&&(i?T.setActiveMode():T.setEditableMode())},[o,T,b,g,C,i]),R=(0,a.useCallback)(()=>{let W=!0;if(_&&(W=_({metaSet:b,value:p})),W&&(g!=null&&g.onBlur)){const{alias:G,args:J}=g.onBlur;ve[G]({metaSet:b,args:J,value:p})}},[b,g,_,p]),L=(0,a.useCallback)(W=>{o||!Lo(W.keyCode)||(T.setDefaultMode(),R())},[T,o,R]),U=(0,a.useCallback)((W,G)=>{if(o)return;let J=!0;if(W){const oe=W;if(M&&(J=M({metaSet:b,value:oe})),J&&(g!=null&&g.onLoadError)){const{alias:ce,args:N}=g.onLoadError;J=ve[ce]({metaSet:b,args:N,value:oe})}}else{const oe=G;if(O&&(J=O({metaSet:b,value:oe})),J&&(g!=null&&g.onLoadSuccess)){const{alias:ce,args:N}=g.onLoadSuccess;J=ve[ce]({metaSet:b,args:N,value:oe})}}return J},[o,g,b,M,O]),q=(0,a.useCallback)(()=>{if(!x.current)return;const W=x.current.querySelector('input[type="file"]');W&&(W.setAttribute("tabIndex","-1"),S!==void 0&&W.setAttribute("accept",`${S}`))},[x]);return(0,a.useEffect)(()=>{p&&B(p.map(W=>{var G=W,{url:J}=G,oe=jA(G,["url"]);return{source:J,options:{type:"limbo",file:yd(Pi({},oe),{url:J})}}}))},[]),l?null:(0,s.jsx)("div",{className:Fa,children:(0,s.jsx)("div",yd(Pi({ref:x},f),{id:Z,className:V,style:n,title:m,"aria-disabled":o,"data-testid":v,onFocus:E,onKeyDown:L,children:(0,s.jsx)(Py.Q9,Pi({name:"file",instantUpload:!0,allowMultiple:h,maxFileSize:P,allowFileSizeValidation:!0,allowFileTypeValidation:!1,server:j,files:A,onremovefile:(W,G)=>k(G),oninit:q,onprocessfile:U,labelIdle:H()},D()))}))})};Cd.propTypes={_ref:y().object,className:y().string,style:y().object,id:y().string,isDisabled:y().bool,isExcluded:y().bool,isStatic:y().bool,hasActiveMode:y().bool,mode:y().string,modeSwitch:y().object,hasError:y().bool,hint:y().string,dataAttrs:y().object,value:y().bool,testId:y().string,tabIndex:y().oneOfType([y().number,y().string]),events:y().object,metaSet:y().object,onClick:y().func,onChange:y().func,onFocus:y().func,onBlur:y().func,multiple:y().bool,fileMaxSize:y().number,server:y().object,onRemoveFile:y().func},Cd.defaultProps={events:null};const RA=(t,e)=>(0,s.jsx)(Cd,yd(Pi({},t),{_ref:e}));var jy=(0,a.memo)((0,a.forwardRef)(RA)),DA=Object.defineProperty,NA=Object.defineProperties,MA=Object.getOwnPropertyDescriptors,Ry=Object.getOwnPropertySymbols,TA=Object.prototype.hasOwnProperty,FA=Object.prototype.propertyIsEnumerable,Dy=(t,e,n)=>e in t?DA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AA=(t,e)=>{for(var n in e||(e={}))TA.call(e,n)&&Dy(t,n,e[n]);if(Ry)for(var n of Ry(e))FA.call(e,n)&&Dy(t,n,e[n]);return t},BA=(t,e)=>NA(t,MA(e));const $A="simple-html";function _d(t){const{className:e,id:n,dataAttrs:r,isExcluded:o,value:l,style:i,name:c,GUID:d,isFixSize:u}=t,m=(0,a.useMemo)(()=>Un({isFixSize:u,style:i}),[u,i]);if(o)return null;const f=n||d||c||wr().generate(),p=be()(e,$A);return(0,s.jsx)("div",BA(AA({style:m,className:p,id:f},r),{children:(0,cr.ZP)(l)}))}_d.defaultProps={value:"",style:null},_d.propTypes={className:y().string,id:y().string,value:y().string.isRequired,dataAttrs:y().object,style:y().object,name:y().string,GUID:y().string};var zA=(0,a.memo)(_d);const LA=z.ZP.div`
  box-sizing: border-box;
  display: flex;
  border-radius: 8px;
  border: 1px solid ${()=>I("button-set-border-default")};
  button {
    min-height: 30px;
    min-width: 30px;
  }
`;var HA=({children:t,style:e})=>!t||t!=null&&t.every($t.isNull)?null:(0,s.jsx)(LA,{style:e,className:"button-set",children:t}),WA=Object.defineProperty,VA=Object.defineProperties,UA=Object.getOwnPropertyDescriptors,Ny=Object.getOwnPropertySymbols,GA=Object.prototype.hasOwnProperty,ZA=Object.prototype.propertyIsEnumerable,My=(t,e,n)=>e in t?WA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ty=(t,e)=>{for(var n in e||(e={}))GA.call(e,n)&&My(t,n,e[n]);if(Ny)for(var n of Ny(e))ZA.call(e,n)&&My(t,n,e[n]);return t},KA=(t,e)=>VA(t,UA(e));const qA=z.ZP.div(({paddings:t,needUnderline:e})=>KA(Ty(Ty({position:"sticky",top:0,display:"grid",gridTemplateColumns:"auto min-content",alignItems:"center",justifyContent:"space-between",columnGap:"10px"},t),e&&{borderBottom:`1px solid ${I("menubar-underline-default")}`}),{"& .wrapper_button":{margin:0}})),YA=z.ZP.span`
  font-size: ${t=>t.fontSize};
  line-height: 32px;
  font-weight: 500;
  color: ${()=>I("menubar-text-default")};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,XA=z.ZP.i`
  font-size: 16px;
  line-height: 1;
  position: absolute;
  top: 8px;
  right: 8px;
  color: ${()=>I("menubar-close-button-default")};
  cursor: pointer;
  transition: color .15s ease;
  &&:hover {
    color: ${()=>I("menubar-close-button-hover")};
  }
`,JA=z.ZP.div`
  display: flex;
  column-gap: 8px;
  
  & .button-set {
    margin-right: 8px;
  }
`,QA="ri-close-line",Fy="menu-bar";var eB=Object.defineProperty,tB=Object.defineProperties,nB=Object.getOwnPropertyDescriptors,Ay=Object.getOwnPropertySymbols,rB=Object.prototype.hasOwnProperty,oB=Object.prototype.propertyIsEnumerable,By=(t,e,n)=>e in t?eB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lB=(t,e)=>{for(var n in e||(e={}))rB.call(e,n)&&By(t,n,e[n]);if(Ay)for(var n of Ay(e))oB.call(e,n)&&By(t,n,e[n]);return t},aB=(t,e)=>tB(t,nB(e));function sB(t,e=!0){return t?Object.keys(t).filter(n=>n.includes("padding")).reduce((n,r)=>{const o=t[r];return aB(lB({},n),{[r]:(e?Dt(o):o)+"px"})},{}):{}}function iB(t){(0,a.useEffect)(()=>{var e;const n=(e=t.current)==null?void 0:e.parentElement;n&&n.classList.contains("frame")&&n.childNodes.length===1&&(n.style.zIndex="1",n.style.position="sticky",n.style.top="0")},[t.current])}function cB({title:t,testId:e,isExcluded:n,children:r,style:o,isNested:l=!1}){var i,c,d;const u=(0,a.useRef)(null);iB(u);const{formId:m,fixed:f}=(0,a.useContext)(qu),p=()=>{Ge.onFormClose&&Ge.onFormClose({formId:m})},v=sB(o,!1),g=(c=(i=o==null?void 0:o.fontSize)==null?void 0:i.toString())!=null?c:"24px";return n?null:(0,s.jsxs)(qA,{ref:u,needUnderline:!l,"data-testid":e!=null?e:Fy,paddings:v,children:[!l&&!f?(0,s.jsx)(XA,{className:QA,onClick:p}):null,(0,s.jsx)(YA,{fontSize:g,title:t.value,children:(d=t.value)!=null?d:""}),(0,s.jsx)(JA,{children:r})]})}var uB=cB,t6={popperIconSize:"18px",primaryColor:"#0bd688"},dB=Object.defineProperty,fB=Object.defineProperties,pB=Object.getOwnPropertyDescriptors,$y=Object.getOwnPropertySymbols,mB=Object.prototype.hasOwnProperty,vB=Object.prototype.propertyIsEnumerable,zy=(t,e,n)=>e in t?dB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ly=(t,e)=>{for(var n in e||(e={}))mB.call(e,n)&&zy(t,n,e[n]);if($y)for(var n of $y(e))vB.call(e,n)&&zy(t,n,e[n]);return t},hB=(t,e)=>fB(t,pB(e));function gB(t){var e;const{className:n,style:r,title:o,subTitle:l,isDisabled:i,isExcluded:c,children:d,isFixSize:u,testId:m,iconName:f,iconSize:p}=t,v=o&&typeof o!="string"?o:null,g=v?v.iconname:f,b=v?v.iconsize:p,h=(0,a.useRef)(null),C=(0,a.useMemo)(()=>Un({isFixSize:u,style:r}),[u,r]),_=hB(Ly({},C),{backgroundColor:v==null?void 0:v.cellColor});let O={};const M=m||Fy,P=be()(n,"menu-bar",{disabled:i});let S=null;if(d!=null&&d.length){const j=d==null?void 0:d.filter(w=>w&&!!w.props.isCollapsible&&!w.props.isExcluded),k=d==null?void 0:d.filter(w=>w&&!w.props.isCollapsible&&!w.props.isExcluded);if(j!=null&&j.length){const w=k[k.length-1];let x={width:"40px"};k!=null&&k.length&&!((e=w==null?void 0:w.props)!=null&&e.caption)&&(x=w.props.style),k.push((0,s.jsx)(xl,{name:"CollapsibleButtons",iconName:"angle-down",isFixSize:!0,isDisabled:!1,style:x,testId:`${M}_collapsible-buttons`,hint:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u043E",children:j},"CollapsibleButtons"))}S=k.map(w=>(0,a.cloneElement)(w,{className:"menu-bar__button"}))}return S!=null&&S.length&&(O.gridTemplateColumns=`repeat(${S==null?void 0:S.length}, min-content)`),(0,a.useEffect)(()=>{const j=h.current;if(j){const k=j.clientWidth;j.scrollWidth>k&&(j.title=j.innerText)}}),c?null:(0,s.jsxs)("div",{className:P,style:_,"data-testid":M,children:[(0,s.jsxs)("div",{ref:h,className:"menu-bar__title-container text-ellipsis",children:[g&&(0,s.jsx)("img",{className:"menu-bar__img",style:{height:`${b}px`},alt:g,src:on(g)}),!v&&(0,s.jsx)("span",{className:"menu-bar__title",children:o}),v&&(0,s.jsx)(da,Ly({},v)),l&&(0,s.jsx)("span",{className:"menu-bar__sub-title",children:l})]}),(0,s.jsx)("div",{className:"menu-bar__buttons",style:O,children:S})]})}var bB=(0,a.memo)(gB),yB=Object.defineProperty,CB=Object.defineProperties,_B=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Hy=Object.prototype.hasOwnProperty,Wy=Object.prototype.propertyIsEnumerable,Vy=(t,e,n)=>e in t?yB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uy=(t,e)=>{for(var n in e||(e={}))Hy.call(e,n)&&Vy(t,n,e[n]);if(Ii)for(var n of Ii(e))Wy.call(e,n)&&Vy(t,n,e[n]);return t},Gy=(t,e)=>CB(t,_B(e)),wB=(t,e)=>{var n={};for(var r in t)Hy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ii)for(var r of Ii(t))e.indexOf(r)<0&&Wy.call(t,r)&&(n[r]=t[r]);return n};function xB(t){var e=t,{children:n}=e,r=wB(e,["children"]);return(0,st.v9)(At)?(0,s.jsx)(uB,Gy(Uy({},r),{children:n})):(0,s.jsx)(bB,Gy(Uy({},r),{children:n}))}var SB=xB;const PB=(0,z.ZP)("div")`
    border-radius: 8px;
    direction: rtl;
    overflow: hidden;
`,IB=(0,z.ZP)("div")`
    white-space: 'nowrap';
    direction: 'ltr';
    display: 'inline-block';
    width: '100%';
`,OB=(0,z.ZP)(zn)`
    &, & div {
        background-color: ${()=>I("navigation-background-default")};
        border-color: ${()=>I("navigation-border-default")};
    }
`;function EB(t){return/^\\\\(.*>)*.*$/g.test(t)}const kB=16,jB=12;var RB=Object.defineProperty,DB=Object.defineProperties,NB=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertySymbols,Zy=Object.prototype.hasOwnProperty,Ky=Object.prototype.propertyIsEnumerable,qy=(t,e,n)=>e in t?RB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MB=(t,e)=>{for(var n in e||(e={}))Zy.call(e,n)&&qy(t,n,e[n]);if(Oi)for(var n of Oi(e))Ky.call(e,n)&&qy(t,n,e[n]);return t},TB=(t,e)=>DB(t,NB(e)),FB=(t,e)=>{var n={};for(var r in t)Zy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Oi)for(var r of Oi(t))e.indexOf(r)<0&&Ky.call(t,r)&&(n[r]=t[r]);return n};function AB(t){EB(t)||console.warn("\u0412 Navigation \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u043D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0441\u0442\u0440\u043E\u043A\u0438");const e=[],[,n]=t.split("\\\\");return e.push((0,s.jsx)(Ct,{name:"folder-upload",type:"fill",size:kB},"navigation-icon-"+(0,$t.uniqueId)())),n&&n.split(">").forEach(o=>{e.push((0,s.jsx)(Ct,{name:"arrow-right-s",type:"line",size:jB,outerStyle:{padding:"0 4px"}},"navigation-path-"+(0,$t.uniqueId)())),e.push(o)}),e}function BB(t){const e=t,{name:n,value:r}=e,o=FB(e,["name","value"]),l=AB(r!=null?r:"");return(0,s.jsx)(PB,{children:(0,s.jsx)(IB,{children:(0,s.jsx)(OB,TB(MB({},o),{name:n,value:r,formattedValue:l.map(i=>i)}))})})}var $B=BB,zB=$B,LB=Object.defineProperty,HB=Object.defineProperties,WB=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Yy=Object.prototype.hasOwnProperty,Xy=Object.prototype.propertyIsEnumerable,Jy=(t,e,n)=>e in t?LB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wd=(t,e)=>{for(var n in e||(e={}))Yy.call(e,n)&&Jy(t,n,e[n]);if(Ei)for(var n of Ei(e))Xy.call(e,n)&&Jy(t,n,e[n]);return t},Qy=(t,e)=>HB(t,WB(e)),VB=(t,e)=>{var n={};for(var r in t)Yy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ei)for(var r of Ei(t))e.indexOf(r)<0&&Xy.call(t,r)&&(n[r]=t[r]);return n};function UB(t){const e=t.displayName||t.name||"Component",n=r=>{const o=r,{startIcon:l,endIcon:i,testId:c,selfTestId:d,dataAttrs:u}=o,m=VB(o,["startIcon","endIcon","testId","selfTestId","dataAttrs"]),f=Boolean(At(Xe.getState())),v=`${c||d}_icon-`,g=f?Gr.Remix:Gr.FontAwesome;return(0,s.jsx)(t,wd({testId:c,selfTestId:d,dataAttrs:u,startIcon:l&&(0,s.jsx)(Ct,Qy(wd({name:l.iconName,size:l==null?void 0:l.iconSize,type:l==null?void 0:l.iconType,color:l==null?void 0:l.iconColor,hoverColor:l==null?void 0:l.iconHoverColor,set:g},u),{"data-testid":v+"start"})),endIcon:i&&(0,s.jsx)(Ct,Qy(wd({name:i.iconName,size:i==null?void 0:i.iconSize,type:i==null?void 0:i.iconType,color:i==null?void 0:i.iconColor,hoverColor:i==null?void 0:i.iconHoverColor,set:g},u),{"data-testid":v+"end"}))},m))};return n.displayName=`withIcons(${e})`,n}var GB=UB,ZB=Object.defineProperty,eC=Object.getOwnPropertySymbols,KB=Object.prototype.hasOwnProperty,qB=Object.prototype.propertyIsEnumerable,tC=(t,e,n)=>e in t?ZB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nC=(t,e)=>{for(var n in e||(e={}))KB.call(e,n)&&tC(t,n,e[n]);if(eC)for(var n of eC(e))qB.call(e,n)&&tC(t,n,e[n]);return t};const YB=(0,z.ZP)("li")(({styledState:t})=>{const{disabled:e}=t;return nC(nC({position:"relative",display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",padding:"4px 12px",gap:12,cursor:"pointer",">*":{zIndex:1}},!e&&{":hover:before":{content:"''",display:"block",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#F7F7F8",opacity:"0.5",zIndex:0}}),e&&{cursor:"default",backgroundColor:"#ccc"})});var XB=Object.defineProperty,rC=Object.getOwnPropertySymbols,JB=Object.prototype.hasOwnProperty,QB=Object.prototype.propertyIsEnumerable,oC=(t,e,n)=>e in t?XB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e$=(t,e)=>{for(var n in e||(e={}))JB.call(e,n)&&oC(t,n,e[n]);if(rC)for(var n of rC(e))QB.call(e,n)&&oC(t,n,e[n]);return t};const t$=(0,z.ZP)("p")(({styledState:t})=>{const{disabled:e}=t;return e$({whiteSpace:"nowrap",overflow:"hidden",fontSize:14,color:"#17181C",textOverflow:"ellipsis"},e&&{color:"#ccc"})}),n$=function(t){const{onMouseDown:e,onMouseEnter:n,onMouseLeave:r,onMouseUp:o,label:l,onClick:i,checked:c=!1,disabled:d=!1}=t,u={checked:c,disabled:d},m=f=>{f.stopPropagation(),d||i==null||i(f)};return(0,s.jsxs)(YB,{styledState:u,onClick:m,onMouseDown:e,onMouseEnter:n,onMouseLeave:r,onMouseUp:o,children:[(0,s.jsx)(Go,{value:c,isDisabled:d}),(0,s.jsx)(t$,{styledState:u,children:l})]})},r$=(0,z.ZP)("div")({marginTop:4,padding:2,overflowY:"hidden",borderRadius:8,backgroundColor:"#fff",boxShadow:"0px 4px 8px -2px rgba(147, 147, 163, 0.24), 0px 1px 4px -1px rgba(147, 147, 163, 0.08)"}),o$=(0,z.ZP)(vl.LW)({display:"flex",flexDirection:"column",justifyContent:"center",padding:0});var l$=Object.defineProperty,a$=Object.defineProperties,s$=Object.getOwnPropertyDescriptors,lC=Object.getOwnPropertySymbols,i$=Object.prototype.hasOwnProperty,c$=Object.prototype.propertyIsEnumerable,aC=(t,e,n)=>e in t?l$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u$=(t,e)=>{for(var n in e||(e={}))i$.call(e,n)&&aC(t,n,e[n]);if(lC)for(var n of lC(e))c$.call(e,n)&&aC(t,n,e[n]);return t},d$=(t,e)=>a$(t,s$(e));const f$=function(t){const{options:e,onOptionClick:n}=t,r=28*e.length,o={backgroundColor:"#1D223D"};return(0,s.jsx)(r$,{children:(0,s.jsx)(o$,{style:{height:r,maxHeight:150},noDefaultStyles:!0,noScrollX:!0,thumbYProps:{style:o},children:e.map((l,i)=>{const{label:c,value:d,checked:u,disabled:m,onClick:f,onMouseDown:p,onMouseEnter:v,onMouseLeave:g,onMouseUp:b}=l,h=C=>{n(d$(u$({},l),{checked:!u})),f==null||f(C)};return(0,s.jsx)(n$,{label:c,value:d,disabled:m,checked:u,onClick:h,onMouseDown:p,onMouseEnter:v,onMouseLeave:g,onMouseUp:b},i)})})})},p$=(0,z.ZP)("button")(()=>({position:"relative",cursor:"pointer",width:10,height:10,background:"#8F93A3",border:"none",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",transition:"background-color 0.1s","&:hover":{backgroundColor:"#aaa"},"&:active":{backgroundColor:"#bbb"},"&::before, &::after":{content:"''",position:"absolute",width:6,height:1,backgroundColor:"#fff"},"&::before":{transform:"rotate(45deg)"},"&::after":{transform:"rotate(-45deg)"},"&:disabled":{backgroundColor:"#aaa",cursor:"default"}})),m$=(0,z.ZP)("div")({display:"flex",alignItems:"center",background:"#EEEFF1",borderRadius:4,padding:"0 4px 0 4px",gap:4,fontSize:12,minHeight:14}),sC=(0,a.forwardRef)((t,e)=>{const{label:n,handleChipRemove:r,disabled:o}=t;return(0,s.jsxs)(m$,{ref:e,children:[n,(0,s.jsx)(p$,{disabled:o,onClick:()=>r(n)})]})});sC.displayName="Chip";var v$=Object.defineProperty,h$=Object.defineProperties,g$=Object.getOwnPropertyDescriptors,iC=Object.getOwnPropertySymbols,b$=Object.prototype.hasOwnProperty,y$=Object.prototype.propertyIsEnumerable,cC=(t,e,n)=>e in t?v$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xd=(t,e)=>{for(var n in e||(e={}))b$.call(e,n)&&cC(t,n,e[n]);if(iC)for(var n of iC(e))y$.call(e,n)&&cC(t,n,e[n]);return t},C$=(t,e)=>h$(t,g$(e));const _$=(0,z.ZP)("div")(({styledState:t})=>{const{isDisabled:e,textColor:n,wrapperStyle:r,hasCaption:o}=t;return xd(xd(C$(xd({display:"flex",gap:4,wordBreak:"break-all",height:16,alignSelf:"flex-end"},!(r!=null&&r.paddingBottom)&&{paddingBottom:o?7:0}),{minHeight:10,width:"100%",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",color:n||I("input-text"),cursor:"inherit"}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")}),!o&&{alignSelf:"center"})}),w$=(0,z.ZP)("div")({fontSize:"12px",display:"flex",alignItems:"center"}),x$=t=>{const{options:e,styledState:n,handleChipRemove:r,disabled:o}=t,l=(0,a.useRef)(null),[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]);return(0,a.useEffect)(()=>{var m;const f=(m=l.current)==null?void 0:m.offsetWidth;let p=0;const v=[],g=[];e.forEach(b=>{p+=40,p<=f?v.push(b):g.push(b)}),c(v),u(g)},[e]),(0,s.jsxs)(_$,{styledState:n,ref:l,children:[i==null?void 0:i.map((m,f)=>(0,s.jsx)(sC,{disabled:o,label:m,handleChipRemove:r},f)),d.length>0&&(0,s.jsxs)(w$,{children:["+",d.length]})]})},S$=(0,z.ZP)("button")(({styledState:t})=>{const{isDisabled:e}=t;return{position:"relative",cursor:"pointer",width:16,"& span":{color:I(e?"input-icon-disabled":"input-icon")}}}),uC={UP:"ri-arrow-up-s-line",DOWN:"ri-arrow-down-s-line"};var P$=Object.defineProperty,dC=Object.getOwnPropertySymbols,I$=Object.prototype.hasOwnProperty,O$=Object.prototype.propertyIsEnumerable,fC=(t,e,n)=>e in t?P$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sd=(t,e)=>{for(var n in e||(e={}))I$.call(e,n)&&fC(t,n,e[n]);if(dC)for(var n of dC(e))O$.call(e,n)&&fC(t,n,e[n]);return t};const E$=(0,z.ZP)("div")(({styledState:t})=>{const{isDisabled:e,hasCurrentValue:n,focused:r,wrapperStyle:o}=t;return Sd(Sd({position:"absolute",top:"50%",transform:"translate(0, -50%)",color:I("input-label"),fontSize:14,lineHeight:1,transition:"font-size .2s, top .2s, color .2s",transitionDelay:".3s"},(r||n)&&{color:I("input-label-disabled"),fontSize:12,transitionDelay:"0s",transition:"font-size .2s, top .2s, color .2s",top:o!=null&&o.paddingTop?o.paddingTop:14}),e&&Sd({color:I("input-label-disabled"),transition:"none",top:"50%",fontSize:14},n&&{top:o!=null&&o.paddingTop?o.paddingTop:14,fontSize:12}))});var k$=Object.defineProperty,pC=Object.getOwnPropertySymbols,j$=Object.prototype.hasOwnProperty,R$=Object.prototype.propertyIsEnumerable,mC=(t,e,n)=>e in t?k$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D$=(t,e)=>{for(var n in e||(e={}))j$.call(e,n)&&mC(t,n,e[n]);if(pC)for(var n of pC(e))R$.call(e,n)&&mC(t,n,e[n]);return t};const N$=(0,z.ZP)("div")(({styledState:t})=>{const{hasCaption:e,wrapperStyle:n}=t;return D$({position:"relative",display:"flex",justifyContent:"space-between",flex:1,height:e?"100%":"initial",overflow:"hidden"},(n==null?void 0:n.textAlign)==="right"&&{display:"flex",justifyContent:"end"})}),M$=(0,z.ZP)("div")({position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",gap:3});var T$=Object.defineProperty,vC=Object.getOwnPropertySymbols,F$=Object.prototype.hasOwnProperty,A$=Object.prototype.propertyIsEnumerable,hC=(t,e,n)=>e in t?T$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Aa=(t,e)=>{for(var n in e||(e={}))F$.call(e,n)&&hC(t,n,e[n]);if(vC)for(var n of vC(e))A$.call(e,n)&&hC(t,n,e[n]);return t};const B$=(0,z.ZP)("div")(({styledState:t})=>{const{focused:e,hovered:n,isDisabled:r,wrapperStyle:o,hasCaption:l}=t;return Aa(Aa({margin:2,":focus":{outline:"none"},position:"relative",boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",height:l?48:32,backgroundColor:I(r?"input-background-disable":"input-background"),cursor:r?"default":"pointer",borderRadius:8,border:`1px solid ${I("input-border")}`},!r&&Aa(Aa(Aa({},e&&{border:`1px solid ${I("input-border-active")}`}),n&&{border:`1px solid ${I("input-border-hover")}`}),n&&e&&{border:`1px solid ${I("input-border-active")}`})),o)}),Lr={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},$$=[Lr.BOTTOM,Lr.TOP],z$=(t,e,n)=>{const r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),l=e.getBoundingClientRect();return{[Lr.TOP]:l.top>r.height,[Lr.LEFT]:l.left>r.width,[Lr.RIGHT]:o.width-l.right>r.width,[Lr.BOTTOM]:o.height-l.bottom>r.height}};var L$=Object.defineProperty,gC=Object.getOwnPropertySymbols,H$=Object.prototype.hasOwnProperty,W$=Object.prototype.propertyIsEnumerable,bC=(t,e,n)=>e in t?L$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ba=(t,e)=>{for(var n in e||(e={}))H$.call(e,n)&&bC(t,n,e[n]);if(gC)for(var n of gC(e))W$.call(e,n)&&bC(t,n,e[n]);return t};const V$=(0,z.ZP)("div")(({styledState:t})=>{const{currentPosition:e,visible:n}=t;return Ba(Ba(Ba(Ba(Ba({position:"absolute",visibility:"hidden"},n&&{visibility:"visible"}),e===Lr.TOP&&{bottom:"100%"}),e===Lr.BOTTOM&&{top:"100%"}),e===Lr.LEFT&&{top:"0",right:"100%"}),e===Lr.RIGHT&&{top:"0",left:"100%"})}),U$=t=>{const{children:e,parentRef:n,className:r,positions:o=$$,onChangePosition:l}=t,i=o[0],c=(0,a.useRef)(null),[d,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(i),[p,v]=(0,a.useState)(!0);(0,a.useLayoutEffect)(()=>{const b=(0,$t.debounce)(()=>{v(!0)},200);return window.addEventListener("scroll",b),window.addEventListener("resize",b),u(!0),()=>{window.removeEventListener("scroll",b),window.removeEventListener("resize",b)}},[]),(0,a.useEffect)(()=>{if(p&&n.current){const b=z$(c.current,n.current,document.body),C=o.find(_=>b[_])||i;f(C),v(!1),C!==m&&(l==null||l(C))}},[p]);const g={currentPosition:m,visible:d};return(0,s.jsx)(V$,{ref:c,className:r,styledState:g,children:e})},G$=(0,z.ZP)(U$)({left:0,width:"100%",zIndex:666});var Z$=Object.defineProperty,yC=Object.getOwnPropertySymbols,K$=Object.prototype.hasOwnProperty,q$=Object.prototype.propertyIsEnumerable,CC=(t,e,n)=>e in t?Z$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y$=(t,e)=>{for(var n in e||(e={}))K$.call(e,n)&&CC(t,n,e[n]);if(yC)for(var n of yC(e))q$.call(e,n)&&CC(t,n,e[n]);return t};const n6=(0,z.ZP)("div")(({styledState:t})=>{const{disabled:e}=t;return Y$({display:"flex",justifyContent:"end",border:"none",cursor:"pointer",width:"100%"},e&&{cursor:"default"})});var X$=Object.defineProperty,J$=Object.defineProperties,Q$=Object.getOwnPropertyDescriptors,_C=Object.getOwnPropertySymbols,ez=Object.prototype.hasOwnProperty,tz=Object.prototype.propertyIsEnumerable,wC=(t,e,n)=>e in t?X$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nz=(t,e)=>{for(var n in e||(e={}))ez.call(e,n)&&wC(t,n,e[n]);if(_C)for(var n of _C(e))tz.call(e,n)&&wC(t,n,e[n]);return t},rz=(t,e)=>J$(t,Q$(e));const oz=(0,z.ZP)("div")(({styledState:t})=>{const{isRequiredIndicator:e}=t;return rz(nz({width:14,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:1,transition:".2s",transitionDelay:".3s"},!e&&{opacity:0,width:0,transition:".2s",transitionDelay:"0s"}),{"& span, div":{color:I("input-icon-required")}})});var lz=Object.defineProperty,az=Object.defineProperties,sz=Object.getOwnPropertyDescriptors,xC=Object.getOwnPropertySymbols,iz=Object.prototype.hasOwnProperty,cz=Object.prototype.propertyIsEnumerable,SC=(t,e,n)=>e in t?lz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uz=(t,e)=>{for(var n in e||(e={}))iz.call(e,n)&&SC(t,n,e[n]);if(xC)for(var n of xC(e))cz.call(e,n)&&SC(t,n,e[n]);return t},dz=(t,e)=>az(t,sz(e));const fz=t=>{const{listValues:e,style:n,value:r,isDisabled:o=!1,className:l,onFocus:i,caption:c,onBlur:d,onMouseEnter:u,events:m,metaSet:f,testId:p,isRequired:v=!1}=t,[g,b]=(0,a.useState)(!1),[h,C]=(0,a.useState)([]),[_,O]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),S=Boolean(h.length),j=(_||M)&&S&&!o,k=(0,a.useRef)(null),w=!o&&g,x=Boolean(c),T=g?uC.UP:uC.DOWN,A=v&&!o&&!h.length&&!_,Z=(()=>{const{paddingLeft:oe,paddingRight:ce,paddingBottom:N,paddingTop:$}=n,K={paddingLeft:oe,paddingRight:ce,paddingBottom:N,paddingTop:$};return K.paddingLeft=Wt(oe),K.paddingRight=Wt(ce),K.paddingBottom=Wt(N),K.paddingTop=Wt($),Object.assign(K)})(),V={isDisabled:o,hasCaption:x,hasCurrentValue:S,focused:_,hovered:M,wrapperStyle:Z,isRequiredIndicator:A},D=(0,a.useMemo)(()=>e==null?void 0:e.map(({value:oe})=>({value:oe,checked:h.some(ce=>ce===oe),label:oe})),[e,r,h]);(0,a.useEffect)(()=>{const oe=ce=>{k.current&&!k.current.contains(ce.target)&&L(ce),ce.target.tagName==="BUTTON"&&b(!1)};return document.addEventListener("click",oe),()=>{document.removeEventListener("click",oe)}},[]),(0,a.useEffect)(()=>{const oe=h.join(", ");je(dz(uz({specificEvent:null,nativeEvent:"onEnter"},{metaSet:f,events:m}),{value:oe}))},[h]);const H=oe=>{P(!0),u==null||u(oe)},E=()=>{P(!1)},R=oe=>{o||(O(!0),i==null||i(oe))},L=oe=>{!oe.currentTarget.contains(oe.relatedTarget)&&(b(!1),O(!1),d==null||d(oe))},U=()=>{b(!1)},q=oe=>{oe.preventDefault(),!o&&b(!g)},W=oe=>{h.includes(oe.value)?C(h.filter(ce=>ce!==oe.value)):C([...h,oe.value])},G=oe=>{oe.stopPropagation(),o||C([])},J=oe=>{o||C(h.filter(ce=>ce!==oe))};return(0,s.jsxs)(B$,{styledState:V,className:l,onFocus:R,onBlur:L,onMouseEnter:H,onMouseLeave:E,ref:k,tabIndex:0,onClick:q,"data-testid":p,children:[(0,s.jsxs)(N$,{styledState:V,children:[x&&(0,s.jsx)(E$,{styledState:V,children:c}),(0,s.jsx)(x$,{disabled:o,options:h,styledState:V,handleChipRemove:J}),(0,s.jsxs)(M$,{children:[j&&(0,s.jsx)(S$,{styledState:V,onClick:G,children:(0,s.jsx)(Ct,{name:"close"})}),v&&(0,s.jsx)(oz,{styledState:V,children:(0,s.jsx)("div",{className:"fa fa-asterisk",style:{fontSize:"8px"},"aria-hidden":"true"})}),(0,s.jsx)("i",{className:T,style:{color:o?"#C7C9D1":"#8F93A3"}})]})]}),w&&(0,s.jsx)(G$,{parentRef:k,positions:["bottom","top"],children:(0,s.jsx)(f$,{options:D,onClose:U,onOptionClick:W})})]})};var pz=Object.defineProperty,mz=Object.defineProperties,vz=Object.getOwnPropertyDescriptors,PC=Object.getOwnPropertySymbols,hz=Object.prototype.hasOwnProperty,gz=Object.prototype.propertyIsEnumerable,IC=(t,e,n)=>e in t?pz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e)=>{for(var n in e||(e={}))hz.call(e,n)&&IC(t,n,e[n]);if(PC)for(var n of PC(e))gz.call(e,n)&&IC(t,n,e[n]);return t},kr=(t,e)=>mz(t,vz(e));function Vl(t,e,n=null){const{GUID:r,type:o,typeEdit:l,isDisabled:i,isExcluded:c,isStatic:d,hint:u,name:m,style:f,events:p,title:v,metaSet:g,dataAttrs:b,onEdit:h}=t;if(c)return null;const C=m||r||wr().generate(),_=kr(Tt({},t),{id:r==null?void 0:r.replace(/\s/g,"_"),style:f,hint:u||v,isDisabled:i,isStatic:d,dataAttrs:Tt({"data-guid":r||null,"data-type":o||null,"data-name":m||null},b),metaSet:g,events:p});return Ae(_,"hasActiveMode")||(o!=="grid"?_.hasActiveMode=!!(p!=null&&p.onEdit||h):_.hasActiveMode=!0),o==="frame"?(_.orientation=t.orientation,(0,s.jsx)(bv,kr(Tt({isFixSize:!1,autoSize:!1},_),{children:n}),C)):o==="tabs"?(0,s.jsx)(mv,kr(Tt({},_),{children:n}),C):o==="box"?(0,s.jsx)(xj,kr(Tt({},_),{children:n}),C):o==="group"?(0,s.jsx)(hj,kr(Tt({autoSize:!0},_),{children:n}),C):o==="table"?(0,s.jsx)(F3,kr(Tt({},_),{children:n}),C):o==="grid"?(0,s.jsx)(RF,kr(Tt({},_),{children:n}),C):o==="canvasGrid"?(0,s.jsx)(xA,kr(Tt({},_),{children:n}),C):o==="simpleHtml"?(0,s.jsx)(zA,Tt({},_),C):o==="string"&&l!=="multiselect"?(0,s.jsx)(zn,Tt({},_),C):o==="button"?GB(Gt)(Tt({key:C},_)):["checkbox","switch"].includes(o)?(0,s.jsx)(Go,Tt({},_),C):o==="number"?(0,s.jsx)(zn,Tt({},_),C):o==="integer"?(0,s.jsx)(Rj,Tt({},_),C):o==="date"?(0,s.jsx)(rD,Tt({},_),C):o==="label"?(0,s.jsx)(da,Tt({},_),C):o==="enum"?(0,s.jsx)(dD,Tt({},_),C):o==="menuBar"?(0,s.jsx)(SB,kr(Tt({},_),{children:n}),C):o==="report"?(0,s.jsx)(n1,Tt({},_),C):o==="listButton"?(0,s.jsx)(A0,kr(Tt({},_),{children:n}),C):o==="radio"?(0,s.jsx)(C1,Tt({},_),C):o==="tree"?(0,s.jsx)(bN,Tt({},_),C):o==="pdf"?(0,s.jsx)(SN,Tt({},_),C):o==="img"?(0,s.jsx)(NN,Tt({},_),C):o==="html"?(0,s.jsx)($N,Tt({},_),C):o==="roleCenter"?(0,s.jsx)(QN,Tt({},_),C):o==="chart"?(0,s.jsx)(iM,Tt({},_),C):o==="upload"?(0,s.jsx)(jy,Tt({},_),C):o==="buttonSet"?(0,s.jsx)(HA,kr(Tt({},_),{children:n}),C):o==="pagination"?(0,s.jsx)(Rl,Tt({isServerSide:!0},_),C):o==="navigation"?(0,s.jsx)(zB,Tt({},_),C):l==="multiselect"?(0,s.jsx)(fz,Tt({},_),C):null}var bz=Object.defineProperty,OC=Object.getOwnPropertySymbols,yz=Object.prototype.hasOwnProperty,Cz=Object.prototype.propertyIsEnumerable,EC=(t,e,n)=>e in t?bz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kC=(t,e)=>{for(var n in e||(e={}))yz.call(e,n)&&EC(t,n,e[n]);if(OC)for(var n of OC(e))Cz.call(e,n)&&EC(t,n,e[n]);return t};function _z(t,e){function n(r,o){const{type:l,name:i}=r,c=e[l][i]||{},d=o||c.isDisabled,u=r.elements?r.elements.map(m=>n(m,d)):[];return Vl(kC(kC({},r),c),d,u)}return n(t,!1)}var r6={popperIconSize:"18px",primaryColor:"#0bd688"};function wz(t){const{className:e,formId:n,schema:r,entities:o,fixed:l}=t,i=be()(e,"form");return(0,s.jsx)("div",{id:n,className:i,children:(0,s.jsx)(qu.Provider,{value:{formId:n,fixed:l},children:(0,s.jsx)(Ns,{children:_z(r,o)})})})}var Pd=(0,a.memo)(wz),o6={popperIconSize:"18px",primaryColor:"#0bd688"};const jC=16,RC=z.ZP.div`
position: relative;
display: flex;
align-items: center;
justify-content: left;
overflow: hidden;
background-color:${t=>t.isActiveTab?I("tabpage-active-background-default"):I("tabpage-unactive-background-default")};
cursor: pointer;
user-select: none;
${({isRoleCenterTab:t})=>t?z.iv`
                justify-content: center;
                flex: 1 0 auto;
                width: 40px;
                height: 40px;
            `:z.iv`
            width: 100%;
            height: 20px;
            min-width: 72px;
            max-width: 180px;
            padding: 10px;
            `}

&:hover {
    background-color:${t=>t.isActiveTab?I("tabpage-active-background-hover"):I("tabpage-unactive-background-hover")};
}
`,xz=z.ZP.div`
position: absolute;
right: 0;
top: 0;
width: 1px ;
height: 40px;
background-color: ${()=>I("tabpage-unactive-background-hover")};
`,Sz=z.ZP.span`
font-size: 14px;
line-height: 16px;
vertical-align: bottom;
padding: 0 20px 0 10px;
display: inline-block;
overflow: hidden;
max-width: 100px;
min-width: ${({title:t})=>t?"48px":"auto"};
white-space: nowrap;
color: ${()=>I("text-primary")};
`,DC=z.ZP.span`
display: inline-flex;
align-items: center;
height: 100%; 
vertical-align: top;
`,NC=z.iv`
    padding-left: 25px;
    background: linear-gradient(to right, transparent, ${()=>I("tabpage-unactive-background-hover")} 45%);
`,Pz=(0,z.ZP)(DC)`
    position: absolute;
    right: 0;
    top: 0;
    padding-right: 10px;
    background: linear-gradient(to right, transparent, ${()=>I("tabpage-unactive-background-default")} 45%);

    ${t=>t.isActiveTab&&NC}

    ${RC}:hover & {
        ${NC}
    }
    
    
`;var Iz=t=>{const{isActiveTab:e,isRoleCenterTab:n,handleContextMenu:r,handleSlideClick:o,palette:l,slide:i,testId:c}=t,[d,u]=(0,a.useState)(!1),m=e||d,f=(0,a.useCallback)(()=>I(e?"tabpage-active-icon-default":d?"tabpage-unactive-icon-hover":"tabpage-unactive-icon-default"),[l,d,e]);return(0,s.jsxs)(RC,{isActiveTab:e,isRoleCenterTab:n||i.fixed,onContextMenu:r,onClick:o,"data-slide-id":i.id,"data-testid":`${c}__tab`,"data-fixed":i.fixed?i.fixed:null,onMouseOver:()=>u(!0),onMouseOut:()=>u(!1),title:i.name,children:[(0,s.jsx)(DC,{children:(0,s.jsx)(Ct,{name:n?"home-2":i.icon||"folder-3",size:jC,color:f()})}),!n&&!i.fixed?(0,s.jsx)(Sz,{isActiveTab:e,"data-testid":`${c}__tab-title`,children:i.name}):null,!n&&!i.fixed?(0,s.jsx)(Pz,{isActiveTab:e,children:(0,s.jsx)(Ct,{name:"close",hoverColor:I("tabpage-unactive-icon-hover"),color:m?I("tabpage-unactive-icon-default"):"transparent",dataAttrs:{"data-close":i.id,"data-testid":n?`${c}__tab-icon_role-center`:`${c}__tab-icon`}})}):null,(0,s.jsx)(xz,{})]})},Oz=Object.defineProperty,MC=Object.getOwnPropertySymbols,Ez=Object.prototype.hasOwnProperty,kz=Object.prototype.propertyIsEnumerable,TC=(t,e,n)=>e in t?Oz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jz=(t,e)=>{for(var n in e||(e={}))Ez.call(e,n)&&TC(t,n,e[n]);if(MC)for(var n of MC(e))kz.call(e,n)&&TC(t,n,e[n]);return t};const Rz=({slide:t,handleSlideClick:e,activeSlidesIds:n,testId:r})=>{const o=(0,st.v9)(At),l=t.id==="0",i=l?"caret-down":"times-circle",c={backgroundImage:`url(${on(t.icon)})`,backgroundSize:"contain"},d=n===t.id,u=be()("tab-bar__tab-icon",{"tab-bar__tab-icon_close":!l,"tab-bar__tab-icon_role-center":l}),m=be()("tab-bar__tab",{"tab-bar__tab_role-center":l,"tab-bar__tab_active":d}),{show:f}=(0,mr.av)({id:r,props:{formId:t.id}}),p=v=>{v.preventDefault(),!t.fixed&&f(v)};if(o){const v={isActiveTab:d,isRoleCenterTab:l,handleContextMenu:p,handleSlideClick:e,palette:o,slide:t,testId:r};return(0,s.jsx)(Iz,jz({},v))}return(0,s.jsxs)("div",{className:m,onClick:e,"data-slide-id":t.id,"data-testid":`${r}__tab`,onContextMenu:p,children:[!l&&t.icon&&(0,s.jsx)("span",{className:"tab-bar__tab-slide-icon",style:c}),!t.fixed||l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"tab-bar__tab-title text-ellipsis",title:t.name,"data-testid":`${r}__tab-title`,children:t.name}),(0,s.jsx)(Cn(),{name:i,className:u,"data-close":l?null:t.id,"data-testid":l?`${r}__tab-icon_role-center`:`${r}__tab-icon`})]}):null]})};var FC=(0,a.memo)(Rz);const Dz=z.ZP.button`
height: 100%;
cursor: pointer;
background-color: ${()=>I("tabpage-arrow-background-default")};
&:hover{
    background-color: ${()=>I("tabpage-arrow-background-hover")};
};
&:active{
    background-color: ${()=>I("tabpage-arrow-background-click")};
};
`;var AC=t=>{const{navName:e,handleNavClick:n}=t;return(0,s.jsx)("div",{style:{height:"40px"},children:(0,s.jsx)(Dz,{type:"button","data-nav":e,onClick:n,children:(0,s.jsx)(Ct,{color:"white",name:e==="next"?"arrow-drop-right":"arrow-drop-left",type:"line",size:"22px",outerStyle:{padding:"9px 1px "}})})})};const Nz=z.ZP.div`
    position: relative;
    min-width: 40px;
    height: 40px;

    margin: 0 16px;

    border-radius: 4px;
    background-color: ${()=>I("tabpage-unactive-background-default")};
    cursor: pointer;
`,Mz=z.ZP.div`
    width: 228px;
    padding: 8px;

    display: flex;
    flex-direction: column;
    row-gap: 8px;

    background:${()=>I("tabpage-unactive-background-default")};
    color:${()=>I("text-primary")};

    font-size: 12px;
    line-height: 16px;
`,Tz=z.ZP.ul`
    list-style-type: none;
`,Fz=z.ZP.button`
    &:hover {
        background:${()=>I("tabpage-unactive-background-hover")};
    };
    border-radius: 8px;
    padding: 8px 22px 8px 8px;
    width: 196px;
    display: block;
`,Az=z.ZP.span`
    display: inline-flex;
    justify-content: center;
    align-items: center;
    white-space:nowrap;
    padding: 12px;
`,ki=z.ZP.span`
    ${({small:t})=>t?z.iv`
                font-size: 10px;
                line-height: 10px;
            `:z.iv`
                font-size: 12px;
                line-height: 16px;
                `}
`,Bz=z.ZP.div`
    display: flex;
    flex-direction: column;
`;var $z=t=>{const{userName:e,roleName:n,version:r}=t,o=(0,st.v9)(At)||{},[l,i]=(0,a.useState)(!1),c=()=>{i(p=>!p)},d=p=>{var v,g;p.target instanceof HTMLElement&&((g=(v=p.target)==null?void 0:v.dataset)==null?void 0:g.name)==="user-button"||l&&i(!1)},u=(0,a.useCallback)(()=>{Ge.onLogOut&&Ge.onLogOut()},[Ge]),m={paddingRight:"6px"},f=(0,s.jsx)(Az,{onClick:c,"data-name":"user-button",children:(0,s.jsx)(Ct,{name:"user-3",size:jC,color:o["neutral-0"],type:"line",dataAttrs:{"data-name":"user-button"}})});return(0,s.jsx)(Nz,{children:(0,s.jsx)(_l,{needToRender:l,targetComponent:f,className:"tabbar_menu",children:(0,s.jsx)(go,{onClickOutside:d,children:(0,s.jsxs)(Mz,{children:[(0,s.jsxs)(Bz,{children:[e&&(0,s.jsx)(ki,{children:e}),n&&(0,s.jsx)(ki,{small:!0,children:n})]}),(0,s.jsx)(Tz,{children:(0,s.jsx)("li",{children:(0,s.jsxs)(Fz,{style:{cursor:"pointer"},type:"button",onClick:u,children:[(0,s.jsx)(Ct,{name:"logout-box-r",size:"14px",type:"line",outerStyle:m}),(0,s.jsx)(ki,{children:lt.t("workspace_exit")})]})})}),r&&(0,s.jsx)(ki,{small:!0,children:r})]})})})})};const BC=72,$C=3,zC={prev:"prev",next:"next"},zz=(0,z.ZP)("div")`
    scroll-behavior: smooth;

    width: 100%;
    height: 40px;

    display: grid;
    grid-template-columns: 1fr auto;

    background:${()=>I("tabpage-unactive-background-default")};
    box-shadow: none;
`,Lz=(0,z.ZP)("div")`
    display: grid;
    grid-template-columns: auto 1fr auto;

    border-left: 1px solid ${()=>I("tabpage-unactive-background-hover")};
`,Hz=(0,z.ZP)("div")`
    display: flex;
    width: 100%;

    overflow-x: scroll;
    ${wa()}
`,Wz=(0,z.ZP)("div")`
    border-left: 1px solid ${()=>I("tabpage-unactive-background-hover")};
`;var Vz=t=>{var e;const{tabs:n,activeTabId:r,onTabClick:o,testId:l,userName:i,roleName:c,version:d,contextMenu:u,handleClickContextMenu:m}=t,f=(0,a.useRef)(null),p=(0,a.useRef)(null),v={showPrevButton:!1,showNextButton:!0},[g,b]=(0,a.useState)(!1),[h,C]=(0,a.useState)(v),_=(0,a.useCallback)(()=>{var k,w;const x=p.current;if(!x)return;const T=(k=x==null?void 0:x.clientWidth)!=null?k:0,A=Array.from(x==null?void 0:x.children).reduce((Z,V)=>Z+(V==null?void 0:V.clientWidth),0),B=(w=x==null?void 0:x.children.length)!=null?w:0;b(T<A-B)},[b,(e=p.current)==null?void 0:e.children.length]),O=(0,a.useCallback)((k=0)=>{var w,x,T;const A=p.current,B=(w=A==null?void 0:A.scrollLeft)!=null?w:0,Z=(x=A==null?void 0:A.scrollWidth)!=null?x:0,V=(T=A==null?void 0:A.clientWidth)!=null?T:0,D=B+k>0,H=B+k<Z-V;C({showPrevButton:D,showNextButton:H})},[g,p.current]);function M(k){const w=p.current,x=k==="next"?BC:-BC;k!=="none"&&(w==null||w.scrollBy({left:x*$C,behavior:"smooth"})),O(x*$C)}const P=k=>{k.preventDefault();const{dataset:{nav:w}}=k.currentTarget;M(w!=null?w:"none")},S=k=>{k.preventDefault();const{shiftKey:w}=k,{dataset:{close:x}}=k.target,{dataset:{slideId:T,name:A,fixed:B}}=k.currentTarget;o({id:T!=null?T:A,close:B?!1:w?!0:Boolean(x)})},j=(0,a.useCallback)(k=>{var w;k.preventDefault();const{deltaY:x}=k;(w=p.current)==null||w.scrollBy({left:x,behavior:"smooth"}),O(x)},[p,g]);return(0,a.useEffect)(()=>{const k=p.current;return k&&(k.addEventListener("wheel",j),_()),()=>{k==null||k.removeEventListener("wheel",j)}},[p.current]),(0,a.useEffect)(()=>{_(),O()},[n]),(0,a.useEffect)(()=>{const k=p.current;if(r&&k){const w=n.find(T=>T.id===r),x=k.querySelector(`[data-slide-id="${w==null?void 0:w.id}"]`);x==null||x.scrollIntoView(),O()}},[r]),Js(f,()=>{_(),O()}),(0,s.jsxs)(zz,{children:[(0,s.jsxs)(Lz,{ref:f,children:[g&&h.showPrevButton&&(0,s.jsx)(AC,{handleNavClick:P,navName:zC.prev}),(0,s.jsx)(Hz,{ref:p,children:n.map((k,w)=>(0,s.jsx)(FC,{slide:k,handleSlideClick:S,activeSlidesIds:r,testId:l},(k==null?void 0:k.GUID)||w))}),g&&h.showNextButton&&(0,s.jsx)(AC,{handleNavClick:P,navName:zC.next})]}),(0,s.jsx)(Wz,{children:(0,s.jsx)($z,{userName:i,roleName:c,version:d})}),(0,s.jsx)(Fl,{itemsContextMenu:u,id:l,handleClickContextMenu:m})]})},Uz=Object.defineProperty,Gz=Object.defineProperties,Zz=Object.getOwnPropertyDescriptors,LC=Object.getOwnPropertySymbols,Kz=Object.prototype.hasOwnProperty,qz=Object.prototype.propertyIsEnumerable,HC=(t,e,n)=>e in t?Uz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WC=(t,e)=>{for(var n in e||(e={}))Kz.call(e,n)&&HC(t,n,e[n]);if(LC)for(var n of LC(e))qz.call(e,n)&&HC(t,n,e[n]);return t},Yz=(t,e)=>Gz(t,Zz(e));const Xz="tab-bar",Jz=[{type:"button",name:"close-form-button",caption:lt.t("close"),iconName:"times-circle"},{type:"button",name:"all-close-form-button",caption:lt.t("close_all"),iconName:"times-circle"},{type:"button",name:"others-close-form-button",caption:lt.t("others_close"),iconName:"times-circle"}],VC=({formId:t,menuItem:e})=>{switch(e){case"close-form-button":Ge.onFormClose({formId:t});break;case"all-close-form-button":Ge.onAllFormClose();break;case"others-close-form-button":Ge.onOthersFormClose({formId:t});break;default:break}};function UC(t){const{className:e,isExcluded:n,tabs:r,activeTabId:o,onTabClick:l,contextMenuTab:i,testId:c,userName:d,roleName:u,version:m}=t,f=c||Xz,p=i||Jz,v=Boolean((0,st.v9)(At)),g=(0,a.useCallback)(({slide:h,handleSlideClick:C,activeSlidesIds:_})=>(0,s.jsx)(FC,{slide:h,handleSlideClick:C,activeSlidesIds:_,testId:f}),[]);if(n)return null;const b=be()(e,"tab-bar");if(v){const h=Yz(WC({},t),{testId:f,contextMenu:p,renderTab:g,handleClickContextMenu:VC});return(0,s.jsx)(Vz,WC({},h))}return(0,s.jsx)("div",{className:`${b}__wrapper`,children:(0,s.jsxs)("div",{className:b,children:[(0,s.jsx)(Pl,{type:"header",className:"tab-bar__slide-bar",slides:r,activeSlidesIds:o,onSlideClick:l,onSlideRender:g,testId:"tab-bar",userName:d,roleName:u,version:m}),(0,s.jsx)(xg,{itemsContextMenu:p,id:f,handleClickContextMenu:VC})]})})}UC.propTypes={className:y().string,tabs:y().arrayOf(y().object).isRequired,activeTabId:y().string,onTabClick:y().func};var Qz=(0,a.memo)(UC),eL=Qz,c6={popperIconSize:"18px",primaryColor:"#0bd688"},u6={popperIconSize:"18px",primaryColor:"#0bd688"};const tL="bread-crumbs";function GC(t){const{className:e,activeCrumbsIds:n,children:r}=t,o=({slide:d,activeSlidesIds:u,isLast:m})=>{const{id:f}=d,p=u.includes(f);let v="all";const g=[],b=r==null?void 0:r.find(h=>h.props.id===f);return u.length===2&&u.includes(f)&&(u[0]===f?v="left":v="right"),b&&g.push(a.cloneElement(b,{activePosition:v,isActive:p})),!m&&b&&u.length!==2&&g.push((0,s.jsx)(Ct,{name:"arrow-right-s",type:"line",size:12,outerStyle:{marginRight:"12px"}},b.id+"_separator")),g.length?g:null},l=(0,st.v9)(At),i=be()(e,tL),c=a.Children.map(r,({props:d})=>d);return(0,s.jsx)(Pl,{style:l?{background:"none",height:"42px",margin:0,paddingLeft:"32px",borderBottom:"1px solid "+I("navbar-underline-default")}:null,className:i,slides:c,activeSlidesIds:n,onSlideRender:o})}GC.propTypes={className:y().string,isFormsExpanded:y().bool.isRequired,activeCrumbsIds:y().oneOfType([y().array,y().string]).isRequired};var nL=GC,rL=nL;const oL="bread-crumb",ji="bread-crumbs__bread-crumb-options-toggler",lL=z.ZP.div`
  ${t=>t.isStyled&&z.iv`
    padding: 0;
    ${!t.isLeft&&z.iv`
      &&:not(:last-child) {
        margin-right: 12px;
      }
    `}
  `}
`,ZC=z.ZP.span`
  font-size: 12px;
  line-height: 16px;
  ${t=>t.isStyled&&z.iv`
    color: ${e=>e.isActive?I("navbar-text-active"):I("navbar-text-default")};
    transition: color .15s ease;
  `}
`,aL=z.ZP.div`
  ${t=>t.isStyled&&z.iv`
    display: flex;
    align-items: center;
    padding: 4px 8px;
    column-gap: 8px;
    height: 24px;
    box-sizing: border-box;
    position: relative;
    border: 1px solid ${t.isActive?I("navbar-border-active"):I("navbar-border-default")};
    border-radius: ${t.position==="left"?"12px 0 0 12px":t.position==="right"?"0 12px 12px 0":"12px"};
    margin: 0;
    margin-right: ${t.position==="left"?"-1px":0};
    transition: border-color .15s ease;
    cursor: pointer;
    &&:hover {
      border-color: ${()=>I("navbar-border-hover")};
      z-index: 1;
      && ${ZC} {
        color: ${I("navbar-text-hover")};
      }
      
      && .${ji} {
        color: ${I("navbar-icon-hover")};
      }
    }
    
    && .wrapper_button {
      display: flex;
      align-items: center;
    }
    
    && .${ji} {
      padding: 0;
      width: 12px;
      height: 12px;
      color: ${t.isActive?I("navbar-icon-active"):I("navbar-icon-default")};
      span {
        width: 12px;
        height: 12px;
      }
    }
    
  `}
`;function Id(t){const{isActive:e,id:n,name:r,activePosition:o,metaSet:l,onClick:i,events:c,children:d,onDoubleClick:u,testId:m,icon:f}=t,p=m||oL,v=(0,st.v9)(At),g=(0,a.useRef)(null),b=(0,a.useRef)(null),h=(0,a.useCallback)(P=>{let S=!0;const j=n;if(P.detail===1){if(i&&(S=i({event:P,metaSet:l,value:j})),S&&(c!=null&&c.onClick)){const{alias:k,args:w}=c.onClick;ve[k]({event:P,metaSet:l,args:w,value:j})}}else if(P.detail===2&&(u&&(S=u({event:P,metaSet:l,value:j})),S&&(c!=null&&c.onDoubleClick))){const{alias:k,args:w}=c.onDoubleClick;ve[k]({event:P,metaSet:l,args:w,value:j})}},[n,l,c,i]),C=(0,a.useCallback)(({event:P})=>{P!=null&&P.stopPropagation&&Pt(P)},[]),_=be()("bread-crumbs__bread-crumb-wrapper",{"bread-crumbs__bread-crumb-wrapper_active":e,[`bread-crumbs__bread-crumb-wrapper_${o}`]:o!=="all"}),O=be()(ji,{[`${ji}_active`]:e}),M=be()("bread-crumbs__bread-crumb");return(0,s.jsx)(lL,{className:!v&&"bread-crumbs__bread-crumb-external-wrapper",onClick:h,"data-slide-id":n,isStyled:!!v,isLeft:o==="left",ref:g,children:(0,s.jsxs)(aL,{ref:b,className:!v&&_,"data-testid":`${p}`,isStyled:!!v,isActive:e,position:o,children:[v&&f&&(0,s.jsx)(Ct,{name:f,size:12,color:I(e?"navbar-icon-active":"navbar-icon-default"),hoverColor:I("navbar-icon-hover"),parentRef:b,outerStyle:{width:"12px"}}),(0,s.jsx)(ZC,{className:!v&&M,title:r,"data-testid":`${p}_caption`,isStyled:!!v,isActive:e,children:r}),(0,s.jsx)(xl,{className:O,dropDownClassName:"bread-crumbs__drop-down",iconName:"caret-down",onClick:C,testId:`${p}_options-button`,children:d})]})})}Id.propTypes={isActive:y().bool,onSelect:y().func,id:y().string,name:y().string,options:y().array,activePosition:y().oneOf(["all","left","right"])},Id.defaultProps={isActive:!1,id:"",name:"",options:[],activePosition:"all"};var sL=Id;const iL=(0,z.ZP)("div")({display:"flex",overflow:"hidden"}),cL=(0,z.ZP)("div")({cursor:"col-resize",boxSizing:"border-box",width:4,borderLeft:"1px solid #e2e4e6",borderRight:"1px solid #e2e4e6"});var uL=Object.defineProperty,KC=Object.getOwnPropertySymbols,dL=Object.prototype.hasOwnProperty,fL=Object.prototype.propertyIsEnumerable,qC=(t,e,n)=>e in t?uL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pL=(t,e)=>{for(var n in e||(e={}))dL.call(e,n)&&qC(t,n,e[n]);if(KC)for(var n of KC(e))fL.call(e,n)&&qC(t,n,e[n]);return t};const mL=(0,z.ZP)("div")(({styledState:t})=>{const{isDoubleWindow:e,leftWidth:n}=t;return pL({display:"grid"},e&&{width:`calc(100% - ${n}px)`})});var vL=Object.defineProperty,YC=Object.getOwnPropertySymbols,hL=Object.prototype.hasOwnProperty,gL=Object.prototype.propertyIsEnumerable,XC=(t,e,n)=>e in t?vL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bL=(t,e)=>{for(var n in e||(e={}))hL.call(e,n)&&XC(t,n,e[n]);if(YC)for(var n of YC(e))gL.call(e,n)&&XC(t,n,e[n]);return t};const yL=(0,z.ZP)("div")(({styledState:t})=>{const{isDoubleWindow:e,leftWidth:n}=t;return bL({display:"grid",width:"100%"},e&&{width:n})}),CL=t=>{const{children:e}=t,n=e.length>1,r=(0,a.useRef)(null),o=(0,a.useRef)(null),[l,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),u={isDoubleWindow:n,leftWidth:c};(0,a.useEffect)(()=>{var g;o.current&&d(((g=o.current)==null?void 0:g.clientWidth)/2)},[n]);const m=g=>{g.preventDefault(),r.current===g.target&&i(!0)},f=()=>{i(!1)},p=g=>{if(l&&o.current){g.preventDefault(),Pt(g);const b=o.current.getBoundingClientRect(),h=g.clientX-b.left;d(h)}else document.body.style.removeProperty("cursor")},v=()=>{var g;o.current&&d(((g=o.current)==null?void 0:g.clientWidth)/2)};return(0,a.useEffect)(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",f),window.addEventListener("resize",v),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",f),window.removeEventListener("resize",v)}),[]),(0,s.jsxs)(iL,{ref:o,onMouseMove:p,children:[(0,s.jsx)(yL,{styledState:u,children:e[0]}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(cL,{ref:r,onMouseDown:m}),(0,s.jsx)(mL,{styledState:u,children:e[1]})]})]})};var _L=Object.defineProperty,JC=Object.getOwnPropertySymbols,wL=Object.prototype.hasOwnProperty,xL=Object.prototype.propertyIsEnumerable,QC=(t,e,n)=>e in t?_L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e_=(t,e)=>{for(var n in e||(e={}))wL.call(e,n)&&QC(t,n,e[n]);if(JC)for(var n of JC(e))xL.call(e,n)&&QC(t,n,e[n]);return t};function t_(t,e,n){const r=e.find(({formId:o})=>o===t);n.push(r),r.childFormId&&t_(r.childFormId,e,n)}function SL(t,e,n){let r=[];if(e.length===1||n)r.push(t);else if(e.length>1)if(e.length===2)r.push(e[0].formId),r.push(e[1].formId);else{const o=e.find(({formId:l})=>l===t);r.push(t),o.parentFormId?r.unshift(o.parentFormId):r.push(o.childFormId)}return r}const PL=({activeFormStackId:t,mainForm:e,forms:n,mainCssClass:r,contentClasses:o,handleFormClose:l,handleFormExpansion:i,handleRaiseForm:c,handleFormActive:d})=>{const u=(0,st.v9)(At);let m=null;const f=[],p=e.keepMounted&&e.formId!==t,v=e.hideBreadcrumbs;t_(e.formId,n,f);const g=(f==null?void 0:f.length)<2?!1:e.isWideScreenMode,{showedFormId:b}=e,h=SL(b,f,g),C=h.map(O=>{const M=f.find(({formId:P})=>P===O);return M?(0,s.jsx)(Pd,e_({className:`${r}__form`},M),e.formId):(0,s.jsx)(Pd,e_({className:`${r}__form ${r}__form_without-bread-crumbs`},e),e.formId)}),_=!(v||t==="0")&&(f==null?void 0:f.length)>1;return m=(0,s.jsxs)(s.Fragment,{children:[_?(0,s.jsx)("div",{children:(0,s.jsx)(rL,{className:`${r}__bread-crumbs`,isFormsExpanded:g,activeCrumbsIds:h,children:f==null?void 0:f.map((O,M)=>{const{formId:P,formName:S,formIcon:j}=O;return(0,s.jsxs)(sL,{id:P,name:S,metaSet:{isShowed:h.includes(P),isWideScreenMode:g,formId:P,isSingleForm:f.length===1},onClick:d,onDoubleClick:i,testId:Za([S,"bread-crumb"]),icon:j,children:[M!==0&&(0,s.jsx)(Gt,{type:"button",name:"raise-form-button",caption:lt.t("raise_form"),metaSet:{formId:P},onClick:c,iconName:"external-link-square"},"raise-form-button"),f.length>1&&(0,s.jsx)(Gt,{type:"button",name:"expand-form-button",testId:Za([S,"bread-crumb-options","wide-screen-mode-button"]),caption:g?lt.t("roll_up"):lt.t("expand"),iconName:g?"compress":"arrows-alt",metaSet:{isWideScreenMode:g,formId:P},onClick:i},"expand-form-button"),M!==0&&(0,s.jsx)(Gt,{type:"button",name:"close-form-button",testId:Za([S,"bread-crumb-options","close-button"]),caption:lt.t("close"),iconName:"times-circle",metaSet:{formId:P},onClick:l},"close-form-button")]},P)})})}):u?(0,s.jsx)("div",{}):null,(0,s.jsx)(CL,{mainCssClass:r,children:C})]}),(0,s.jsx)("div",{className:be()(o,{hidden:p,withoutBreadCrumbs:!_&&!u||u&&t==="0"}),children:m},e.formName)};var IL=(0,a.memo)(PL);function n_(t){var e,n;return(n=(e=t.mainAppParams)==null?void 0:e.toolbar)==null?void 0:n.showAppToolbar}const Ul="form-stack",OL=Ul+"__empty";function r_(t){const{className:e,forms:n=[],activeFormStackId:r,onFormStackClick:o,webUiLanguage:l,userName:i,roleName:c,version:d}=t,u=n[0].entities===void 0,m=!(n.length===1&&u),f=(0,st.v9)(n_),p=(0,st.v9)(At),v=be()(e,m?Ul:OL,{"with-toolbar":f,themed:!!p}),g=n.filter(({openMode:j,formId:k})=>j==="new"&&!(u&&k==="0")).map(({formId:j,formName:k,formIcon:w,fixed:x})=>({id:j,name:k,icon:w,fixed:x})),b=n.filter(({formId:j,keepMounted:k})=>j===r||k===!0),h=`${Ul}__content`;let C=h;const _=(0,a.useCallback)(({metaSet:{isShowed:j},value:k})=>{!j&&Ge.onFormActive&&Ge.onFormActive({formStackId:r,formId:k})},[r]),O=(0,a.useCallback)(({event:j,metaSet:k})=>{Pt(j);const{formId:w}=k;Ge.onFormClose&&Ge.onFormClose({formStackId:r,formId:w})},[r]),M=(0,a.useCallback)(({event:j,metaSet:k})=>{Pt(j);const{isWideScreenMode:w,formId:x,isSingleForm:T}=k;T||Ge.onWideScreenModeToggle&&Ge.onWideScreenModeToggle({formId:x,formStackId:r,isWideScreenMode:!w})},[r]),P=(0,a.useCallback)(({event:j,metaSet:k})=>{Pt(j);const{formId:w}=k;Ge.onFormRaise&&Ge.onFormRaise({formId:w})},[]),S=b.length>0&&b.every(j=>j.schema&&j.entities);return(0,s.jsxs)("div",{className:v,children:[m&&(0,s.jsx)(eL,{tabs:g,activeTabId:r,onTabClick:o,userName:i,roleName:c,version:d}),(0,s.jsxs)(Ns,{children:[S&&b.map(j=>(0,s.jsx)(IL,{activeFormStackId:r,mainForm:j,forms:n,contentClasses:C,mainCssClass:Ul,handleFormClose:O,handleFormExpansion:M,handleRaiseForm:P,handleFormActive:_},j.formName)),!S&&(0,s.jsx)("div",{className:be()(h,"empty"),children:(0,s.jsx)("div",{className:`${Ul}__logo ${Ul}__logo_${l}`})})]})]})}r_.propTypes={className:y().string,data:y().object};var EL=(0,a.memo)(r_);function d6({singleClick:t,doubleClick:e,delay:n=200}){let r=null;const o=useCallback((...i)=>{const{event:c}=i[0];c.persist(),c.detail===1&&(r=setTimeout(()=>{t(...i)},n))},[t,n]),l=useCallback((...i)=>{clearTimeout(r),e(...i)},[e,n,r]);return[o,l]}const o_=st.I0,kL=st.v9;var jL=He(29119);function Od(t){if(t&&typeof t=="string"){const e=t.replace(/\D/g,"");return parseInt(e,10)}}var RL=t=>{const{mainCssClass:e,initialStyle:n,canResize:r,children:o,id:l,caption:i}=t,c={width:Od(n==null?void 0:n.width)||"auto",height:Od(n==null?void 0:n.height)!==void 0?Od(n.height)||0+18:"auto"},[d,u]=(0,a.useState)(c);(0,a.useEffect)(()=>{r&&u(c)},[n]);const m=(p,v,g)=>{(g.offsetHeight!==d.height||g.offsetWidth!==d.width)&&u({width:g.offsetWidth,height:g.offsetHeight})};if((0,a.useEffect)(()=>{if(r&&(d.height!==c.height||d.width!==c.width)){const p={height:Math.round(Number(d.height)/3.8),width:Math.round(Number(d.width)/3.8)};ve.onFormResize({formId:l,formName:i,state:p})}},[d]),r)return(0,s.jsx)(jL.e,{maxWidth:"75%",minWidth:"300px",size:{width:d.width,height:d.height},className:`${e}__form`,onResizeStop:m,children:o});const f=n!=null&&n.width?{}:{maxWidth:"75%",minWidth:"300px"};return(0,s.jsx)("div",{className:`${e}__form`,style:f,children:o})},p6={popperIconSize:"18px",primaryColor:"#0bd688"},DL=Object.defineProperty,l_=Object.getOwnPropertySymbols,NL=Object.prototype.hasOwnProperty,ML=Object.prototype.propertyIsEnumerable,a_=(t,e,n)=>e in t?DL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TL=(t,e)=>{for(var n in e||(e={}))NL.call(e,n)&&a_(t,n,e[n]);if(l_)for(var n of l_(e))ML.call(e,n)&&a_(t,n,e[n]);return t};const So="modal-form",s_=document.getElementById("modal-form"),FL=({className:t,id:e,caption:n,icon:r,onClose:o,isDisabled:l,events:i,metaSet:c,children:d,winCanResize:u,style:m})=>{const f=be()(t,So),p=o_(),{temporaryFormId:v}=kL(C=>C.mainAppParams),g=TL({},m);delete g.height,delete g.width,(0,a.useEffect)(()=>()=>{e===v&&p(ds(void 0))},[]);const b={backgroundImage:`url(${on(r)})`},h=(0,a.useCallback)(C=>{l||je({specificEvent:o,nativeEvent:"onClose",event:C,metaSet:c,events:i,value:e})},[i,c,e,l,o]);return s_&&(0,bo.createPortal)((0,s.jsxs)("div",{id:e,className:f,children:[(0,s.jsxs)(RL,{mainCssClass:So,initialStyle:m,canResize:u,id:e,caption:n,children:[(0,s.jsxs)("div",{className:`${So}__title`,children:[(0,s.jsx)("span",{className:`${So}__icon`,style:b}),(0,s.jsx)("span",{className:`${So}__caption text-ellipsis`,children:n}),(0,s.jsx)(Gt,{name:"closeButton",iconName:"times",className:`${So}__close-button`,onClick:h})]}),(0,s.jsx)("div",{className:`${So}__content`,style:u?g:m,children:d})]}),(0,s.jsx)("div",{className:`${So}__overlay`})]}),s_)};var AL=(0,a.memo)(FL),m6={popperIconSize:"18px",primaryColor:"#0bd688"};const Po="upload-form",BL=document.getElementById("upload-form"),$L=({className:t,formId:e,multiple:n,serverConfig:r,fileExtMask:o,fileMaxSize:l,style:i,metaSet:c,isDisabled:d,events:u,onLoadFileSuccess:m,onLoadFileError:f,onUploadApprove:p,onUploadAbort:v})=>{const g=(0,a.useRef)([]),b=be()(t,Po),h=(0,a.useCallback)(({event:P})=>{if(d)return;let S=!0;const j=g.current.map(k=>k.filename);if(p&&(S=p({event:P,metaSet:c,value:j})),S&&(u!=null&&u.onUploadApprove)){const{alias:k,args:w}=u.onUploadApprove;ve[k]({event:P,metaSet:c,args:w,value:j})}return S},[d,u,c,p]),C=(0,a.useCallback)(({event:P})=>{if(d)return;let S=!0;const j=g.current.map(k=>k.filename);if(v&&(S=v({event:P,metaSet:c,value:j})),S&&(u!=null&&u.onUploadAbort)){const{alias:k,args:w}=u.onUploadAbort;ve[k]({event:P,metaSet:c,args:w,value:j})}return S},[d,u,c,v]),_=(0,a.useCallback)(({value:P})=>{if(d)return;let S=!0;if(g.current.push({filename:P.filename,id:P.id}),m&&(S=m({metaSet:c,value:P})),S&&(u!=null&&u.onLoadFileSuccess)){const{alias:j,args:k}=u.onLoadFileSuccess;ve[j]({metaSet:c,args:k,value:P})}return S},[d,u,c,m]),O=P=>{g.current=g.current.filter(S=>S.id!==P.id)},M=(0,a.useCallback)(({value:P})=>{if(d)return;let S=!0;if(f&&(S=f({metaSet:c,value:P})),S&&(u!=null&&u.onLoadFileError)){const{alias:j,args:k}=u.onLoadFileError;ve[j]({metaSet:c,args:k,value:P})}return S},[d,u,c,f]);return(0,bo.createPortal)((0,s.jsxs)("div",{id:e,className:b,children:[(0,s.jsxs)("div",{className:`${Po}__upload-window`,children:[(0,s.jsx)("p",{className:`${Po}__title`,children:lt.t("file_upload")}),(0,s.jsxs)("div",{className:`${Po}__content`,style:i,children:[(0,s.jsx)(jy,{onRemoveFile:O,name:"UploadControl",style:{flexGrow:null,width:null,minWidth:null,maxWidth:null},isFixSize:!1,isExcluded:!1,isDisabled:!1,multiple:n,fileExtMask:o,fileMaxSize:l,server:r,onLoadSuccess:_,onLoadError:M}),(0,s.jsxs)("div",{className:`${Po}__buttons-container`,children:[(0,s.jsx)(Kr,{fashion:"Primary",name:"OKButton",hint:"",caption:lt.t("ok"),iconName:"",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:h,className:`${Po}__button`}),(0,s.jsx)(Kr,{fashion:"Secondary",name:"CancelButton",hint:"",caption:lt.t("cancel"),iconName:"",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:C,className:`${Po}__button`})]})]})]}),(0,s.jsx)("div",{className:`${Po}__overlay`})]}),BL)};var zL=(0,a.memo)($L),Ed=He(1150),v6={popperIconSize:"18px",primaryColor:"#0bd688"},LL=Object.defineProperty,i_=Object.getOwnPropertySymbols,HL=Object.prototype.hasOwnProperty,WL=Object.prototype.propertyIsEnumerable,c_=(t,e,n)=>e in t?LL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kd=(t,e)=>{for(var n in e||(e={}))HL.call(e,n)&&c_(t,n,e[n]);if(i_)for(var n of i_(e))WL.call(e,n)&&c_(t,n,e[n]);return t};const wt="color-picker-form",Gl=`${wt}__pointer`,VL=document.getElementById("color-picker-form"),UL=()=>(0,s.jsx)("div",{className:`${Gl} ${Gl}_saturation`}),GL=()=>(0,s.jsx)("div",{className:`${Gl} ${Gl}_hue`}),ZL=()=>(0,s.jsx)("div",{className:`${Gl} ${Gl}_alpha`}),KL=({isDisabled:t,metaSet:e,onApprove:n,onAbort:r,onError:o,events:l,className:i,id:c,withAlphaChannel:d=!1,value:u})=>{const m=be()(i,wt),f=be()(`${wt}__color-settings`,{[`${wt}__color-settings_w-alpha`]:d}),[p,v]=(0,a.useState)(()=>qa(u)),g=(0,st.v9)(At),b=(0,a.useCallback)(S=>{const j=qa(S);v(j)},[]),h=(0,a.useCallback)(({value:S})=>{if(S.trim().length===0||S.trim().length%3!==0)v(j=>{const k=kd({},j);return k.hex=S,k});else{const j=qa(S);v(j)}},[]),C=(0,a.useCallback)(({metaSet:S,value:j})=>{const k=kd({},p.rgb);if(j.trim()==="")v(w=>{const x=kd({},w);return x[S.rgb]="",x});else{k[S.rgb]=j;const w=qa(k);v(w)}},[p]),_=(0,a.useCallback)((S,j)=>{if(t)return;let k=!0;if(o&&(k=o({event:S,metaSet:e,value:j})),k&&(l!=null&&l.onError)){const{alias:w,args:x}=l.onError;ve[w]({event:S,metaSet:e,args:x,value:j})}},[t,o,l,e]),O=(0,a.useCallback)(({event:S})=>{if(t)return;let j=null;if(p.hex.length===3?j=`#${iS(p.hex)}`:j=`#${p.hex}`,!/^#[0-9A-F]{6}$/i.test(j)){_(S,"invalid_color");return}let w=!0;if(n&&(w=n({event:S,metaSet:e,value:j})),w&&(l!=null&&l.onApprove)){const{alias:x,args:T}=l.onApprove;ve[x]({event:S,metaSet:e,args:T,value:j})}},[t,l,e,n,p]),M=(0,a.useCallback)(({event:S})=>{if(t)return;let j=!0;if(r&&(j=r({event:S,metaSet:e})),j&&(l!=null&&l.onAbort)){const{alias:k,args:w}=l.onAbort;ve[k]({event:S,metaSet:e,args:w})}},[t,l,e,r]),P=be()(`${wt}__controls`,{themed:!!g});return(0,bo.createPortal)((0,s.jsxs)("div",{id:c,className:m,children:[(0,s.jsx)(Gp(),{children:(0,s.jsxs)("div",{className:`${wt}__color-picker`,children:[(0,s.jsx)("div",{className:`${wt}__title`,children:lt.t("color_selection")}),(0,s.jsxs)("div",{className:`${wt}__content`,children:[(0,s.jsxs)("div",{className:f,children:[(0,s.jsx)("div",{className:`${wt}__saturation`,children:(0,s.jsx)(Ed.OQ,{pointer:UL,direction:"vertical",color:p.hex,hsl:p.hsl,hsv:p.hsv,onChange:b})}),(0,s.jsx)("div",{className:`${wt}__slider`,children:(0,s.jsx)(Ed.PS,{pointer:GL,direction:"vertical",onChange:b,hsl:p.hsl})}),d&&(0,s.jsx)("div",{className:`${wt}__slider`,children:(0,s.jsx)(Ed.xV,{pointer:ZL,direction:"vertical",rgb:p.rgb,hsl:p.hsl,onChange:b})})]}),(0,s.jsxs)("div",{className:`${wt}__details`,children:[(0,s.jsxs)("div",{className:`${wt}__preview ${wt}__item`,children:[(0,s.jsx)("label",{className:`${wt}__label`,children:"Preview"}),(0,s.jsx)("div",{style:{backgroundColor:`rgba(${p.rgb.r}, ${p.rgb.g}, ${p.rgb.b}, ${p.rgb.a})`},className:`${wt}__current-color`})]}),!d&&(0,s.jsx)("div",{}),(0,s.jsxs)("div",{className:`${wt}__input-container ${wt}__item`,children:[(0,s.jsx)("label",{className:`${wt}__label`,children:"HEX"}),(0,s.jsx)(zn,{className:`${wt}__input`,onChange:h,value:p.hex,isControlledValue:!0,controlRegExp:/\s|^[0-9A-F]{0,6}$/i})]}),d&&(0,s.jsxs)("div",{className:`${wt}__input-container ${wt}__item`,children:[(0,s.jsx)("label",{className:`${wt}__label`,children:"Alpha"}),(0,s.jsx)(zn,{metaSet:{rgb:"a"},className:`${wt}__input`,value:p.rgb.a,onChange:C,isControlledValue:!0})]}),(0,s.jsxs)("div",{className:`${wt}__input-container ${wt}__item`,children:[(0,s.jsx)("label",{className:`${wt}__label`,children:"Red"}),(0,s.jsx)(zn,{metaSet:{rgb:"r"},className:`${wt}__input`,value:p.rgb.r,onChange:C,isControlledValue:!0,controlRegExp:/\s|^(\d{0,3})?$/})]}),(0,s.jsxs)("div",{className:`${wt}__input-container ${wt}__item`,children:[(0,s.jsx)("label",{className:`${wt}__label`,children:"Green"}),(0,s.jsx)(zn,{metaSet:{rgb:"g"},className:`${wt}__input`,value:p.rgb.g,onChange:C,isControlledValue:!0,controlRegExp:/\s|^(\d{0,3})?$/})]}),(0,s.jsxs)("div",{className:`${wt}__input-container ${wt}__item`,children:[(0,s.jsx)("label",{className:`${wt}__label`,children:"Blue"}),(0,s.jsx)(zn,{metaSet:{rgb:"b"},className:`${wt}__input`,value:p.rgb.b,onChange:C,isControlledValue:!0,controlRegExp:/\s|^(\d{0,3})?$/})]})]}),(0,s.jsxs)("div",{className:P,children:[(0,s.jsx)(Kr,{fashion:"Primary",name:"OKButton",caption:"OK",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:O,className:`${wt}__button`}),(0,s.jsx)(Kr,{fashion:"Secondary",name:"CancelButton",caption:"\u041E\u0442\u043C\u0435\u043D\u0430",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:M,className:`${wt}__button`})]})]})]})}),(0,s.jsx)("div",{className:`${wt}__overlay`})]}),VL)};var qL=(0,a.memo)(KL),h6={popperIconSize:"18px",primaryColor:"#0bd688"};const YL=(t="transparent",e="rgba(0, 0, 0, 0.4)",n="#777777",r=!1)=>z.iv`
    @supports(scrollbar-width: thin) {
        scrollbar-width: thin;
        scrollbar-color: ${e} ${t};
    }

    &::-webkit-scrollbar {
        height: 10px;
        width: 10px;
        background-color: var(--scrollbar-backgroundColor, ${t});

        &-thumb {
            background-color: ${e};
            border: 3px solid transparent;
            border-radius: 20px;
            background-clip: content-box;
            min-height: 30px;
            min-width: 30px;

            &:hover,
            &:active {
                border: 0;
            }
        }

        &-corner {
            background-color: ${t};
        }

        ${r&&z.iv`
            // stylelint-disable-next-line selector-pseudo-class-no-unknown
            &-button:single-button {
                background-color: ${t};
                display: block;
                border-style: solid;
                height: 5px;
                width: 5px;

                /* Up */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical {
                    border-width: 0px 4px 6px 4px;
                    border-color: transparent transparent ${e} transparent;

                    &:hover {
                        border-color: transparent transparent ${n} transparent;
                    }
                }

                /* Down */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical:increment {
                    border-width: 6px 4px 0 4px;
                    border-color: ${e} transparent transparent transparent;

                    &:hover {
                        border-color: ${n} transparent transparent transparent;
                    }
                }

                /* Left */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal {
                    border-width: 4px 6px 4px 0;
                    border-color: transparent ${e} transparent transparent;

                    &:hover {
                        border-color: transparent ${n} transparent transparent;
                    }
                }

                /* Right */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal:increment {
                    border-width: 4px 0 4px 6px;
                    border-color: transparent transparent transparent ${e};

                    &:hover {
                        border-color: transparent transparent transparent ${n};
                    }
                }
            }
        `}
    }
`,Mn={width:{open:"240px",folded:"56px"},leftBar:{width:"56px",borderRadius:"0 16px 0 0",paddingTop:"100px"},menuItems:{button:{fontSize:"14px",lineHeight:"16px"},separator:{fontSize:"14px",lineHeight:"16px"}},toggleIcon:{size:"16px"}},u_=z.ZP.div`
  & * {
    box-sizing: border-box;
  }
  height: 100%;
  width: fit-content;
  display: grid;
  grid-template-rows: 40px 1fr;
  grid-template-columns: ${t=>t.withLeftBar?Mn.leftBar.width+" auto":"auto"};
  background: ${()=>I("sidebar-background-default")};
  color: ${()=>I("sidebar-text")};
`,XL=z.ZP.div`
  background: ${()=>I("sidebar-left-bar-background-default")};
  border-radius: ${Mn.leftBar.borderRadius};
  padding-top: ${Mn.leftBar.paddingTop};
`,JL=z.ZP.div`
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: ${t=>t.leftBarHide?"28px 72px 1fr":"28px 72px 40px 1fr"};
  width: ${t=>t.isOpened?Mn.width.open:Mn.width.folded};
  height: 100%;
`,QL=z.ZP.i`
  box-sizing: content-box;
  opacity: 0;
  justify-self: ${t=>t.isOpened?"end":"center"};
  margin: 4px ${t=>t.isOpened?"4px":"0"} 0 0;
  display: flex;
  align-items: center;
  border-radius: 4px;
  padding: 4px;
  width: ${Mn.toggleIcon.size};
  height: ${Mn.toggleIcon.size};
  font-size: ${Mn.toggleIcon.size};
  background: ${()=>I("sidebar-open-button-background-default")};
  color: ${()=>I("sidebar-open-button-icon-default")};
  line-height: 1;
  transition: all .15s ease;
  cursor: pointer;
  &&:hover {
    background: ${()=>I("sidebar-open-button-background-hover")};
    color: ${()=>I("sidebar-open-button-icon-hover")};
  }
  ${u_}:hover && {
    opacity: 1;
  }
`,e2=z.ZP.div`
  height: 100%;
`,t2=z.ZP.ul`
  width: ${Mn.width.open};
`,n2=z.ZP.div`
  position: fixed;
  width: ${Mn.width.open};
`,r2=z.ZP.div`
  height: fit-content;
  width: ${Mn.width.open};
  background: ${()=>I("sidebar-background-default")};
`,d_=z.ZP.li`
  display: flex;
  align-items: center;
  {/* - 10 нужно для первого уровня */}
  padding: 12px 16px 12px ${t=>(t.depth+1)*26-10}px;
  color: ${()=>I("sidebar-text")};
  ${t=>t.isSelected&&!t.isDisabled&&z.iv`
    background: ${()=>I("sidebar-background-active")};
  `}
`,o2=z.ZP.div`
  display: flex;
  align-items: center;
  padding: 12px 16px;
  font-size: ${Mn.menuItems.button.fontSize};
  line-height: ${Mn.menuItems.button.lineHeight};
  font-weight: 500;
  cursor: default;
`,l2=(0,z.ZP)(d_)`
  font-size: ${Mn.menuItems.separator.fontSize};
  line-height: ${Mn.menuItems.separator.lineHeight};
  color: ${()=>I("sidebar-separator-default")};
`,a2=(0,z.ZP)(d_)`
  justify-content: space-between;
  transition: background .15s ease;
  ${t=>!t.isDisabled&&z.iv`
    cursor: pointer;
    &&:hover {
      background: ${()=>I("sidebar-background-hover")};
    }`}`,s2=z.ZP.div`
  display: grid;
  grid-template-columns: 16px auto;
  align-items: center;
  column-gap: 10px;
`,i2=z.ZP.div`
  font-size: ${Mn.menuItems.button.fontSize};
  line-height: ${Mn.menuItems.button.lineHeight};
  font-weight: ${t=>t.depth?400:500};
  grid-column: 2;
`,c2=z.ZP.span`
  font-size: 10px;
  line-height: 1;
  padding: 16px;
  opacity: ${t=>t.isOpened?1:0};
  display: ${t=>t.isOpened?"inline":"none"};
  transition: opacity .15s ease;
  color: ${()=>I("sidebar-turbo-text-default")};
`,u2=z.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${t=>I(t.bg.color.default)};
  padding: 12px 0;
  transition: background .15s ease;
  ${t=>!t.isDisabled&&z.iv`
    cursor: pointer;
    &&:hover {
      background: ${()=>I(t.bg.color.hover)};
    }`}
`,d2=z.ZP.div`
  display: ${t=>t.hide?"none":"block"};
  border-radius: 5px;
  background: ${()=>I("sidebar-scrollbar-default")};
  transition: bacground .15s ease;
  width: 6px !important;
  &&:hover {
    background: ${()=>I("sidebar-scrollbar-hover")};
  }
  &&:active { 
    background: ${()=>I("sidebar-scrollbar-active")};
  }
`,f2=z.ZP.div`
  grid-column: ${t=>t.leftBarHide?"1":"1/ span 2"};
  display: flex;
  align-items: center;
  justify-content: ${t=>t.leftBarHide&&!t.isOpened?"center":"flex-start"};
  padding: 12px 16px;
  cursor: pointer;
`,p2=z.ZP.div`
  padding: 16px ${t=>t.isOpened?"16px":"0"} 24px;
  display: flex;
  align-items: ${t=>t.isOpened?"center":"stretch"};
  flex-direction: column;
`,m2=z.ZP.label`
  position: relative;
  padding: 7px 11px;
  border-radius: 8px;
  border: 1px solid ${()=>I("sidebar-search-border-default")};
  background: ${()=>I("sidebar-search-background-default")};
  display: flex;
  column-gap: 12px;
`,v2=z.ZP.input`
  outline: none;
  font-size: 14px;
  line-height: 16px;
  color: ${()=>I("sidebar-search-text-default")};
  background: none;
  border: none;
  width: 100%;
  &::placeholder {
    color: ${()=>I("sidebar-search-placeholder-default")};
  }
`,h2=z.ZP.div`
  z-index: 1;
  position: absolute;
  left: -1px;
  top: calc(100% + 1px);
  width: calc(100% + 2px);
  padding: 12px;
  border-radius: 12px;
  background: ${()=>I("sidebar-search-background-default")};
  box-shadow: 0 1px 4px -1px rgba(23, 24, 28, 0.08), 0px 4px 8px -2px rgba(23, 24, 28, 0.48);
  display: flex;
  flex-direction: column;
  row-gap: 8px;
  overflow: auto;
  max-height: 208px;
  ${()=>YL("transparent",I("sidebar-scrollbar-default"),I("sidebar-scrollbar-hover"),!1)}
`,g2=z.ZP.div`
  display: flex;
  flex-direction: column;
  cursor: pointer;
`,f_=z.ZP.span`
  font-size: 14px;
  line-height: 16px;
  color: ${()=>I("sidebar-search-text-default")};
`,b2=z.ZP.span`
  color: ${()=>I("sidebar-search-text-path-default")};
  font-size: 12px;
  font-weight: 400;
  line-height: 14px;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
`,y2=z.ZP.span`
  color: ${()=>I("sidebar-search-text-search-occurrence-default")};
`;var C2=Object.defineProperty,_2=Object.defineProperties,w2=Object.getOwnPropertyDescriptors,p_=Object.getOwnPropertySymbols,x2=Object.prototype.hasOwnProperty,S2=Object.prototype.propertyIsEnumerable,m_=(t,e,n)=>e in t?C2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v_=(t,e)=>{for(var n in e||(e={}))x2.call(e,n)&&m_(t,n,e[n]);if(p_)for(var n of p_(e))S2.call(e,n)&&m_(t,n,e[n]);return t},P2=(t,e)=>_2(t,w2(e));const I2=t=>{var e,n;(n=(e=Ge).onMainMenuOpen)==null||n.call(e,t)},h_=(t,e)=>{var n,r,o,l;const i={id:t,controlId:"mainMenu"};e&&(i.advanced=!0),(r=(n=Ge).saveSelectedMainMenuItemId)==null||r.call(n,t),(l=(o=Ge).onMainMenuCommandSend)==null||l.call(o,i)},g_=(0,a.createContext)({entities:{},isOpened:!0,toggleOpenedSubMenu:()=>{},isOpenedSubMenu:()=>!1,isSelectedItem:()=>!1,addOpenedSubMenuIds:()=>{},scrollToItem:()=>{},currentPanelName:null}),O2=t=>({emitToggleMenu:(0,a.useCallback)(()=>{I2(!t)},[t])}),$a=()=>(0,a.useContext)(g_),E2=(t,e,n,r)=>{var o;const[l,i]=(0,a.useState)({}),c=(0,a.useCallback)(C=>l[C],[l]),d=(0,a.useCallback)(C=>{c(C)||i(_=>P2(v_({},_),{[C]:!0}))},[c]),u=(0,a.useCallback)(C=>{i(_=>{const O=v_({},_);return delete O[C],O})},[]),m=(0,a.useCallback)(C=>{C.forEach(d)},[d]),f=(0,a.useCallback)(C=>{c(C)&&u(C),d(C)},[d,c,u]),p=(0,a.useCallback)(C=>!!(n&&n===C),[n]),v=(0,a.useRef)(null),g=C=>{setTimeout(()=>{var _,O;if(v.current&&v.current.contentElement&&v.current.wrapperElement){const M=v.current.contentElement,P=v.current.wrapperElement,S=M.querySelector(`[data-id="${C}"]`),j=P.clientHeight,w=M.clientHeight-j;let x=((O=(_=S==null?void 0:S.parentElement)==null?void 0:_.offsetTop)!=null?O:0)-j/2;x>w&&(x=w),x<0&&(x=0),v.current.scrollTop=x}})},b=r?(o=t[r])==null?void 0:o.caption:null;return(0,a.useMemo)(()=>({entities:t,isOpened:e,toggleOpenedSubMenu:f,isOpenedSubMenu:c,isSelectedItem:p,addOpenedSubMenuIds:m,scrollToItem:g,menuScrollBarRef:v,currentPanelName:b}),[t,e,f,c,p,m,g,v,b])},jd=(t,e=0)=>{var n;return t&&t.length===1&&((n=t[0].elements)!=null&&n.length)&&e<2?jd(t[0].elements,e+1):t},k2=(t,e)=>{const[n,r]=(0,a.useState)(null),o=(0,a.useMemo)(()=>!e&&Zl(t)&&t.length<2?!0:!!e,[e,t]);(0,a.useEffect)(()=>{var d;(!o&&!n&&Zl(t)||Zl(t)&&!t.filter(u=>u.GUID===n).length)&&r((d=t[0].GUID)!=null?d:null)},[o,n,t]);const l=(0,a.useCallback)(d=>d===n,[n]),i=(0,a.useCallback)(d=>{n!==d&&r(d)},[n]);return{menuSchema:(0,a.useMemo)(()=>{var d,u;if(Zl(t)&&!o&&n){const m=(u=(d=t.filter(f=>f.GUID===n)[0])==null?void 0:d.elements)!=null?u:[];return jd(m)}return jd(t)},[o,t,n]),leftBarHide:o,togglePanel:i,isActivePanel:l,activePanelGuid:n}};function Zl(t){return Boolean(Array.isArray(t)&&t.length)}const j2=(t,e,n)=>{const[r,o]=(0,a.useState)({}),[l,i]=(0,a.useState)(!1),c=(0,a.useCallback)(()=>{t&&!n&&i(!1)},[t]),d=(0,a.useCallback)(m=>{if(t&&!n){i(!0);return}e&&e(m)},[e,t,n]);return{setupChildrenPosition:(0,a.useCallback)(m=>{if(m&&(0,$t.isEmpty)(r)){const{top:f,right:p}=m.getBoundingClientRect(),v=document.body.offsetHeight;o({top:f,left:p,maxHeight:v-f+"px"})}},[r]),handleCloseChildren:c,showChildren:l,childrenFloatingStyle:r,handleClick:d}};var R2=He(92728);const b_=(0,a.forwardRef)(({icon:{size:t=16,name:e,color:n,type:r="line"},bg:o,onClick:l,title:i,isDisabled:c,testId:d,id:u},m)=>{const f=(0,a.useRef)(null);return(0,s.jsx)(u2,{ref:(0,R2.l)([m,f]),onClick:l,bg:o,title:i,isDisabled:c,"data-testid":d,"data-id":u,children:(0,s.jsx)(Ct,{name:e,type:r,size:t,color:I(n.default),hoverColor:I(n.hover),parentRef:f,outerStyle:{width:t+"px",objectFit:"contain"}})})});b_.displayName="IconButton";var Rd=(0,a.memo)(b_);const D2=({onClick:t,iconName:e,isActive:n,isDisabled:r,testId:o,title:l})=>{const i=(0,a.useCallback)(()=>{!r&&t&&t()},[t,r]),c=n&&!r;return(0,s.jsx)(Rd,{title:l,testId:o,isDisabled:r,onClick:i,icon:{name:e!=null?e:"bug",color:{default:c?"sidebar-left-bar-icon-active":"sidebar-left-bar-icon-default",hover:"sidebar-left-bar-icon-hover"}},bg:{color:{default:c?"sidebar-left-bar-background-active":"sidebar-left-bar-background-default",hover:"sidebar-left-bar-background-hover"}}})};var N2=(0,a.memo)(D2),M2=Object.defineProperty,T2=Object.defineProperties,F2=Object.getOwnPropertyDescriptors,Ri=Object.getOwnPropertySymbols,y_=Object.prototype.hasOwnProperty,C_=Object.prototype.propertyIsEnumerable,__=(t,e,n)=>e in t?M2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w_=(t,e)=>{for(var n in e||(e={}))y_.call(e,n)&&__(t,n,e[n]);if(Ri)for(var n of Ri(e))C_.call(e,n)&&__(t,n,e[n]);return t},A2=(t,e)=>T2(t,F2(e)),x_=(t,e)=>{var n={};for(var r in t)y_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ri)for(var r of Ri(t))e.indexOf(r)<0&&C_.call(t,r)&&(n[r]=t[r]);return n};const S_=(0,a.forwardRef)(({children:t},e)=>{const n=Lc(),{isHover:r}=n,o=x_(n,["isHover"]);return(0,s.jsx)(vl.ZP,A2(w_({ref:e},o),{noDefaultStyles:!0,noScrollX:!0,maximalThumbSize:50,trackYProps:{style:{justifyContent:"center"}},thumbYProps:{renderer:l=>{const i=l,{elementRef:c}=i,d=x_(i,["elementRef"]);return(0,s.jsx)(d2,w_({hide:!r,ref:c},d))}},children:t}))});S_.displayName="Scrollbar";var P_=S_;const B2=({children:t,style:e,onClick:n,onClickOutside:r})=>{const o=(0,a.useRef)(null),l=(0,a.useRef)(null),i=()=>{o.current&&l.current&&(l.current.style.height=o.current.offsetHeight+"px")};(0,a.useEffect)(()=>{if(l.current&&o.current){const d=new ResizeObserver(i);return d.observe(o.current),()=>{o.current&&d.unobserve(o.current)}}},[]);const c=document.getElementById("menu-list");return c&&(0,bo.createPortal)((0,s.jsx)(go,{onClickOutside:r,children:(0,s.jsx)(n2,{onClick:n,ref:l,style:e,children:(0,s.jsx)(P_,{children:(0,s.jsx)(r2,{ref:o,children:t})})})}),c)};var $2=(0,a.memo)(B2),z2=({children:t,onClick:e,iconName:n,hasChildren:r,title:o,isSelected:l,isDisabled:i,id:c})=>{const{handleCloseChildren:d,showChildren:u,setupChildrenPosition:m,childrenFloatingStyle:f,handleClick:p}=j2(r,e,i),v=(u||l)&&!i;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Rd,{ref:m,onClick:p,icon:{name:n!=null?n:"",color:{default:v?"sidebar-icon-active":"sidebar-icon-default",hover:"sidebar-icon-hover"}},bg:{color:{default:v?"sidebar-background-active":"sidebar-background-default",hover:"sidebar-background-hover"}},title:o,isDisabled:i,id:c}),u?(0,s.jsx)($2,{onClick:d,onClickOutside:d,style:f,children:t}):null]})},L2=({caption:t,depth:e})=>(0,s.jsx)(l2,{depth:e,title:t,children:t}),H2=Object.defineProperty,W2=Object.defineProperties,V2=Object.getOwnPropertyDescriptors,Di=Object.getOwnPropertySymbols,I_=Object.prototype.hasOwnProperty,O_=Object.prototype.propertyIsEnumerable,E_=(t,e,n)=>e in t?H2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U2=(t,e)=>{for(var n in e||(e={}))I_.call(e,n)&&E_(t,n,e[n]);if(Di)for(var n of Di(e))O_.call(e,n)&&E_(t,n,e[n]);return t},G2=(t,e)=>W2(t,V2(e)),Z2=(t,e)=>{var n={};for(var r in t)I_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Di)for(var r of Di(t))e.indexOf(r)<0&&O_.call(t,r)&&(n[r]=t[r]);return n};const K2=t=>{var e,n;const{depth:r,schema:o,children:l}=t,i=Lc(),{isHover:c}=i,d=Z2(i,["isHover"]),{isOpened:u,entities:m,toggleOpenedSubMenu:f,isOpenedSubMenu:p,isSelectedItem:v}=$a(),{isExcluded:g,isSeparator:b,iconName:h,hint:C,caption:_,renderStyle:O,isDisabled:M}=(0,a.useMemo)(()=>m[o.GUID],[m,o]),P=(0,a.useMemo)(()=>v(o.id),[v,o]),S=(O==null?void 0:O.isHelp)||(O==null?void 0:O.isNewAvailable),j=(0,a.useCallback)(x=>{var T;if((T=o.elements)!=null&&T.length&&(u||!u&&r)){Pt(x),f(o.GUID);return}h_(o.id)},[o.elements,u,f]),k=(0,a.useCallback)(x=>{c&&!M&&(Pt(x),h_(o.id,!0))},[o,c]),w=(0,a.useRef)(null);return g||!u&&b&&!r?null:b?(0,s.jsx)(L2,{caption:_,depth:r,"data-id":o.id},o.GUID):!u&&!r?(0,s.jsx)(z2,{onClick:j,iconName:h!=null?h:"bug",hasChildren:!!((e=o.elements)!=null&&e.length),title:C||_,isSelected:P,isDisabled:!!M,id:o.id,children:l},o.GUID):(0,s.jsxs)(t2,{children:[(0,s.jsxs)(a2,G2(U2({"data-testid":o.id,depth:u?r:r-1,onClick:j},d),{title:C||_,isSelected:P,ref:w,isDisabled:M,children:[(0,s.jsxs)(s2,{children:[h?(0,s.jsx)(Ct,{parentRef:w,name:h,size:16,color:I(P?"sidebar-icon-active":"sidebar-icon-default"),hoverColor:I("sidebar-icon-hover"),outerStyle:{width:16}}):null,(0,s.jsx)(i2,{depth:r,children:_})]}),(n=o.elements)!=null&&n.length?(0,s.jsx)(Ct,{parentRef:w,name:"arrow-down-s",type:"line",size:10,color:I("sidebar-icon-default"),hoverColor:M?I("sidebar-icon-hover"):"",outerStyle:{marginLeft:"10px",transition:"transform .3s ease",transform:p(o.GUID)?"rotate(-180deg)":""}}):S?(0,s.jsx)(Ct,{name:O!=null&&O.isNewAvailable?"add":"question",type:"line",size:13,color:I(M?"sidebar-icon-default":"sidebar-icon-hover"),onClick:k,outerStyle:{marginLeft:"10px",opacity:c?1:0}}):null]})),p(o.GUID)?l:null]},o.GUID)};var q2=(0,a.memo)(K2),Y2=Object.defineProperty,k_=Object.getOwnPropertySymbols,X2=Object.prototype.hasOwnProperty,J2=Object.prototype.propertyIsEnumerable,j_=(t,e,n)=>e in t?Y2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q2=(t,e)=>{for(var n in e||(e={}))X2.call(e,n)&&j_(t,n,e[n]);if(k_)for(var n of k_(e))J2.call(e,n)&&j_(t,n,e[n]);return t};const eH="side-bar__menu",tH=({schema:t})=>{const{menuScrollBarRef:e}=$a();return(0,s.jsx)(e2,{children:(0,s.jsx)(P_,{ref:e,children:(0,s.jsx)(Is,{schema:t,testId:eH,renderElement:n=>(0,s.jsx)(q2,Q2({},n),n.schema.GUID)})})})};var nH=(0,a.memo)(tH);const R_=(0,a.createContext)({getCaption:()=>null,schema:[],leftBarHide:!1,togglePanel:()=>{}}),rH=R_.Provider,oH=()=>(0,a.useContext)(R_),lH=(t,e)=>{const n=r=>{var o,l;return(l=(o=t[r])==null?void 0:o.caption)!=null?l:null};return{schema:e!=null?e:[],getCaption:n}},D_=(t,e,n,r=[],o=[])=>{const l=[];return t.forEach(i=>{const{elements:c,GUID:d,id:u}=i,m=n(d);Zl(c)?l.push(...D_(c,e,n,m?[...r,m]:r,[...o,{id:u,GUID:d}])):m&&m.toLowerCase().trim().includes(e.toLowerCase().trim())&&l.push({id:u,caption:m,pathCaptions:r,pathIds:o})}),l},aH=()=>{const[t,e]=(0,a.useState)(""),[n,r]=(0,a.useState)(!1),{scrollToItem:o}=$a(),l=t!=="",{getCaption:i,schema:c,leftBarHide:d,togglePanel:u}=oH(),{addOpenedSubMenuIds:m}=$a(),f=()=>r(!0),p=()=>r(!1),v=()=>e(""),g=()=>t,b=O=>{e(O.target.value)},h=vd()(b,200),C=(0,a.useMemo)(()=>D_(c,t,i),[t,c]);return{hasSearchValue:l,debounceHandleInputChange:h,clearSearchValue:v,getSearchValue:g,handleInputChange:b,resultItems:C,handleResultItemClick:(O,M,P=!0)=>{var S;const j=[...O];!d&&j.length&&u((S=j.shift())==null?void 0:S.GUID),j.length&&m(j.map(w=>w.GUID));const k=M||j[j.length-1].id;M&&(Ge.saveSelectedMainMenuItemId(M),P&&Ge.onMainMenuCommandSend({id:M,controlId:"mainMenu"})),o(k),p()},isOpenResults:n,showResults:f,closeResults:p}},N_=t=>t.toLowerCase().trim();var sH=({items:t,searchValue:e,onItemClick:n})=>(0,s.jsx)(h2,{children:t.length?t.map(r=>{const{caption:o}=r,l=N_(o).indexOf(N_(e)),i=l+e.length,c=u=>{u.preventDefault(),n(r.pathIds,r.id)},d=u=>{u.preventDefault(),n(r.pathIds,r.id,!1)};return(0,s.jsxs)(g2,{children:[(0,s.jsx)(f_,{onClick:c,children:l<0?o:(0,s.jsxs)(s.Fragment,{children:[o.substring(0,l),(0,s.jsx)(y2,{children:o.substring(l,i)}),o.substring(i)]})}),(0,s.jsx)(b2,{onClick:d,children:r.pathCaptions.join(" - ")})]},r.id)}):(0,s.jsx)(f_,{style:{cursor:"default"},children:"\u041D\u0435\u0442 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432"})}),iH=Object.defineProperty,M_=Object.getOwnPropertySymbols,cH=Object.prototype.hasOwnProperty,uH=Object.prototype.propertyIsEnumerable,T_=(t,e,n)=>e in t?iH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dH=(t,e)=>{for(var n in e||(e={}))cH.call(e,n)&&T_(t,n,e[n]);if(M_)for(var n of M_(e))uH.call(e,n)&&T_(t,n,e[n]);return t},fH=()=>{const{hasSearchValue:t,clearSearchValue:e,getSearchValue:n,handleInputChange:r,resultItems:o,handleResultItemClick:l,isOpenResults:i,showResults:c,closeResults:d}=aH();return(0,s.jsx)(go,{onClickOutside:d,children:(0,s.jsxs)(m2,{children:[(0,s.jsx)(v2,{placeholder:"\u041F\u043E\u0438\u0441\u043A",value:n(),onChange:r,onFocus:c}),(0,s.jsx)(Ct,dH({name:t?"close":"search",size:16,color:I("sidebar-search-icon-default"),type:"line",outerStyle:{cursor:"pointer"}},t?{onClick:e}:{})),t&&i?(0,s.jsx)(sH,{items:o,searchValue:n(),onItemClick:l}):null]})})};const pH="ri-layout-right-line ri-fw",mH="SidebarSearchIcon",vH="SidebarToggleOpenButton",hH=({menuSchema:t,turboVersion:e,leftBarHide:n})=>{const{isOpened:r,currentPanelName:o}=$a(),{emitToggleMenu:l}=O2(r);return(0,s.jsxs)(JL,{isOpened:r,leftBarHide:n,children:[(0,s.jsx)(QL,{className:pH,isOpened:r,onClick:l,"data-testid":vH}),(0,s.jsx)(p2,{isOpened:r,children:r?(0,s.jsx)(fH,{}):(0,s.jsx)(Rd,{onClick:l,icon:{name:"search",color:{default:"sidebar-search-icon-search-default",hover:"sidebar-search-icon-search-hover"}},bg:{color:{default:"sidebar-background-default",hover:"sidebar-background-hover"}},testId:mH})}),n?null:(0,s.jsx)(o2,{children:o&&r?o:null}),t?(0,s.jsx)(nH,{schema:t}):null,(0,s.jsx)(c2,{isOpened:r,children:e})]})};var gH=(0,a.memo)(hH);const bH=({appLogo:t,appLogoSmall:e,isOpened:n,leftBarHide:r,onLogoClick:o})=>{const l=(0,a.useMemo)(()=>(n?t:e)||"",[n,e,t]),i=(0,a.useCallback)(()=>{o&&o({id:"0"})},[o]);return(0,s.jsx)(f2,{leftBarHide:r,isOpened:n,onClick:i,children:(0,s.jsx)("img",{src:on(l),alt:"Logo"})})},yH=({mainAppParams:{app:{appLogo:t,appLogoSmall:e},menu:{isOpened:n}}})=>({appLogo:t,appLogoSmall:e,isOpened:n});var CH=(0,st.$j)(yH)(bH),_H=Object.defineProperty,wH=Object.defineProperties,xH=Object.getOwnPropertyDescriptors,F_=Object.getOwnPropertySymbols,SH=Object.prototype.hasOwnProperty,PH=Object.prototype.propertyIsEnumerable,A_=(t,e,n)=>e in t?_H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IH=(t,e)=>{for(var n in e||(e={}))SH.call(e,n)&&A_(t,n,e[n]);if(F_)for(var n of F_(e))PH.call(e,n)&&A_(t,n,e[n]);return t},OH=(t,e)=>wH(t,xH(e));const EH="side-bar",kH=({isOpened:t,turboVersion:e,entities:n={},testId:r=EH,className:o,schema:l,leftBarHide:i,onLogoClick:c,selectedItemId:d})=>{const{menuSchema:u,leftBarHide:m,togglePanel:f,isActivePanel:p,activePanelGuid:v}=k2(l,i),g=E2(n,t,d,v),b=lH(n,l);return Zl(l)?(0,s.jsx)(rH,{value:OH(IH({},b),{leftBarHide:m,togglePanel:f}),children:(0,s.jsx)(g_.Provider,{value:g,children:(0,s.jsxs)(u_,{className:o,"data-testid":r,withLeftBar:!m,children:[(0,s.jsx)(CH,{leftBarHide:m,onLogoClick:c}),m?null:(0,s.jsx)(XL,{children:l.map(h=>(0,s.jsx)(N2,{isActive:p(h.GUID),onClick:()=>f(h.GUID),iconName:n[h.GUID].iconName,isDisabled:n[h.GUID].isDisabled,testId:h.id,title:n[h.GUID].caption},h.GUID))}),(0,s.jsx)(gH,{menuSchema:u,turboVersion:e,leftBarHide:m})]})})}):null},jH=({mainAppParams:{menu:{isOpened:t,leftBarHide:e,schema:n,entities:r,selectedItemId:o},version:l}})=>({isOpened:t,turboVersion:l,leftBarHide:!!e,schema:n,entities:r,selectedItemId:o});var RH=(0,st.$j)(jH)(kH);const DH=z.ZP.div`
  background: ${()=>I("toolbar-background-default")};
  display: flex;
  align-items: stretch;
  padding: 0 16px;
  & .list-button {
    display: flex;
    align-items: center;
    padding: 8px;
    &:hover {
      background: ${()=>I("toolbar-background-hover")};
    }
    
    button {
      width: 24px;
      min-width: 24px;
      max-width: 24px;
      height: 24px;
      background: transparent;
      border: none;
      filter: invert(100%);
      
    }
  }
`,NH=z.ZP.div`
  display: flex;
  align-items: center;
  padding: 8px;
  cursor: pointer;
  &:hover, &.clicked {
    background: ${()=>I("toolbar-background-hover")};
  }
`;var B_=({iconName:t,title:e,name:n,onClick:r,className:o})=>{const l=(0,a.useRef)(null);return(0,s.jsx)(NH,{ref:l,onClick:()=>r(n),title:e,"data-testid":"toolbarButton_"+n,className:o,children:(0,s.jsx)(Ct,{name:t,color:I("toolbar-icon-default"),hoverColor:I("toolbar-icon-hover"),size:24,parentRef:l})})};const MH=24;var TH=Object.defineProperty,$_=Object.getOwnPropertySymbols,FH=Object.prototype.hasOwnProperty,AH=Object.prototype.propertyIsEnumerable,z_=(t,e,n)=>e in t?TH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BH=(t,e)=>{for(var n in e||(e={}))FH.call(e,n)&&z_(t,n,e[n]);if($_)for(var n of $_(e))AH.call(e,n)&&z_(t,n,e[n]);return t},$H=({iconName:t,getEntity:e,name:n,elements:r,onClick:o})=>(0,s.jsx)(xl,{name:n,testId:n,iconName:t,iconSize:MH,children:r.map(l=>{const{type:i,name:c}=l,d=e(i,c);return(0,s.jsx)(Gt,BH({onClick:()=>o(c)},d),c)})},n);const zH=({schema:t,entities:e,isOpenedMenu:n})=>{const r=(i,c)=>{var d;return(d=e[i][c])!=null?d:{}},o=i=>{i&&Ge.onToolbarCommandSend&&Ge.onToolbarCommandSend({id:i,mode:"toolbarClick",controlId:"toolBar"})},l=()=>{Ge.onMainMenuOpen&&Ge.onMainMenuOpen(!n)};return!t.length&&(0,$t.isEmpty)(e)?null:(0,s.jsxs)(DH,{children:[(0,s.jsx)(B_,{title:n?"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E":"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E",name:"burger",iconName:"menu",onClick:l,className:n?"clicked":""}),t.map(i=>{const{type:c,name:d,elements:u}=i,{caption:m,iconName:f}=r(c,d);return c==="button"?(0,s.jsx)(B_,{name:d,title:m,iconName:f,onClick:o},d):c==="listButton"&&u&&u.length?(0,s.jsx)($H,{name:d,iconName:f,elements:u,getEntity:r,onClick:o},d):null})]})},LH=({mainAppParams:{menu:{isOpened:t}}})=>({isOpenedMenu:t});var HH=(0,st.$j)(LH)(zH),WH=Object.defineProperty,VH=Object.defineProperties,UH=Object.getOwnPropertyDescriptors,L_=Object.getOwnPropertySymbols,GH=Object.prototype.hasOwnProperty,ZH=Object.prototype.propertyIsEnumerable,H_=(t,e,n)=>e in t?WH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ni=(t,e)=>{for(var n in e||(e={}))GH.call(e,n)&&H_(t,n,e[n]);if(L_)for(var n of L_(e))ZH.call(e,n)&&H_(t,n,e[n]);return t},W_=(t,e)=>VH(t,UH(e));const Yo="base-layout";function KH(t){const{className:e,isMainMenuPinned:n,isMainMenuOpened:r,isMainMenuExcluded:o,webUiLanguage:l,forms:i,uploadForm:c,colorPickerForm:d,activeFormStackId:u,toolbarData:m,userName:f,roleName:p,version:v}=t,g=[],b=[],h=o_();for(const D in i)if(Ae(i,D)){const H=i[D];switch(H.openMode){case"modal":g.unshift(H);break;default:b.push(H);break}}const C=g[0],_=(0,st.v9)(At),O=(0,st.v9)(n_),M=(0,a.useCallback)(D=>{vs(D)&&dm(D)&&h(Dc({commandName:"Calculator",controlId:"toolBar",id:"Calculator"}))},[]),P=(0,a.useCallback)(()=>{var D,H;_||(D=Ge)!=null&&D.onMainMenuOpen&&!n&&r&&((H=Ge)==null||H.onMainMenuOpen(!1))},[n,r,_]),S=(0,a.useCallback)(D=>{var H,E;const{id:R,close:L}=D;L?(E=Ge)==null||E.onFormStackClose({formId:R}):(H=Ge)==null||H.onFormStackActive({formId:R})},[]),j=(0,a.useCallback)(({value:D})=>{var H;const{formId:E}=c;(H=Ge)==null||H.onUploadApprove({formId:E,fileList:D})},[c]),k=(0,a.useCallback)(({value:D})=>{var H;const{formId:E}=c;(H=Ge)==null||H.onUploadAbort({formId:E,fileList:D})},[c]),w=(0,a.useCallback)(({value:D,metaSet:H})=>{var E;const{formId:R}=H;(E=Ge)==null||E.onChooseColorApprove({formId:R,value:D})},[]),x=(0,a.useCallback)(({metaSet:D})=>{var H;const{formId:E}=D;(H=Ge)==null||H.onChooseColorAbort({formId:E})},[]),T=(0,a.useCallback)(({value:D,metaSet:{formId:H,controlId:E}})=>{var R;(R=Ge)==null||R.onClientError({message:D,formId:H,controlId:E})},[]),A=(0,a.useCallback)(({value:D})=>{var H;(H=Ge)==null||H.onModalFormClose({formId:D})},[]),B=be()(e,Yo),Z=be()(`${Yo}__main-menu-wrapper`,{excluded:!r&&!_}),V=be()(`${Yo}__side-bar`,{themed:!!_});return(0,s.jsxs)("div",{className:B,tabIndex:-1,onKeyDown:M,children:[(0,s.jsx)("div",{className:`${Yo}__top-area`,children:O?_&&!(0,$t.isEmpty)(_)?(0,s.jsx)(HH,Ni({},m)):(0,s.jsx)(ck,{isMainMenuOpen:r,isMainMenuExcluded:o,toolbarData:m,userName:f,roleName:p,version:v}):null}),(0,s.jsxs)("div",{className:`${Yo}__main-area`,children:[(0,s.jsx)("div",{className:V,children:(0,s.jsx)(go,{className:Z,eventTypes:["click","touchend"],onClickOutside:P,outsideClickIgnoreClass:"header__main-menu-button",children:_?(0,s.jsx)(RH,{onLogoClick:S}):(0,s.jsx)(pE,{testId:"main-menu"})})}),(0,s.jsx)("div",{className:`${Yo}__desc-top`,children:(0,s.jsx)(EL,{className:`${Yo}__form-stack`,activeFormStackId:u,forms:b,onFormStackClick:S,webUiLanguage:l,userName:f,roleName:p,version:v})})]}),C&&(0,s.jsx)(AL,{onClose:A,caption:C==null?void 0:C.formName,icon:C==null?void 0:C.formIcon,id:C==null?void 0:C.formId,style:C==null?void 0:C.style,winCanResize:C==null?void 0:C.winCanResize,children:(0,s.jsx)(Pd,Ni({},C))}),c&&(0,s.jsx)(zL,W_(Ni({},c),{onUploadApprove:j,onUploadAbort:k})),d&&(0,s.jsx)(qL,W_(Ni({},d),{onApprove:w,onAbort:x,onError:T}))]})}var qH=(0,a.memo)(KH);function Dd(t){return t.formStackQueue.length?t.formStackQueue[0]:null}const YH="workspace-page";function XH(t){const{isMainMenuPinned:e,isMainMenuOpened:n,isMainMenuExcluded:r,webUiLanguage:o,forms:l,uploadForm:i,colorPickerForm:c,activeFormStackId:d,toolbarData:u,userName:m,roleName:f,version:p,initAppState:v,getForm:g,isFirstRender:b,workspaceSetFirstRender:h}=t,{formType:C,recordId:_}=(0,an.UO)(),{search:O}=(0,an.TH)(),M=(0,an.s0)();return(0,a.useEffect)(()=>{uc()||dc(m),window.onstorage=function(P){if(P.newValue==="test")return;let S;try{switch(S=JSON.parse(P.newValue),P.key){case Ro.URL_PARAMS:if(uc()===m){const{formType:j,recordId:k,search:w}=S;let x=[];j&&(x.push(j),k&&x.push(k),M("/workspace/"+x.join("/")+w),mS(),alert("\u0421\u0441\u044B\u043B\u043A\u0430 \u043E\u0442\u043A\u0440\u044B\u0442\u0430"))}break;case Ro.AUTHORIZED:S||dc(m);break;default:break}}catch(j){return!1}}},[]),(0,a.useEffect)(()=>{let P;C&&(P={formType:C},_&&(P.recordId=_),O&&(P.params=O.slice(1))),b?(h(!1),v(P)):P&&g(P)},[C,_,O]),(0,s.jsx)(qH,{className:YH,isMainMenuPinned:e,isMainMenuOpened:n,isMainMenuExcluded:r,webUiLanguage:o,forms:l,uploadForm:i,colorPickerForm:c,activeFormStackId:d,toolbarData:u,userName:m,roleName:f,version:p})}function JH(t){const{authorize:e,mainAppParams:n,forms:r,uploadForm:o,colorPickerForm:l}=t,{version:i,languages:{webUiLanguage:c},toolbar:d,menu:{isOpened:u,isPinned:m,schema:f},workspace:{isFirstRender:p}}=n;return{userName:e.userName,roleName:e.roleName,version:i,webUiLanguage:c,isMainMenuPinned:m,isMainMenuOpened:u,isMainMenuExcluded:!(f!=null&&f.length),toolbarData:d,activeFormStackId:Dd(t),forms:r,uploadForm:o,colorPickerForm:l,isFirstRender:p}}var Nd=(0,st.$j)(JH,{initAppState:bc,getForm:Kf,workspaceSetFirstRender:fp})((0,a.memo)(XH)),x6={popperIconSize:"18px",primaryColor:"#0bd688"};const Yt="login-layout",V_=t=>{const{webUiLanguage:e,setLanguagesRequest:n,className:r,serverLanguages:o,isSessionExist:l,isError:i,errorMessage:c,isDisabled:d,onLoginFocus:u,onLoginChange:m,onPasswordChange:f,onLoginSelect:p,onSubmit:v,loginValue:g,passwordValue:b,metaSet:h,events:C,loginList:_,version:O,onSso:M}=t,[P,S]=(0,a.useState)(!1),[j,k]=(0,a.useState)(""),w=(0,a.useRef)(null),x=(0,a.useRef)(null),T=be()(r,Yt),A=(0,a.useCallback)(({value:q})=>S(q),[]),B=(0,a.useCallback)(({event:q})=>{if(d)return;const W={user:Ps((w.current.innerText||w.current.value||"").trim()),password:Ps(x.current.innerText||x.current.value||""),forceLogin:P,language:e,obf:!0};let G=!0;if(v&&(G=v({event:q,metaSet:h,value:W})),G&&(C!=null&&C.onSubmit)){const{alias:J,args:oe}=C.onSubmit;G=ve[J]({event:q,metaSet:h,args:oe,value:W})}return G},[P,e,h,v,C,d]),Z=(0,a.useCallback)(()=>{M&&M({forceLogin:P})},[M,P]),V=q=>q.icon?(0,s.jsx)("img",{className:`${Yt}__language-container-icon`,title:q.name,src:on(q.icon),alt:q.name}):"",D=(0,a.useCallback)(q=>{const W=q.currentTarget.dataset.lngCode;n({webUiLanguage:W.toLowerCase()})},[n]),H=(q,W)=>{const G=`${Yt}__language-container-code`,J=q?q.map(oe=>(0,s.jsxs)("div",{onClick:D,className:`${Yt}__language-container`,"data-lng-code":oe.code,children:[(0,s.jsx)("button",{className:be()(G,{[`${G}_active`]:W===oe.code.toLowerCase()}),children:oe.code.toUpperCase()}),V(oe)]},"language-container-code"+oe.code)):"";return(0,s.jsx)("div",{className:`${Yt}__language`,children:J})},E=(0,a.useCallback)(({event:q})=>{if(d)return;const{value:W}=q.currentTarget;let G=!0;if(u&&(G=u({event:q,metaSet:h,value:W})),G&&(C!=null&&C.onLoginFocus)){const{alias:J,args:oe}=C.onLoginFocus;G=ve[J]({event:q,metaSet:h,args:oe,value:W})}return G},[d,h,C,u]),R=(0,a.useCallback)(({event:q,value:{root:W}})=>{if(d)return;let G=!0;if(p&&(G=p({event:q,metaSet:h,value:W})),G&&(C!=null&&C.onLoginSelect)){const{alias:J,args:oe}=C.onLoginSelect;G=ve[J]({event:q,metaSet:h,args:oe,value:W})}return G},[d,h,C,p]),L=(0,a.useCallback)(({event:q,value:W})=>{if(k("user"),d)return;let G=!0;if(m&&(G=m({event:q,metaSet:h,value:W})),G&&(C!=null&&C.onLoginChange)){const{alias:J,args:oe}=C.onLoginChange;G=ve[J]({event:q,metaSet:h,args:oe,value:W})}return G},[d,h,C,m]),U=(0,a.useCallback)(({event:q,value:W})=>{if(k("password"),d)return;let G=!0;if(f&&(G=f({event:q,metaSet:h,value:W})),G&&(C!=null&&C.onPasswordChange)){const{alias:J,args:oe}=C.onPasswordChange;G=ve[J]({event:q,metaSet:h,args:oe,value:W})}return G},[d,h,C,f]);return(0,s.jsxs)("div",{className:T,children:[H(o,e),(0,s.jsxs)("div",{className:`${Yt}__form`,children:[(0,s.jsx)("div",{className:be()(`${Yt}__logo`,{[`${Yt}__logo_ru`]:e==="ru",[`${Yt}__logo_en`]:e==="en"})}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{className:`${Yt}__input-container`,children:[(0,s.jsx)("label",{className:`${Yt}__label`,children:lt.t("login_username")}),(0,s.jsx)(zn,{name:"username",focusedElement:w,className:`${Yt}__input`,isAutocomplete:!0,listValues:_,onFocus:E,onSelect:R,hasActiveMode:!1,isNameField:!0,isControlledValue:!0,value:g,onChange:L,currentFieldName:j,onEnter:B,testId:"user",metaSet:{stayOnEditableMode:!0}})]}),(0,s.jsxs)("div",{className:`${Yt}__input-container`,children:[(0,s.jsx)("label",{className:`${Yt}__label`,children:lt.t("login_password")}),(0,s.jsx)(zn,{focusedElement:x,className:`${Yt}__input`,isPassword:!0,testId:"password",onEnter:B,isControlledValue:!0,hasActiveMode:!1,onChange:U,currentFieldName:j,value:b})]}),l?(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:`${Yt}__force-login-container`,children:[(0,s.jsx)(Go,{onChange:A,value:P,className:`${Yt}__force-login-checkbox`}),(0,s.jsx)("div",{className:`${Yt}__force-login-caption`,children:lt.t("login_disable")})]})}):"",(0,s.jsxs)("div",{className:`${Yt}__button-container`,children:[(0,s.jsx)(Gt,{onClick:B,className:`${Yt}__login-button ${Yt}__login-button_default`,caption:lt.t("login_enter")}),(0,s.jsx)(Gt,{onClick:Z,className:`${Yt}__login-button ${Yt}__login-button_sso`,caption:lt.t("login_enter_sso")})]})]}),i?(0,s.jsxs)("div",{className:`${Yt}__error`,children:[(0,s.jsx)(Cn(),{name:"exclamation-triangle",className:`${Yt}__error-icon`}),c?(0,cr.ZP)(c):lt.t("login_session_exist")]}):""]}),O&&(0,s.jsx)("div",{className:`${Yt}__version`,children:O})]})};V_.defaultProps={isDisabled:!1};var QH=V_,S6={popperIconSize:"18px",primaryColor:"#0bd688"},eW=Object.defineProperty,U_=Object.getOwnPropertySymbols,tW=Object.prototype.hasOwnProperty,nW=Object.prototype.propertyIsEnumerable,G_=(t,e,n)=>e in t?eW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rW=(t,e)=>{for(var n in e||(e={}))tW.call(e,n)&&G_(t,n,e[n]);if(U_)for(var n of U_(e))nW.call(e,n)&&G_(t,n,e[n]);return t};const oW="login-page";function lW(t){const{version:e,serverLanguages:n,webUiLanguage:r,isSessionExist:o,isError:l,errorMessage:i,loginRequest:c,setLanguagesRequest:d,addClientError:u}=t,{formType:m,recordId:f}=(0,an.UO)(),{search:p}=(0,an.TH)(),v=(0,an.s0)();(0,a.useEffect)(()=>{dc(!1),window.onstorage=x=>{x.key===Ro.AUTHORIZED&&m&&JSON.parse(x.newValue)&&confirm(`\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0432\u043E \u0432\u043A\u043B\u0430\u0434\u043A\u0435 \u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u043C ${uc()}?`)&&(vS({formType:m,recordId:f,search:p}),alert("\u041C\u043E\u0436\u0435\u0442\u0435 \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0432\u043A\u043B\u0430\u0434\u043A\u0443"),v("/login"))}},[]);const[g,b]=(0,a.useState)([]),[h,C]=(0,a.useState)(""),[_,O]=(0,a.useState)(""),M=(0,a.useCallback)(()=>{const x=df();return b(x),!0},[]),P=(0,a.useCallback)(({value:x})=>(C(x),!1),[]),S=(0,a.useCallback)(({value:x})=>{C(x);const A=df().filter(({value:B})=>x===B.slice(0,x.length));return b(A),!0},[]),j=(0,a.useCallback)(({value:x})=>{O(x)},[]),k=(0,a.useCallback)(({value:x})=>x.user===""?(u({message:"error_invalid_username_password"}),!1):(c(x),!0),[c]),w=(0,a.useCallback)(x=>{c(rW({sso:!0},x))},[c]);return(0,s.jsx)(QH,{className:oW,serverLanguages:n,webUiLanguage:r,isSessionExist:o,isError:l,errorMessage:i,loginRequest:c,setLanguagesRequest:d,version:e,onSubmit:k,onLoginFocus:M,onLoginSelect:P,onLoginChange:S,onPasswordChange:j,onSso:w,loginList:g,loginValue:h,passwordValue:_})}function aW({authorize:t,mainAppParams:e}){const{version:n,languages:{serverLanguages:r,webUiLanguage:o}}=e,{isSessionExist:l,isError:i,errorMessage:c}=t;return{version:n,serverLanguages:r,webUiLanguage:o,isSessionExist:l,isError:i,errorMessage:c}}var Md=(0,st.$j)(aW,{loginRequest:Pp,setLanguagesRequest:Mc,addClientError:is})((0,a.memo)(lW)),sW=He(23493),iW=He.n(sW),P6={popperIconSize:"18px",primaryColor:"#0bd688"};const Z_="sc-",cW=z.vJ`
  *[class^='${Z_}'], *[class*=' ${Z_}'] {
    font-family: Ubuntu;
  }
`,uW=()=>{const t=(0,st.v9)(e=>e.authorize.clientMaxIdlePeriod);(0,a.useEffect)(()=>(Ho(window,Fo.getEvents()),()=>Wo(window,Fo.getEvents())),[]),(0,a.useEffect)(()=>{t?(Fo.setTime(t),Fo.start()):Fo.stop()},[t]),(0,a.useEffect)(()=>{var e;(e=Ge)!=null&&e.onLogOut&&Fo.whenTimeEnds(Ge.onLogOut)},[Ge.onLogOut])};function dW(t){const{isUserIntoTab:e,modalPopUp:n,removeModalPopUp:r,setPageZoom:o,appIcon:l,palette:i}=t,c=(0,a.useCallback)(iW()(o,500,{trailing:!0}),[o]),{pageZoom:d}=(0,st.v9)(f=>f.mainAppParams);uW(),(0,a.useEffect)(()=>{co(l?on(l):Rs);const f=()=>{document.activeElement.blur()};return Ho([window],{blur:f}),()=>{Wo([window],{blur:f})}},[]),(0,hE.usePinch)(f=>{const p=f.offset[0];if(d===p)return null;p<1?(c(p),document.body.style.touchAction="none",document.body.style.height=`${100/p}%`,document.body.style.width=`${100/p}%`,document.body.style.scale=p):d!==1&&(c(1),document.body.style.touchAction=null,document.body.style.height=null,document.body.style.width=null,document.body.style.scale=null)},{scaleBounds:{min:.25,max:1},pinchOnWheel:!1,target:document.body});const u=(0,a.useCallback)(({id:f})=>{const p=new Event("focus");r({id:f});const{formId:v,controlId:g,rowId:b,rowControlId:h,tableControlId:C}=(n==null?void 0:n[f])||{};if(v&&g){const _=cf({rowId:b,rowControlId:h,tableControlId:C,controlId:g,formId:v});_&&_.dispatchEvent(p)}},[r,n]);if(!Ka())return(0,s.jsx)(PE,{});let m=null;return e?m=(0,s.jsxs)(an.Z5,{children:[(0,s.jsx)(an.AW,{path:"/login/:formType/:recordId",element:(0,s.jsx)(Co,{to:"/workspace/:formType/:recordId"})}),(0,s.jsx)(an.AW,{path:"/login/:formType",element:(0,s.jsx)(Co,{to:"/workspace/:formType"})}),(0,s.jsx)(an.AW,{path:"/login",element:(0,s.jsx)(Co,{to:"/workspace"})}),(0,s.jsx)(an.AW,{path:"/",element:(0,s.jsx)(Co,{to:"/workspace"})}),(0,s.jsx)(an.AW,{path:"/workspace/:formType/:recordId",element:(0,s.jsx)(Nd,{})}),(0,s.jsx)(an.AW,{path:"/workspace/:formType",element:(0,s.jsx)(Nd,{})}),(0,s.jsx)(an.AW,{path:"/workspace",element:(0,s.jsx)(Nd,{})})]}):m=(0,s.jsxs)(an.Z5,{children:[(0,s.jsx)(an.AW,{path:"/workspace/:formType/:recordId",element:(0,s.jsx)(Co,{to:"/login/:formType/:recordId"})}),(0,s.jsx)(an.AW,{path:"/workspace/:formType",element:(0,s.jsx)(Co,{to:"/login/:formType"})}),(0,s.jsx)(an.AW,{path:"/workspace",element:(0,s.jsx)(Co,{to:"/login"})}),(0,s.jsx)(an.AW,{path:"/",element:(0,s.jsx)(Co,{to:"/login"})}),(0,s.jsx)(an.AW,{path:"/login/:formType/:recordId",element:(0,s.jsx)(Md,{})}),(0,s.jsx)(an.AW,{path:"/login/:formType",element:(0,s.jsx)(Md,{})}),(0,s.jsx)(an.AW,{path:"/login",element:(0,s.jsx)(Md,{})})]}),(0,s.jsxs)(z.f6,{theme:i,children:[(0,s.jsx)(cW,{}),(0,s.jsx)(EE,{}),(0,s.jsx)(HE,{modalPopUp:n,onPopUpClose:u}),(0,s.jsx)(NE,{}),m]})}function fW(t){var e;const{mainAppParams:{app:{appIcon:n,appSkin:r}},authorize:{isUserIntoTab:o},modalPopUp:l}=t,i=(e=r==null?void 0:r.colors.palette)!=null?e:{};return{isUserIntoTab:o,modalPopUp:l,appIcon:n,palette:i}}var pW=(0,st.$j)(fW,{removeModalPopUp:np,setPageZoom:pp})(dW),te=He(34857);function K_(t){return t.authorize}var mW=Object.defineProperty,vW=Object.defineProperties,hW=Object.getOwnPropertyDescriptors,Mi=Object.getOwnPropertySymbols,q_=Object.prototype.hasOwnProperty,Y_=Object.prototype.propertyIsEnumerable,X_=(t,e,n)=>e in t?mW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gW=(t,e)=>{for(var n in e||(e={}))q_.call(e,n)&&X_(t,n,e[n]);if(Mi)for(var n of Mi(e))Y_.call(e,n)&&X_(t,n,e[n]);return t},bW=(t,e)=>vW(t,hW(e)),yW=(t,e)=>{var n={};for(var r in t)q_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Mi)for(var r of Mi(t))e.indexOf(r)<0&&Y_.call(t,r)&&(n[r]=t[r]);return n};function Td(t){const e={schema:[],entities:{}};Ae(t,"ShowAppToolbar")&&(e.showAppToolbar=t.ShowAppToolbar);function n(r){return r==null?void 0:r.map(o=>{const l=o,{type:i,name:c,elements:d}=l,u=yW(l,["type","name","elements"]),m={type:i,name:c};return e.entities[i]||(e.entities[i]={}),e.entities[i][c]=bW(gW({},u),{name:c,type:i}),d!=null&&d.length&&(m.elements=n(o.elements)),m})}return e.schema=n(t.elements),e}var CW=He(30236),Fd=He.n(CW),_W=He(82492),J_=He.n(_W),wW=Object.defineProperty,Ti=Object.getOwnPropertySymbols,Q_=Object.prototype.hasOwnProperty,ew=Object.prototype.propertyIsEnumerable,tw=(t,e,n)=>e in t?wW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jr=(t,e)=>{for(var n in e||(e={}))Q_.call(e,n)&&tw(t,n,e[n]);if(Ti)for(var n of Ti(e))ew.call(e,n)&&tw(t,n,e[n]);return t},Fi=(t,e)=>{var n={};for(var r in t)Q_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ti)for(var r of Ti(t))e.indexOf(r)<0&&ew.call(t,r)&&(n[r]=t[r]);return n};function xW({source:t,expandedNodeId:e,insert:n}){var r;if(!t)return n;const o=No({source:t,iterationKey:"children",searchValue:e,searchKey:"nodeId"});if(!o||!n)return t;if((r=o.children)!=null&&r.length){let l=[...Do(n)];const i=o.children.map(function(c){const d=l.find(m=>m.nodeId===c.nodeId);let u;if(d){const m=d,{GUID:f}=m,p=Fi(m,["GUID"]);u=jr(jr({},c),p),l=l.filter(v=>v.nodeId!==d.nodeId)}return u});o.children=[...i,...l]}else o.children=Do(n);return t}function SW(...t){if(t.length===0)return null;if(t.length===1)return t[0];const[e,...n]=t;let r=e;return n.forEach(function(o){const{expandedNodeId:l,currentNodeId:i,forceUpdate:c}=o;i&&(r.currentNodeId=i),c&&(r.nodes=o.nodes),l&&!c&&(r.nodes=xW({source:r.nodes,expandedNodeId:l,insert:o.nodes}),delete o.nodes),o.updates&&(o.updates.forEach(d=>{const u=No({source:r.nodes,iterationKey:"children",searchValue:d.nodeId,searchKey:"nodeId"});u&&Object.assign(u,d)}),delete o.updates),r=J_()(r,o)}),r}function PW(...t){if(t.length===0)return null;if(t.length===1){const o=t[0];return delete o.needForceUpdate,delete o.expandedNodeId,o}let[e,...n]=t,r=e;return n.forEach(function(o){const l=o,{expandedNodeId:i,currentNodeId:c,entities:d,bindings:u,openNodesIds:m,needForceUpdate:f}=l,p=Fi(l,["expandedNodeId","currentNodeId","entities","bindings","openNodesIds","needForceUpdate"]);if(f){r=o,delete r.needForceUpdate,delete r.expandedNodeId;return}c&&(r.currentNodeId=c),i?o.schema?(r.entities=jr(jr({},r.entities),o.entities),r.bindings=jr(jr({},r.bindings),o.bindings),r.openNodesIds=[...Array.from(new Set([...r.openNodesIds||[],...o.openNodesIds||[],i]))]):r.entities[i].isExpansible=!1:(r.schema=jr({},o.schema),r.entities=jr({},o.entities),r.bindings=jr({},o.bindings),o.openNodesIds&&(r.openNodesIds=[...o.openNodesIds])),r=J_()(r,p)}),r}function IW(t,e){const n=t,{expandedNodeId:r,elements:o,currentNodeId:l,name:i,type:c}=n,d=Fi(n,["expandedNodeId","elements","currentNodeId","name","type"]),u={},m={},f=[];let p;function v(b){if(!b)return null;const h=b,{nodeId:C,elements:_,toggled:O}=h,M=Fi(h,["nodeId","elements","toggled"]),P=Ua({nodeId:C});return m[C]=P.GUID,u[C]=jr({},M),O&&f.push(C),_!=null&&_.length&&(P.elements=_.map(v)),P}const g=o==null?void 0:o.length;return g&&(g===1?p=v(o[0]):p=o.map(v)),jr({schema:p,entities:u,bindings:m,openNodesIds:f,expandedNodeId:r,currentNodeId:l,name:i,type:c,events:nr({stateElement:t,type:c,formData:e})},d)}var OW=Object.defineProperty,EW=Object.defineProperties,kW=Object.getOwnPropertyDescriptors,nw=Object.getOwnPropertySymbols,jW=Object.prototype.hasOwnProperty,RW=Object.prototype.propertyIsEnumerable,rw=(t,e,n)=>e in t?OW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xt=(t,e)=>{for(var n in e||(e={}))jW.call(e,n)&&rw(t,n,e[n]);if(nw)for(var n of nw(e))RW.call(e,n)&&rw(t,n,e[n]);return t},_n=(t,e)=>EW(t,kW(e));function DW(...t){if(t.length===0)return null;if(t.length===1)return t[0];const[e,n,...r]=t,o=r.flat();let l=e;const i=l.rows.flat(),c=i.length&&i.reduce((u,m)=>{var f;const p=m.elements;return p!=null&&p.name&&(u[p.name]=m.elements,p.type==="listButton"&&((f=u[p.name].elements)==null||f.forEach(v=>{const g=o.find(b=>b.name===v.name);g&&Object.assign(v,g)}))),u},{}),d=Object.keys(c).reduce((u,m)=>{var f,p;let v=o.find(C=>C.name===m);v===void 0&&(v=(f=l==null?void 0:l.columnsData)==null?void 0:f[m]);const g=(p=(0,$t.flatten)(n==null?void 0:n.headersData))==null?void 0:p.find(C=>C.name===m);let b={};g&&(b={width:g==null?void 0:g.width});const h=c[m];return h&&(u[m]=xt(xt(xt({},h),v),b)),u},{});if(n.isDifferenceUpdate){const u=n.rowsData,m=l.rowsData;u!=null&&u.length&&u.forEach(f=>{const p=m.findIndex(v=>v.rowId===f.rowId);p!==-1?m[p]=f:m.push(f)}),n.rowsData=m}return delete n.isDifferenceUpdate,_n(xt(xt({},l),n),{columnsData:d})}function NW(t,e,n){if(!t&&!e)return null;let r=e?JSON.parse(JSON.stringify(e)):t;return e&&t.currentColumnId&&(r.currentColumnId=t.currentColumnId),e&&Object.keys(t).length&&(r.columnsData.forEach((o,l)=>{o.style.width||(o.style.width=t.columnsData[l].style.width)}),r.rowsData.forEach((o,l)=>{Object.keys(o).forEach(i=>{var c,d,u;const m=o[i];typeof m=="object"&&m.isDisabledByAutolock===void 0&&(n!==!1?m.isDisabledByAutolock=(u=(d=(c=t.rowsData)==null?void 0:c[l])==null?void 0:d[i])==null?void 0:u.isDisabledByAutolock:m.isDisabledByAutolock=!1)})})),r}function MW(t,e,n=null){var r,o,l;const i=xt({},t),{name:c,isCardFile:d,isInPlaceEdit:u,headersEntities:m,actions:f,initialValue:p,rowsData:v,selectedRowIds:g,currentRowId:b,showServiceRow:h,columnsData:C}=i;if(m!=null&&m.length){const H=i.headersEntities.flat(1).map(E=>(0,ur.qC)(R=>(R.isFixSize=!!R.isFixSize,R),R=>yn(R))(E));i.headersEntities=lS(H,"name")}p||(i.initialValue={currentRowId:null,selectedRowIds:null}),v!=null&&v.length&&(i.rowsData=v.map(yn));const _=xt({type:"table",controlId:c},e),O=d&&u;i.events={onEnter:(f==null?void 0:f.includes("onEnter"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onEnter"})},onShowContextMenu:(f==null?void 0:f.includes("showPopupMenu"))&&{alias:"onShowContextMenu",args:_n(xt({},_),{action:"onShowContextMenu"})},onHierarchyButtonClick:(f==null?void 0:f.includes("hierarchyUp"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"hierarchyUp"})},onClickIcon:(f==null?void 0:f.includes("clickIcon"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"clickIcon"})},onRowsSelect:d&&{alias:"onFormControlEvent",args:_},onCellClick:{alias:"onFormControlEvent",args:_},onCellControlEvent:{alias:"onTableCellControlAction",args:_},onNavigation:{alias:"onFormControlEvent",args:_n(xt({},_),{isEditableCardFile:O,action:"onNavigation"})},onMove:(f==null?void 0:f.includes("onMove"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onMove",isEditableCardFile:O})},onControlResize:{alias:"onTableHeaderResize",args:xt({},_)},onRowsBlur:{alias:"onFormControlEvent",args:_n(xt({},_),{isEditableCardFile:O,action:"onRowsBlur"})},onRowCounterClick:i.summaryRowCount&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onSummaryClick"})},onDoubleClick:(f==null?void 0:f.includes("onDblClick"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onDblClick"})},onStartPageMove:(f==null?void 0:f.includes("onTop"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onTop"})},onEndPageMove:(f==null?void 0:f.includes("onBottom"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onBottom"})},onPrevPageMove:(f==null?void 0:f.includes("onPgUp"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onPgUp"})},onNextPageMove:(f==null?void 0:f.includes("onPgDn"))&&{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onPgDn"})},onMenuItemSelect:{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onMenuItemSelect"})},onHeaderClick:{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onHeaderClick"})},onTableOrderChange:{alias:"onTableOrderChange",args:xt({},_)},onHeaderCtxMenu:{alias:"onHeaderCtxMenu",args:_n(xt({},_),{action:"onHeaderCtxMenu"})},onCloseHeaderCtxMenu:{alias:"onCloseHeaderCtxMenu",args:_n(xt({},_),{action:"onCloseHeaderCtxMenu"})},onHeaderCtxMenuClick:{alias:"onFormControlEvent",args:_n(xt({},_),{action:"onHeaderCtxMenuClick"})}};const M=i.headersSchema.map(D=>i.headersEntities?D.filter(E=>{var R;return!((R=i.headersEntities[E.name])!=null&&R.isExcluded)}).map(E=>{const R=xt(xt({},E),i.headersEntities[E.name]);return xt({},R)}):[]),P=M.map(D=>({isZeroHeightRow:D.every(E=>E.invisibleBorders)}));function S(){return P.filter(D=>!D.isZeroHeightRow).length}function j(D){var H;let E=0,R=D.rowspan||1;const L=(H=D==null?void 0:D.linkedColumns)==null?void 0:H.filter(U=>U!==D.name);if(L!=null&&L.length&&M.forEach(U=>{const q=U.filter(W=>L.includes(W.name)&&W.invisibleBorders);q!=null&&q.length?++R:R===S()&&--R}),D.linkedColumns=L,!D.invisibleBorders)for(let U=0;U<R;U++)P[U].isZeroHeightRow||++E;return E}const k=M.map((D,H)=>D.map(E=>{const R=j(E);return xt({rowIndex:H,heightMultiplier:R},E)})),w=[...k].flat();function x(D){D.forEach(H=>{var E;const R=H.control;(E=R==null?void 0:R.actions)!=null&&E.length&&(R.events=nr({type:R.type,stateElement:R,simplePair:!0,formData:e}),delete R.actions)})}function T({headerSchema:D,entities:H,rows:E,columnsInState:R}){const L=[];function U(W){return pl(W)}function q(W){H.filter(J=>W.includes(J.name)).forEach(({style:J,name:oe,isDisabled:ce,isFixSize:N,linkedColumns:$,showReferenceButton:K})=>{let ee={},ne=null;const se=E.find(ue=>ue.elements.name===oe);if(se){const{style:ue,elements:Re}=se;ee=ue||{},ne=Re||{}}let me=R[oe];me&&(ne=xt(xt({},ne),me)),K&&ne&&(ne.showReferenceButton=K);const ye=$==null?void 0:$.filter(ue=>H.some(({name:Re})=>Re===ue));if(ye!=null&&ye.length)q($);else{const ue={name:oe,isDisabled:ce,isFixSize:N,control:U(ne),style:xt(xt({},ee),J)};L.push(ue)}})}return q(D),L}function A(D,H){function E(R){return H.filter(U=>R.includes(U.name)).map(U=>{var q,W;const[G,J]=oS(U.style);if(U.style=J,U.events=U.actions,delete U.actions,U.sizes={fixedSize:[],proportionalSize:[]},(q=U==null?void 0:U.linkedColumns)!=null&&q.length&&(U.linkedColumns=U.linkedColumns.filter(oe=>H.some(({name:ce})=>ce===oe))),(W=U==null?void 0:U.linkedColumns)!=null&&W.length){const oe=E(U.linkedColumns);oe.reduce((ce,N)=>(ce.fixedSize=ce.fixedSize.concat(N.sizes.fixedSize),ce.proportionalSize=ce.proportionalSize.concat(N.sizes.proportionalSize),ce),U.sizes),U.linkedColumns=oe.filter(ce=>!ce.invisibleBorders),U.insideColumns=oe.filter(ce=>ce.invisibleBorders)}else U.isFixSize?U.sizes.fixedSize=[parseFloat(G.width)]:U.sizes.proportionalSize=[parseFloat(G.width)];return U})}return E(D)}function B(D,H){return D&&H?D.map((E,R)=>{const L={};return H.forEach(U=>{var q;let W=E[U.name];if(U.name.includes("rowIndex"))W={value:E.rowIndex||R};else switch(typeof W){case"object":if(((q=U.control)==null?void 0:q.type)==="enum"){!W.listValues&&U.control.listValues&&(W.listValues=U.control.listValues);const G=Wd(xt(xt({},U.control),W),e,!1);W=yn(G)}else W=yn(_n(xt({},W),{initialValue:W.value}));break;case"boolean":W={value:!!W,initialValue:!!W};break;default:W={}}L[U.name]=W}),L.rowId=E.rowId,L.iconName=E.iconName,L}):[]}const Z=(r=k[0])==null?void 0:r.map(D=>D.name),V=T({headerSchema:Z,entities:w,rows:i.rows,columnsInState:C});if(x(V),i.columnsData=V,i.headersData=A(Z,w),i.rowsData=B(i.rowsData,i.columnsData),i.headerHeightMultiplier=P.filter(D=>!D.isZeroHeightRow).length,h&&!((o=i.rowsData)!=null&&o.length)){const D={rowId:"serviceRow"};i.columnsData.map(H=>{const E=n==null?void 0:n.find(R=>R.name===H.name);D[H.name]={value:"",initialValue:"",style:E==null?void 0:E.style}}),i.rowsData.push(D),i.displayRowCount+=1}return g!=null&&g.length?i.initialValue.selectedRowIds=[...i.selectedRowIds]:(i.selectedRowIds=[],i.initialValue.selectedRowIds=[]),!b&&i.rowsData.length?i.currentRowId=i.rowsData[0].rowId:i.currentRowId=((l=i.currentRowId)==null?void 0:l.toString())||null,i.initialValue.currentRowId||(i.initialValue.currentRowId=i.currentRowId),d&&(i.currentColumnId=V!=null&&V.length?V[0].name:null),delete i.actions,delete i.rows,delete i.headersSchema,delete i.headersEntities,i}var TW=Object.defineProperty,FW=Object.defineProperties,AW=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,BW=Object.prototype.hasOwnProperty,$W=Object.prototype.propertyIsEnumerable,lw=(t,e,n)=>e in t?TW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,br=(t,e)=>{for(var n in e||(e={}))BW.call(e,n)&&lw(t,n,e[n]);if(ow)for(var n of ow(e))$W.call(e,n)&&lw(t,n,e[n]);return t},Xo=(t,e)=>FW(t,AW(e));function zW(...t){var e;if(t.length===0)return null;if(t.length===1)return t[0];const[n,r]=t;let o=n;if(r.isDifferenceUpdate){const l=r.cells,i=o.cells;if(l&&((e=Object.keys(l))!=null&&e.length))for(const c in l)Ae(l,c)&&(i[c]||(i[c]={}),Fd()(i[c],l[c]));r.cells=i}return delete r.isDifferenceUpdate,o=br(br({},o),r),o}function LW(t,e){if(!t&&!e)return null;let n=e||t;return e&&(n.currentColumnId=t.currentColumnId||null,n.currentRowId=t.currentRowId||null),n}function HW(t,e,n){const r=Object.keys(t),o={},l=sc(e);return r.forEach(i=>{l.forEach(c=>{var d;let u=t[i][c.id];switch(typeof u){case"object":if(((d=c.control)==null?void 0:d.type)==="enum"){!u.listValues&&c.control.listValues&&(u.listValues=c.control.listValues);const m=Wd(br(br({},c.control),u),n,!1);u=yn(m)}else u=yn(Xo(br({},u),{initialValue:u.value}));break;case"boolean":u={value:!!u,initialValue:!!u};break;default:u={}}o[i]=Xo(br({},o[i]),{[c.id]:u})})}),o}function WW(t,e){const n=Xo(br({},t),{currentColumnId:null,currentRowId:null}),{name:r}=n,o=br({type:"grid",controlId:r},e);return n.events={onHeaderEvent:{alias:"onFormControlEvent",args:Xo(br({},o),{action:"onHeaderEvent"})},onPasteEvent:{alias:"onFormControlEvent",args:Xo(br({},o),{action:"onPasteCells"})},onCellControlEvent:{alias:"onGridCellEvent",args:o},onNavigation:{alias:"onFormControlEvent",args:o},onLoadData:{alias:"onFormControlEvent",args:Xo(br({},o),{action:"onLoadData",showIndicator:!1})},onMenuItemSelect:{alias:"onFormControlEvent",args:Xo(br({},o),{action:"onMenuItemSelect"})}},!n.isExcluded&&n.cells&&(n.cells=HW(n.cells,n.columns,e)),n}var VW=Object.defineProperty,UW=Object.defineProperties,GW=Object.getOwnPropertyDescriptors,aw=Object.getOwnPropertySymbols,ZW=Object.prototype.hasOwnProperty,KW=Object.prototype.propertyIsEnumerable,sw=(t,e,n)=>e in t?VW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tn=(t,e)=>{for(var n in e||(e={}))ZW.call(e,n)&&sw(t,n,e[n]);if(aw)for(var n of aw(e))KW.call(e,n)&&sw(t,n,e[n]);return t},Hr=(t,e)=>UW(t,GW(e));const Ad=(t,e,n)=>{if(!t&&!e)return[];if(!t&&e)return e;if(t&&!e)return t;if(t&&e&&Array.isArray(t)&&Array.isArray(e)){const r=[...t];return e.forEach(o=>{let l=n==="cells"?t.findIndex(i=>o.X===i.X&&o.Y===i.Y):t.findIndex(i=>o.index===i.index);l!==-1?r[l]=o:r.push(o)}),r}};function qW(t,e){if(!t&&!e)return null;let n=e||t;const r=t.gridMatrix||[],o=e.gridMatrix||[],l=[];if(e.isDifferenceUpdate===!1)return delete e.isDifferenceUpdate,e;if(e){const i=Math.max(r.length,o.length);for(let c=0;c<i;c++)if(o[c]===void 0&&r[c]!==void 0)l[c]=r[c];else if(o[c]&&r[c]){l[c]=[];const d=Math.max(r[c].length,o[c].length);for(let u=0;u<d;u++)l[c][u]=o[c][u]===!0&&typeof r[c][u]=="object"?r[c][u]:o[c][u]||r[c][u]}else o[c]!==void 0&&r[c]===void 0&&(l[c]=o[c]);n.gridMatrix=l}return n}function YW(...t){if(t.length===0)return null;if(t.length===1)return t[0];const[e,n]=t;let r=e;if(n.isDifferenceUpdate!==!1){n.isDifferenceUpdate=!0;const o=n.cells,l=r.cells,i=n.styles,c=r.styles,d=n.controls,u=r.controls;n.cells=Ad(l,o,"cells"),n.cols=Ad(r.cols,n.cols),n.rows=Ad(r.rows,n.rows),n.styles=Tn(Tn({},c),i),n.controls=Tn(Tn({},u),d)}else delete r.cols,delete r.rows;return r=Tn(Tn({},r),n),r}function XW(t,e){const{cells:n,viewBox:r,freezedCols:o,freezedRows:l}=t;let i;if(r){i=new Array(r[3]-1);for(let p=r[1]-1;p<r[3];p++)i[p]=new Array(r[2]),i[p].fill(!0,r[0]-1,r[2]),l&&r[0]-1>0&&i[p].fill(!0,0,l);if(o&&r[1]-1>0)for(let p=0;p<o;p++)i[p]||(i[p]=new Array(r[2])),i[p].fill(!0,r[0]-1,r[2]),l&&r[0]-1>0&&i[p].fill(!0,0,l);const f=[];n&&n.length&&n.forEach(p=>{i[p.Y-1]||(i[p.Y-1]=[]),i[p.Y-1][p.X-1]=p,(p.rowSpan||p.colSpan)&&f.push(p)}),f.length&&(t.maxColSpan=0,t.maxRowSpan=0,f.forEach(p=>{p.rowSpan>t.maxRowSpan&&(t.maxRowSpan=p.rowSpan),p.colSpan>t.maxColSpan&&(t.maxColSpan=p.colSpan);const v=[p.X-1,p.Y-1,p.X-1+(p.colSpan||0),p.Y-1+(p.rowSpan||0)];for(let g=v[1];g<=v[3];g++)for(let b=v[0];b<=v[2];b++)g===p.Y-1&&b===p.X-1||(i[g]||(i[g]=[]),i[g][b]="isHidden")}))}Ae(t,"cells")&&delete t.cells;const c=Hr(Tn({},t),{gridMatrix:i}),{name:d,type:u}=c,m=Tn({type:u,controlId:d},e);return c.events={onPasteEvent:{alias:"onFormControlEvent",args:Hr(Tn({},m),{action:"onPasteCells"})},onEnter:{alias:"onCanvasGridCellEvent",args:Hr(Tn({},m),{action:"onEnter"})},onEdit:{alias:"onCanvasGridCellEvent",args:Hr(Tn({},m),{action:"onEdit"})},onClick:{alias:"onCanvasGridCellEvent",args:Hr(Tn({},m),{action:"onClick"})},onDoubleClick:{alias:"onCanvasGridCellEvent",args:Hr(Tn({},m),{action:"onDblClick"})},onLookup:{alias:"onCanvasGridCellEvent",args:Hr(Tn({},m),{action:"onLookup"})},onNavigation:{alias:"onCanvasGridCellEvent",args:Hr(Tn({},m),{action:"onNavigation"})},onLoadData:{alias:"onFormControlEvent",args:Hr(Tn({},m),{action:"onLoadData",showIndicator:!1})},onCellAutoComplete:{alias:"onAutoComplete",args:Hr(Tn({},m),{action:"onAutoComplete",showIndicator:!1})}},c}var JW=Object.defineProperty,QW=Object.defineProperties,eV=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,tV=Object.prototype.hasOwnProperty,nV=Object.prototype.propertyIsEnumerable,cw=(t,e,n)=>e in t?JW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ai=(t,e)=>{for(var n in e||(e={}))tV.call(e,n)&&cw(t,n,e[n]);if(iw)for(var n of iw(e))nV.call(e,n)&&cw(t,n,e[n]);return t},Bi=(t,e)=>QW(t,eV(e));function nr({type:t,stateElement:e,formData:n={},simplePair:r=!1,parentTabs:o}){var l,i;let c=(l=e.actions)!=null&&l.length?[...e.actions]:[];return["checkbox","radio","switch"].includes(t)&&!c.includes("onChange")&&c.push("onChange"),["string","number","integer","enum","date","checkbox","radio","switch"].includes(t)&&(c.push("onImplicitChange"),c.push("onEnter")),["string","date","enum","number"].includes(t)&&c.push("onAutolock"),(t==="enum"||t==="string"&&((i=e.actions)!=null&&i.includes("onLookup"))&&e.isAutocomplete)&&(c.push("onSelect"),c.push("onChange"),e.isAutocomplete&&!e.isInteger&&(c.push("onResetAutocompleteValues"),c.push("onImmediatelyAutoComplete"))),["string","number","integer","enum","date"].includes(t)&&c.push("onDelete"),t==="box"&&c.push("onToggle"),t==="tabs"&&c.push("onClick"),t==="tree"&&c.push("onClickAdd"),t==="report"&&(c=["onClick","onDblClick","onCellSelect","onExpand","onCollapse"]),["html","frame","report"].includes(t)&&c.push("saveContent"),c.reduce((u,m)=>{let f=m,p=m,v=m,g=Bi(Ai({type:t,controlId:e.name},n),{action:v});if(m==="onChange")switch(t){case"checkbox":case"switch":case"radio":p="onFormControlEvent",v="onChange";break;case"enum":case"string":case"number":case"integer":p="onAutoComplete",v="autoComplete";break;case"tree":p="onFormControlEvent",f="onSelect",v=To(e,m);break;case"tabs":p="onFormControlEvent",f="onChange",v=To(e,m),g.skipDiffs=!1,g.parentType=o;break;default:break}else if(m==="onClick")switch(t){case"listButton":case"label":case"img":case"button":p="onFormControlEvent";break;case"tabs":p="onFormControlEvent",v=null,g.skipDiffs=!1,g.parentType=o;break;case"report":p="onFormControlEvent",f="onClick";break;default:break}else if(m==="onDblClick")switch(t){case"tree":p="onFormControlEvent",f="onDoubleClick",v=To(e,m);break;case"report":case"img":p="onFormControlEvent",f="onDoubleClick";break;default:p="onFormControlEvent",f="onDoubleClick";break}else if(m==="onSelect")switch(t){case"string":case"number":case"integer":case"enum":p="onFormControlEvent",v="onEnter";break;default:break}else if(m==="onImplicitChange")switch(t){case"string":case"number":case"integer":case"enum":case"date":case"checkbox":case"switch":case"radio":p="onFormControlEvent",v="onEnter",g.checkResponse=t==="string"&&e.showButton;break;default:break}else if(m==="onEnter")switch(t){case"string":case"number":case"integer":case"enum":case"date":p="onFormControlEvent",v="onEnter",g.checkResponse=t==="string"&&e.showButton;break;default:break}else if(m==="onClickAdd")p="onFormControlEvent";else if(m==="onLookup")p="onFormControlEvent";else if(m==="onImmediatelyAutoComplete")v="autoComplete";else if(m==="onDelete")p="onFormControlEvent",g.skipDiffs=!0;else if(m==="onCopy")p="onClipboardEvent";else if(m==="onPaste")p="onClipboardEvent";else if(m==="onCut")p="onClipboardEvent";else if(m==="onToggle")t==="box"&&(p="onFormControlEvent",v="changeSpoiler");else if(m==="loadData")switch(t){case"frame":case"box":p="onFormControlEvent",f="onLoadData",v=To(e,m);break;default:break}else if(m==="onExpand")switch(t){case"tree":p="onFormControlEvent",f="onToggle",v=To(e,m);break;case"report":p="onReportHierarchyClick";break;default:break}else if(m==="onCollapse")switch(t){case"report":p="onReportHierarchyClick";break;default:break}else if(m==="onCellSelect")switch(t){case"report":p="onReportCellSelect",v=null;break;default:break}else if(m==="saveContent")switch(t){case"html":p="onSaveContentIframe",v=null;break;case"report":p="onSaveDataReport",v=null;break;case"frame":p="onSaveDataFrame",v=null;break;default:break}else m==="onEdit"?(p="checkEditableValidation",v=To(e,m)):m==="onHint"&&(p="onHintControl",v=To(e,m));return r?Bi(Ai({},u),{[f]:v}):Bi(Ai({},u),{[f]:{alias:p,args:Bi(Ai({},g),{action:v})}})},{})}var rV=Object.defineProperty,$i=Object.getOwnPropertySymbols,uw=Object.prototype.hasOwnProperty,dw=Object.prototype.propertyIsEnumerable,fw=(t,e,n)=>e in t?rV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bd=(t,e)=>{for(var n in e||(e={}))uw.call(e,n)&&fw(t,n,e[n]);if($i)for(var n of $i(e))dw.call(e,n)&&fw(t,n,e[n]);return t},pw=(t,e)=>{var n={};for(var r in t)uw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$i)for(var r of $i(t))e.indexOf(r)<0&&dw.call(t,r)&&(n[r]=t[r]);return n};function oV(t){let e={};function n(o){const l=o,{GUID:i,name:c,elements:d}=l,u=pw(l,["GUID","name","elements"]),m={name:c,GUID:i},f=Bd({GUID:i,name:c},u);return e[c]=f,d&&(m.elements=d.map(n)),m}return{schema:t.map(n),entities:e}}function lV(t,e){const n=t,{elements:r,buttonsAfter:o,buttonsBefore:l}=n,i=pw(n,["elements","buttonsAfter","buttonsBefore"]);if(!(r!=null&&r.length))return Bd({},t);const{schema:c,entities:d}=oV(r),u=m=>{const f=yn(m);return f!=null&&f.elements?f.elements=f.elements.map(p=>{let v=yn(p);return v.events=nr({stateElement:v,type:v.type,formData:{formId:"0",formName:e.formName,roleCenterFormId:e.formId}}),v}):f.events=nr({stateElement:f,type:f.type,formData:{formId:"0",formName:e.formName,roleCenterFormId:e.formId}}),f};if(l!=null&&l.length)for(let m=0;m<l.length;m++)l[m]=u(l[m],e.formId);if(o!=null&&o.length)for(let m=0;m<o.length;m++)o[m]=u(o[m],e.formId);return Bd({schema:c,entities:d,buttonsAfter:o,buttonsBefore:l},i)}var aV=Object.defineProperty,sV=Object.defineProperties,iV=Object.getOwnPropertyDescriptors,zi=Object.getOwnPropertySymbols,mw=Object.prototype.hasOwnProperty,vw=Object.prototype.propertyIsEnumerable,hw=(t,e,n)=>e in t?aV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gw=(t,e)=>{for(var n in e||(e={}))mw.call(e,n)&&hw(t,n,e[n]);if(zi)for(var n of zi(e))vw.call(e,n)&&hw(t,n,e[n]);return t},cV=(t,e)=>sV(t,iV(e)),uV=(t,e)=>{var n={};for(var r in t)mw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&zi)for(var r of zi(t))e.indexOf(r)<0&&vw.call(t,r)&&(n[r]=t[r]);return n};function dV(t,e){const n=uV(t,[]);n.events||(n.events={});const r=nr({stateElement:t,type:t.type,formData:e});return cV(gw(gw({},n),e),{events:r})}function fV(t,e){const n=e.reservedRow||t.reservedRow;return e.value&&e.value.search(/<!DOCTYPE HTML>/gi)===-1&&(e.value=hD({whereReplace:t.value,whatToReplace:e.value,reservedRow:n})),Fd()(t,e)}var pV=Object.defineProperty,mV=Object.defineProperties,vV=Object.getOwnPropertyDescriptors,Li=Object.getOwnPropertySymbols,bw=Object.prototype.hasOwnProperty,yw=Object.prototype.propertyIsEnumerable,Cw=(t,e,n)=>e in t?pV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hi=(t,e)=>{for(var n in e||(e={}))bw.call(e,n)&&Cw(t,n,e[n]);if(Li)for(var n of Li(e))yw.call(e,n)&&Cw(t,n,e[n]);return t},$d=(t,e)=>mV(t,vV(e)),_w=(t,e)=>{var n={};for(var r in t)bw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Li)for(var r of Li(t))e.indexOf(r)<0&&yw.call(t,r)&&(n[r]=t[r]);return n};function hV(t,e){var n;const r=t.style||{},o=t,{actions:l,chart:i}=o,c=_w(o,["actions","chart"]),d=i,{series:u}=d,m=_w(d,["series"]),f=(n=m.chart)==null?void 0:n.type,p={},v=Hi({type:"chart",controlId:c.name},e);return l!=null&&l.includes("onDblClick")&&(p.onDataPointSelect={alias:"onDataPointSelect",args:$d(Hi({},v),{action:"onDblClick"})}),l!=null&&l.includes("onClick")&&(p.onClick={alias:"onFormControlEvent",args:$d(Hi({},v),{action:"onClick"})}),$d(Hi({chartType:f,series:u,options:m},c),{style:r,events:p})}var gV=Object.defineProperty,ww=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,yV=Object.prototype.propertyIsEnumerable,xw=(t,e,n)=>e in t?gV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CV=(t,e)=>{for(var n in e||(e={}))bV.call(e,n)&&xw(t,n,e[n]);if(ww)for(var n of ww(e))yV.call(e,n)&&xw(t,n,e[n]);return t},Sw=(t,e)=>{const n=CV({},t);return n.events=nr({stateElement:n,type:n.type,formData:e}),n.orientation==="tabs"&&(n.eventsTabs=nr({stateElement:n,type:"tabs",formData:e,parentTabs:n.type})),delete n.elements,n},_V=Object.defineProperty,wV=Object.defineProperties,xV=Object.getOwnPropertyDescriptors,Wi=Object.getOwnPropertySymbols,Pw=Object.prototype.hasOwnProperty,Iw=Object.prototype.propertyIsEnumerable,Ow=(t,e,n)=>e in t?_V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sr=(t,e)=>{for(var n in e||(e={}))Pw.call(e,n)&&Ow(t,n,e[n]);if(Wi)for(var n of Wi(e))Iw.call(e,n)&&Ow(t,n,e[n]);return t},Kl=(t,e)=>wV(t,xV(e)),SV=(t,e)=>{var n={};for(var r in t)Pw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wi)for(var r of Wi(t))e.indexOf(r)<0&&Iw.call(t,r)&&(n[r]=t[r]);return n};function zd(t){const e=Do(t);function n(r){const{type:o}=r,l=sr({},r);return o==="tree"&&l.forceUpdate&&(delete l.forceUpdate,delete l.expandedNodeId),l.elements&&(l.elements=l.elements.map(n)),l}return e.map(n)[0]}function Ld(t,e){const n=Do(t),r=Do(e);function o(l){var i;let c=sr({},l);const d=c.name?r.find(u=>(u==null?void 0:u.name)===(l==null?void 0:l.name)):null;if(Ae(l,"popupMenu")&&(c.popupMenu=l.popupMenu.map(u=>{const m=r.find(f=>u.name===f.name)||{};return sr(sr({},u),m)})),d)switch(l.type){case"canvasGrid":c=YW(c,d);break;case"tree":c=SW(c,d);break;case"table":c=DW(c,d,r);break;case"grid":c=zW(c,d);break;default:Ae(d,"cellColor")||delete c.cellColor,Object.assign(c,d)}return(i=c==null?void 0:c.elements)!=null&&i.length&&(c.elements=c.elements.map(u=>o(u,r))),c}return n.map(o)[0]}function PV(t,e){if(Array.isArray(e))return e}function Vi(t,e,n){const r=t;return Object.entries(e).forEach(([o,l])=>{r[o]||(r[o]={});const i=r[o];Object.entries(l).forEach(function([c,d]){let u;switch(i[c]||(i[c]={}),o){case"tree":{u=PW(i[c],d);break}case"table":{u=NW(i[c],d,n);break}case"grid":{u=LW(i[c],d);break}case"canvasGrid":{u=qW(i[c],d);break}case"chart":{u=d;break}case"report":{u=fV(i[c],d);break}default:u=Fd()(i[c],d,PV),d.events&&(u.events=d.events),d.style&&(u.style=d.style),d.cellColor||delete u.cellColor}i[c]=sr({},u)})}),r}function Ui({state:t,defaultState:e,bindings:n,formData:r={}}){const o={current:{}};if(!t)return null;function l(i,c={}){var d,u;const{name:m}=i,{type:f}=n[m]||c;let p;if(!f)return null;switch(f){case"tree":{p=IW(i,r);break}case"report":{p=dV(i,r);break}case"roleCenter":{p=lV(i,r);break}case"table":{p=MW(i,r,e);break}case"grid":{p=WW(i,r);break}case"canvasGrid":{p=XW(i,r);break}case"img":{p=Kl(sr({},i),{value:oc(i.value),events:nr({stateElement:i,type:f,formData:r})});break}case"chart":{p=hV(i,r);break}case"button":case"listButton":case"pdf":{p=Kl(sr({},i),{value:oc(i.value),events:nr({stateElement:i,type:f,formData:r})});break}case"html":{p=Kl(sr({},i),{value:oc(i.value),events:nr({stateElement:i,type:f,formData:r}),dataAttrs:{"data-form-id":r.formId}});break}case"box":p=Sw(i,r),(d=p.title)!=null&&d.element&&(p.title.element=l(p.title.element,{type:p.title.element.type}));break;case"frame":{p=Sw(i,r);break}case"label":p=Kl(sr({},i),{events:nr({stateElement:i,type:f,formData:r})}),(u=p.events)!=null&&u.onClick&&(p.isStatic=!1),Ae(p,"value")&&(p.initialValue=p.value);break;case"enum":p=Wd(i,r);break;case"string":case"number":case"integer":case"date":p=Kl(sr({},i),{events:nr({stateElement:i,type:f,formData:r}),dataAttrs:{"data-form-id":r.formId,"data-form-name":r.formName}}),Ae(p,"value")&&(Ae(p,"formattedValue")||(p.formattedValue=p.value),p.initialValue=p.value,p.initialFormattedValue=p.formattedValue);break;default:p=Kl(sr({},i),{events:nr({stateElement:i,type:f,formData:r})}),Ae(p,"value")&&(p.initialValue=p.value)}return o.current[f]||(o.current[f]={}),o.current[f][m]=Ua(p,"testId"),p}return t.forEach(i=>{var c;i.isExcluded&&i.type==="frame"&&((c=i.elements)!=null&&c.length)&&i.elements.forEach(d=>{if(["grid","table"].includes(d.type)){const u=t.findIndex(m=>m.name===d.name);t[u].isExcluded=!0}})}),t.forEach(l),o.current}function Gi(t,{formName:e,formId:n}){const r=[],o={};function l(d){switch(d){case"table":case"tree":case"roleCenter":return!1;default:return!0}}function i(d){if(!d)return;const u=d,{name:m=`GENERATED_NAME_${wr().generate()}`,type:f,elements:p}=u,v=SV(u,["name","type","elements"]);let g=Ua({name:m,type:f},"GUID",[n,e]);return p&&l(f)?(g.elements=p.map(i),v.elements=g.elements.map(b=>{const h=sr({},b);return delete h.elements,h})):p&&(v.elements=Ga(p,"elements","GUID",[e])),o[m]={type:f},r.push(sr({name:m,type:f},v)),g}return{schema:i(t),extractedState:r,bindings:o}}function IV(t){const e={};if(t)return t.width&&(e.width=Wt(t.width)),t.height&&(e.height=Wt(t.height)),e}function OV(t){const{formId:e,formName:n,openMode:r,view:o,state:l}=t,i={formId:e,formName:n,isModal:r==="modal"},c=IV(o==null?void 0:o.style),d=Ld(o,l),u=pl(d),m=zd(d),{schema:f,extractedState:p,bindings:v}=Gi(u,{formName:n,formId:e}),g=Vi({},Ui({state:p,defaultState:l,bindings:v,formData:i,schema:f}));return{raw:m,schema:f,entities:g,bindings:v,formId:e,formName:n,diffs:{},style:c}}var EV=Object.defineProperty,Zi=Object.getOwnPropertySymbols,Ew=Object.prototype.hasOwnProperty,kw=Object.prototype.propertyIsEnumerable,jw=(t,e,n)=>e in t?EV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rw=(t,e)=>{for(var n in e||(e={}))Ew.call(e,n)&&jw(t,n,e[n]);if(Zi)for(var n of Zi(e))kw.call(e,n)&&jw(t,n,e[n]);return t},kV=(t,e)=>{var n={};for(var r in t)Ew.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zi)for(var r of Zi(t))e.indexOf(r)<0&&kw.call(t,r)&&(n[r]=t[r]);return n};function Hd(t){const e=Rw({},t),n={};function r(o){return o==null?void 0:o.map(l=>{const i=l,{elements:c}=i,d=kV(i,["elements"]);let u=`${l.GUID}_${wr().generate()}`;const m={GUID:u,id:d.id};return n[u]=Rw({},d),c!=null&&c.length&&(m.elements=r(l.elements)),m})}return e.schema=r(e.elements),e.entities=n,delete e.elements,e}function jV({resultAction:t,view:e}){const{formId:n,formName:r}=t,o={formId:n,formName:r},l=pl(e),{schema:i,extractedState:c,bindings:d}=Gi(l,o),u=Vi({},Ui({state:c,bindings:d,formData:o,schema:i}));return{schema:i,entities:u}}var RV=Object.defineProperty,DV=Object.defineProperties,NV=Object.getOwnPropertyDescriptors,Dw=Object.getOwnPropertySymbols,MV=Object.prototype.hasOwnProperty,TV=Object.prototype.propertyIsEnumerable,Nw=(t,e,n)=>e in t?RV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mw=(t,e)=>{for(var n in e||(e={}))MV.call(e,n)&&Nw(t,n,e[n]);if(Dw)for(var n of Dw(e))TV.call(e,n)&&Nw(t,n,e[n]);return t},Tw=(t,e)=>DV(t,NV(e)),Wd=(t,e,n=!0)=>{const{isAutocomplete:r,isSwitchedToEnum:o,isInteger:l,listValues:i,value:c,formattedValue:d}=t,u=l&&!o?!1:!!r,m=n?nr({type:"enum",stateElement:Tw(Mw({},t),{isAutocomplete:u}),formData:e}):{},f=Tw(Mw({},t),{events:m,isAutocomplete:u,dataAttrs:{"data-form-id":e.formId,"data-form-name":e.formName}});if(delete f.autocomplete,f.value=c,!u&&(i!=null&&i.length)&&c){const p=i.find(v=>v.key===c);p&&(f.value=p.value)}return c!==void 0&&(d===void 0&&(f.formattedValue=f.value),f.initialValue=f.value,f.initialFormattedValue=f.value),f},FV=OV;function*AV(){yield(0,te.gw)(100),(yield(0,te.Ys)(xs))&&(yield(0,te.xN)(yc()))}function*BV(){(yield(0,te.Ys)(xs))||(yield(0,te.xN)(Cc()))}function*Xt(){yield(0,te.xN)(Gf()),yield(0,te.rM)(AV)}function*Jt(){yield(0,te.xN)(Zf()),yield(0,te.RE)(BV)}function*Fw(){let{menuData:t,toolbarData:e}=yield(0,te.RE)(Tf);t=Hd(t);const n=Td(e);yield(0,te.xN)(os({menu:t})),yield(0,te.xN)(ss(n))}function*$V(t){t.payload===null&&(yield Xt(),yield(0,te.RE)(Fw),yield Jt())}function*zV(){yield(0,te.ib)(ds,$V)}function Aw(t){return t.mainAppParams}function*St(t){ml(t)||ts(t)&&(yield(0,te.gz)(oa({message:uo(t)}))),console.error(t)}function*LV(t){try{for(let e=0;e<t.length;e++){const n=t[e],{serviceURL:r}=(n==null?void 0:n.resultAction)||{};r&&(yield(0,te.xN)(as({serviceURL:r,needToPrint:!0})),yield(0,te.qn)(as))}}catch(e){yield St(e)}}function*Fn(t,e){let n=!1;try{const{data:r}=yield(0,te.RE)(t,e);n=r||!0}catch(r){yield St(r)}return n}function*HV(){try{yield Xt();let t=yield Fn(Mf);if(t=Hd(t),!t)return;yield(0,te.xN)(os({menu:t}))}catch(t){yield St(t)}finally{yield Jt()}}function*WV(){try{yield Xt();const t=yield Fn(Nf),e=Td(t);if(!t)return;yield(0,te.xN)(ss(e))}catch(t){yield St(t)}finally{yield Jt()}}function hn(t,e){return e?t.forms[e]:null}function Bw(t){var e;const n=[];for(const r in t.forms)r!=="0"&&((e=t.forms[r])!=null&&e.fixed||n.push(r));return n}function VV(t,e){if(!e)return null;const n=[];let r=t.forms[e];for(;r.childFormId&&r.childFormId!==0;)n.push(r.childFormId),r=t.forms[r.childFormId];return n}function*UV(){return(yield(0,te.Ys)(p4))>0}var GV=Object.defineProperty,Ki=Object.getOwnPropertySymbols,$w=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,Lw=(t,e,n)=>e in t?GV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZV=(t,e)=>{for(var n in e||(e={}))$w.call(e,n)&&Lw(t,n,e[n]);if(Ki)for(var n of Ki(e))zw.call(e,n)&&Lw(t,n,e[n]);return t},KV=(t,e)=>{var n={};for(var r in t)$w.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ki)for(var r of Ki(t))e.indexOf(r)<0&&zw.call(t,r)&&(n[r]=t[r]);return n};function*Rr(t){const e=t,{formId:n,roleCenterFormId:r}=e,o=KV(e,["formId","roleCenterFormId"]),l=yield(0,te.Ys)(hn,n);if(!n)throw new Error("sendActionTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const{formName:i,diffs:c}=l===void 0?{}:l,d=ZV({formId:n,formName:i,state:c},o);if(r&&(d.roleCenterFormId=r),!(yield UV()))return yield Fn(mc,d)}function qV(t,e){if(!e)return null;let n=null;const r=t.forms;for(const o in r)if(Ae(r,o)){const l=r[o];if(l.formStackId===e&&l.childFormId===null){n=l;break}}return n}var YV=Object.defineProperty,XV=Object.defineProperties,JV=Object.getOwnPropertyDescriptors,qi=Object.getOwnPropertySymbols,Hw=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable,Vw=(t,e,n)=>e in t?YV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yr=(t,e)=>{for(var n in e||(e={}))Hw.call(e,n)&&Vw(t,n,e[n]);if(qi)for(var n of qi(e))Ww.call(e,n)&&Vw(t,n,e[n]);return t},Io=(t,e)=>XV(t,JV(e)),Uw=(t,e)=>{var n={};for(var r in t)Hw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qi)for(var r of qi(t))e.indexOf(r)<0&&Ww.call(t,r)&&(n[r]=t[r]);return n};let qn=[],Jo=null;function QV({state:t,entities:e,formDraft:n}){return t.reduce((o,l)=>{var i,c;const d=(i=n.bindings[l.name])==null?void 0:i.type,u=(c=e==null?void 0:e[d])==null?void 0:c[l.name];return u&&(o[d]||(o[d]={}),o[d][l.name]=u),o},{})}function e5({state:t,entities:e}){const n=Object.entries(e.grid);return n==null?void 0:n.reduce((o,[l,i])=>(t==null||t.forEach(c=>{var d,u;if(!(c!=null&&c.size))return o;const m=((d=i==null?void 0:i.columns)==null?void 0:d.findIndex(p=>(p==null?void 0:p.id)===(c==null?void 0:c.id)))!==-1,f=((u=i==null?void 0:i.rows)==null?void 0:u.findIndex(p=>(p==null?void 0:p.id)===(c==null?void 0:c.id)))!==-1;if((m||f)&&!o.grid&&(o.grid={}),m){const p=i==null?void 0:i.columns.map(v=>v.id===c.id?c:v);return o.grid[l]=Io(yr({},i),{columns:p}),o}if(f){const p=i==null?void 0:i.rows.map(v=>v.id===c.id?c:v);return o.grid[l]=Io(yr({},i),{rows:p}),o}}),o),{})}function t5({entities:t,refreshedEntities:e,formDraft:n}){const r=Object.entries(t.table);return r==null?void 0:r.reduce((l,[i,c])=>{var d,u,m;if(!((d=e==null?void 0:e.table)!=null&&d[i])){const f=(m=(u=n.entities)==null?void 0:u.table)==null?void 0:m[i];JSON.stringify(f==null?void 0:f.contextMenuElements)!==JSON.stringify(c==null?void 0:c.contextMenuElements)&&(l.table||(l.table={}),l.table[i]=Io(yr({},f),{contextMenuElements:(c==null?void 0:c.contextMenuElements)||[]}))}return l},{})}function*sn(t){var e,n;const r=t,{formId:o,formName:l,view:i,state:c,isAutoLock:d,fixed:u}=r,m=Uw(r,["formId","formName","view","state","isAutoLock","fixed"]);if(!o)throw new Error("updateFormTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const f=yield(0,te.Ys)(hn,o);let p={};if(i){const g=(e=f==null?void 0:f.entities)==null?void 0:e.html;if(g){const b={};Object.entries(g).forEach(([h,C])=>{C.content&&(b[h]=C.content)}),Object.keys(b).length&&((n=t.state)==null||n.forEach((h,C)=>{b[h.name]&&(t.state[C]=yr({content:b[h.name]},c[C]))}))}p=FV(t)}else c&&f&&(p=(0,fr.ZP)(f,g=>{const b={formId:o,formName:l,isModal:m.openMode==="modal"},h=Ld(g.raw,c),C=pl(h);g.raw=zd(h);const{extractedState:_}=Gi(C,b),O=Ui({state:_,bindings:g.bindings,formData:b}),M=QV({state:c,entities:O,formDraft:g});if(O!=null&&O.table){const P=t5({entities:O,refreshedEntities:M,formDraft:g});Object.assign(M,P)}if(O!=null&&O.grid){const P=c.filter(j=>Boolean(j==null?void 0:j.id)),S=e5({state:P,entities:O});Object.assign(M,S)}g.entities=Vi(g.entities,M,d),g.diffs={},g.isAutoLock=d!==void 0?d:f.isAutoLock}));const v=yr(yr(yr({formId:o,formName:l,fixed:u},f),m),p);yield(0,te.xN)(Bo(v))}function*n5(t){(yield(0,te.Ys)(hn,t.formId))&&(yield sn(t))}function*Gw({formId:t}){if(!t)throw new Error("cleanFormDiffTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const e=yield(0,te.Ys)(hn,t);if(!e)throw new Error(`cleanFormDiffTask: \u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B \u0441 formId=${t}`);let n=Io(yr({},e),{diffs:{}});yield(0,te.xN)(Bo(n))}function*r5({formId:t,controlId:e}){var n;if(!t)throw new Error("resetControlValuesTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const r=yield(0,te.Ys)(hn,t);if(!r)throw new Error(`resetControlValuesTask: \u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B \u0441 formId=${t}`);if(e&&r){const o=(n=r.bindings[e])==null?void 0:n.type;if(wM(o)&&o!=="string"&&o!=="date"){const l=r.entities[o][e],i={type:o,name:e,value:l.initialValue};o!=="enum"&&(i.formattedValue=l.initialFormattedValue),yield sn({formId:t,state:[i]})}}}function*o5(t){const{formId:e}=t;if(!e)throw new Error("deleteFormTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const{parentFormId:n,formStackId:r,openMode:o}=yield(0,te.Ys)(hn,e);o!=="modal"&&n&&(yield sn({formId:r,showedFormId:n}),yield sn({formId:n,childFormId:null})),yield(0,te.xN)(Oc(e)),qn.includes(e)&&(qn=qn.filter(l=>l!==e),qn.length?yield(0,te.Cs)(za):Jo&&(yield Zw(Jo)))}function*Zw(t){const{resultAction:{formId:e,formName:n,openMode:r,commandName:o,formIcon:l,referrerFormId:i,autoLock:c,fixed:d},view:u,state:m,parentFormId:f=null,skipFormStackQueue:p=!1}=t,{keepMounted:v=!1,winCanResize:g=!0,hideBreadcrumbs:b=!1}=u||{};if(r==="new")yield sn({formId:e,formName:n,view:u,state:m,openMode:r,commandName:o,formStackId:e,parentFormId:null,childFormId:null,isWideScreenMode:!1,keepMounted:v,showedFormId:e,isAutoLock:c,formIcon:l,hideBreadcrumbs:b,fixed:d}),p||(yield(0,te.xN)(Ao(e)));else if(r==="modal")yield sn({formId:e,formName:n,view:u,state:m,openMode:r,commandName:o,formIcon:l,isAutoLock:c,winCanResize:g});else{const h=yield(0,te.Ys)(Dd);let C=null;if((f||i)&&(C=yield(0,te.Ys)(hn,f||i)),C||(C=yield(0,te.Ys)(qV,h)),C){const _=C.formId,{childFormId:O}=C;O?(Jo=t,yield za({formId:O})):(yield sn({formId:e,formName:n,view:u,state:m,openMode:r,formStackId:h,formIcon:l,isAutoLock:c,parentFormId:_,childFormId:null}),yield sn({formId:_,childFormId:e}),yield sn({formId:h,showedFormId:e}),Jo=null)}else yield sn({formId:e,formName:n,view:u,state:m,openMode:"new",commandName:o,formStackId:e,parentFormId:null,childFormId:null,isWideScreenMode:!1,keepMounted:v,showedFormId:e,formIcon:l,isAutoLock:c,hideBreadcrumbs:b}),p||(yield(0,te.xN)(Ao(e)))}}function*Kw(t){const e=t,{resultAction:{formId:n,formName:r},view:o,state:l}=e,i=Uw(e,["resultAction","view","state"]),c=yield(0,te.Ys)(hn,n),d=(0,fr.ZP)(c,u=>{var m;const f=o==null?void 0:o.name,p=Ld(o,l),v=No({source:u.raw,iterationKey:"elements",searchKey:"name",searchValue:f});v&&Object.assign(v,p);const g=pl(p);u.raw=zd(u.raw);const{schema:b,extractedState:h,bindings:C}=Gi(g,{formName:r,formId:n});Object.assign(u.bindings,C);const _=No({source:u.schema,iterationKey:"elements",searchKey:"name",searchValue:f});if(_&&Object.assign(_,b),h!=null&&h.length){const M=h.find(S=>S.name===f),P=!!((m=_.elements)!=null&&m.length);M?M.isLoaded=P:h.push({name:f,isLoaded:P})}const O=Ui({state:h,bindings:u.bindings,schema:u.schema,formData:{formId:n,formName:r,isModal:i.openMode==="modal"}});u.entities=Vi(u.entities,O)});yield(0,te.xN)(Bo(Io(yr({},d),{diffs:{}})))}function*qw(t){const{formId:e}=t,n=yield(0,te.Ys)(hn,e);if(t.value&&(yield(0,te.xN)(kc(t))),n){const{parentFormId:r,formStackId:o,openMode:l,keepMounted:i}=n;!r&&l!=="modal"&&(i&&t.action==="execScript"||(yield Xw(o)),yield sn({formId:o,showedFormId:e}))}}function*Vd(t,e){if(t==="0")return;e.unshift(t);const{childFormId:n}=yield(0,te.Ys)(hn,t);n&&(yield Vd(n,e))}function*Ud(){const t=yield Rr({formId:qn[0],action:"close"}),e=yield wn({response:t});e!=null&&e.errorActions.length&&(yield Yw())}function*za(t){try{if(yield Xt(),!qn.length&&t){const e=t.payload||t,{formId:n}=e;(yield(0,te.Ys)(hn,n))&&(yield Vd(n,qn))}qn[0]&&(yield Ud())}catch(e){yield St(e)}finally{yield Jt()}}function*l5(){try{yield Xt(),qn.length||(qn=yield(0,te.Ys)(Bw)),qn[0]&&(yield Ud())}catch(t){yield St(t)}finally{yield Jt()}}function*a5(t){try{if(yield Xt(),!qn.length&&t){const e=[],n=t.payload||t,{formId:r}=n;yield Vd(r,e),qn=(yield(0,te.Ys)(Bw)).filter(l=>!e.includes(l))}qn[0]&&(yield Ud())}catch(e){yield St(e)}finally{yield Jt()}}function*s5(t){try{yield Xt();const{formId:e}=t.payload,n=yield Rr({formId:e,action:"close"});yield wn({response:n})}catch(e){yield St(e)}finally{yield Jt()}}const Yw=()=>{qn=[],Jo=null};function*i5(){if(Jo){const{formId:t,formName:e}=Jo.resultAction;yield Rr({formId:t,formName:e,action:"breakOpen",state:{}}),yield Yw()}}function*c5(t){try{yield Xt();const e=yield Fn(fP,t.payload);yield wn({response:e})}catch(e){yield St(e)}finally{yield Jt()}}function*u5(t){try{const{formId:e,formStackId:n,isWideScreenMode:r}=t.payload,o={formId:n,isWideScreenMode:r};e&&(o.showedFormId=e),yield sn(o)}catch(e){yield St(e)}}function*d5(t){try{const{formStackId:e,formId:n}=t.payload;yield sn({formId:e,showedFormId:n})}catch(e){yield St(e)}}function*Xw(t){if((yield(0,te.Ys)(Dd))!==t){yield(0,te.xN)(Ao(t));const{commandName:n}=yield(0,te.Ys)(hn,t);yield(0,te.xN)(ls(n)),yield Fn(Of,{formId:t})}}function*f5(t){try{const{formId:e}=t.payload;yield Xw(e)}catch(e){yield St(e)}}function*p5(t){try{const{formId:e}=t.payload,n=yield(0,te.Ys)(hn,e),{parentFormId:r,formStackId:o}=n;if(e===o)return;const l=yield(0,te.Ys)(VV,e),i=l[l.length-1]||e;yield sn({formId:e,showedFormId:i,openMode:"new",parentFormId:null,formStackId:e});for(const c of l)yield sn({formId:c,formStackId:e});o===r?yield sn({formId:o,childFormId:null,showedFormId:o}):(yield sn({formId:r,childFormId:null}),yield sn({formId:o,showedFormId:r})),yield(0,te.xN)(Ao(e)),yield Fn(Of,{formId:e})}catch(e){yield St(e)}}function*m5(t){try{const e=yield Rr(Io(yr({},t.payload),{action:"resize"}));yield wn({response:e})}catch(e){yield St(e)}}function*v5(t){try{const e=yield Rr(Io(yr({},t.payload),{action:"resizeColumns"}));yield wn({response:e})}catch(e){yield St(e)}}function*h5(t){try{const e=yield Rr(Io(yr({},t.payload),{action:"changeOrder"}));yield wn({response:e})}catch(e){yield St(e)}}function*g5(){yield(0,te.A7)(Nc,za),yield(0,te.A7)(yp,l5),yield(0,te.A7)(Cp,a5),yield(0,te.A7)(_p,s5),yield(0,te.P2)(1e3,Sp,u5),yield(0,te.P2)(1e3,wp,d5),yield(0,te.P2)(1e3,jp,p5),yield(0,te.P2)(1e3,xp,f5),yield(0,te.ib)(Kf,c5),yield(0,te.ib)(qf,m5),yield(0,te.ib)(Yf,v5),yield(0,te.ib)(Xf,h5)}function*b5(t){const e=jV(t);e.formId="0",yield sn(e),yield(0,te.xN)(Ao(e.formId))}var y5=Object.defineProperty,C5=Object.defineProperties,_5=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertySymbols,Jw=Object.prototype.hasOwnProperty,Qw=Object.prototype.propertyIsEnumerable,ex=(t,e,n)=>e in t?y5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gd=(t,e)=>{for(var n in e||(e={}))Jw.call(e,n)&&ex(t,n,e[n]);if(Yi)for(var n of Yi(e))Qw.call(e,n)&&ex(t,n,e[n]);return t},tx=(t,e)=>C5(t,_5(e)),w5=(t,e)=>{var n={};for(var r in t)Jw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Yi)for(var r of Yi(t))e.indexOf(r)<0&&Qw.call(t,r)&&(n[r]=t[r]);return n};function*x5(t){const e=t,{caption:n}=e,r=w5(e,["caption"]);yield(0,te.xN)(Jf(Gd({formName:n},r)))}function*nx(){yield(0,te.xN)(Qf())}function*rx(t){const{formId:e,status:n=!1,fileList:r=[]}=t,l=yield Fn(mc,{approveUpload:n,formId:e,fileList:r});yield wn({response:l})}function*S5(t){try{yield Xt();const{fileList:e}=t.payload;e.length&&(yield rx(tx(Gd({},t.payload),{status:!0})))}catch(e){yield St(e)}finally{yield nx(),yield Jt()}}function*P5(t){try{yield Xt();const{fileList:e}=t.payload;e.length&&(yield rx(tx(Gd({},t.payload),{status:!1})))}catch(e){yield St(e)}finally{yield nx(),yield Jt()}}function*I5(){yield(0,te.P2)(1e3,Ip,S5),yield(0,te.P2)(1e3,Op,P5)}function*O5(t){const{formId:e,value:n}=t,o={metaSet:{formId:e},value:n,id:e};yield(0,te.xN)(ep(o))}function*ox(){yield(0,te.xN)(tp())}function*lx(t){const{formId:e,value:n}=t,r={formId:e};n&&(r.value=n);const o=yield Fn(XS,r);yield wn({response:o})}function*E5(t){try{yield Xt(),yield lx(t.payload)}catch(e){yield St(e)}finally{yield ox(),yield Jt()}}function*k5(t){try{yield Xt(),yield lx(t.payload)}catch(e){yield St(e)}finally{yield ox(),yield Jt()}}function*j5(){yield(0,te.P2)(1e3,Ep,E5),yield(0,te.P2)(1e3,kp,k5)}var R5=Object.defineProperty,D5=Object.defineProperties,N5=Object.getOwnPropertyDescriptors,Xi=Object.getOwnPropertySymbols,ax=Object.prototype.hasOwnProperty,sx=Object.prototype.propertyIsEnumerable,ix=(t,e,n)=>e in t?R5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qo=(t,e)=>{for(var n in e||(e={}))ax.call(e,n)&&ix(t,n,e[n]);if(Xi)for(var n of Xi(e))sx.call(e,n)&&ix(t,n,e[n]);return t},La=(t,e)=>D5(t,N5(e)),cx=(t,e)=>{var n={};for(var r in t)ax.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xi)for(var r of Xi(t))e.indexOf(r)<0&&sx.call(t,r)&&(n[r]=t[r]);return n};function M5(t){return t.reduce((e,n)=>{var r;const o=n!=null&&n.error?"error":(r=n==null?void 0:n.resultAction)==null?void 0:r.action;if(!o)return e;let l;switch(o){case"loadData":l="loadDataActions";break;case"loadTabData":l="loadTabDataActions";break;case"breakClose":l="breakCloseActions";break;case"closeRequest":l="closeRequestActions";break;case"open":l="openActions";break;case"close":l="closeActions";break;case"refresh":l="refreshActions";break;case"error":l="errorActions";break;case"help":l="helpActions";break;case"download":l="downloadActions";break;case"print":l="printActions";break;case"upload":l="uploadActions";break;case"link":l="linkActions";break;case"updateRoleCenter":l="updateRoleCenterActions";break;case"chooseColor":l="chooseColorActions";break;case"execScript":l="execScriptActions";break;case"activate":l="activateActions";break;default:l="otherActions"}return e[l].push(n),e},{breakCloseActions:[],openActions:[],closeActions:[],closeRequestActions:[],refreshActions:[],loadDataActions:[],errorActions:[],helpActions:[],downloadActions:[],printActions:[],uploadActions:[],linkActions:[],updateRoleCenterActions:[],chooseColorActions:[],otherActions:[],execScriptActions:[],activateActions:[],loadTabDataActions:[]})}function*wn(t){var e;const{response:n,parentFormId:r,skipFormStackQueue:o=!1}=t,l=(n==null?void 0:n.result)||[];if(n!=null&&n.app&&(yield(0,te.gz)(gc({app:n.app}))),n!=null&&n.refreshMenu&&(yield HV()),n!=null&&n.refreshToolbar&&(yield WV()),!l.length&&!(n!=null&&n.interval))return;const i=M5(l),{breakCloseActions:c,closeActions:d,closeRequestActions:u,openActions:m,refreshActions:f,loadDataActions:p,errorActions:v,helpActions:g,downloadActions:b,printActions:h,uploadActions:C,linkActions:_,updateRoleCenterActions:O,chooseColorActions:M,execScriptActions:P,loadTabDataActions:S,activateActions:j,otherActions:k}=i;if(d.length)for(const A of d)yield o5({formId:A.resultAction.formId});if(c.length)for(const A of c)yield i5({formId:A.resultAction.formId});if(m.length){if(u.length){const A=l.findIndex(Z=>Z.resultAction.formId===r&&Z.resultAction.action==="closeRequest"),B=l.findIndex(Z=>Z.resultAction.action==="open");if(A<B){const Z=u.findIndex(V=>V.resultAction.formId===r);if(Z!==-1){const V=u.splice(Z,1)[0];yield za({formId:V.resultAction.formId})}}}for(const A of m)A.parentFormId=r,yield Zw(La(Qo({},A),{skipFormStackQueue:o}))}if(u.length)for(const A of u)yield za({formId:A.resultAction.formId});if(f.length)for(const A of f){const B=A,{resultAction:{formId:Z,formName:V,autoLock:D}}=B,H=cx(B,["resultAction"]);yield n5(Qo({formId:Z,formName:V,isAutoLock:D},H))}if(p.length)for(const A of p)yield Kw(A);if(S.length)for(const A of S){const{resultAction:{formId:B,formName:Z},state:V}=A;yield Kw(A),yield sn({formId:B,formName:Z,state:V})}if(O.length)for(const A of O)yield b5(A);if(P.length){const A={};P.forEach(B=>{const{controlId:Z,value:V}=B.resultAction;Ae(A,Z)?A[Z].value.push(V):A[Z]=La(Qo({},B.resultAction),{value:[V]})});for(const B in A)yield qw(A[B])}if(C.length)for(const A of C){const B=A.resultAction.uploadOptions,Z=La(Qo({},A.resultAction.uploadOptions),{serverConfig:{url:`../api/xcom/files/upload/${B.formId}`,process:{headers:{sessionUploadId:ac()}}}});yield x5(Z)}if(M.length)for(const A of M){const B=A.resultAction;yield O5(B)}if(v.length)for(const A of v){const B=A.error||{},{formId:Z,controlId:V,message:D="error",context:H=!1}=B,E=cx(B,["formId","controlId","message","context"]);yield(0,te.gz)(rp(Qo({formId:Z,controlId:V,message:D,context:H},E))),yield Gw({formId:Z}),yield r5({formId:Z,controlId:V})}if(g.length)for(const A of g){const{serviceURL:B}=(A==null?void 0:A.resultAction)||{},Z=!Ka(["safari"]);if(B)if(Z){const V="location=yes,resizable=yes,scrollbars=yes,status=yes, top=100, left=100, width=400, height=500";setTimeout(()=>{window.open(B,"_blank",V)})}else{let V=document.createElement("a");document.body.appendChild(V),V.style="display: none",V.target="_blank",V.href=B,V.click(),document.body.removeChild(V)}}if(b.length)for(const A of b){const{serviceURL:B}=(A==null?void 0:A.resultAction)||{};B&&window.open(B,"_blank")}if(_.length)for(const A of _){const{serviceURL:B}=(A==null?void 0:A.resultAction)||{};B&&window.open(B,"_blank")}if(h.length&&(yield(0,te.Cs)(LV,h)),j.length)for(const A of j){const B=A.resultAction;yield qw(B)}if(k.length)for(const A of k)console.warn(`Unknown action: '${(e=A==null?void 0:A.resultAction)==null?void 0:e.action}'!`,A);const w=l.find(A=>A.reminders!==void 0);yield(0,te.gz)(dp(w==null?void 0:w.reminders));const x=l.find(A=>A.Workers!==void 0),T=n==null?void 0:n.interval;if(x||T!==void 0)if(x)yield(0,te.gz)(la(La(Qo({},x.Workers),{interval:T})));else{const{workers:A}=yield(0,te.Ys)(Aw),B=A==null?void 0:A.interval;T!==B&&(yield(0,te.gz)(la(La(Qo({},A),{interval:T}))))}return i}var T5=Object.defineProperty,F5=Object.defineProperties,A5=Object.getOwnPropertyDescriptors,ux=Object.getOwnPropertySymbols,B5=Object.prototype.hasOwnProperty,$5=Object.prototype.propertyIsEnumerable,dx=(t,e,n)=>e in t?T5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z5=(t,e)=>{for(var n in e||(e={}))B5.call(e,n)&&dx(t,n,e[n]);if(ux)for(var n of ux(e))$5.call(e,n)&&dx(t,n,e[n]);return t},L5=(t,e)=>F5(t,A5(e));function*fx({loginRequestPayload:t,optionalData:e}){const{data:n}=t,r=n.sessionID;r&&af(r);let o=!0;if(Ae(n,"roles")){yield(0,te.gz)(cs({caption:"choose_role_form",component:"ChooseRoleForm",componentProps:{roles:n.roles}})),yield Jt();const{payload:l}=yield(0,te.qn)(us);if(yield Xt(),l){const{forceLogin:i}=e,c={role:l};i&&(c.forceLogin=i);const{data:d}=yield(0,te.RE)(VS,c);d.sessionID&&af(d.sessionID)}else o=!1,yield(0,te.gz)(aa())}if(o){const l=yield(0,te.RE)(Ef),i=c=>{var d;return((d=c.resultAction)==null?void 0:d.openMode)==="modal"};l.data.result&&l.data.result.some(i)?(yield wn({response:l.data}),yield(0,te.gz)(ds(l.data.result.find(i).resultAction.formId))):yield(0,te.RE)(Fw),yield(0,te.xN)(_c(L5(z5({},l.data),{isUserIntoTab:!0}))),aS(t.user),yield(0,te.xN)(xc()),yield(0,te.xN)(la())}}function*H5(t){try{yield Xt();let e;const{sso:n,forceLogin:r}=t;n?e=yield(0,te.RE)(RS,{forceLogin:r}):e=yield(0,te.RE)(DS,t),yield fx({loginRequestPayload:e,optionalData:{forceLogin:r}})}catch(e){if(ml(e)){if(ns(e)===na[3]&&(yield(0,te.xN)(fo({isError:!0,isSessionExist:!0,errorMessage:uo(e)}))),ns(e)===na[1]&&(yield(0,te.xN)(fo({isError:!1,isSessionExist:!1,errorMessage:""})),yield(0,te.gz)(oa({message:uo(e)}))),ns(e)===na[6]){yield(0,te.gz)(cs({caption:"change_password_dialog",component:"PasswordChangeForm"})),yield Jt();const{payload:n}=yield(0,te.qn)(us);if(yield Xt(),n)try{const r=yield(0,te.RE)(US,n);yield fx({loginRequestPayload:r,optionalData:{forceLogin:!0}})}catch(r){ml(r)&&(yield(0,te.xN)(fo({isError:!1,isSessionExist:!1,errorMessage:""}))),ts(r)&&(yield(0,te.gz)(oa({message:uo(r)})))}else yield(0,te.xN)(fo({isError:!1,isSessionExist:!1,errorMessage:""}))}ns(e)===na[4]&&(yield(0,te.xN)(fo({isError:!1,isSessionExist:!1,errorMessage:""})))}else yield(0,te.xN)(fo({isError:!1,isSessionExist:!1,errorMessage:""})),yield St(e)}finally{yield Jt()}}function*px(t=!1){lf(),yield(0,te.xN)(wc()),yield(0,te.xN)(hl({savePreloadingData:t}))}function*W5(){try{yield Xt(),yield(0,te.xN)(Uf()),(yield(0,te.RE)(NS)).request.responseURL&&(yield px())}catch(t){if(Ff(t)){yield px(!0);return}yield(0,te.xN)(xc()),ml(t)?yield(0,te.xN)(CP({isError:!0,errorMessage:uo(t)})):yield St(t)}finally{yield Jt()}}function*V5(){for(;;)try{const{isUserIntoTab:t}=yield(0,te.Ys)(K_);let e=null;if(!t){const{payload:r}=yield(0,te.qn)(Pp);e=yield(0,te.rM)(H5,r)}(yield(0,te.qn)([fo,aa])).type===aa.toString()&&(e&&(yield(0,te.al)(e)),yield W5())}catch(t){yield St(t)}}function*U5(t){try{const{payload:e}=t;yield C0.change(e.webUiLanguage)}catch(e){yield St(e)}}function*G5(){yield(0,te.ib)(Mc,U5)}const mx=60;let Ji=mx;const Z5=(t={})=>{const{interval:e,Progress:n}=t,r=n&&n.length;return e||(r?1:mx)};function*K5(){const{workers:t}=yield(0,te.Ys)(Aw);return Ji=Z5(t),yield(0,te.gw)(Ji*1e3),yield(0,te.rM)(q5)}function*q5(){var t,e;try{for(;;){const n=yield(0,te.RE)(FS),r=((t=n.data)==null?void 0:t.interval)&&n.data.interval!==Ji;((e=n.data)!=null&&e.result||r)&&(yield wn({response:n.data})),yield(0,te.gw)(Ji*1e3)}}catch(n){ml(n)||ts(n)||Ff(n)?(yield(0,te.gz)(aa()),yield(0,te.gz)(op({message:uo(n)||"error_lost_session"}))):console.error(n)}}function*Y5(){const{isUserIntoTab:t}=yield(0,te.Ys)(K_);for(;;)try{t||(yield(0,te.qn)(xc));const e=yield(0,te.Fm)([bc,la],K5);yield(0,te.qn)(Uf),yield(0,te.al)(e)}catch(e){yield St(e)}}function X5(t,e){var n,r,o,l,i,c;const{formId:d,type:u,controlId:m,subControlId:f,value:p}=e,v=(o=(r=(n=t.forms[d])==null?void 0:n.entities)==null?void 0:r[u])==null?void 0:o[m];if(u==="table"){const g=v==null?void 0:v.columnsData.find(b=>{var h;return((h=b==null?void 0:b.control)==null?void 0:h.name)===f});return(i=(l=g==null?void 0:g.control)==null?void 0:l.cacheValues)==null?void 0:i[p]}else return(c=v==null?void 0:v.cacheValues)==null?void 0:c[p]}var J5=Object.defineProperty,vx=Object.getOwnPropertySymbols,Q5=Object.prototype.hasOwnProperty,e8=Object.prototype.propertyIsEnumerable,hx=(t,e,n)=>e in t?J5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gx=(t,e)=>{for(var n in e||(e={}))Q5.call(e,n)&&hx(t,n,e[n]);if(vx)for(var n of vx(e))e8.call(e,n)&&hx(t,n,e[n]);return t};function*t8(t){var e,n,r;const o=yield Fn(LS,uf(t));return(r=(n=(e=o.data)==null?void 0:e.result)==null?void 0:n[0])!=null&&r.error?null:o.result[0].resultAction}function*bx(t){const{formId:e,controlId:n,value:r,type:o}=t;let l=null;const i=yield(0,te.Ys)(hn,e),c=(0,fr.ZP)(i.entities,d=>{var u,m;if(o==="table"){const f=n;if(r!=null&&r.cellData){const{cellData:p}=r,{columnIndex:v}=p;l=(u=d[o][f].columnsData[v])==null?void 0:u.control}}else if(o==="canvasGrid"){const f=n,{currentRow:p,currentCol:v}=t.state;l=d[o][f].gridMatrix[p-1][v-1]}else["string","integer","number","enum"].includes(o)&&(l=d[o][n]);if(l){const{reset:f,listValues:p,cashedValue:v}=r;if(f)l.cacheValues={},l.listValues=[];else{if(v&&o!=="enum"){const{cashedKey:g,cashedListValues:b}=v;(m=l.cacheValues)!=null&&m[g]||(l.cacheValues||(l.cacheValues={}),l.cacheValues[g]=b)}l.listValues=p||[]}}});yield sn({formId:e,entities:c})}function*yx({formId:t,controlId:e,type:n}){var r;const o=yield(0,te.Ys)(hn,t);if(!o)throw new Error(`\u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B ${t}`);const l=o.entities,i=(r=l==null?void 0:l[n])==null?void 0:r[e];if(!i)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${e}`);return{formId:t,controlId:e,type:n,value:{},entities:l,element:i}}function*Cx({payload:t}){try{yield(0,te.RE)(Xt);const{formId:e,formName:n,controlId:r,type:o,value:l,state:i}=t,c=(0,$t.get)(l,"cellData.rowId"),d={formId:e,formName:n,controlId:r,rowId:c,action:"autoComplete",value:l,state:i},u=yield yx({formId:e,controlId:r,type:o}),{element:m}=u;if(o==="table"&&(d.value=l.cellValue,d.controlId=l.controlId),o==="canvasGrid"&&(d.type=o),d.value!==""){const f={cashedValue:null,listValues:null},p=m.initialValue===l;let v=yield(0,te.Ys)(X5,t);if(v)f.listValues=v;else if(!p){const g=yield t8(d);g!=null&&g.listValues&&(f.cashedValue={cashedKey:d.value,cashedListValues:g.listValues},f.listValues=g.listValues,o==="canvasGrid"&&(u.state=i))}o==="table"?u.value=gx({cellData:l.cellData},f):u.value=f}yield bx(u)}catch(e){yield St(e)}finally{yield Jt()}}function*n8({payload:t}){try{yield Xt();const{formId:e,controlId:n,type:r,value:o}=t,l=yield yx({formId:e,controlId:n,type:r}),i={reset:!0};r==="table"?l.value=gx({cellData:o.cellData},i):l.value=i,yield bx(l)}catch(e){yield St(e)}finally{yield Jt()}}function*r8(){yield(0,te.Ds)(500,Sc,Cx),yield(0,te.P2)(1e3,Pc,Cx),yield(0,te.ib)(Ic,n8)}var o8=Object.defineProperty,l8=Object.defineProperties,a8=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,s8=Object.prototype.hasOwnProperty,i8=Object.prototype.propertyIsEnumerable,wx=(t,e,n)=>e in t?o8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,An=(t,e)=>{for(var n in e||(e={}))s8.call(e,n)&&wx(t,n,e[n]);if(_x)for(var n of _x(e))i8.call(e,n)&&wx(t,n,e[n]);return t},el=(t,e)=>l8(t,a8(e));function*Zd({response:t,action:e}){var n,r;const{payload:{formId:o,controlId:l,type:i,checkResponse:c}}=e;if(c){const d=((n=t==null?void 0:t.result)==null?void 0:n.length)&&t.result.find(m=>{var f;return((f=m.resultAction)==null?void 0:f.formId)===o});if(((r=d==null?void 0:d.state)==null?void 0:r.length)===0){const m=yield(0,te.Ys)(hn,o),f=(0,fr.ZP)(m,p=>{var v,g;const b=(g=(v=p.entities)==null?void 0:v[i])==null?void 0:g[l];if(!b)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${l}`);b.value=b.initialValue,b.formattedValue=b.initialFormattedValue});yield(0,te.xN)(Bo(f))}}}function*Cr({payload:t}){const{formId:e,controlId:n,value:r,type:o,parentType:l,skipDiffs:i,notValidValue:c}=t,d=yield(0,te.Ys)(hn,e);let u=!1;if(d&&r.eventType!=="onAutolock"){const m=(0,fr.ZP)(d,f=>{var p,v,g,b,h,C,_,O,M;const P=(v=(p=f.entities)==null?void 0:p[l||o])==null?void 0:v[n];if(!P)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${n}`);if(o==="table"){const S=P,j=n,{selectedRowIds:k,currentRowId:w}=S.initialValue;f.diffs[j]||(f.diffs[j]={currentRowId:((g=r.cellData)==null?void 0:g.rowId)||r.rowId||r.lastSelectedRowId||w||S.currentRowId,currentColumnId:((b=r.cellData)==null?void 0:b.columnId)||r.columnId||S.currentColumnId});const x=f.diffs[j];if(r&&(f.entities[o][j]=An({},S)),r!=null&&r.selectedRowIds&&(f.entities[o][j].selectedRowIds=r.selectedRowIds,r.selectedRowIds&&!(0,$t.isEqual)(r.selectedRowIds,k)?x.selectedRows=r.selectedRowIds:x==null||delete x.selectedRows),Ae(r,"rowId")&&r.rowId){const T=f.entities[o][j],A=r.rowId,B=A==="serviceRow"&&((C=(h=T.rowsData)==null?void 0:h[0])==null?void 0:C.rowId)!=="serviceRow";x.currentRowId=B?w:A,A&&!B&&(T.currentRowId=A)}if(Ae(r,"columnId")){const T=f.entities[o][j];T.currentColumnId=r.columnId,x.currentColumnId=r.columnId}if(Ae(r,"eventType")){const{cellData:T,cellValue:A}=r,{rowId:B,rowIndex:Z,columnId:V}=T,D=f.entities[o][j].rowsData[Z][V];let H=A,E=A;H instanceof Object&&A.root&&(H=A.root,E=A.keyValue),u=[void 0,null,""].includes(H)?!!(D!=null&&D.initialValue)!=!!H:(D==null?void 0:D.initialValue)!==H;let R=(x==null?void 0:x.rowsData)||[];const L=R.findIndex(U=>U.rowId===B);u&&!i?L!==-1?R[L]=el(An({},R[L]),{[V]:E}):R.push({rowId:B,[V]:E}):L!==-1&&R.splice(L,1),x.rowsData=R,D.value=u?H:D.initialValue}(0,$t.isEqual)(x,{selectedRowIds:k,currentRowId:w})&&delete f.diffs[j],(0,$t.isEqual)(x,{rowsData:[]})&&delete f.diffs[j]}else if(o==="grid"){const S=P,j=n;f.diffs[j]||(f.diffs[j]={});const k=f.diffs[j];r&&(f.entities[o][j]=An({},S)),r.cellsData||(r.cellsData=[r]),r.cellsData.forEach(w=>{if(Ae(w,"rowId")&&(f.entities[o][j].currentRowId=w.rowId),Ae(w,"columnId")&&(f.entities[o][j].currentColumnId=w.columnId),Ae(w,"eventType")){const{cellData:x,cellValue:T}=w,{rowId:A,columnId:B}=x,Z=f.entities[o][j].cells[A][B],V=(Z==null?void 0:Z.initialValue)!==T;u=u||V,k.cells||(k.cells={});const D=An({},k.cells);D[A]?D[A]=An({},D[A]):D[A]={},V?D[A][B]=(T==null?void 0:T.keyValue)||T:(delete D[A][B],Object.keys(D[A]).length||delete D[A]),k.cells=D,Z.value=V?(T==null?void 0:T.root)||T:Z.initialValue}}),(0,$t.isEqual)(k,{cells:{}})&&delete f.diffs[j]}else if(o==="tree"){const S=f.entities[o][n],j=r,k=S.entities[j],w=No({source:S.schema,searchKey:"nodeId",searchValue:j,iterationKey:"elements"});if(!k||!w)throw new Error("setElementValueSaga: \u041D\u0435\u0442 nodeEntity \u0438\u043B\u0438 nodeSchema");const{openNodesIds:x}=S;!!(x&&x.includes(j))?S.openNodesIds=x.filter(A=>A!==j):(_=w.elements)!=null&&_.length?S.openNodesIds=[...x,j]:u=!0}else if(["string","integer","number","enum","date"].includes(o)){const S=f.entities[o][n];let j=r,k=r;r instanceof Object&&r.root&&(j=r.root,k=r.keyValue),u=S.initialValue!==j,o==="string"&&S.formattedValue!==j&&(u=!0),(u||c)&&(S.value=j,S.formattedValue=j),u&&!i?f.diffs[n]=k:Ae(f.diffs,n)&&delete f.diffs[n]}else if(o==="chart")f.diffs[n]=r,u=!0;else if(o==="box")f.entities[o][n]=An({},P);else if(o==="tabs")r&&(i?f.entities[l][n]=el(An({},P),{activeTab:r}):(f.entities[l][n]=(M=(O=f.entities[l][n])==null?void 0:O.eventsTabs)!=null&&M.onClick?el(An({},P),{activeTab:r}):An({},P),f.diffs[n]={activeTab:r}),u=!0);else if(o==="report"){if(r){const S=P,{selectedCellId:j,cellInfo:k}=r;if(j)S.selectedCellId=j;else if(k){const{value:w,collapsedRows:x}=S,{"data-tab":T,"data-row":A,"data-lvl":B,"data-ind":Z}=k,V=Tu(Z),D=pD({dataTab:T,dataRow:A,dataLvl:B}),H=ph(T);let E=w.match(H);if(!E){let L=Nu(w);if(!L)return;E=L}E=E.join("");const R=`${n}${T}${A}${B}`;if(V==="onCollapse"){const L=T?new RegExp(`(<tr.*?data-tab="${T}".*?data-row="${A}".*?data-lvl="${B}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<tr.*?data-lvl="(${Fu(B)})"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):new RegExp(`(<tr.*?data-row="${A}".*?data-lvl="${B}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<tr.*?data-lvl="(${Fu(B)})"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi");let U=E.match(L);if(U){let G=U.join("").match(new RegExp(`<tr.*?data-lvl="(${Fu(B)})"[\\s\\S]*?>([\\s\\S]*?)<\\/([\\s\\S]*?)tr>`,"gi"));G&&(U=U.join("").replace(G[1],""))}else{const G=T?new RegExp(`(<tr.*?data-tab="${T}".*?data-row="${A}".*?data-lvl="${B}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<\\/([\\s\\S]*?)table>)`,"gi"):new RegExp(`(<tr.*?data-row="${A}".*?data-lvl="${B}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<\\/([\\s\\S]*?)table>)`,"gi");if(U=E.match(G),U)U=U.join("").slice(0,-8);else return}const q=U.match(D).join("").replace('data-ind="h;0','data-ind="h;1').replace(">-<",">+<");let W=E.replace(U,q);S.value=w.replace(E,W),S.collapsedRows=U&&R?el(An({},x),{[R]:U}):{}}else if(V==="onExpand"){let L=x[R];if(L){let U=E.replace(D,L);S.value=w.replace(E,U)}else S.reservedRow=E.match(D).join("").replace('data-ind="h;1','data-ind="h;0').replace(">+<",">-<"),u=!0}}f.entities[o][n]=S}}else o==="upload"?f.entities[o][n]=el(An({},P),{value:r}):(f.entities[o][n]=An({},P),u=r!==P.initialValue,u&&!i?f.diffs[n]=r:Ae(f.diffs,n)&&delete f.diffs[n])});yield(0,te.xN)(Bo(m))}return u}function*c8(t){var e,n,r,o,l,i,c,d;try{const{payload:{formId:u,formName:m,isModal:f,showIndicator:p=!0,type:v,controlId:g,action:b,value:h,roleCenterFormId:C,href:_,commandName:O}}=t;let M=g,P=b;const S={},j=yield(0,te.Ys)(f4,M);let k=["loadData","onLookup"].includes(P);if(!k&&!j)if(v==="table"){if(["onEnter","hierarchyUp","onSummaryClick","onDblClick","clickIcon","onTop","onBottom","onPgUp","onPgDn","onNavigation"].includes(P))k=!0;else if(P==="onHeaderClick")k=!0,M=h,P="onClick";else if(P==="onMenuItemSelect")k=!0,S.menuItem=h.menuItem,S.menuRowId=h.rowId,S.menuColumnId=h.columnId,P="onClick";else if(P==="onHeaderCtxMenuClick"){k=!0;const{hidden:x,menuItem:T}=h;S.columns=[{columnId:T,hidden:x}],P="onHeaderCtxMenuClick"}else if(["onRowsBlur","onMove"].includes(P)){const{isEditableCardFile:x,value:{rowId:T,submit:A}}=t.payload;yield(0,te.RE)(Cr,t),x&&T&&A!==!1&&(k=!0)}else if(Ae(t==null?void 0:t.payload,"value")){const{controlType:x,controlId:T,eventType:A,controlEvents:B,cellValue:Z}=h;if(x)switch(M=T,P=A,B!=null&&B[A]&&(P=B[A]),x){case"button":{k=!0;break}case"listButton":{M=Z,k=!0;break}case"string":case"number":case"enum":case"integer":if(["onLookup","onClick","onDblClick"].includes(P)){k=!0;break}default:Ae(t==null?void 0:t.payload,"value")&&(k=yield(0,te.RE)(Cr,t))}else k=yield(0,te.RE)(Cr,t)}}else if(v==="grid")if(P==="onHeaderEvent")k=!0,P=h.event,M=h.headerId;else if(P==="onMenuItemSelect")k=!0,S.menuItem=h.menuItem,S.menuRowId=h.rowId,S.menuColumnId=h.columnId,S.state={},S.state[g]={currentRowId:h.rowId,currentColumnId:h.columnId,selectedCells:h.selectedCells},P="onClick";else if(P==="onLoadData")k=!0,P="loadData",S.data=h;else{const{controlType:w,eventType:x}=h;(w||(n=(e=h==null?void 0:h.cellsData)==null?void 0:e[0])!=null&&n.controlType)&&(x==="onLookup"?(k=!0,P=x,S.rowId=h.cellData.rowId,S.columnId=h.cellData.columnId):x==="onAutolock"?P=x:x==="onClickCell"?(k=!0,P=x,S.state={currentRowId:h.rowId,currentColumnId:h.columnId},S.eventType=h.cellValue):(P="onChange",Ae(t==null?void 0:t.payload,"value")&&(k=yield(0,te.RE)(Cr,t))))}else if(v==="canvasGrid")if(["onEnter","onLoadData","onDblClick","onClick","onLookup","onNavigation"].includes(P)&&(k=!0),P==="onLoadData")P="loadData",S.viewBox=h;else if(P==="onNavigation"){P="onMove";const{X:x,Y:T}=h;S.state={},S.state[M]=el(An({},h),{currentCol:x,currentRow:T})}else if(P==="onPasteCells")P="onEnter",Ae(t==null?void 0:t.payload,"value")&&(k=yield(0,te.RE)(Cr,t));else{if(h.cells===void 0&&h.currentCol&&h.currentRow){const{currentCol:x,currentRow:T}=h;Ae(h,"value")&&(h.cells=[{col:x,row:T}],h.cells[0].value=h.value,delete h.value)}S.state={},S.state[M]=h}else if(["button","listButton","label"].includes(v))k=!0,O==="@Cmd:Print=\u041F\u0435\u0447\u0430\u0442\u044C"&&yD("report");else if(v==="box")k=yield(0,te.RE)(Cr,t);else if(v==="tabs")k=yield(0,te.RE)(Cr,t);else if(v==="upload")P==="approveUpload"&&(S.fileName=[]),yield(0,te.RE)(Cr,t);else if(v==="tree")switch(S.nodeId=h,P){case"onClickAdd":case"onDblClick":case"onChange":k=!0;break;case"onExpand":k=yield(0,te.RE)(Cr,t);break;default:break}else if(v==="report")switch(P){case"onDblClick":case"onClick":S.reportInfo=h,k=!0;break;case"onExpand":case"onCollapse":{if(k=yield(0,te.RE)(Cr,t),k){const{cellInfo:w}=h;S.reportInfo=w}break}default:yield(0,te.RE)(Cr,t);break}else Ae(t==null?void 0:t.payload,"value")&&(_&&(S.href=_),k=yield(0,te.RE)(Cr,t));if(P){if(P==="changeSpoiler"){const{isCollapsed:w}=h,x=yield Fn(dP,{formId:u,formName:m,containerId:M,isCollapsed:w});yield wn({response:x,parentFormId:f?null:u})}else if(["onEdit","onDblClick"].includes(P))try{p&&(yield Xt());const w=yield Rr(An({formId:u,roleCenterFormId:C,controlId:M,action:P},S));yield Zd({response:w,action:t}),yield wn({response:w,parentFormId:f?null:u}),((l=(o=(r=w==null?void 0:w.result)==null?void 0:r[0])==null?void 0:o.resultAction)==null?void 0:l.autoLock)&&P==="onEdit"&&((c=(i=t.payload)==null?void 0:i.value)==null||delete c.eventType,yield(0,te.gz)(dr(el(An({},t.payload),{action:"onAutolock"}))))}catch(w){yield St(w)}finally{p&&(yield Jt())}else if(P!=="onBlur"&&k)try{p&&(yield Xt()),P==="onLookup"&&v==="canvasGrid"&&(S.state=h);const w=yield Rr(An({formId:u,roleCenterFormId:C,controlId:M,action:P},S));w!=null&&w.sessionLogout&&Ge.onLogOut(),yield Zd({response:w,action:t}),["button","chart"].includes(v)&&(yield Gw({formId:u})),yield wn({response:w,parentFormId:f?null:u})}catch(w){yield St(w)}finally{p&&(yield Jt())}else if(P==="onMove"){if(h.submit===!1)return;const w=yield Rr(An({formId:u,roleCenterFormId:C,controlId:M,action:P},S));yield Zd({response:w,action:t}),yield wn({response:w,parentFormId:u})}else if(P==="onAutolock"){const w=yield(0,te.Ys)(hn,u);if(!w)throw new Error(`\u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B ${u}`);const x=w.isAutoLock?yield Rr({formId:u,action:"lock"}):null,T=(d=x==null?void 0:x.result)==null?void 0:d[0],A=(0,fr.ZP)(w,B=>{var Z,V,D,H,E,R,L,U,q,W,G,J;let oe=null;if(v==="table"){const{rowIndex:ce}=h.cellData;oe=(E=(H=(D=(V=(Z=B.entities)==null?void 0:Z[v])==null?void 0:V[g])==null?void 0:D.rowsData)==null?void 0:H[ce])==null?void 0:E[M]}else if(v==="grid"){const{rowId:ce,columnId:N}=h;oe=(W=(q=(U=(L=(R=B.entities)==null?void 0:R[v])==null?void 0:L[g])==null?void 0:U.cells)==null?void 0:q[ce])==null?void 0:W[N]}else oe=(J=(G=B.entities)==null?void 0:G[v])==null?void 0:J[M];if(!oe)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${M}`);oe.isDisabledByAutolock=!!(T!=null&&T.error)});yield(0,te.xN)(Bo(A)),yield wn({response:x,parentFormId:u})}else if(P==="onShowContextMenu"){const{payload:{formId:w,formName:x,value:T,controlId:A}}=t;if(A){const B={formId:w,controlId:A,formName:x,action:"showPopupMenu"};T&&(B.state={},B.state[A]=T);const Z=yield Rr(B);Z&&(yield wn({response:Z,parentFormId:w}))}}}}catch(u){yield St(u)}}function*u8(){const t=yield(0,te.ZO)(dr);for(;;){const e=yield(0,te.qn)(t);yield c8(e)}}function*d8(t){var e,n,r;const o=yield Fn(zS,uf(t));return(r=(n=(e=o.data)==null?void 0:e.result)==null?void 0:n[0])!=null&&r.error?null:o.result[0].resultAction}function*f8(t){try{yield(0,te.RE)(Xt);const{formId:e,controlId:n,type:r,event:o,value:{columnName:l,isCardFile:i}}=t.payload;if(i){const c=yield(0,te.Ys)(hn,e),u=yield d8({formId:e,controlId:n,columnId:l});if(!u)throw new Error("getCtxMenuListTask: \u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");const m=(0,fr.ZP)(c.entities,f=>{if(r==="table"){const p=f[r][n];p.contextHeader={list:u.listHeaderCtxMenu,target:l,event:o}}});yield sn({formId:e,entities:m})}}catch(e){yield St(e)}finally{yield Jt()}}function*p8(t){try{yield(0,te.RE)(Xt);const{formId:e,controlId:n,type:r}=t.payload;if(n==="CardFile"){const o=yield(0,te.Ys)(hn,e),l=(0,fr.ZP)(o.entities,i=>{if(r==="table"){const c=i[r][n];delete c.contextHeader}});yield sn({formId:e,entities:l})}}catch(e){yield St(e)}finally{yield Jt()}}function*m8(){yield(0,te.Ds)(500,mp,f8),yield(0,te.ib)(vp,p8)}var v8=Object.defineProperty,Qi=Object.getOwnPropertySymbols,xx=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable,Px=(t,e,n)=>e in t?v8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h8=(t,e)=>{for(var n in e||(e={}))xx.call(e,n)&&Px(t,n,e[n]);if(Qi)for(var n of Qi(e))Sx.call(e,n)&&Px(t,n,e[n]);return t},g8=(t,e)=>{var n={};for(var r in t)xx.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qi)for(var r of Qi(t))e.indexOf(r)<0&&Sx.call(t,r)&&(n[r]=t[r]);return n};function b8(t,e){var n;if((n=t==null?void 0:t.result)!=null&&n.length)for(const r of t.result)r!=null&&r.resultAction&&(r.resultAction.action==="updateRoleCenter"?r.resultAction.commandName=tf:r.resultAction.commandName=e)}function*Kd(t){try{yield(0,te.RE)(Xt);const{payload:e}=t,n=e,{id:r,controlId:o,advanced:l,mode:i,loaded:c}=n,d=g8(n,["id","controlId","advanced","mode","loaded"]);let u;c?u=c:u=yield Fn(iP,h8({commandName:r,controlId:o,advanced:l},d)),b8(u,r),yield(0,te.RE)(wn,{response:u}),u.refreshMenu&&i==="toolbarClick"&&(yield(0,te.xN)(Rc(!0)))}catch(e){yield(0,te.RE)(St,e)}finally{yield(0,te.RE)(Jt)}}function*y8(){yield(0,te.P2)(1e3,gp,Kd),yield(0,te.P2)(1e3,Dc,Kd),yield(0,te.P2)(1e3,bp,Kd)}function C8(t){var e;let n=null;if((e=t==null?void 0:t.result)!=null&&e.length){const r=t==null?void 0:t.result.filter(c=>{const{openMode:d,action:u}=c.resultAction||{};return u==="open"&&d==="new"}),o=t==null?void 0:t.result.filter(c=>{const{action:d}=c.resultAction||{};return d==="updateRoleCenter"}),l=r.find(c=>c.resultAction.isActive);o.find(c=>c.resultAction.isActive)?n="0":l?n=l.resultAction.formId:r.length?n=r[r.length-1].resultAction.formId:n="0"}return n}function*_8(t){try{yield Xt();const e=yield Fn(cP,t.payload);yield wn({response:e,skipFormStackQueue:!0});const n=C8(e);yield(0,te.xN)(Ao(n))}catch(e){yield St(e)}finally{yield Jt()}}function*w8(){yield(0,te.ib)(bc,_8)}function*x8(t){yield(0,te.xN)(ap(t))}function*S8(t){if(t!=null&&t.payload){const{formId:e,controlId:n,formName:r,type:o}=t.payload;yield x8({action:"onEnter",formId:e,controlId:n,formName:r,type:o})}}function*P8(){yield(0,te.ib)(Ec,S8)}function*I8(t={}){try{yield Xt();const e=yield Fn(AS,t.payload);yield wn({response:e})}catch(e){yield St(e)}finally{yield Jt()}}function*O8(){yield(0,te.P2)(1e3,sp,I8)}function*E8(t={}){var e;try{const n=yield Fn(BS,t.payload),r=(e=t==null?void 0:t.payload)==null?void 0:e.formId;yield wn({response:n,parentFormId:r})}catch(n){yield St(n)}finally{}}function*k8(){yield(0,te.ib)(ip,E8)}function*j8(t){var e,n,r;const o=yield Fn(HS,t);return(r=(n=(e=o.data)==null?void 0:e.result)==null?void 0:n[0])!=null&&r.error?null:o.result[0].resultAction}function*R8({payload:t}){try{yield(0,te.RE)(Xt);const{formId:e,formName:n,controlId:r,type:o,value:l}=t,i={formId:e,formName:n,controlId:r,action:"onHint"};o==="table"&&(i.rowId=l.cellData.rowId,i.controlId=l.controlId);const d=(yield j8(i)).hint,u=yield(0,te.Ys)(hn,e);if(!u)throw new Error(`\u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B ${e}`);const m=(0,fr.ZP)(u.entities,f=>{var p;const v=(p=f==null?void 0:f[o])==null?void 0:p[r];if(!v)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${r}`);if(o==="table"){const g=v.rowsData.find(b=>b.rowId===i.rowId);g&&(g[l.controlId].hint=d)}else v.hint=d;f[o][r]=v});yield sn({formId:e,entities:m})}catch(e){yield St(e)}finally{yield Jt()}}function*D8(){yield(0,te.Ds)(150,jc,R8)}var N8=Object.defineProperty,M8=Object.defineProperties,T8=Object.getOwnPropertyDescriptors,ec=Object.getOwnPropertySymbols,Ix=Object.prototype.hasOwnProperty,Ox=Object.prototype.propertyIsEnumerable,Ex=(t,e,n)=>e in t?N8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F8=(t,e)=>{for(var n in e||(e={}))Ix.call(e,n)&&Ex(t,n,e[n]);if(ec)for(var n of ec(e))Ox.call(e,n)&&Ex(t,n,e[n]);return t},A8=(t,e)=>M8(t,T8(e)),B8=(t,e)=>{var n={};for(var r in t)Ix.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ec)for(var r of ec(t))e.indexOf(r)<0&&Ox.call(t,r)&&(n[r]=t[r]);return n};function*$8(t){try{const{payload:e}=t,n=e,{type:r,value:o}=n,l=B8(n,["type","value"]);if(!r)return;yield Fn(mc,A8(F8({},l),{value:o,action:"clipboard"+r[0].toUpperCase()+r.substring(1)}))}catch(e){yield St(e)}}function*z8(){yield(0,te.ib)(Rp,$8)}function*L8(){yield(0,te.$6)([zV(),G5(),V5(),r8(),u8(),g5(),I5(),y8(),w8(),Y5(),j5(),m8(),P8(),O8(),k8(),D8(),z8()])}var E6={popperIconSize:"18px",primaryColor:"#0bd688"},H8=Object.defineProperty,W8=Object.defineProperties,V8=Object.getOwnPropertyDescriptors,kx=Object.getOwnPropertySymbols,U8=Object.prototype.hasOwnProperty,G8=Object.prototype.propertyIsEnumerable,jx=(t,e,n)=>e in t?H8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qd=(t,e)=>{for(var n in e||(e={}))U8.call(e,n)&&jx(t,n,e[n]);if(kx)for(var n of kx(e))G8.call(e,n)&&jx(t,n,e[n]);return t},Z8=(t,e)=>W8(t,V8(e)),K8=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});Xe.dispatch(Vf(zx.i8)),C0.init(sf()),function(){return K8(this,null,function*(){var e;let n=null;try{const r=yield YS();eu(r.languages.webUiLanguage,(e=r.app)==null?void 0:e.appCaption),yield Xe.dispatch(gc(r)),rs.initState();const o=ac();if(o){const l=yield Tf(),i=yield uP();let c=l.menuData;c=Hd(c);const d=l.toolbarData;Xe.dispatch(_c(Z8(qd({},i.data),{isUserIntoTab:o})));const u=Td(d);Xe.dispatch(ss(u)),Xe.dispatch(os({menu:qd(qd({},c),rs.getState())}))}}catch(r){lf(),Xe.dispatch(wc()),Xe.dispatch(hl()),ra(r)?n=r:console.error(r)}finally{if(s0.run(L8),(0,Lx.s)(document.getElementById("react-view")).render((0,s.jsx)(Hx.UT,{children:(0,s.jsx)(st.zt,{store:Xe,children:(0,s.jsx)(pW,{})})})),n){let o="";ml(n)?(o=uo(n)||"empty_message",Xe.dispatch(is({message:o}))):ts(n)&&(o=uo(n)||"empty_message",Xe.dispatch(oa({message:o})))}}})}()}},function(Ql){var Yd=function(s){return Ql(Ql.s=s)};Ql.O(0,[216],function(){return Yd(31829)});var He=Ql.O()}]);
