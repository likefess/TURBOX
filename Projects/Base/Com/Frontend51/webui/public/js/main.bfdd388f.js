"use strict";(self.webpackChunkturbo_frontend=self.webpackChunkturbo_frontend||[]).push([[179],{97367:function(Ql,Yd,Ve){var s=Ve(85893),Vx={i8:"10.5.1-38"},Ux=Ve(20745),Gx=Ve(79655),lt=Ve(86706),uo=Ve(91033),SU=Ve(27562),PU=Ve(32377),Zx=Ve(9669),Kx=Ve.n(Zx),qx=Ve(82701),Yx=Ve(14670),Cr=Ve.n(Yx),Xd=Ve(97234),nr=Ve(25935),Xx=Ve(20640),Jx=Ve.n(Xx),Qx=Ve(49546),eS=Ve(89537);const $e=(t,e)=>Object.prototype.hasOwnProperty.call(t||{},e||"");var tS=Object.defineProperty,Va=Object.getOwnPropertySymbols,Jd=Object.prototype.hasOwnProperty,Qd=Object.prototype.propertyIsEnumerable,ef=(t,e,n)=>e in t?tS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nc=(t,e)=>{for(var n in e||(e={}))Jd.call(e,n)&&ef(t,n,e[n]);if(Va)for(var n of Va(e))Qd.call(e,n)&&ef(t,n,e[n]);return t},rc=(t,e)=>{var n={};for(var r in t)Jd.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Va)for(var r of Va(t))e.indexOf(r)<0&&Qd.call(t,r)&&(n[r]=t[r]);return n};const tf="SystemBase.Cmd.RoleCenter",Do={AUTHORIZED:"authorized",URL_PARAMS:"urlParams"};function Ua(t,e="GUID",n){if(t&&t instanceof Object){let r=t.name||Cr().generate();n!=null&&n.length&&(r=Za([...n,r])),t[e]=r}return t}function Ga(t,e,n="GUID",r){return t&&Array.isArray(t)&&t.length&&t.forEach(o=>{if(Ua(o,n,r),e){const l=$e(o,e)&&o[e];Array.isArray(l)&&l.length&&Ga(l,e,n,r)}}),t}function Za(t){let e="";return t!=null&&t.length&&(e=t.reduceRight((n,r)=>r?`${r.trim().replaceAll(" ","-")}${n?"_"+n:""}`:n,e)),e}function nf(t="/icons/"){let e=window.location.href,n=e.split(":")[0]+"://",r="/"+e.split("/")[3];return(r==="/webui"||r==="/#")&&(r=""),n+window.location.host+r+t}function en(t){return t?nf()+t:""}const oc=t=>t?t.includes("http")?t:window.location.origin+t:"";function nS(t){return t?nf("/webui/")+t:""}function rS(t="",e=80,n=`
`,r=!1,o=2){let l=e;if(l>>>=0,l===0||t.length<=l)return t;let i=t.split(`
`).map(c=>{if(c.length<=l)return c;let d=c.split(" ");if(r){let f=[];for(const p of d)if(p.length>l){let v=0;const b=p.length;for(;v<b;)f.push(p.slice(v,Math.min(v+l,b))),v+=l}else f.push(p);d=f}let u=d.shift(),m=l-u.length;for(const f of d)f.length+1>m?(u+=n+f,m=l-f.length):(u+=" "+f,m-=1+f.length);return u}).join(`
`).split(`
`);if(i.length>o){i.splice(o,i.length);let c=i.length-1;i[c].length>l-3&&(i[c]=i[c].slice(0,-3)),i.push("...")}return i=i.join(`
`),i}function rf(t){let e=new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"),n=document.cookie.match(e);return n?decodeURIComponent(n[1]):void 0}function of(t,e,n){let r=n||{},o=r.expires,l=new Date,i,c,d;typeof o=="number"&&o&&(l.setTime(l.getTime()+o*1e3),o=r.expires=l),o&&o.toUTCString&&(r.expires=o.toUTCString()),d=t+"="+encodeURIComponent(e);for(i in r)$e(r,i)&&(d+="; "+i,c=r[i],c!==!0&&(d+="="+c));document.cookie=d}function IU(t){of(t,"",{path:"/",expires:-1})}const lc="authToken";function ac(){return sessionStorage.getItem(lc)||null}function lf(){sessionStorage.removeItem(lc)}function af(t){sessionStorage.setItem(lc,t)}function oS(){return window.navigator.language.substr(3).toLowerCase()||"ru"}function sf(){return rf("language")||oS()}function lS(t,e){e&&typeof e=="string"&&(document.title=e)}function Ka(t=[]){if(!t.length)return!0;const e=(0,qx.detect)();return t.indexOf(e.name)!==-1}function OU(t,e){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>=r.top&&n.left>=r.left&&n.bottom<=r.bottom&&n.right<=r.right}function aS(){document.querySelectorAll("iframe").forEach(t=>{const e=t.style.pointerEvents;t.style.pointerEvents="none",window.addEventListener("mouseup",()=>{t.style.pointerEvents=e},{once:!0})})}function cf({rowId:t,rowControlId:e,tableControlId:n,controlId:r,formId:o}){return n?e?document.querySelector(`[id="${r}-${e}-${n}"]`):t?document.querySelector(`[id="${r}-${t}-${n}"]`):document.querySelector(`[id="${r}-serviceRow-${n}"]`):o?document.querySelector(`[id="${o}"] [data-name="${r}"]`):document.querySelector(`[data-name="${r}"]`)}function uf(t){const e={state:{}};return Object.keys(t).forEach(n=>{n!=="formStack"&&(e[n]=t[n])}),e.action==="autoComplete"?(delete e.action,e.type!=="canvasGrid"?delete e.state:delete e.type,e):($e(e,"value")&&(e.state[e.controlId]=e.value),delete e.value,e)}const No=t=>Array.isArray(t)?t:[t];function Mo({source:t,iterationKey:e,searchKey:n,searchValue:r}){var o;if(!t||!e||!n||!r)return null;if(Array.isArray(t))return t.map(l=>Mo({source:l,iterationKey:e,searchKey:n,searchValue:r})).reduce((l,i)=>i||l,null);if(t[n]===r)return t;if((o=t[e])!=null&&o.length)return t[e].reduce(function(l,i){return l||Mo({source:i,iterationKey:e,searchKey:n,searchValue:r})},null)}function $t(t){return Number.isFinite(t)?Math.round(parseFloat(t)*3.8):t||null}function Vt(t){let e=$t(t);return Number.isFinite(e)&&(e+="px"),e}function EU(t,e){let n={minWidth:0,width:0,maxWidth:0};if(e){const r=e,{width:o,minWidth:l,maxWidth:i,height:c,flexGrow:d}=r,u=rc(r,["width","minWidth","maxWidth","height","flexGrow"]),m=o||d;if(n=nc({},u),t){const f=Vt(m);n.minWidth=f,n.width=f,n.maxWidth=f}else n.flexGrow=m,n.width=null,n.minWidth=Vt(l),n.maxWidth=Vt(i);checkOwnProperty(e,"height")&&(n.height=Number.isFinite(c)?Vt(c):c)}return n}function Hn({isFixSize:t,style:e,type:n}){const r=e||{},{minWidth:o,width:l,maxWidth:i}=r,c=rc(r,["minWidth","width","maxWidth"]),d=1;if(o||l||i){let u="initial";const m=["string","enum","date","number","button","listButton"];if(t&&l){const f=l-d;!f&&m.includes(n)&&(c.borderLeft="none",c.borderRight="none",c.paddingLeft=0,c.paddingRight=0),u=Vt(f)}else t||(u="auto");["button","listButton","date"].includes(n)&&(c.paddingLeft=Vt(c.paddingLeft),c.paddingRight=Vt(c.paddingRight),c.paddingBottom=Vt(c.paddingBottom),c.paddingTop=Vt(c.paddingTop)),!t&&l&&o&&l<=o?c.minWidth=u:c.minWidth=o?Vt(o-d):u,c.width=u,c.maxWidth=i&&t?Vt(i-d):u}return c}function sS(t){const{minWidth:e,width:n,maxWidth:r}=t,o={};return e&&(o.minWidth=$t(e)),n&&(o.width=$t(n)),o.maxWidth=r===0?"initial":$t(r),nc(nc({},t),o)}function iS(t){if(!t)return[{},{}];const e=t,{width:n,minWidth:r,maxWidth:o,height:l,minHeight:i,maxHeight:c}=e,d=rc(e,["width","minWidth","maxWidth","height","minHeight","maxHeight"]);return[{width:n,minWidth:r,maxWidth:o,height:l,minHeight:i,maxHeight:c},d]}function cS(t,e){const n={};return t.forEach(r=>{n[r[e]]=r}),n}function dl(t,e,n,r){var o;const l=t.findIndex(u=>u[e]===n);if(l===-1)return null;const i=l===0,c=l===t.length-1;let d=l;return r===1&&!c?d+=1:r===-1&&!i&&(d-=1),((o=t[d])==null?void 0:o[e])||null}function uS(t){var e;const n=((e=localStorage.getItem("enteredLogins"))==null?void 0:e.split(","))||[];n.includes(t)||(n.push(t),localStorage.setItem("enteredLogins",n.join(",")))}function df(){var t;return(((t=localStorage.getItem("enteredLogins"))==null?void 0:t.split(","))||[]).map((e,n)=>({key:String(n),value:e}))}function kU(t){var e;const n=((e=localStorage.getItem("enteredExpressions"))==null?void 0:e.split(","))||[];n.includes(t)||(n.push(t),localStorage.setItem("enteredExpressions",n.join(",")))}function jU(){var t;return(((t=localStorage.getItem("enteredExpressions"))==null?void 0:t.split(","))||[]).map((e,n)=>({key:String(n),value:e}))}function dS(){return rf("debug")==="true"}function sc(t){const e=[];function n(r){r.forEach(o=>{var l,i;o.expandDirection==="prev"?((l=o.branches)!=null&&l.length&&o.isExpanded&&n(o.branches),o.nodes?n(o.nodes):e.push(o)):(o.nodes?n(o.nodes):e.push(o),(i=o.branches)!=null&&i.length&&o.isExpanded&&n(o.branches))})}return n(t),e}function ff(t,e){const n=[];return n.push(t==null?void 0:t.nodeId),!(t!=null&&t.elements)||!e.includes(t.nodeId)||t.elements.forEach(r=>{n.push(...ff(r,e))}),n}function ic(t,e){if(t.nodeId===e)return t;if(t.elements){let n=null;for(let r=0;n===null&&r<t.elements.length;r++)n=ic(t.elements[r],e);return n}return null}const qa=t=>{const e=(0,Xd.Z)(t),n=e.getFormat();let r=null;const o={hsv:e.toHsv(),hsl:e.toHsl(),rgb:e.toRgb()};return n==="hex"&&(r=e.getOriginalInput().trim()),(n==="hsl"||n==="hsv")&&(o.hsl.h=t.h),r&&(r==null?void 0:r.length)===3?o.hex=r:o.hex=e.toHex(),o},fS=t=>(0,Xd.Z)(t).toHex(),cc=t=>t&&(0,nr.ZP)(t==null?void 0:t.replace(/(\r\n|\n|\r)/gm,"<br />")),pS=t=>{var e;if(t&&t.length<1)return"";const n=t.find(r=>{var o;return((o=r==null?void 0:r.props.children)==null?void 0:o.length)>0});return n?n==null?void 0:n.props.name:(e=t[0].props)==null?void 0:e.name},pf=({activeNodeOffsetTop:t,visibleRangeMin:e,visibleRangeMax:n,cellHeight:r,parentNodeScrollTop:o,step:l})=>{let i=Math.abs(o);return t>=e&&t+r<=n||(t<n&&t+r>=n?i=i+t+r-n+l:t<e&&t+r>=e?i=i-(e-t)-l:i=t),i},Ya=t=>{Jx()(t)},fl=t=>(t==null?void 0:t.type)==="paste"?t.clipboardData.getData("text"):window.getSelection().toString(),mf=t=>{sessionStorage.setItem("clipboard",JSON.stringify(t))},mS=()=>{const t=sessionStorage.getItem("clipboard")?sessionStorage.getItem("clipboard"):JSON.stringify({});return JSON.parse(t)},RU=t=>{const[,e]=t.split("%");return`*(${e}/100)`},vf=t=>!!(t!=null&&t.find(e=>{var n;return((n=e==null?void 0:e.props)==null?void 0:n.type)==="img"})),vS=(t,e={format:"dateAndTime"})=>{let n="dd.MM.yyyy";switch(e.format){case"dateAndTime":n="dd.MM.yyyy HH:mm:ss";break;case"timeOnly":n="HH:mm:ss";break;case"dateOnly":default:n="dd.MM.yyyy";break}const r=new Date(t);return r instanceof Date&&!isNaN(r)?(0,Qx.Z)(new Date(t),n):null},DU=(t,e,n)=>{const r=n;switch(t){case"down":return r+1>e?e:r+1;case"up":return r-1<0?0:r-1;default:return r}},fo=t=>{const e=document.getElementById("favicon");e&&(e.type=t.slice(-3)==="svg"?"image/svg+xml":"image/x-icon",e.href=t)},To={deprecated:"deprecated",noType:"noType"},ea=(t,e)=>{let n="";e===To.deprecated?n=`A deprecated element "${t.type}" is here!`:e===To.noType&&(n="An element without type is here!"),console.warn(n,t)},Fo=(t,e)=>{var n;return(n=t.actions)!=null&&n.includes(e)?e:null},hf=t=>t?t.reduce((e,n)=>{let{name:r,title:o,hint:l,hidden:i,iconName:c}=n;return i!==void 0&&(c=i?"":"check"),r==="---"?e.push({type:"separator"}):e.push({name:r,hint:l,caption:o,iconName:c}),e},[]):[],Xa=t=>{if(t.length<2)return t;t.sort((r,o)=>r[0]-o[0]);const e=[];let n=t[0];for(let r=1;r<t.length;r+=1)n[1]>=t[r][0]?n=[n[0],Math.max(n[1],t[r][1])]:(e.push(n),n=t[r]);return e.push(n),e},hS=t=>{const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},gf=t=>t&&t.innerHTML?t.innerHTML.replace(/<[^>]*>?/gm,""):null,bf=t=>{const e={};return t&&(e.filter=(0,eS.hexToCSSFilter)(t).filter.slice(0,-1)),e},Ja=t=>t.reduce((e,n)=>e+n,0),gS=t=>JSON.parse(localStorage.getItem(t)),yf=(t,e)=>localStorage.setItem(t,JSON.stringify(e)),uc=()=>gS(Do.AUTHORIZED),dc=t=>yf(Do.AUTHORIZED,t),bS=()=>localStorage.removeItem(Do.URL_PARAMS),yS=t=>yf(Do.URL_PARAMS,t);class _S{constructor(){this.listeners=[],this.timer=0,this.time=0,this.isPause=!1}checkTime(){this.timer||(this.stop(),this.notifyListeners())}notifyListeners(){this.listeners.forEach(e=>e())}pause(){this.isPause=!0}resume(){this.isPause=!1}setTime(e){this.time=e}start(){this.timer=this.time,this.stop(),this.intervalId=window.setInterval(()=>{this.isPause||(this.timer-=1,this.checkTime())},1e3)}stop(){window.clearInterval(this.intervalId)}whenTimeEnds(e){this.listeners.push(e)}}var zt=Ve(96486),CS=Object.defineProperty,wS=Object.defineProperties,xS=Object.getOwnPropertyDescriptors,_f=Object.getOwnPropertySymbols,SS=Object.prototype.hasOwnProperty,PS=Object.prototype.propertyIsEnumerable,Cf=(t,e,n)=>e in t?CS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IS=(t,e)=>{for(var n in e||(e={}))SS.call(e,n)&&Cf(t,n,e[n]);if(_f)for(var n of _f(e))PS.call(e,n)&&Cf(t,n,e[n]);return t},OS=(t,e)=>wS(t,xS(e)),ES=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});const wf=["click","mousemove","keydown"];class kS{constructor(e=new _S){this.timer=e,this.canStart=!1,this.countProcess=0,this.debounceRestart=(0,zt.debounce)(()=>{this.canStart&&this.timer.start()},10)}getEvents(){return wf.reduce((e,n)=>OS(IS({},e),{[n]:this.debounceRestart}),{})}setTime(e){this.timer.setTime(e)}start(){this.canStart=!0,this.timer.start()}whenTimeEnds(e){this.timer.whenTimeEnds(e)}stop(){this.canStart=!1,this.timer.stop()}pause(){this.countProcess+=1,this.timer.pause()}resume(){this.countProcess-=1,this.countProcess===0&&this.timer.resume()}api(e){return ES(this,null,function*(){this.pause();const n=yield e();return this.resume(),n})}}const xf=new kS,Ot=t=>{t.stopPropagation(),wf.includes(t.type)&&xf.debounceRestart()};var Ao=xf,jS=Object.defineProperty,RS=Object.defineProperties,DS=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,Sf=Object.prototype.hasOwnProperty,Pf=Object.prototype.propertyIsEnumerable,If=(t,e,n)=>e in t?jS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,es=(t,e)=>{for(var n in e||(e={}))Sf.call(e,n)&&If(t,n,e[n]);if(Qa)for(var n of Qa(e))Pf.call(e,n)&&If(t,n,e[n]);return t},fc=(t,e)=>RS(t,DS(e)),NS=(t,e)=>{var n={};for(var r in t)Sf.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qa)for(var r of Qa(t))e.indexOf(r)<0&&Pf.call(t,r)&&(n[r]=t[r]);return n},on=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});function MS(t){const e={Accept:"application/json",["Content-Type"]:"application/json"};return t&&(e.sessionID=ac()),e}function an({restUrl:t,params:e,withSessionId:n}){const r=MS(n),o="../api/xcom";return Ao.api(()=>Kx().post(o+t,e,{headers:r}))}function TS(t){return on(this,null,function*(){return yield an({restUrl:"/userauth/sso",withSessionId:!1,params:t})})}function FS(t){return on(this,null,function*(){return yield an({restUrl:"/userauth/login",withSessionId:!1,params:fc(es({},t),{action:"login"})})})}function AS(t){return on(this,null,function*(){return yield an({restUrl:"/userauth/logout",withSessionId:!0,params:t})})}function BS(t){return on(this,null,function*(){return yield an({restUrl:"/view/getAppState",withSessionId:!0,params:t})})}function Of(t){return on(this,null,function*(){return yield an({restUrl:"/view/setActiveStack",withSessionId:!0,params:t})})}function $S(t){return on(this,null,function*(){return yield an({restUrl:"/view/getForm",withSessionId:!0,params:t})})}function zS(){return on(this,null,function*(){return yield an({restUrl:"/view/ping",withSessionId:!0})})}function LS(t){return on(this,null,function*(){return yield an({restUrl:"/iframe/click",withSessionId:!0,params:t})})}function HS(t){return on(this,null,function*(){return yield an({restUrl:"/iframe/message",withSessionId:!0,params:t})})}function WS(t){return on(this,null,function*(){return yield an({restUrl:"/view/sendAction",withSessionId:!0,params:t})})}function VS(t){return on(this,null,function*(){return yield an({restUrl:"/view/headerCtxMenu",withSessionId:!0,params:t})})}function US(t){return on(this,null,function*(){return yield an({restUrl:"/view/autocomplete",withSessionId:!0,params:t})})}function GS(t){return on(this,null,function*(){return yield an({restUrl:"/view/getHint",withSessionId:!0,params:t})})}function ZS(t){return on(this,null,function*(){return yield an({restUrl:"/view/changeSpoiler",withSessionId:!0,params:t})})}function Ef(){return on(this,null,function*(){return yield an({restUrl:"/view/getUserRole",withSessionId:!0})})}function KS(t){return on(this,null,function*(){return yield an({restUrl:"/userauth/login",withSessionId:!1,params:fc(es({},t),{action:"setrole"})})})}function qS(t){return on(this,null,function*(){return yield an({restUrl:"/userauth/login",withSessionId:!1,params:fc(es({},t),{action:"setpassword"})})})}function YS(){return on(this,null,function*(){const t=yield an({restUrl:"/view/getMenu",withSessionId:!0});return Ga(t.data.elements,"elements"),t})}function XS(){return on(this,null,function*(){const t=yield an({restUrl:"/view/getToolbar",withSessionId:!0});return Ga(t.data.elements,"elements"),t})}function JS(t){return on(this,null,function*(){var e=t,{commandName:n,controlId:r,advanced:o}=e,l=NS(e,["commandName","controlId","advanced"]);const i=es({commandName:n,controlId:r},l);return o&&(i.advanced=o),yield an({restUrl:"/view/command",withSessionId:!0,params:i})})}function QS(){return on(this,null,function*(){return yield an({restUrl:"/userauth/preLogin",withSessionId:!1})})}function eP(){return on(this,null,function*(){var t;const{data:{languages:e,app:n}}=yield QS();let r=sf();return e&&e.find(l=>l.code===r)||(r=(t=e[0])==null?void 0:t.code),{languages:{serverLanguages:e,webUiLanguage:r},app:n}})}function tP(t){return on(this,null,function*(){return yield an({restUrl:"/view/chooseColor",withSessionId:!0,params:t})})}var ur=Ve(97779),nP=Object.defineProperty,kf=Object.getOwnPropertySymbols,rP=Object.prototype.hasOwnProperty,oP=Object.prototype.propertyIsEnumerable,jf=(t,e,n)=>e in t?nP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mr=(t,e)=>{for(var n in e||(e={}))rP.call(e,n)&&jf(t,n,e[n]);if(kf)for(var n of kf(e))oP.call(e,n)&&jf(t,n,e[n]);return t};function lP(t){const e=Mr({},t);return!e.type&&!e.nodeId&&(e.orientation==="tabs"?(ea(e,To.noType),e.type="tabs"):(ea(e,To.noType),e.type="frame"),e.orientation=e.orientation||"vertical"),e.type==="shortlist"&&(ea(e,To.deprecated),e.type="enum"),(e.autocomplete||e.isAutocomplete)&&["string","number","integer"].includes(e.type)&&(e.type="enum",e.isSwitchedToEnum=!0),e.type==="hLayout"&&(ea(e,To.deprecated),e.type="group",e.behavior="horizontal"),e.type==="vLayout"&&(ea(e,To.deprecated),e.type="group",e.behavior="vertical"),e.showReferenceButton!==void 0&&(e.showButton=e.showReferenceButton,delete e.showReferenceButton),e.type==="html"&&e.html&&(e.type="simpleHtml",e.value=e.html,delete e.html),e}function hn(t){const e=Mr({},t);return $e(e,"action")&&(e.actions=[...e.action],delete e.action),$e(e,"iconname")&&(e.iconName=e.iconname,delete e.iconname),$e(e,"iconsize")&&(e.iconSize=e.iconsize,delete e.iconsize),$e(e,"icon")&&(e.iconName=e.icon,delete e.icon),$e(e,"autocomplete")&&(e.isAutocomplete=!!e.autocomplete,delete e.autocomplete),$e(e,"spellcheck")&&(e.isSpellCheck=!!e.spellcheck,delete e.spellcheck),$e(e,"required")&&(e.isRequired=!!e.required,delete e.required),$e(e,"forceUpdate")&&(e.needForceUpdate=!!e.forceUpdate,delete e.forceUpdate),$e(e,"expansible")&&(e.isExpansible=!!e.expansible,delete e.expansible),$e(e,"collapsible")&&(e.isCollapsible=!!e.collapsible,delete e.collapsible),$e(e,"wrap")&&(e.isWrapped=!!e.wrap,delete e.wrap),$e(e,"multiline")&&(e.isMultiLine=!!e.multiline,delete e.multiline),$e(e,"inplaceEditEnabled")&&(e.isInPlaceEdit=!!e.inplaceEditEnabled,delete e.inplaceEditEnabled),$e(e,"isFixed")&&(e.isFixSize=!!e.isFixed,delete e.isFixed),$e(e,"nodeId")&&($e(e.content,"text")&&(e.caption=e.content.text),delete e.content),$e(e,"isFlexible")&&(e.isAdaptive=!!e.isFlexible,delete e.isFlexible),$e(e,"hidden")&&(e.isExcluded=!!e.hidden,delete e.hidden),$e(e,"disabled")&&(e.isDisabled=!!e.disabled),delete e.disabled,$e(e,"autoLock")&&(e.isAutoLock=!!e.autoLock,delete e.autoLock),e.style=e.style?Mr({},e.style):{},$e(e,"width")&&(e.style.width=e.width,delete e.width),$e(e,"minWidth")&&(e.style.minWidth=e.minWidth,delete e.minWidth),$e(e,"maxWidth")&&(e.style.maxWidth=e.maxWidth,delete e.maxWidth),$e(e,"backgroundColor")&&(e.style.backgroundColor=e.backgroundColor,delete e.backgroundColor),$e(e,"color")&&(e.style.color=e.color,delete e.color),$e(e,"fontFamily")&&(e.style.fontFamily=e.fontFamily,delete e.fontFamily),$e(e,"fontSize")&&(e.style.fontSize=e.fontSize,delete e.fontSize),$e(e,"fontStyle")&&(e.style.fontStyle=e.fontStyle,delete e.fontStyle),$e(e,"fontWeight")&&(e.style.fontWeight=e.fontWeight,delete e.fontWeight),e}function ta(t){const e=Mr({},t),n=e.container||e.control||e.commands||e.children||e.nodes;return n&&(e.elements=n,delete e.container,delete e.control,delete e.commands,delete e.children,delete e.nodes),e}function aP(t){const e=Mr({},t);return!$e(e,"elements")&&$e(e,"collapsible")&&(e.collapsible||(e.isSeparator=!0),delete e.collapsible),$e(e,"name")&&(e.id=e.name,delete e.name),e}function pc(t){const e=Mr({},t);return $e(e,"title")&&!$e(e,"caption")&&(e.caption=e.title,delete e.title),e}function NU(t){function e(o){return compose(pc,hn,ta)(o)}const n=Mr({},t);let r;return r=e(n),r.elements&&(r.elements=r.elements.map(o=>e(o))),r}function sP(t){var e,n;function r(i){const c=Mr({},i);return $e(c,"isIssueList")&&(c.isCardFile=!!c.isIssueList,delete c.isIssueList),$e(c,"rowCount")&&(c.displayRowCount=Number.parseInt(c.rowCount,10),delete c.rowCount),$e(c,"summary")&&(c.summaryRowCount=c.summary,delete c.summary),$e(c,"showHierarchyNavigation")&&(c.showHierarchyButton=c.showHierarchyNavigation,delete c.showHierarchyNavigation),$e(c,"isTopLevel")&&(c.showHierarchyButton=c.showHierarchyButton&&!c.isTopLevel,delete c.isTopLevel),$e(c,"headers")&&(c.headersSchema=c.headers,delete c.headers),$e(c,"headersData")&&(c.headersEntities=c.headersData,delete c.headersData),$e(c,"selectedRows")&&(c.selectedRowIds=c.selectedRows,delete c.selectedRows),c}function o(i){return(0,ur.qC)(r,hn,ta)(i)}const l=o(t);if((e=l.elements)!=null&&e.length){const i=c=>(c.type==="group"&&$e(c,"elements")&&(c.elements=c.elements.map(d=>i(d))),(0,ur.qC)(pc,hn,ta)(c));l.contextMenuElements=l.elements.map(i),delete l.elements}return(n=l.rows)!=null&&n.length&&(l.rows=l.rows[0].map(i=>(i!=null&&i.elements&&(i.elements=hn(i.elements)),hn(i)))),l}function Rf(t){function e(r){return(0,ur.qC)(hn,ta)(r)}const n=e(t);return n.elements&&(n.elements=n.elements.map(Rf)),n}function iP(t){var e,n,r;return $e(t,"isCollapsed")||(t.isCollapsed=!0),(n=(e=t==null?void 0:t.title)==null?void 0:e.elements)!=null&&n.length&&(t.title.element=pl((r=t==null?void 0:t.title)==null?void 0:r.elements),delete t.title.elements),t}function cP(t){function e(r){var o;return(o=r==null?void 0:r.elements)!=null&&o.length?(r.type="listButton",r.elements=r.elements.map(l=>e(l))):r.type="button",(0,ur.qC)(hn)(r)}const n=t.data.elements;return n&&(t.data.elements=n.map(e)),t}function uP(t){function e(r){var o;return(o=r==null?void 0:r.elements)!=null&&o.length&&(r.elements=r.elements.map(l=>e(l))),(0,ur.qC)(hn,aP)(r)}const n=t.data.elements;return n&&(t.data.elements=n.map(e)),t}function dP(t){const e=Mr({},t),n=o=>o&&Array.isArray(o)?o.some(l=>{var i;return l.type==="grid"&&((i=l.rows)==null?void 0:i.length)>60||l.type==="table"&&l.rowCount>60||n(l.elements)}):!1,r=o=>{o.autoSize=!1,o._autoSize=!0,o.elements.forEach(l=>{(l.type==="grid"||l.type==="table")&&(o.hasGrid=!0),l.autoSize=!0,n(l.elements)&&r(l)})};return e.autoSize&&n(e.elements)&&r(e),e}function Df(t,e){const n=Mr({},t);let r;return n.type==="tree"?r=Rf(n):n.type==="button"?r=(0,ur.qC)(e,pc)(n):n.type==="table"?r=sP(n):n.type==="menuBar"||n.type==="roleCenter"||n.type==="chart"?r=hn(n):n.type==="box"?r=(0,ur.qC)(e,iP)(n):n.type==="frame"?r=(0,ur.qC)(e,dP)(n):r=e(n),r.elements&&(r.elements=r.elements.map(o=>Df(o,e))),r}function pl(t){function e(r){return(0,ur.qC)(hn,lP,ta)(r)}return No(t).map(r=>Df(r,e))[0]}var wr=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});function mc(t){return wr(this,null,function*(){var e;const n=yield WS(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/sendAction"),n})}function MU(t){return wr(this,null,function*(){var e;const n=yield api.getCtxMenu(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/getHeaderCtxMenu"),n})}function fP(t){return wr(this,null,function*(){var e;const n=yield JS(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/sendCommand"),n})}function pP(t){return wr(this,null,function*(){var e;const n=yield BS(t);return((e=n==null?void 0:n.data)==null?void 0:e.result)||console.warn("\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u0432 renamings/getAppState"),n})}function Nf(t){return wr(this,null,function*(){const e=yield XS(t);return cP(e)})}function mP(t){return wr(this,null,function*(){return yield Ef(t)})}function TU(t){return wr(this,null,function*(){return yield api.setUserRole(t)})}function Mf(t){return wr(this,null,function*(){const e=yield YS(t);return uP(e)})}function Tf(){return wr(this,null,function*(){const[t,e]=yield Promise.all([Mf(),Nf()]);return{menuData:t.data,toolbarData:e.data}})}function vP(t){return wr(this,null,function*(){return yield ZS(t)})}function hP(t){return wr(this,null,function*(){return yield $S(t)})}const na=[400,401,402,403,404,405,406],gP=[500,501,502,503,504];function ra(t){return t instanceof Error||t instanceof Object?!!t.response:!1}const ml=t=>ra(t)?na.includes(t.response.status):!1,ts=t=>ra(t)?gP.includes(t.response.status):!1,Ff=t=>(t==null?void 0:t.message)==="Network Error";function bP(t){return ra(t)?t.response.data:null}function po(t){const e=bP(t);if(e){let n=e.errorMessage||"";return!n&&typeof e===String.name.toLowerCase()&&(n=e),n}return""}function ns(t){return ra(t)?Number.parseInt(t.response.status,10):NaN}const Af="isMainMenuOpened",Bf="isMainMenuPinned";function $f(t,e){if(typeof t!==e)throw new TypeError(`\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 \u0442\u0438\u043F: ${e}`);return!0}function zf(t,e){sessionStorage.setItem(t,e)}function Lf(t){return sessionStorage.getItem(t)}function Hf(t){$f(t,"boolean"),zf(Af,t)}function Wf(t){$f(t,"boolean"),zf(Bf,t)}function vc(){return JSON.parse(Lf(Af))}function hc(){return JSON.parse(Lf(Bf))}function yP(){const t=!!hc();Hf(t&&!!vc()),Wf(t)}function _P(){return{isOpened:vc(),isPinned:hc()}}var rs={initState:yP,getState:_P,setOpened:Hf,setPinned:Wf,isOpened:vc,isPinned:hc},a=Ve(67294),CP=Ve(94184),be=Ve.n(CP),vl=Ve(99768),wP=Ve(45697),_=Ve.n(wP),xP=Ve(75980),fn=Ve.n(xP),Fe=Ve(24268);const gc=(0,Fe.PH)("PRE_LOGIN_DATA/set"),os=(0,Fe.PH)("MENU_DATA/set"),hl=(0,Fe.PH)("APP_STATE/reset"),bc=(0,Fe.PH)("APP_STATE/init"),ls=(0,Fe.PH)("SET_SELECTED_MENU_ITEM_ID"),as=(0,Fe.PH)("SET_PRINT_STATUS"),Vf=(0,Fe.PH)("VERSION/set"),Bo=(0,Fe.PH)("ADD_FORM_STACK_TO_QUEUE"),yc=(0,Fe.PH)("PROCESS_INDICATOR/show"),_c=(0,Fe.PH)("PROCESS_INDICATOR/hide"),Cc=(0,Fe.PH)("LOGIN/success"),mo=(0,Fe.PH)("LOGIN/failed"),wc=(0,Fe.PH)("LOGOUT/success"),SP=(0,Fe.PH)("LOGOUT/failed"),xc=(0,Fe.PH)("PING_PONG/start_request"),Uf=(0,Fe.PH)("PING_PONG/stop_request"),ss=(0,Fe.PH)("SET_TOOLBAR_DATA"),Gf=(0,Fe.PH)("PROCESS/add"),Zf=(0,Fe.PH)("PROCESS/remove"),Sc=(0,Fe.PH)("AUTOCOMPLETE/request"),Pc=(0,Fe.PH)("AUTOCOMPLETE/immediately"),Ic=(0,Fe.PH)("AUTOCOMPLETE/reset"),Kf=(0,Fe.PH)("FORM/get"),$o=(0,Fe.PH)("FORM/update"),Oc=(0,Fe.PH)("FORM/delete"),dr=(0,Fe.PH)("FORM/element_event"),qf=(0,Fe.PH)("FORM/resize"),Yf=(0,Fe.PH)("TABLE_HEADER/resize"),Xf=(0,Fe.PH)("TABLE/change_order"),Jf=(0,Fe.PH)("UPLOAD_FORM/open"),Qf=(0,Fe.PH)("UPLOAD_FORM/close"),ep=(0,Fe.PH)("COLOR_PICKER_FORM/open"),tp=(0,Fe.PH)("COLOR_PICKER_FORM/close"),np=(0,Fe.PH)("MODAL_POP_UP/remove"),oa=(0,Fe.PH)("SERVER_ERROR/add"),is=(0,Fe.PH)("CLIENT_ERROR/add"),rp=(0,Fe.PH)("ERROR/add"),op=(0,Fe.PH)("SERVER_NOTIFICATION/add"),cs=(0,Fe.PH)("CLIENT_DIALOG/add"),us=(0,Fe.PH)("CLIENT_DIALOG/submit"),lp=(0,Fe.PH)("IMAGE_PREVIEW/add"),ds=(0,Fe.PH)("TEMPORARY_FORM_ID/add"),ap=(0,Fe.PH)("LAST_FOCUSED_ELEMENT/set"),Ec=(0,Fe.PH)("LAST_FOCUSED_ELEMENT/update"),sp=(0,Fe.PH)("IFRAME/click"),ip=(0,Fe.PH)("IFRAME/message"),kc=(0,Fe.PH)("SCRIPTED"),cp=(0,Fe.PH)("SAVE_DATA/frame"),up=(0,Fe.PH)("SAVE_DATA/report"),jc=(0,Fe.PH)("ON_HINT"),dp=(0,Fe.PH)("REMINDERS/set"),la=(0,Fe.PH)("WORKERS/set"),fp=(0,Fe.PH)("WORKSPACE/set_first_render"),pp=(0,Fe.PH)("PAGE_ZOOM/set"),mp=(0,Fe.PH)("HEADER_CTX_MENU/show"),vp=(0,Fe.PH)("HEADER_CTX_MENU/close"),hp=(0,Fe.PH)("MAIN_MENU/pin"),Rc=(0,Fe.PH)("MAIN_MENU/open"),gp=(0,Fe.PH)("MAIN_MENU/choose_item"),Dc=(0,Fe.PH)("CHOOSE_TOOLBAR_ITEM"),bp=(0,Fe.PH)("CHOOSE_ROLE_CENTER_ITEM"),Nc=(0,Fe.PH)("FORM/close"),yp=(0,Fe.PH)("FORMS/close_all"),_p=(0,Fe.PH)("FORMS/close_others"),Cp=(0,Fe.PH)("MODAL_FORM/close"),wp=(0,Fe.PH)("FORM/toggle"),xp=(0,Fe.PH)("FORM_STACK/toggle"),Sp=(0,Fe.PH)("FORM_WIDE_SCREEN_MODE/toggle"),Pp=(0,Fe.PH)("LOGIN/request"),aa=(0,Fe.PH)("LOGOUT/request"),Mc=(0,Fe.PH)("CHANGE_LANGUAGE"),Ip=(0,Fe.PH)("UPLOAD/approve"),Op=(0,Fe.PH)("UPLOAD/abort"),Ep=(0,Fe.PH)("COLOR_PICKER/choose_color"),kp=(0,Fe.PH)("COLOR_PICKER/cancel"),jp=(0,Fe.PH)("FORM/raise"),Rp=(0,Fe.PH)("CLIPBOARD/event");var PP=Object.defineProperty,IP=Object.defineProperties,OP=Object.getOwnPropertyDescriptors,Dp=Object.getOwnPropertySymbols,EP=Object.prototype.hasOwnProperty,kP=Object.prototype.propertyIsEnumerable,Np=(t,e,n)=>e in t?PP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lt=(t,e)=>{for(var n in e||(e={}))EP.call(e,n)&&Np(t,n,e[n]);if(Dp)for(var n of Dp(e))kP.call(e,n)&&Np(t,n,e[n]);return t},tn=(t,e)=>IP(t,OP(e));const Mp="Turbo X.WEB:",sa={version:Mp,languages:{serverLanguages:null,webUiLanguage:null},app:{},menu:{isOpened:!1,isPinned:!1,selectedItemId:null,schema:[],entities:{}},toolbar:{},processCounter:0,showProcessIndicator:!1,lastFocusedElement:null,workspace:{isFirstRender:!0}};var jP=(0,Fe.Lq)(sa,t=>{t.addCase(ds,(e,n)=>tn(Lt({},e),{temporaryFormId:n.payload})).addCase(Vf,(e,n)=>tn(Lt({},e),{version:`${Mp}  ${n.payload}`})).addCase(gc,(e,n)=>n.payload.app&&Object.keys(n.payload).length===1?tn(Lt({},e),{app:Lt(Lt({},e.app),n.payload.app)}):Lt(Lt({},e),n.payload)).addCase(Mc,(e,n)=>tn(Lt({},e),{languages:tn(Lt({},e.languages),{webUiLanguage:n.payload.webUiLanguage})})).addCase(os,(e,n)=>tn(Lt({},e),{menu:Lt(Lt({},e.menu),n.payload.menu)})).addCase(ss,(e,n)=>tn(Lt({},e),{toolbar:n.payload})).addCase(dp,(e,n)=>{e.reminders=n.payload}).addCase(la,(e,n)=>tn(Lt({},e),{workers:n.payload})).addCase(hp,(e,n)=>tn(Lt({},e),{menu:tn(Lt({},e.menu),{isPinned:n.payload})})).addCase(Rc,(e,n)=>tn(Lt({},e),{menu:tn(Lt({},e.menu),{isOpened:n.payload})})).addCase(hl,(e,n)=>{var r;return Lt(tn(Lt({},e),{menu:tn(Lt({},e.menu),{leftBarHide:sa.menu.leftBarHide,elements:sa.menu.elements}),workspace:sa.workspace,userDropdownMenu:sa.userDropdownMenu}),(r=n.payload)!=null&&r.savePreloadingData?{languages:e.languages,app:(0,zt.omit)(e.app,["appSkin"])}:{})}).addCase(ls,(e,n)=>tn(Lt({},e),{menu:tn(Lt({},e.menu),{selectedItemId:n.payload})})).addCase(Gf,e=>tn(Lt({},e),{processCounter:e.processCounter+1})).addCase(Zf,e=>tn(Lt({},e),{processCounter:e.processCounter===0?0:e.processCounter-1})).addCase(yc,e=>tn(Lt({},e),{showProcessIndicator:!0})).addCase(_c,e=>tn(Lt({},e),{showProcessIndicator:!1})).addCase(ap,(e,n)=>tn(Lt({},e),{lastFocusedElement:n.payload})).addCase(Ec,(e,n)=>tn(Lt({},e),{lastFocusedElement:n.payload})).addCase(fp,(e,n)=>tn(Lt({},e),{workspace:{isFirstRender:n.payload}})).addCase(pp,(e,n)=>tn(Lt({},e),{pageZoom:n.payload}))}),RP=Object.defineProperty,DP=Object.defineProperties,NP=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,MP=Object.prototype.hasOwnProperty,TP=Object.prototype.propertyIsEnumerable,Fp=(t,e,n)=>e in t?RP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tc=(t,e)=>{for(var n in e||(e={}))MP.call(e,n)&&Fp(t,n,e[n]);if(Tp)for(var n of Tp(e))TP.call(e,n)&&Fp(t,n,e[n]);return t},FP=(t,e)=>DP(t,NP(e));const Ap={isUserIntoTab:!1,isSessionExist:!1,isError:!1,errorMessage:"",roleName:null,userName:null,clientMaxIdlePeriod:null};var AP=(0,Fe.Lq)(Ap,t=>{t.addCase(Cc,(e,n)=>FP(Tc({},e),{isUserIntoTab:n.payload.isUserIntoTab,userName:n.payload.userName,roleName:n.payload.roleName,clientMaxIdlePeriod:n.payload.clientMaxIdlePeriod})).addCase(mo,(e,n)=>Tc(Tc({},e),n.payload)).addCase(wc,()=>Ap)});const Bp=[];var BP=(0,Fe.Lq)(Bp,t=>{t.addCase(Bo,(e,n)=>[n.payload,...e]).addCase(Oc,(e,n)=>e.filter(r=>r!==n.payload)).addCase(hl,()=>Bp)}),fr=Ve(12902),$P=Object.defineProperty,zP=Object.defineProperties,LP=Object.getOwnPropertyDescriptors,$p=Object.getOwnPropertySymbols,HP=Object.prototype.hasOwnProperty,WP=Object.prototype.propertyIsEnumerable,zp=(t,e,n)=>e in t?$P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zo=(t,e)=>{for(var n in e||(e={}))HP.call(e,n)&&zp(t,n,e[n]);if($p)for(var n of $p(e))WP.call(e,n)&&zp(t,n,e[n]);return t},Lp=(t,e)=>zP(t,LP(e));const Hp={0:{commandName:tf,formId:"0",formStackId:"0",formName:"",openMode:"new"}};var VP=(0,Fe.Lq)(Hp,t=>{t.addCase(kc,(e,n)=>{const{formId:r,controlId:o,value:l,content:i}=n.payload;return e[r]?(0,fr.ZP)(e,c=>{var d,u,m;const f=(u=(d=c[r])==null?void 0:d.entities)==null?void 0:u.html,p=(m=f==null?void 0:f[o])==null?void 0:m.content,v=i||p;l&&(f!=null&&f[o])&&!(f!=null&&f[o].initialScripts)&&(f[o].initialScripts=l),f!=null&&f[o]?c[r].entities.html[o]=Lp(zo({},f[o]),{scriptValues:l,content:v}):f?c[r].entities.html[o]={name:o,scriptValues:l,content:v}:c[r].entities.html={[o]:{name:o,scriptValues:l,content:v}}}):e}).addCase(cp,(e,n)=>{const{formId:r,controlId:o,data:l}=n.payload;return e[r]?(0,fr.ZP)(e,i=>{i[r].entities.frame[o]=zo(zo({},i[r].entities.frame[o]),l)}):e}).addCase(up,(e,n)=>{const{formId:r,controlId:o,data:l}=n.payload;return e[r]?(0,fr.ZP)(e,i=>{i[r].entities.report[o]=zo(zo({},i[r].entities.report[o]),l)}):e}).addCase($o,(e,n)=>{const{formId:r}=n.payload;return Lp(zo({},e),{[r]:n.payload})}).addCase(Oc,(e,n)=>{const r=n.payload,o=zo({},e);return delete o[r],o}).addCase(hl,()=>Hp)});const Fc=null;var UP=(0,Fe.Lq)(Fc,t=>{t.addCase(Jf,(e,n)=>n.payload).addCase(Qf,()=>Fc).addCase(hl,()=>Fc)}),GP=Object.defineProperty,Wp=Object.getOwnPropertySymbols,ZP=Object.prototype.hasOwnProperty,KP=Object.prototype.propertyIsEnumerable,Vp=(t,e,n)=>e in t?GP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Up=(t,e)=>{for(var n in e||(e={}))ZP.call(e,n)&&Vp(t,n,e[n]);if(Wp)for(var n of Wp(e))KP.call(e,n)&&Vp(t,n,e[n]);return t};const qP={needToPrint:!1,serviceURL:null};var YP=(0,Fe.Lq)(qP,t=>{t.addCase(as,(e,n)=>Up(Up({},e),n.payload))}),XP=Ve.p+"images/Help.svg",JP=Ve.p+"images/System.svg",QP=Ve.p+"images/Error.svg",eI=Ve.p+"images/Warning.svg",tI=Ve.p+"images/Information.svg",nI=Ve(54483),Gp=Ve.n(nI);function Dt(t){var e,n;return(n=(e=t.mainAppParams.app.appSkin)==null?void 0:e.colors)==null?void 0:n.palette}var B=Ve(12788);function rI(t){var e;return(e=t.mainAppParams.app.appSkin)==null?void 0:e.tokens}const I=(t,e="")=>{const n=Je.getState(),r=rI(n),o=Dt(n),l=r==null?void 0:r[t];return!l||!o?e:o[l.toLowerCase()]},Zp=()=>({background:{default:I("button-primary-background-default"),hover:I("button-primary-background-hover"),click:I("button-primary-background-click"),disable:I("button-primary-background-disable"),focus:I("button-primary-background-focus")},border:{default:I("button-primary-border-default"),hover:I("button-primary-border-hover"),click:I("button-primary-border-click"),disable:I("button-primary-border-disable"),focus:I("button-primary-border-focus")},text:{default:I("text-primary")}});var Ac={Primary:Zp,Secondary:()=>({background:{default:I("button-secondary-background-default"),hover:I("button-secondary-background-hover"),click:I("button-secondary-background-click"),disable:I("button-secondary-background-disable"),focus:I("button-secondary-background-focus")},border:{default:I("button-secondary-border-default"),hover:I("button-secondary-border-hover"),click:I("button-secondary-border-click"),disable:I("button-secondary-border-disable"),focus:I("button-secondary-border-focus")},text:{default:I("text"),hover:I("text"),click:I("text"),disable:I("text-disable"),focus:I("text")}}),Tertiary:()=>({background:{default:I("button-tertiary-background-default"),hover:I("button-tertiary-background-hover"),click:I("button-tertiary-background-click"),disable:I("button-tertiary-background-disable"),focus:I("button-tertiary-background-focus")},border:{default:I("button-tertiary-border-default"),hover:I("button-tertiary-border-hover"),click:I("button-tertiary-border-click"),disable:I("button-tertiary-border-disable"),focus:I("button-tertiary-border-focus")},text:{default:I("text"),disable:I("text-disable")}}),Ghost:()=>({background:{default:I("button-ghost-background-default"),hover:I("button-ghost-background-hover"),click:I("button-ghost-background-click"),disable:I("button-ghost-background-disable"),focus:I("button-ghost-background-focus")},border:{default:I("button-ghost-border-default"),hover:I("button-ghost-border-hover"),click:I("button-ghost-border-click"),disable:I("button-ghost-border-disable"),focus:I("button-ghost-border-focus")},text:{default:I("text"),disable:I("text-disable")}}),Color:()=>({background:{default:I("button-color-background-default"),hover:I("button-color-background-hover"),click:I("button-color-background-click"),disable:I("button-color-background-disable"),focus:I("button-color-background-focus")},border:{default:I("button-color-border-default"),hover:I("button-color-border-hover"),click:I("button-color-border-click"),disable:I("button-color-border-disable"),focus:I("button-color-border-focus")},text:{default:I("text-primary")}}),default:Zp};const oI=t=>Object.keys(Ac).includes(t),lI=t=>oI(t)?Ac[t]():Ac.default();var aI=Object.defineProperty,sI=Object.defineProperties,iI=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,Kp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,Yp=(t,e,n)=>e in t?aI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cI=(t,e)=>{for(var n in e||(e={}))Kp.call(e,n)&&Yp(t,n,e[n]);if(fs)for(var n of fs(e))qp.call(e,n)&&Yp(t,n,e[n]);return t},uI=(t,e)=>sI(t,iI(e)),dI=(t,e)=>{var n={};for(var r in t)Kp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fs)for(var r of fs(t))e.indexOf(r)<0&&qp.call(t,r)&&(n[r]=t[r]);return n};const fI=B.ZP.button`
  position: relative;
  box-sizing: border-box;
  display: flex;
  flex-direction: ${({iconPosition:t})=>t==="right"?"row-reverse":"row"};
  justify-content: ${({countedStyle:t})=>t.textAlign==="left"?"flex-start":t.textAlign==="right"?"flex-end":"center"};
  align-items: center;
  /* на случай, если мы решим включить размеры из макета, добавить это в строку ниже
      так же необходимо поменять border-radius, см. макет */
  /* padding: 8px 24px; */
  padding: ${t=>t.isIconButton?null:"3px 0"};
  height: ${({countedStyle:t})=>t.height};
  min-height: 32px;
  border-radius: 8px;
  width: ${({countedStyle:t})=>t.width};
  min-width: 32px;
  max-width: ${({countedStyle:t})=>t.maxWidth};
  font-style: normal;
  font-size: ${t=>t.isIconButton?null:"14px"};
  cursor: pointer;
  background-color: ${({theme:t,isPressed:e})=>{var n,r;return e?(n=t.background)==null?void 0:n.click:(r=t.background)==null?void 0:r.default}};
  color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.default}};
  border: 1px solid ${({theme:t,isPressed:e})=>{var n,r;return e?(n=t.border)==null?void 0:n.click:(r=t.border)==null?void 0:r.default}};
  
  :focus-visible {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.focus}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.focus}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.focus}};
  }

  &:hover {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.hover}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.hover}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.hover}};
  }

  &:focus-visible {
    z-index: 1;
    outline-offset: 1px;
    outline: 2px solid ${()=>I("focus-outline")};
  }

  &:active {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.click}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.click}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.click}};
  }

  &:disabled {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.disable}};
    border-color: ${({theme:t})=>{var e;return(e=t.border)==null?void 0:e.disable}};
    color: ${({theme:t})=>{var e;return(e=t.text)==null?void 0:e.disable}}
  }

  &:disabled:hover {
    background-color: ${({theme:t})=>{var e;return(e=t.background)==null?void 0:e.disable}};
  }
`,pI=B.ZP.span({fontSize:14,lineHeight:"16px"});var mI=t=>{const e=t,{disabled:n,fashion:r,countedStyle:o,isPressed:l,icon:i,iconSize:c,iconPosition:d,startIcon:u,endIcon:m,content:f,buttonRef:p,theme:v}=e,b=dI(e,["disabled","fashion","countedStyle","isPressed","icon","iconSize","iconPosition","startIcon","endIcon","content","buttonRef","theme"]),y=!f,h=(0,zt.pickBy)(o,(C,O)=>O.includes("padding")),g=(0,zt.merge)(lI(r),v);return(0,s.jsx)(B.f6,{theme:g,children:(0,s.jsxs)(fI,uI(cI({fashion:r,countedStyle:o,iconPosition:d,isIconButton:y,isPressed:l,disabled:n,ref:p},b),{style:h,children:[(0,s.jsx)("div",{style:{height:c,[d==="right"?"paddingLeft":"paddingRight"]:y?"none":"6px"},children:u!=null?u:i}),(0,s.jsx)(pI,{children:f}),(0,s.jsx)("div",{style:{height:c,[d==="right"?"paddingRight":"paddingLeft"]:y?"none":"6px"},children:m})]}))})},vI=Object.defineProperty,hI=Object.defineProperties,gI=Object.getOwnPropertyDescriptors,ps=Object.getOwnPropertySymbols,Xp=Object.prototype.hasOwnProperty,Jp=Object.prototype.propertyIsEnumerable,Qp=(t,e,n)=>e in t?vI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wn=(t,e)=>{for(var n in e||(e={}))Xp.call(e,n)&&Qp(t,n,e[n]);if(ps)for(var n of ps(e))Jp.call(e,n)&&Qp(t,n,e[n]);return t},vo=(t,e)=>hI(t,gI(e)),ia=(t,e)=>{var n={};for(var r in t)Xp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ps)for(var r of ps(t))e.indexOf(r)<0&&Jp.call(t,r)&&(n[r]=t[r]);return n},ca=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())}),he={onAutoComplete:t=>ca(void 0,null,function*(){const{value:e,listValues:n,args:r,state:o}=t;return yield Je.dispatch(Sc(vo(Wn({},r),{listValues:n,value:e,state:o}))),!0}),onImmediatelyAutoComplete:t=>ca(void 0,null,function*(){const{value:e,args:n,metaSet:r}=t;return r!=null&&r.isOpenList||(yield Je.dispatch(Pc(vo(Wn({},n),{value:e})))),!0}),onResetAutocompleteValues:t=>(Je.dispatch(Ic(t)),!0),onFormControlEvent:t=>{const e=t,{args:n,value:r,notValidValue:o,href:l}=e,i=ia(e,["args","value","notValidValue","href"]),c=Wn(Wn({},n),i);return r!==void 0&&(c.value=r),o&&(c.notValidValue=o),l&&(c.href=l),Je.dispatch(dr(c)),!0},checkEditableValidation:t=>{const{args:e}=t,n=vo(Wn({},e),{action:"onEdit"});return Je.dispatch(dr(n)),!0},onTableCellControlAction:t=>ca(void 0,null,function*(){var e,n,r;const{args:o,value:l}=t,{formId:i,formName:c,controlId:d,type:u,action:m}=o,f=l,{targetRowId:p,targetColumnId:v}=f,b=ia(f,["targetRowId","targetColumnId"]),y={formId:i,formName:c,type:u,controlId:d,value:Wn({},b)},h=((r=(e=y.value)==null?void 0:e.controlEvents)==null?void 0:r[(n=y.value)==null?void 0:n.eventType])||m;return h==="onResetAutocompleteValues"?yield Je.dispatch(Ic(y)):h==="onImmediatelyAutoComplete"?yield Je.dispatch(Pc(y)):h==="autoComplete"?yield Je.dispatch(Sc(y)):h==="onHint"?Je.dispatch(jc(y)):yield Je.dispatch(dr(y)),!0}),onGridCellEvent:t=>ca(void 0,null,function*(){const{args:e,value:n}=t,{formId:r,formName:o,controlId:l,type:i}=e,c=n,{rowId:d,columnId:u}=c,m=ia(c,["rowId","columnId"]),f={formId:r,formName:o,type:i,controlId:l,value:Wn({},m)};return d!==void 0&&(f.value.rowId=d),u!==void 0&&(f.value.columnId=u),yield Je.dispatch(dr(f)),!0}),onCanvasGridCellEvent:t=>ca(void 0,null,function*(){const{args:e,value:n}=t,r=e,{formId:o,formName:l,controlId:i,type:c,action:d,isModal:u}=r,m=ia(r,["formId","formName","controlId","type","action","isModal"]),f=Wn({formId:o,formName:l,type:c,action:d,controlId:i,value:n},m);return yield Je.dispatch(dr(f)),!0}),onClipboardEvent:t=>{const e=t,{args:n,value:r,clipboardValue:o,event:l}=e,i=ia(e,["args","value","clipboardValue","event"]),c=vo(Wn(Wn({},n),i),{value:r,clipboardValue:o,type:l.type});r&&o&&(c.selection=o===r?"full":"partial"),Je.dispatch(Rp(c))},onReportHierarchyClick:t=>{const{args:e,value:n}=t;Je.dispatch(dr(vo(Wn({},e),{value:{cellInfo:n}})))},onReportCellSelect:t=>{const{args:e,value:n}=t;Je.dispatch(dr(vo(Wn({},e),{value:{selectedCellId:n}})))},onDataPointSelect:t=>{const{args:e,value:n}=t;Je.dispatch(dr(vo(Wn({},e),{value:n})))},onFormResize:t=>{Je.dispatch(qf(t))},onTableHeaderResize:t=>{Je.dispatch(Yf(t))},onTableOrderChange:t=>{Je.dispatch(Xf(t))},onSaveContentIframe:t=>{const{content:e,args:n,value:r}=t;Je.dispatch(kc({content:e,value:r,formId:n.formId,controlId:n.controlId}))},onSaveDataFrame:({args:t,data:e})=>{const{formId:n,controlId:r}=t;Je.dispatch(cp({formId:n,controlId:r,data:e}))},onSaveDataReport:({args:t,data:e})=>{const{formId:n,controlId:r}=t;Je.dispatch(up({formId:n,controlId:r,data:e}))},onShowContextMenu:({args:t,value:e})=>{const n=Wn({},t);e&&(n.value=e),Je.dispatch(dr(n))},onHintControl:({args:t})=>{Je.dispatch(jc(t))},onAutolock:({args:t})=>{Je.dispatch(dr(t))},onHeaderCtxMenu:({event:t,args:e,value:n})=>{Je.dispatch(mp(vo(Wn({},e),{event:t,value:n})))},onCloseHeaderCtxMenu:({args:t})=>{Je.dispatch(vp(t))}},bI=Object.defineProperty,ms=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,nm=(t,e,n)=>e in t?bI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bc=(t,e)=>{for(var n in e||(e={}))em.call(e,n)&&nm(t,n,e[n]);if(ms)for(var n of ms(e))tm.call(e,n)&&nm(t,n,e[n]);return t},rm=(t,e)=>{var n={};for(var r in t)em.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ms)for(var r of ms(t))e.indexOf(r)<0&&tm.call(t,r)&&(n[r]=t[r]);return n};const ke=t=>{var e=t,{events:n,specificEvent:r,nativeEvent:o,value:l}=e,i=rm(e,["events","specificEvent","nativeEvent","value"]);let c=l===void 0?null:l,d=!0;if(r&&(d=r(Bc({value:c},i))),d&&o&&(n!=null&&n[o])){const{alias:u,args:m}=n[o];d=he[u](Bc({args:m,value:c},i))}return d},qU=({event:t,metaSet:e,events:n,value:r,eventChain:o})=>{const l=o.map(i=>{const c=i,{specificEvent:d,nativeEvent:u}=c,m=rm(c,["specificEvent","nativeEvent"]);ke(Bc({event:t,metaSet:e,events:n,specificEvent:d,nativeEvent:u,value:r},m))});return l[l.length-1]},sn={default:"default",active:"active",editable:"editable"};function YU(t){return t===sn.default}function XU(t){return t===sn.active}function JU(t){return t===sn.editable}function Lo(t=sn.default,e){const n=(0,a.useRef)(null),r=e||n,[o,l]=(0,a.useState)(t||sn.default),i=(0,a.useRef)({setDefaultMode:()=>{},setActiveMode:()=>{},setEditableMode:()=>{},checkDefaultMode:()=>{},checkActiveMode:()=>{},checkEditableMode:()=>{}});(0,a.useImperativeHandle)(r,()=>i.current);const c=(0,a.useCallback)(()=>{l(sn.default)},[]),d=(0,a.useCallback)(()=>{l(sn.active)},[]),u=(0,a.useCallback)(()=>{l(sn.editable)},[]),m=(0,a.useCallback)(()=>o===sn.default,[o]),f=(0,a.useCallback)(()=>o===sn.active,[o]),p=(0,a.useCallback)(()=>o===sn.editable,[o]);return i.current={setDefaultMode:c,setActiveMode:d,setEditableMode:u,setMode:l,checkDefaultMode:m,checkActiveMode:f,checkEditableMode:p},[o,i.current]}const yI=t=>{const e=t==null?void 0:t.current;if(e){const n=e.clientWidth;return e.scrollWidth>=n}};var pr=(t,e=null,n,r=!1,o=!1)=>{const l=(0,a.useCallback)(()=>{t!=null&&t.current&&(e?t.current.title=e:yI(t)?t.current.title=o?t.current.value:t.current.innerText:t.current.title="")},[n,e,o]);(0,a.useEffect)(()=>{r||l()},[n,e,r]),(0,a.useEffect)(()=>{if(t!=null&&t.current){const i=new uo.Z(l);return i.observe(t==null?void 0:t.current),()=>{t!=null&&t.current&&i.unobserve(t==null?void 0:t.current)}}},[l])};function Ur(t,e){let n=-1;if(t){const r=parseInt(e,10);n=isNaN(r)?0:r}return n}const _I=8,CI=9,wI=13,xI=16,SI=17,PI=27,II=32,OI=33,EI=34,kI=35,jI=36,om=37,lm=38,am=39,sm=40,RI=46,im=65,DI=67,NI=86,MI=t=>t===SI,eG=t=>t===xI,TI=t=>t,Ho=t=>t===CI,rr=t=>t===wI,ho=t=>t===PI,tG=t=>t===OI,nG=t=>t===EI,rG=t=>t===kI,oG=t=>t===jI,cm=t=>t===RI,um=t=>t===om,xr=t=>t===lm,dm=t=>t===am,Gr=t=>t===sm,fm=t=>{switch(t){case lm:case sm:return!0;default:return!1}},FI=t=>{switch(t){case om:case am:return!0;default:return!1}},$c=t=>fm(t)||FI(t),lG=t=>t===im,aG=t=>t===_I,ua=t=>t===II,vs=t=>t.altKey,AI=t=>t.ctrlKey,hs=t=>t.shiftKey,go=t=>t.altKey||t.ctrlKey||t.shiftKey,sG=t=>[67,45].includes(t.keyCode)&&t.ctrlKey,zc=t=>t.shiftKey&&t.keyCode===45||t.ctrlKey&&t.keyCode===86,pm=t=>t.keyCode===82,gs=t=>{switch(t){case 32:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 219:case 220:case 221:case 222:return!0;default:return!1}};function mm(t){return NodeList.prototype.isPrototypeOf(t)||HTMLCollection.prototype.isPrototypeOf(t)?Array.from(t):Array.isArray(t)?t:[t]}const BI=(t,e,n)=>{Object.entries(e).forEach(([r,o])=>{t.addEventListener(r,o,n)})},$I=(t,e,n)=>{Object.entries(e).forEach(([r,o])=>{t.removeEventListener(r,o,n)})},Wo=(t,e,n)=>{const r=mm(t);r==null||r.forEach(o=>o&&BI(o,e,n))},Vo=(t,e,n)=>{const r=mm(t);r==null||r.forEach(o=>o&&$I(o,e,n))},vm={aliceblue:{hex:"F0F8FF",dec:[240,248,255]},antiquewhite:{hex:"FAEBD7",dec:[250,235,215]},aqua:{hex:"00FFFF",dec:[0,255,255]},aquamarine:{hex:"7FFFD4",dec:[127,255,212]},azure:{hex:"F0FFFF",dec:[240,255,255]},beige:{hex:"F5F5DC",dec:[245,245,220]},bisque:{hex:"FFE4C4",dec:[255,228,196]},black:{hex:"000000",dec:[0,0,0]},blanchedalmond:{hex:"FFEBCD",dec:[255,235,205]},blue:{hex:"0000FF",dec:[0,0,255]},blueviolet:{hex:"8A2BE2",dec:[138,43,226]},brown:{hex:"A52A2A",dec:[165,42,42]},burlywood:{hex:"DEB887",dec:[222,184,135]},cadetblue:{hex:"5F9EA0",dec:[95,158,160]},chartreuse:{hex:"7FFF00",dec:[127,255,0]},chocolate:{hex:"D2691E",dec:[210,105,30]},coral:{hex:"FF7F50",dec:[255,127,80]},cornflowerblue:{hex:"6495ED",dec:[100,149,237]},cornsilk:{hex:"FFF8DC",dec:[255,248,220]},crimson:{hex:"DC143C",dec:[220,20,60]},cyan:{hex:"00FFFF",dec:[0,255,255]},darkblue:{hex:"00008B",dec:[0,0,139]},darkcyan:{hex:"008B8B",dec:[0,139,139]},darkgoldenrod:{hex:"B8860B",dec:[184,134,11]},darkgray:{hex:"A9A9A9",dec:[169,169,169]},darkgreen:{hex:"006400",dec:[0,100,0]},darkgrey:{hex:"A9A9A9",dec:[169,169,169]},darkkhaki:{hex:"BDB76B",dec:[189,183,107]},darkmagenta:{hex:"8B008B",dec:[139,0,139]},darkolivegreen:{hex:"556B2F",dec:[85,107,47]},darkorange:{hex:"FF8C00",dec:[255,140,0]},darkorchid:{hex:"9932CC",dec:[153,50,204]},darkred:{hex:"8B0000",dec:[139,0,0]},darksalmon:{hex:"E9967A",dec:[233,150,122]},darkseagreen:{hex:"8FBC8F",dec:[143,188,143]},darkslateblue:{hex:"483D8B",dec:[72,61,139]},darkslategray:{hex:"2F4F4F",dec:[47,79,79]},darkslategrey:{hex:"2F4F4F",dec:[47,79,79]},darkturquoise:{hex:"00CED1",dec:[0,206,209]},darkviolet:{hex:"9400D3",dec:[148,0,211]},deeppink:{hex:"FF1493",dec:[255,20,147]},deepskyblue:{hex:"00BFFF",dec:[0,191,255]},dimgray:{hex:"696969",dec:[105,105,105]},dimgrey:{hex:"696969",dec:[105,105,105]},dodgerblue:{hex:"1E90FF",dec:[30,144,255]},firebrick:{hex:"B22222",dec:[178,34,34]},floralwhite:{hex:"FFFAF0",dec:[255,250,240]},forestgreen:{hex:"228B22",dec:[34,139,34]},fuchsia:{hex:"FF00FF",dec:[255,0,255]},gainsboro:{hex:"DCDCDC",dec:[220,220,220]},ghostwhite:{hex:"F8F8FF",dec:[248,248,255]},gold:{hex:"FFD700",dec:[255,215,0]},goldenrod:{hex:"DAA520",dec:[218,165,32]},gray:{hex:"808080",dec:[128,128,128]},green:{hex:"008000",dec:[0,128,0]},greenyellow:{hex:"ADFF2F",dec:[173,255,47]},grey:{hex:"808080",dec:[128,128,128]},honeydew:{hex:"F0FFF0",dec:[240,255,240]},hotpink:{hex:"FF69B4",dec:[255,105,180]},indianred:{hex:"CD5C5C",dec:[205,92,92]},indigo:{hex:"4B0082",dec:[75,0,130]},ivory:{hex:"FFFFF0",dec:[255,255,240]},khaki:{hex:"F0E68C",dec:[240,230,140]},lavender:{hex:"E6E6FA",dec:[230,230,250]},lavenderblush:{hex:"FFF0F5",dec:[255,240,245]},lawngreen:{hex:"7CFC00",dec:[124,252,0]},lemonchiffon:{hex:"FFFACD",dec:[255,250,205]},lightblue:{hex:"ADD8E6",dec:[173,216,230]},lightcoral:{hex:"F08080",dec:[240,128,128]},lightcyan:{hex:"E0FFFF",dec:[224,255,255]},lightgoldenrodyellow:{hex:"FAFAD2",dec:[250,250,210]},lightgray:{hex:"D3D3D3",dec:[211,211,211]},lightgreen:{hex:"90EE90",dec:[144,238,144]},lightgrey:{hex:"D3D3D3",dec:[211,211,211]},lightpink:{hex:"FFB6C1",dec:[255,182,193]},lightsalmon:{hex:"FFA07A",dec:[255,160,122]},lightseagreen:{hex:"20B2AA",dec:[32,178,170]},lightskyblue:{hex:"87CEFA",dec:[135,206,250]},lightslategray:{hex:"778899",dec:[119,136,153]},lightslategrey:{hex:"778899",dec:[119,136,153]},lightsteelblue:{hex:"B0C4DE",dec:[176,196,222]},lightyellow:{hex:"FFFFE0",dec:[255,255,224]},lime:{hex:"00FF00",dec:[0,255,0]},limegreen:{hex:"32CD32",dec:[50,205,50]},linen:{hex:"FAF0E6",dec:[250,240,230]},magenta:{hex:"FF00FF",dec:[255,0,255]},maroon:{hex:"800000",dec:[128,0,0]},mediumaquamarine:{hex:"66CDAA",dec:[102,205,170]},mediumblue:{hex:"0000CD",dec:[0,0,205]},mediumorchid:{hex:"BA55D3",dec:[186,85,211]},mediumpurple:{hex:"9370DB",dec:[147,112,219]},mediumseagreen:{hex:"3CB371",dec:[60,179,113]},mediumslateblue:{hex:"7B68EE",dec:[123,104,238]},mediumspringgreen:{hex:"00FA9A",dec:[0,250,154]},mediumturquoise:{hex:"48D1CC",dec:[72,209,204]},mediumvioletred:{hex:"C71585",dec:[199,21,133]},midnightblue:{hex:"191970",dec:[25,25,112]},mintcream:{hex:"F5FFFA",dec:[245,255,250]},mistyrose:{hex:"FFE4E1",dec:[255,228,225]},moccasin:{hex:"FFE4B5",dec:[255,228,181]},navajowhite:{hex:"FFDEAD",dec:[255,222,173]},navy:{hex:"000080",dec:[0,0,128]},oldlace:{hex:"FDF5E6",dec:[253,245,230]},olive:{hex:"808000",dec:[128,128,0]},olivedrab:{hex:"6B8E23",dec:[107,142,35]},orange:{hex:"FFA500",dec:[255,165,0]},orangered:{hex:"FF4500",dec:[255,69,0]},orchid:{hex:"DA70D6",dec:[218,112,214]},palegoldenrod:{hex:"EEE8AA",dec:[238,232,170]},palegreen:{hex:"98FB98",dec:[152,251,152]},paleturquoise:{hex:"AFEEEE",dec:[175,238,238]},palevioletred:{hex:"DB7093",dec:[219,112,147]},papayawhip:{hex:"FFEFD5",dec:[255,239,213]},peachpuff:{hex:"FFDAB9",dec:[255,218,185]},peru:{hex:"CD853F",dec:[205,133,63]},pink:{hex:"FFC0CB",dec:[255,192,203]},plum:{hex:"DDA0DD",dec:[221,160,221]},powderblue:{hex:"B0E0E6",dec:[176,224,230]},purple:{hex:"800080",dec:[128,0,128]},rebeccapurple:{hex:"663399",dec:[102,51,153]},red:{hex:"FF0000",dec:[255,0,0]},rosybrown:{hex:"BC8F8F",dec:[188,143,143]},royalblue:{hex:"4169E1",dec:[65,105,225]},saddlebrown:{hex:"8B4513",dec:[139,69,19]},salmon:{hex:"FA8072",dec:[250,128,114]},sandybrown:{hex:"F4A460",dec:[244,164,96]},seagreen:{hex:"2E8B57",dec:[46,139,87]},seashell:{hex:"FFF5EE",dec:[255,245,238]},sienna:{hex:"A0522D",dec:[160,82,45]},silver:{hex:"C0C0C0",dec:[192,192,192]},skyblue:{hex:"87CEEB",dec:[135,206,235]},slateblue:{hex:"6A5ACD",dec:[106,90,205]},slategray:{hex:"708090",dec:[112,128,144]},slategrey:{hex:"708090",dec:[112,128,144]},snow:{hex:"FFFAFA",dec:[255,250,250]},springgreen:{hex:"00FF7F",dec:[0,255,127]},steelblue:{hex:"4682B4",dec:[70,130,180]},tan:{hex:"D2B48C",dec:[210,180,140]},teal:{hex:"008080",dec:[0,128,128]},thistle:{hex:"D8BFD8",dec:[216,191,216]},tomato:{hex:"FF6347",dec:[255,99,71]},turquoise:{hex:"40E0D0",dec:[64,224,208]},violet:{hex:"EE82EE",dec:[238,130,238]},wheat:{hex:"F5DEB3",dec:[245,222,179]},white:{hex:"FFFFFF",dec:[255,255,255]},whitesmoke:{hex:"F5F5F5",dec:[245,245,245]},yellow:{hex:"FFFF00",dec:[255,255,0]},yellowgreen:{hex:"9ACD32",dec:[154,205,50]}};function zI(t){return!!(t&&vm[t])}const hm=t=>zI(t)?`#${vm[t].hex}`:t;function Lc(){const[t,e]=(0,a.useState)(!1),n=(0,a.useCallback)(()=>{e(!0)},[]),r=(0,a.useCallback)(()=>{e(!1)},[]);return{isHover:t,onMouseEnter:n,onMouseLeave:r}}var Zr=(t=>(t.Remix="remix",t.FontAwesome="awesome",t))(Zr||{}),LI=Object.defineProperty,HI=Object.defineProperties,WI=Object.getOwnPropertyDescriptors,gm=Object.getOwnPropertySymbols,VI=Object.prototype.hasOwnProperty,UI=Object.prototype.propertyIsEnumerable,bm=(t,e,n)=>e in t?LI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bo=(t,e)=>{for(var n in e||(e={}))VI.call(e,n)&&bm(t,n,e[n]);if(gm)for(var n of gm(e))UI.call(e,n)&&bm(t,n,e[n]);return t},bs=(t,e)=>HI(t,WI(e)),Ct=t=>{const{tabIndex:e,id:n,name:r,color:o,size:l,type:i="fill",hoverColor:c,set:d=Zr.Remix,onClick:u,dataAttrs:m,outerStyle:f,parentRef:p,className:v}=t,b=r==null?void 0:r.includes("/"),{isHover:y,onMouseEnter:h,onMouseLeave:g}=Lc(),C=(0,a.useMemo)(()=>p?{onClick:u}:{onClick:u,onMouseLeave:g,onMouseEnter:h},[p,u,g,h]);(0,a.useEffect)(()=>{if(p&&p.current){const x={mouseleave:g,mouseenter:h};return Wo(p.current,x),()=>Vo(p.current,x)}},[]);const O=bo({display:"inline-block",height:l,width:l},f);if(b){const{filter:x}=bf(hm(y&&c?c:o));return(0,s.jsx)("img",bs(bo(bo({id:n,tabIndex:e},m),C),{className:v,alt:r,style:bs(bo({},O),{filter:x}),src:en(r)}))}if(d!==Zr.Remix)return(0,s.jsx)(fn(),bs(bo({id:n,tabIndex:e},m),{className:v,style:O,name:r!=null?r:""}));let M=`ri-${r}`;i&&(M+=`-${i}`);const P=be()(v,`${M} ${l?"ri-fw":""}`);return(0,s.jsx)("span",bs(bo(bo({id:n,tabIndex:e},m),C),{className:P,style:bo({color:y&&c?c:o,fontSize:l,lineHeight:1,width:"fit-content"},f)}))},cG={popperIconSize:"18px",primaryColor:"#0bd688"},GI=Object.defineProperty,ZI=Object.defineProperties,KI=Object.getOwnPropertyDescriptors,ys=Object.getOwnPropertySymbols,ym=Object.prototype.hasOwnProperty,_m=Object.prototype.propertyIsEnumerable,Cm=(t,e,n)=>e in t?GI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kr=(t,e)=>{for(var n in e||(e={}))ym.call(e,n)&&Cm(t,n,e[n]);if(ys)for(var n of ys(e))_m.call(e,n)&&Cm(t,n,e[n]);return t},gl=(t,e)=>ZI(t,KI(e)),qI=(t,e)=>{var n={};for(var r in t)ym.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ys)for(var r of ys(t))e.indexOf(r)<0&&_m.call(t,r)&&(n[r]=t[r]);return n};const wn="button",YI="button";function Hc(t){var e;const{_ref:n,focusedElement:r,className:o,style:l,id:i,tabIndex:c,isDisabled:d,isPressed:u,hasError:m,dataAttrs:f,metaSet:p,events:v,hint:b,testId:y,iconName:h,iconSize:g,iconPosition:C,iconType:O,iconColor:M,startIcon:P,endIcon:x,caption:k,hasActiveMode:E,mode:w,modeSwitch:S,onModeChange:F,onKeyDown:A,onEnter:$,onTab:U,onEsc:V,onFocus:N,onBlur:L,onBlurCapture:j,onMouseDown:R,onClick:H,name:W,isFixSize:K,isWrapped:Z,isMultiLine:G,isRoundButton:re,onHint:ee,isParentTable:ce,fashion:D,theme:z,cellColor:q,type:J,commandName:X}=t,ue=(0,lt.v9)(Dt),de=Boolean(D&&ue),ge=cc(k),fe=y||YI,Ee=(0,a.useMemo)(()=>Hn({isFixSize:K,style:l,type:J}),[K,l]);let Pe=Ee.backgroundColor,Ce=(0,a.useRef)(null);(r||n)&&(Ce=r||n);const[Se,je]=Lo(w,S),at=re!=null?re:!ge,Le=ge&&!h,qe=be()(o,wn,{[`${wn}_error`]:m,[`${wn}_disabled`]:d,[`${wn}_pressed`]:u,[`${wn}_round`]:at,[`${wn}_active`]:!d&&je.checkActiveMode(),[`${wn}_editable`]:!d&&je.checkEditableMode(),[`${wn}_with-caption`]:Le,[`${wn}_with-icon-and-caption`]:ge&&h,[`${wn}_without-icon-and-caption`]:!ge&!h,[`${wn}_with-background`]:Pe,[`${wn}__cell`]:ce&&!at}),Ie=be()(`${wn}__caption`,{[`${wn}__caption_wrapped`]:Z,[`${wn}__caption_multiline`]:G,[`${wn}__caption_not-multiline`]:!G}),He=(()=>{const le=Kr({},Ee);return(at||!at&&!ge)&&(le!=null&&le.width)?le.height=le.width:!at&&!(le!=null&&le.height)&&!ce&&(le.height="auto"),le!=null&&le.backgroundColor||(le.borderRadius="50px"),le})(),{backgroundColor:Ae}=He,De=qI(He,["backgroundColor"]),it=(0,a.useCallback)(le=>{d||ke({specificEvent:R,nativeEvent:"onMouseDown",event:le,metaSet:p,events:v})},[d,p,v,R]),ct=(0,a.useCallback)(le=>{d||le.detail>1||(ke({specificEvent:H,nativeEvent:"onClick",event:le,metaSet:p,events:v,commandName:X}),u&&je.setActiveMode())},[d,p,v,H,X]),st=(0,a.useCallback)(le=>{if(d)return;ke({specificEvent:N,nativeEvent:"onFocus",event:le,metaSet:p,events:v})&&(E?je.setActiveMode():je.setEditableMode())},[d,p,v,N,E]),bt=(0,a.useCallback)(le=>{if(d)return;ke({specificEvent:L,nativeEvent:"onBlur",event:le,metaSet:p,events:v})&&je.setDefaultMode()},[d,p,v,L,E]),ft=(0,a.useCallback)(le=>{if(!d)return ke({specificEvent:j,nativeEvent:"onBlurCapture",event:le,metaSet:p,events:v}),!1},[d,p,v,j]),ht=(0,a.useCallback)(le=>{if(d)return;let we=!0;if((rr(le.keyCode)||ua(le.keyCode))&&!le.repeat)we=ke({specificEvent:$,nativeEvent:"onEnter",event:le,metaSet:p,events:v});else if(Ho(le.keyCode))we=ke({specificEvent:U,nativeEvent:"onTab",event:le,metaSet:p,events:v}),we&&je.setDefaultMode();else if(ho(le.keyCode))we=ke({specificEvent:V,nativeEvent:"onEsc",event:le,metaSet:p,events:v}),we&&(E?je.setActiveMode():je.setDefaultMode());else if(go(le))le.preventDefault();else{if(rr(le.keyCode)&&le.repeat)return;ke({specificEvent:A,nativeEvent:"onKeyDown",event:le,metaSet:p,events:v})}},[d,v,p,A,U,$,V,it]),Be=(0,a.useCallback)(le=>{ke({specificEvent:ee,nativeEvent:"onHint",event:le,metaSet:p,events:v})},[ee,v,p]);(0,a.useEffect)(()=>{d&&ke({specificEvent:F,nativeEvent:"onModeChange",metaSet:p,events:v,value:Se})},[d,p,v,F,Se]),(0,a.useEffect)(()=>{d&&je.setDefaultMode()},[d]),pr(Ce,b,(e=Ce==null?void 0:Ce.current)==null?void 0:e.innerText);const ie=h==null?void 0:h.includes("/"),Ze=`${fe}_icon`,tt=ie?`${wn}__img img`:`${wn}__font-awesome`,_t={width:g,display:"inline-block",height:g};let ve=(0,s.jsx)(Ct,gl(Kr({type:O,name:h,color:M,size:g,set:de?Zr.Remix:Zr.FontAwesome},f),{outerStyle:_t,className:tt,"data-testid":Ze}));const pe=Pe?ge&&(0,s.jsx)("div",{children:(0,s.jsx)("span",gl(Kr({className:Ie},f),{"data-testid":`${fe}_caption`,children:ge}))}):ge&&(0,s.jsx)("span",gl(Kr({className:Ie},f),{"data-testid":`${fe}_caption`,children:ge})),ae=Kr({id:i,name:W,className:de?null:qe,style:de?null:De,disabled:d,tabIndex:Ur(!d,c),onKeyDown:ht,onFocus:st,onBlur:bt,onBlurCapture:ft,onMouseDown:it,onClick:ct,onMouseEnter:Be,"data-testid":fe,type:"button"},f),te=gl(Kr({},ae),{buttonRef:Ce,theme:z,fashion:D,isPressed:u,iconSize:g,iconPosition:C,startIcon:P,endIcon:x,content:pe,icon:ve,countedStyle:De});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{backgroundColor:ce&&q?"transparent":q},children:(0,s.jsxs)("div",{className:"wrapper_button",style:{backgroundColor:Ae},children:[!de&&(0,s.jsxs)("button",gl(Kr({ref:Ce},ae),{children:[h&&ve,pe]})),de&&(0,s.jsx)(mI,Kr({},te))]})})})}Hc.propTypes={_ref:_().object,id:_().string,className:_().string,style:_().object,isExcluded:_().bool,isDisabled:_().bool,isStatic:_().bool,metaSet:_().oneOfType([_().object,_().string]),dataAttrs:_().object,hasError:_().bool,iconName:_().string,caption:_().string,hint:_().string,events:_().object,tabIndex:_().oneOfType([_().number,_().string]),testId:_().string,hasActiveMode:_().bool,mode:_().string,onModeChange:_().func,onFocus:_().func,onBlur:_().func,onClick:_().func,type:_().string,iconColor:_().string},Hc.defaultProps={_ref:null,id:null,className:null,style:null,isExcluded:!1,isDisabled:!1,isStatic:!1,metaSet:null,dataAttrs:null,hasError:!1,iconName:null,caption:null,hint:null,events:null,tabIndex:0,testId:null,hasActiveMode:!1,mode:null,onModeChange:null,onFocus:null,onBlur:null,onClick:null,type:"button"};var qr=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Hc,gl(Kr({},t),{_ref:e})))),Ut=qr;const XI={alignSelf:"flex-end",margin:10};function JI(t){const{onClose:e,value:n}=t;return(0,s.jsxs)("div",{className:"mm-popup__box__image-container",children:[(0,s.jsx)("div",{style:XI,children:(0,s.jsx)(Ut,{name:"closeButton",iconName:"times",onClick:e})}),(0,s.jsx)("img",{src:n})]})}var QI=JI,wm=Ve(32832),eO=Ve(58847),tO=JSON.parse('{"login_username":"User name","login_password":"Password","login_enter":"Enter","login_enter_sso":"Enter as current user","login_disable":"Disable user and continue","login_session_exist":"User session already exists","old_password":"Old password","new_password":"New password","choose_role_form":"Choose user role","change_password_dialog":"Change password","confirm":"Confirmation","empty_message":"There are no details","error":"Error","error_invalid_username_password":"The username or password you entered is incorrect","error_lost_session":"Lost session","error_unknown_server":"Unknown server error","error_incorrect_input":"Incorrect input","error_server":"Server error","error_client":"Client error","error_no_focused_element":"There is no focused element","error_no_result_value":"Result value empty or not correct","error_application":"Abnormal situation in the application","contact_to_dev":"Contact the developer","server_notification":"Server notification","color_selection":"Color selection","file_upload":"File upload","info_time":"Time is up","workspace_exit":"Exit","main_menu":"Menu","name":"Name","description":"Description","browser_support_message_1":"You are using an incompatible browser.","browser_support_message_2":"In order to use the site features,","browser_support_message_3":"download and install one of the following browsers:","table_filter_name":"Filter","table_filter_button_clear":"Clear all","table_filter_button_apply":"Apply","context_menu":"Context menu","list_button_hint":"Open dropdown list","confirm_stub":"Confirm action","upload_stub":"Upload File","confirm_cancel_upload":"No files have been uploaded. Are you sure you want to cancel upload?","yes":"Yes","no":"No","ok":"Ok","cancel":"Cancel","apply":"Apply","close":"Close","close_all":"Close all","others_close":"Close others","roll_up":"Roll Up","expand":"Expand","raise_form":"Raise form","image":"Image","dialog":"Dialog window","invalid_color":"Invalid HEX format"}'),nO=JSON.parse('{"login_username":"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F","login_password":"\u041F\u0430\u0440\u043E\u043B\u044C","old_password":"\u0421\u0442\u0430\u0440\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C","new_password":"\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C","confirm":"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435","choose_role_form":"\u0412\u044B\u0431\u043E\u0440 \u0440\u043E\u043B\u0438","change_password_dialog":"\u0421\u043C\u0435\u043D\u0430 \u043F\u0430\u0440\u043E\u043B\u044F","login_enter":"\u0412\u0445\u043E\u0434","login_enter_sso":"\u0412\u043E\u0439\u0442\u0438 \u043F\u043E\u0434 \u0442\u0435\u043A\u0443\u0449\u0438\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u043C","login_disable":"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438 \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C","login_session_exist":"\u0421\u0435\u0441\u0441\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","empty_message":"\u0414\u0435\u0442\u0430\u043B\u0438 \u043D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B","error":"\u041E\u0448\u0438\u0431\u043A\u0430","error_invalid_username_password":"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0435 \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C","error_lost_session":"\u0421\u0435\u0441\u0441\u0438\u044F \u043F\u043E\u0442\u0435\u0440\u044F\u043D\u0430","error_unknown_server":"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","error_incorrect_input":"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F, \u0432\u0432\u0435\u0434\u0435\u043D\u044B \u043D\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F","error_server":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","error_client":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430","error_no_focused_element":"\u041F\u043E\u043B\u0435 \u0432\u0432\u043E\u0434\u0430 \u0434\u043B\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0430 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0439 \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E","error_no_result_value":"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F \u043F\u0443\u0441\u0442\u043E\u0439 \u0438\u043B\u0438 \u043D\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439","error_application":"\u041D\u0435\u0448\u0442\u0430\u0442\u043D\u0430\u044F \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044F \u0432 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0438","contact_to_dev":"\u041E\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044C \u043A \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u0443","server_notification":"\u0423\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","color_selection":"\u0412\u044B\u0431\u043E\u0440 \u0446\u0432\u0435\u0442\u0430","file_upload":"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u043E\u0432","info_time":"\u0412\u0440\u0435\u043C\u044F \u0438\u0441\u0442\u0435\u043A\u043B\u043E","workspace_exit":"\u0412\u044B\u0445\u043E\u0434","main_menu":"\u041C\u0435\u043D\u044E","name":"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","description":"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435","browser_support_message_1":"\u0412\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0435 \u043D\u0435\u0441\u043E\u0432\u043C\u0435\u0441\u0442\u0438\u043C\u044B\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440.","browser_support_message_2":"\u0414\u043B\u044F \u0442\u043E\u0433\u043E, \u0447\u0442\u043E\u0431\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430,","browser_support_message_3":"\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u043E\u0434\u0438\u043D \u0438\u0437 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u0432:","table_filter_name":"\u0424\u0438\u043B\u044C\u0442\u0440","table_filter_button_clear":"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0432\u0441\u0435","table_filter_button_apply":"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C","context_menu":"\u041A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0435 \u043C\u0435\u043D\u044E","list_button_hint":"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0432\u044B\u043F\u0430\u0434\u0430\u044E\u0449\u0438\u0439 \u0441\u043F\u0438\u0441\u043E\u043A","confirm_stub":"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435","upload_stub":"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430","confirm_cancel_upload":"\u0424\u0430\u0439\u043B\u044B \u043D\u0435 \u0431\u044B\u043B\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443?","yes":"\u0414\u0430","no":"\u041D\u0435\u0442","ok":"\u0413\u043E\u0442\u043E\u0432\u043E","cancel":"\u041E\u0442\u043C\u0435\u043D\u0430","apply":"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C","close":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C","close_all":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u0432\u0441\u0435","others_close":"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u0434\u0440\u0443\u0433\u0438\u0435","roll_up":"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C","expand":"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C","raise_form":"\u041F\u043E\u0434\u043D\u044F\u0442\u044C \u043E\u043A\u043D\u043E","image":"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435","invalid_color":"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0446\u0432\u0435\u0442\u0430","dialog":"\u0414\u0438\u0430\u043B\u043E\u0433\u043E\u0432\u043E\u0435 \u043E\u043A\u043D\u043E"}'),rO=JSON.parse(`{"login_username":"Nom d'utilisateur","login_password":"Mot de passe","login_enter":"Entr\xE9e","login_disable":"D\xE9sactiver l'utilisateur et continuer","login_session_exist":"La session utilisateur existe d\xE9j\xE0","error_invalid_username_password":"Nom d'utilisateur ou mot de passe invalide","error_lost_session":"Session perdue","error_unknown_server":"Erreur de serveur inconnue","error_server":"Erreur de serveur","error_application":"Situation anormale dans l'application","contact_to_dev":"Contacter le d\xE9veloppeur","info_time":"Le temps est \xE9coul\xE9","workspace_exit":"Sortie","close":"Fermer","close_all":"Ferme tout","others_close":"Fermer les autres"}`),oO=JSON.parse('{"login_username":"\u7528\u6237\u540D","login_password":"\u5BC6\u7801","login_enter":"\u767B\u5F55","login_disable":"\u7981\u7528\u7528\u6237\u5E76\u7EE7\u7EED","login_session_exist":"\u7528\u6237\u4F1A\u8BDD\u5DF2\u5B58\u5728","error_invalid_username_password":"\u7528\u6237\u540D\u6216\u5BC6\u7801\u65E0\u6548","error_lost_session":"\u5931\u53BB\u4E86\u4F1A\u8BDD","error_unknown_server":"\u672A\u77E5\u7684\u670D\u52A1\u5668\u9519\u8BEF","error_server":"\u670D\u52A1\u5668\u9519\u8BEF","error_application":"\u61C9\u7528\u4E2D\u7684\u7570\u5E38\u60C5\u6CC1","contact_to_dev":"\u806F\u7E6B\u958B\u767C\u5546","info_time":"\u65F6\u95F4\u5230\u4E86","workspace_exit":"\u51FA\u53E3","close":"\u95DC\u9589","close_all":"\u95DC\u9589\u6240\u6709","others_close":"\u95DC\u9589\u4ED6\u4EBA"}');const lO={en:{translation:tO},ru:{translation:nO},fr:{translation:rO},zh:{translation:oO}};wm.ZP.use(eO.rW).init({resources:lO,fallbackLng:["ru","en"],keySeparator:">",nsSeparator:"|",interpolation:{escapeValue:!1}});var rt=wm.ZP,uG={popperIconSize:"18px",primaryColor:"#0bd688"},aO=Object.defineProperty,sO=Object.defineProperties,iO=Object.getOwnPropertyDescriptors,xm=Object.getOwnPropertySymbols,cO=Object.prototype.hasOwnProperty,uO=Object.prototype.propertyIsEnumerable,Sm=(t,e,n)=>e in t?aO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yr=(t,e)=>{for(var n in e||(e={}))cO.call(e,n)&&Sm(t,n,e[n]);if(xm)for(var n of xm(e))uO.call(e,n)&&Sm(t,n,e[n]);return t},dO=(t,e)=>sO(t,iO(e));const fO=(0,B.ZP)("div")(({styledState:t})=>{const{focused:e,hovered:n,isDisabled:r,showSuccess:o,showError:l,wrapperStyle:i,hasCaption:c,isMultiLine:d,isReadOnly:u}=t;return Yr(Yr(Yr(Yr(Yr(Yr({margin:2,position:"relative",overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",height:c?48:32,width:"100%",paddingLeft:12,paddingRight:12,backgroundColor:I(r?"input-background-disable":"input-background"),cursor:r?"default":"text",borderRadius:8,border:`1px solid ${I("input-border")}`},!r&&dO(Yr(Yr(Yr({},e&&{border:`1px solid ${I("input-border-active")}`}),n&&{border:`1px solid ${I("input-border-hover")}`}),n&&e&&{border:`1px solid ${I("input-border-active")}`}),{"&:active":{border:`1px solid ${I("input-border-active")}`}})),o&&{border:`1px solid ${I("input-border-success")}`}),l&&{border:`1px solid ${I("input-border-error")}`}),d&&{height:"auto",minHeight:c?48:32}),u&&{cursor:"default",border:"none","&:active":{border:"none"}}),i)});var pO=Object.defineProperty,mO=Object.defineProperties,vO=Object.getOwnPropertyDescriptors,Pm=Object.getOwnPropertySymbols,hO=Object.prototype.hasOwnProperty,gO=Object.prototype.propertyIsEnumerable,Im=(t,e,n)=>e in t?pO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_s=(t,e)=>{for(var n in e||(e={}))hO.call(e,n)&&Im(t,n,e[n]);if(Pm)for(var n of Pm(e))gO.call(e,n)&&Im(t,n,e[n]);return t},bO=(t,e)=>mO(t,vO(e));const yO=(0,B.ZP)("input")(({styledState:t})=>{const{isDisabled:e,textColor:n,visiblePassword:r,hasCaption:o}=t;return _s(_s(_s(bO(_s({border:"none",outline:"none",wordBreak:"break-all",height:"auto",alignSelf:"flex-end"},o&&{paddingBottom:0}),{minHeight:10,width:"100%",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:n||I("input-text")}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")}),r&&{opacity:.8,transition:".2s"}),!r&&{opacity:1,transition:".2s",letterSpacing:2})});var _O=Object.defineProperty,Om=Object.getOwnPropertySymbols,CO=Object.prototype.hasOwnProperty,wO=Object.prototype.propertyIsEnumerable,Em=(t,e,n)=>e in t?_O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wc=(t,e)=>{for(var n in e||(e={}))CO.call(e,n)&&Em(t,n,e[n]);if(Om)for(var n of Om(e))wO.call(e,n)&&Em(t,n,e[n]);return t};const xO=(0,B.ZP)("div")(({styledState:t})=>{const{isDisabled:e,hasCurrentValue:n,focused:r,hasInputValue:o,wrapperStyle:l}=t;return Wc(Wc({position:"absolute",top:"50%",left:"0",transform:"translate(0, -50%)",color:I("input-label"),fontSize:14,lineHeight:1,whiteSpace:"nowrap",transition:"font-size .2s, top .2s, color .2s",transitionDelay:".3s"},(r||n||o)&&{color:I("input-label-disabled"),fontSize:12,transitionDelay:"0s",transition:"font-size .2s, top .2s, color .2s",top:l!=null&&l.paddingTop?l.paddingTop:14}),e&&Wc({color:I("input-label-disabled"),transition:"none",top:"50%",fontSize:14},n&&{top:l!=null&&l.paddingTop?l.paddingTop:14,fontSize:12}))});var SO=Object.defineProperty,PO=Object.defineProperties,IO=Object.getOwnPropertyDescriptors,km=Object.getOwnPropertySymbols,OO=Object.prototype.hasOwnProperty,EO=Object.prototype.propertyIsEnumerable,jm=(t,e,n)=>e in t?SO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kO=(t,e)=>{for(var n in e||(e={}))OO.call(e,n)&&jm(t,n,e[n]);if(km)for(var n of km(e))EO.call(e,n)&&jm(t,n,e[n]);return t},jO=(t,e)=>PO(t,IO(e));const RO=(0,B.ZP)("div")(({styledState:t})=>{const{isRequiredIndicator:e}=t;return jO(kO({width:14,height:14,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:1,transition:".2s",transitionDelay:".3s"},!e&&{opacity:0,width:0,transition:".2s",transitionDelay:"0s"}),{"& span, div":{color:I("input-icon-required")}})}),Vc=(0,B.ZP)("button")(({styledState:t})=>{const{isDisabled:e}=t;return{position:"relative",cursor:"pointer",height:16,width:16,"& span":{position:"absolute",top:-1,bottom:0,left:0,right:0,margin:"0 auto",color:I(e?"input-icon-disabled":"input-icon")}}});var DO=Object.defineProperty,NO=Object.defineProperties,MO=Object.getOwnPropertyDescriptors,Rm=Object.getOwnPropertySymbols,TO=Object.prototype.hasOwnProperty,FO=Object.prototype.propertyIsEnumerable,Dm=(t,e,n)=>e in t?DO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,da=(t,e)=>{for(var n in e||(e={}))TO.call(e,n)&&Dm(t,n,e[n]);if(Rm)for(var n of Rm(e))FO.call(e,n)&&Dm(t,n,e[n]);return t},Uc=(t,e)=>NO(t,MO(e));const AO=(0,B.ZP)("div")(({styledState:t})=>{const{isDisabled:e,textColor:n,visiblePassword:r,wrapperStyle:o,hasCaption:l,isMultiLine:i}=t;return Uc(da(da(da(Uc(da(Uc(da({wordBreak:"break-all",height:16,alignSelf:"flex-end",opacity:1},!(o!=null&&o.paddingBottom)&&{paddingBottom:l?7:0}),{minHeight:10,width:"100%"}),(o==null?void 0:o.textAlign)==="right"&&{width:"auto"}),{minWidth:4,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",color:n||I("input-text"),cursor:"inherit"}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")}),r&&{fontFamily:"text-security-disc, serif"}),i&&{minHeight:16,marginTop:l?18:0,height:"auto",whiteSpace:"pre-wrap"}),{"& *":{color:"inherit !important",fontSize:"14px !important",fontFamily:"inherit !important",background:"inherit !important"}})});var BO=Object.defineProperty,Nm=Object.getOwnPropertySymbols,$O=Object.prototype.hasOwnProperty,zO=Object.prototype.propertyIsEnumerable,Mm=(t,e,n)=>e in t?BO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LO=(t,e)=>{for(var n in e||(e={}))$O.call(e,n)&&Mm(t,n,e[n]);if(Nm)for(var n of Nm(e))zO.call(e,n)&&Mm(t,n,e[n]);return t};const HO=(0,B.ZP)("div")(({styledState:t})=>{const{hasCaption:e,wrapperStyle:n}=t;return LO({position:"relative",display:"flex",flex:1,height:e?"100%":"initial",overflow:"hidden"},(n==null?void 0:n.textAlign)==="right"&&{display:"flex",justifyContent:"end"})}),WO=(0,B.ZP)("div")({marginRight:5,display:"flex"}),VO=(0,B.ZP)("div")({position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",gap:3}),Tm={SHOW:"eye",HIDE:"eye-off"},Fm={TEXT:"text",PASSWORD:"password"},dG={UP:"ri-arrow-up-s-line",DOWN:"ri-arrow-down-s-line"};var UO=Object.defineProperty,GO=Object.defineProperties,ZO=Object.getOwnPropertyDescriptors,Am=Object.getOwnPropertySymbols,KO=Object.prototype.hasOwnProperty,qO=Object.prototype.propertyIsEnumerable,Bm=(t,e,n)=>e in t?UO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$m=(t,e)=>{for(var n in e||(e={}))KO.call(e,n)&&Bm(t,n,e[n]);if(Am)for(var n of Am(e))qO.call(e,n)&&Bm(t,n,e[n]);return t},zm=(t,e)=>GO(t,ZO(e));const Lm=(0,a.memo)(t=>{const{_ref:e,buttonComponent:n,caption:r,className:o,currentValue:l,componentProps:i,inputRef:c,isDisabled:d=!1,showSuccess:u,showError:m,textColor:f="",isRequired:p=!1,isStatic:v,isStaticOrDisabled:b,handleMouseDown:y,handleMouseUp:h,onClick:g,onBlur:C,onBlurCapture:O,onPaste:M,onDoubleClick:P,onMouseEnter:x,wrapperStyleProps:k,onFocus:E,innerIcon:w,isPassword:S,name:F,value:A,onChange:$,isMultiLine:U,isReadOnly:V}=t,L=(()=>{const{paddingLeft:Se,paddingRight:je,paddingBottom:at,paddingTop:Le}=k,qe={paddingLeft:Se,paddingRight:je,paddingBottom:at,paddingTop:Le};return qe.paddingLeft=Vt(Se),qe.paddingRight=Vt(je),qe.paddingBottom=Vt(at),qe.paddingTop=Vt(Le),Object.assign(k,qe)})(),[j,R]=(0,a.useState)(!1),[H,W]=(0,a.useState)(!1),[K,Z]=(0,a.useState)(!1),G=p&&!d&&!l&&!j,re=S&&!K?Fm.PASSWORD:Fm.TEXT,ee=K?Tm.SHOW:Tm.HIDE,ce=Boolean(w),D=Boolean(A),z=Boolean(l),q=Boolean(r),J=!b&&(j||H)&&!V,X={isDisabled:d,showError:m,showSuccess:u,focused:j,hovered:H,textColor:f,wrapperStyle:L,hasCurrentValue:z,visiblePassword:K,hasInputValue:D,isRequiredIndicator:G,hasCaption:q,isMultiLine:U,isReadOnly:V},ue=Se=>{W(!0),x==null||x(Se)},de=()=>{W(!1)},ge=Se=>{V||(R(!0),E==null||E(Se))},fe=Se=>{R(!1),C==null||C(Se)},Ee=Se=>{var je;Se.stopPropagation(),c.current&&!d&&(c.current.textContent=""),(je=c==null?void 0:c.current)==null||je.focus()},Pe=Se=>{d||(Ot(Se),Z(je=>!je))},Ce=Se=>{var je;if(b){Ot(Se);return}!n||!(Se.target instanceof HTMLSpanElement)?(je=c==null?void 0:c.current)==null||je.focus():g(Se)};return(0,s.jsxs)(fO,{className:o,ref:e,tabIndex:-1,onMouseEnter:ue,onMouseLeave:de,onClick:Ce,styledState:X,onBlur:fe,onBlurCapture:O,children:[ce&&(0,s.jsx)(WO,{children:w}),(0,s.jsxs)(HO,{styledState:X,children:[S?(0,s.jsx)(yO,zm($m({name:F,type:re,value:A,onChange:$},i),{onFocus:ge,styledState:X})):(0,s.jsx)(AO,zm($m({},i),{onMouseDown:v?void 0:y,onMouseUp:v?void 0:h,onClick:g,onBlurCapture:O,onPaste:M,onDoubleClick:P,onMouseEnter:x,onFocus:ge,styledState:X,children:l})),r&&(0,s.jsx)(xO,{className:"prefix",styledState:X,onClick:Ce,children:r})]}),(0,s.jsxs)(VO,{children:[(0,s.jsx)(RO,{styledState:X,children:(0,s.jsx)(Vc,{styledState:X,children:(0,s.jsx)("div",{className:"fa fa-asterisk",style:{fontSize:"8px"},"aria-hidden":"true"})})}),S&&(0,s.jsx)(Vc,{styledState:X,onClick:Pe,children:(0,s.jsx)(Ct,{name:ee})}),J&&!S&&(0,s.jsx)(Vc,{styledState:X,onClick:Ee,children:(0,s.jsx)("span",{className:"ri-close-line"})}),!S&&n]})]})});Lm.displayName="StringStyled";function YO(t){let e=0;const n=window.getSelection();if(!n||n.rangeCount==0)return e;const r=n.getRangeAt(0),o=r.cloneRange();return o.selectNodeContents(t),o.setEnd(r.endContainer,r.endOffset),e=o.toString().length,e}function XO(t,e){const n=window.getSelection();if(!n)return;const r=document.createRange();r.setStart(t.childNodes[0],e),r.collapse(!0),n.removeAllRanges(),n.addRange(r)}function JO(t,e,n){const r=t.split("");return r.splice(n,0,e),r.join("")}const Tr={default:"default",selected:"selected"};function Hm(t){const{targetElement:e,needSelection:n=!0,textSelectionSwitch:r,editableMode:o}=t,l=(0,a.useRef)(null),i=r||l,[c,d]=(0,a.useState)(Tr.default),u=(0,a.useCallback)(()=>{d(Tr.selected)},[]),m=(0,a.useCallback)(()=>{d(Tr.default)},[]),f=(0,a.useRef)({setSelectedMode:u,setDefaultMode:m});return(0,a.useImperativeHandle)(i,()=>f.current),(0,a.useEffect)(()=>{if(e&&o){const p=n&&o&&c===Tr.selected;if(e!=null&&e.setSelectionRange){const{value:v}=e;let b=v.length;const y=v.length;p&&(b=0),e.setSelectionRange(b,y)}else{let v=new Range,b=window.getSelection();v.selectNodeContents(e),p||v.collapse(!1),b.removeAllRanges(),b.addRange(v)}}},[n,c,o]),[c,f.current]}var QO=Object.defineProperty,e4=Object.defineProperties,t4=Object.getOwnPropertyDescriptors,Wm=Object.getOwnPropertySymbols,n4=Object.prototype.hasOwnProperty,r4=Object.prototype.propertyIsEnumerable,Vm=(t,e,n)=>e in t?QO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o4=(t,e)=>{for(var n in e||(e={}))n4.call(e,n)&&Vm(t,n,e[n]);if(Wm)for(var n of Wm(e))r4.call(e,n)&&Vm(t,n,e[n]);return t},l4=(t,e)=>e4(t,t4(e));function a4(t){return function(n){const{listValues:r}=n,[o,l]=(0,a.useState)(-1),i=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useMemo)(()=>{if(!i.current||!c.current||o===-1)return null;const{clientHeight:m,scrollTop:f}=c.current.scrollValues,p=i.current.clientHeight,v=o*p,b=v>=m+f;return{scrollTop:v<f&&v,scrollBottom:b&&v+p-m}},[i,c,o]);(0,a.useEffect)(()=>{if(!d||!c.current)return;const{scrollTop:m,scrollBottom:f}=d;m!==!1?c.current.scrollTo(0,m):f&&c.current.scrollTo(0,f)},[d]);const u=(0,a.useCallback)(m=>{if(!(r!=null&&r.length))return!1;let f=null;return xr(m.keyCode)?f=o<=0?r.length-1:o-1:Gr(m.keyCode)&&(f=o>=r.length-1?0:o+1),f!==null?(m.preventDefault(),Ot(m),l(f),!1):!0},[o,r]);return(0,s.jsx)(t,l4(o4({},n),{keyBoardNavigation:u,selected:o,setSelected:l,elementNode:i,containerNode:c}))}}var s4=Object.defineProperty,i4=Object.defineProperties,c4=Object.getOwnPropertyDescriptors,Cs=Object.getOwnPropertySymbols,Um=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,Zm=(t,e,n)=>e in t?s4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u4=(t,e)=>{for(var n in e||(e={}))Um.call(e,n)&&Zm(t,n,e[n]);if(Cs)for(var n of Cs(e))Gm.call(e,n)&&Zm(t,n,e[n]);return t},d4=(t,e)=>i4(t,c4(e)),f4=(t,e)=>{var n={};for(var r in t)Um.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cs)for(var r of Cs(t))e.indexOf(r)<0&&Gm.call(t,r)&&(n[r]=t[r]);return n};function p4(t){return function(n,r){const o=n,{onResize:l,events:i,metaSet:c}=o,d=f4(o,["onResize","events","metaSet"]);let u=(0,a.useRef)(null);u=r||u;const m=(0,a.useCallback)(f=>{const p=f[0],v={target:p.target};v.borderBoxSize=Array.isArray(p.borderBoxSize)?p.borderBoxSize[0]:p.borderBoxSize,v.contentBoxSize=Array.isArray(p.contentBoxSize)?p.contentBoxSize[0]:p.contentBoxSize,v.contentRect=Array.isArray(p.contentRect)?p.contentRect[0]:p.contentRect,v.borderBoxSize||(v.borderBoxSize={blockSize:v.contentRect.height});let b=!0;if(l&&(b=l({metaSet:c,value:v})),b&&(i!=null&&i.onResize)){const{alias:y,args:h}=i.onResize;he[y]({args:h,metaSet:c,value:v})}},[c,l,i]);return(0,a.useEffect)(()=>{if(u.current){const f=new uo.Z(m);return f.observe(u.current),()=>{u.current&&f.unobserve(u.current)}}},[u,m]),(0,s.jsx)(t,d4(u4({},d),{_ref:u,events:i,metaSet:c}))}}const ws=({initialValue:t,value:e,formattedValue:n,dataAttrs:r,resetValue:o,controlName:l})=>{const i=(0,lt.v9)(c=>c.modalPopUp);(0,a.useEffect)(()=>{if((n===void 0||n!==e)&&i[0]&&r&&e!==t&&t!==void 0&&!(e===""&&(0,zt.isNull)(t))){const{formId:c,controlId:d,rowId:u,tableControlId:m,rowControlId:f}=i[0];let p;m&&u?p=r["data-table-id"]===String(d)&&r["data-row-id"]===String(u)&&r["data-column-id"]===String(m):m&&f?p=r["data-grid-id"]===String(d)&&r["data-row-id"]===String(f)&&r["data-column-id"]===String(m):p=r["data-form-id"]===String(c)&&r["data-name"]===String(d),p||(i[0].context?l===d&&o():o())}},[i])};function Gc(t){return t.mainAppParams.processCounter}const Km=(0,B.ZP)("span")({width:16,height:16,borderRadius:2,cursor:"pointer"});var fG={popperIconSize:"18px",primaryColor:"#0bd688"};const m4=160,xn="string",pG={DEFAULT:"ellipsis-h",LOOKUP:"ellipsis-h",COMBO:"caret-down"},v4={default:"ellipsis-h",lookup:"ellipsis-h",combo:"caret-down"},qm={SHOW:"eye",HIDE:"eye-off"},Ym={UP:"ri-arrow-up-s-line",DOWN:"ri-arrow-down-s-line"},h4=/^[-+]?\d*([.,]\d*)?$/,g4=/^[-+]?\d*$/;function b4(t,e){var n;return((n=t==null?void 0:t.modalPopUp)==null?void 0:n.length)&&t.modalPopUp.find(r=>r.controlId===e)}function y4(t){return t.modalPopUp.length}function Xm(t){return t.modalPopUp}var _4=Object.defineProperty,C4=Object.defineProperties,w4=Object.getOwnPropertyDescriptors,xs=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Qm=Object.prototype.propertyIsEnumerable,e0=(t,e,n)=>e in t?_4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e)=>{for(var n in e||(e={}))Jm.call(e,n)&&e0(t,n,e[n]);if(xs)for(var n of xs(e))Qm.call(e,n)&&e0(t,n,e[n]);return t},cn=(t,e)=>C4(t,w4(e)),x4=(t,e)=>{var n={};for(var r in t)Jm.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xs)for(var r of xs(t))e.indexOf(r)<0&&Qm.call(t,r)&&(n[r]=t[r]);return n};const bl={input:"input",button:"button"},yl=(t,e)=>e==null?void 0:e.test(t),t0=({value:t,caretPosition:e=null,inputRef:n})=>{const r=t+"",o=document.getSelection();o.removeAllRanges();const l=new Range,i=e===null?r.length:Math.min(e,r.length),c=r?n.firstChild:n;l.setStart(c,i),l.collapse(!1),o.addRange(l)},n0=t=>{t&&(t.scrollLeft=0)};function Zc(t){var e,n,r;const{_ref:o,focusedElement:l,isControlledValue:i,caption:c,id:d,className:u,style:m,isWrapped:f,isMultiLine:p,isExcluded:v,isDisabled:b,isNumeric:y,isDisabledByAutolock:h,isStatic:g,hasActiveMode:C,mode:O,modeSwitch:M,needTextSelection:P,textSelectionSwitch:x,name:k,value:E,formattedValue:w,lastValue:S,initialValue:F,initialFormattedValue:A,inputColor:$,testId:U,hint:V,dataAttrs:N,buttonIconName:L,metaSet:j,events:R,tabIndex:H,onAutolock:W,onModeChange:K,onChange:Z,onKeyDown:G,onKeyUp:re,onEnter:ee,onBlur:ce,onBlurCapture:D,onImplicitChange:z,onFocus:q,onTab:J,onEsc:X,onDelete:ue,onMouseDown:de,onMouseUp:ge,onClick:fe,onDoubleMouseDown:Ee,onDoubleMouseUp:Pe,onDoubleClick:Ce,onCopy:Se,onPaste:je,onCut:at,iconName:Le,iconSize:qe,isFixSize:Ie,isPassword:Ye,browserAutoComplete:He,isSwitchedToEnum:Ae,isEnum:De,type:it,onLookup:ct,showButton:st,buttonStyle:bt,isRequired:ft,disableOnEdit:ht,onEdit:Be,isParentTable:ie,onHint:Ze,cellColor:tt,isSpellCheck:_t,isAutoLock:ve,isAutocomplete:pe,currentFieldName:ae,typeEdit:te,isOpenList:le,readOnly:we,isInteger:ze}=t,Qe=we,gt=(0,lt.v9)(Dt),se=(0,lt.v9)(Gc),xe=(0,lt.v9)(T=>T.modalPopUp),me=b||h,Me=ve&&h===void 0,Te=(0,a.useRef)(null),et=!!(R!=null&&R.onEdit||Be),We=ae===U,[yt,Nt]=(0,a.useState)(""),[pt,Mt]=(0,a.useState)(Ye);let mn=bt&&v4[bt]||L;const tr=pt?qm.HIDE:qm.SHOW,yn=u==="login-layout__input",un=(0,a.useRef)(null),dn=(0,a.useRef)(!1),ln=(0,a.useRef)(!1),Jt=!me&&!g&&(Ye||st),vn=(0,a.useRef)({value:E,formattedValue:w}),Bn=(0,a.useRef)(E),Rr=S||Bn,[sr,Pn]=(0,a.useState)(!1),[ye,Re]=(0,a.useState)(!1),Ke=(0,lt.v9)(Xm),Xe=(0,a.useRef)(!1),ut=x||Xe;let Ne=(0,a.useRef)(null);Ne=l||Ne;const Et=(0,a.useRef)(null),[At,nt]=Lo(O,M),{textAlign:Zt,verticalAlign:Zn}=m,$n=le?Ym.UP:Ym.DOWN,jt=g||me||Qe,Fn=document.activeElement===Ne.current,In=be()(u,xn,{[`${xn}_multiline`]:p,[`${xn}_wrapped`]:f,[`${xn}_with-button`]:Jt,[`${xn}_without-text-offset`]:Jt&&(m==null?void 0:m.width)&&Ie&&m.width<10,[`${xn}_disabled`]:me,[`${xn}_active`]:nt.checkActiveMode(),[`${xn}_error`]:ye,[`${xn}_editable`]:nt.checkEditableMode(),[`${xn}_static`]:g,[`${xn}_right-text-align`]:Zt==="right",[`${xn}_password`]:pt,[`${xn}_required`]:ft&&!E&&!nt.checkEditableMode(),[`${xn}_colored`]:m.backgroundColor,[`${xn}__cell`]:ie}),[,Bt]=Hm({targetElement:Ne.current,needSelection:typeof P=="boolean"?P:!0,textSelectionSwitch:ut,editableMode:nt.checkEditableMode()}),It=(0,a.useCallback)((T=!1)=>{jt||ht||se&&ie||(Bt[T?"setSelectedMode":"setDefaultMode"](),nt.checkEditableMode()||nt.setEditableMode())},[nt,jt,ht,Bt]),wt=it==="number"?ze?g4:h4:null;(0,a.useEffect)(()=>{We&&yn&&It()},[xe]),(0,a.useEffect)(()=>{var T;//!!lastValidFormattedValue что это?
A!==w&&(((T=Ke[0])==null?void 0:T.type)==="error"&&Re(!0),setTimeout(()=>{Re(!1),Pn(!1)},500))},[A,w,Ke]);const _r=(0,a.useCallback)(()=>{var T,Q;if(document.getSelection&&!yn){const Oe=document.getSelection().getRangeAt(0);Et.current=(Oe==null?void 0:Oe.startOffset)||((Q=(T=Ne.current)==null?void 0:T.textContent)==null?void 0:Q.length)}},[(e=Ne.current)==null?void 0:e.textContent,yn]);(0,a.useLayoutEffect)(()=>{E&&i&&Et.current&&Ne.current&&document.getSelection&&!yn&&t0({caretPosition:Et.current,value:E,inputRef:Ne.current})},[Ne.current,E,i,yn,Et]);const ir=(0,a.useCallback)(()=>{jt||(Bt.setDefaultMode(),nt.checkDefaultMode()||nt.setDefaultMode(),n0(Ne.current))},[nt,jt,Bt]),zn=(0,a.useCallback)(()=>{jt||!C||(Bt.setDefaultMode(),nt.checkActiveMode()||nt.setActiveMode(),n0(Ne.current))},[nt,jt,Bt,C]),cr=(0,a.useCallback)(()=>{if(Ye)return Ne.current.value;let T=Ne.current.textContent;//!! что за условие
if(T===w?T=E.slice(0,4500):T=T.slice(0,4500).split("").map(Q=>Q.charCodeAt()===m4?" ":Q).join(""),it==="number"){const Q=T.split(",")[1]?".":"";T=T.replace(",",Q)}return T},[E,w,it,Ye]),Dr=(0,a.useCallback)(({event:T,onlyEvent:Q=!1})=>{jt||(ke({specificEvent:ct,nativeEvent:"onLookup",event:T,metaSet:j,events:R}),!Q&&(Ne.current.focus(),Ne.current.textContent=vn.current.value,It()))},[jt,R,j,ct,Ne,It,vn]),Kl=(0,a.useCallback)(T=>{const Q={event:T,metaSet:j,events:R};if(me||Me||et&&ht){T.preventDefault();return}let oe=cr(),Oe=!0;const mt=j==null?void 0:j.stayOnEditableMode;if(hs(T)&&pm(T)&&nt.checkEditableMode()&&Ot(T),!nt.checkEditableMode()&&zc(T))return!1;if(rr(T.keyCode)&&!g){if(nt.checkEditableMode()){if(p)if(p){const Wt=YO(T.target),En=Ne.current;return En&&(En.textContent.length!==Wt&&T.preventDefault(),En.textContent=JO(En.textContent,`
`,Wt),XO(Ne.current,Wt+1)),!1}else{if(AI(T))return!1;if(vs(T)&&it!=="date")return!1}else if(T.preventDefault(),hs(T))return!1}else if(T.preventDefault(),hs(T))return!1;if(go(T)&&vs(T)){Dr({event:T});return}F!==oe?(Oe=ke(Tt({specificEvent:ee,nativeEvent:"onEnter",value:oe},Q)),ln.current=!0):Oe=!1,Oe&&mt?It():ir(),Oe&&(C&&nt.checkActiveMode()?It(!0):C&&nt.checkEditableMode()?zn():(nt.checkActiveMode()||nt.checkEditableMode()&&!yn)&&ir())}else if(cm(T.keyCode)&&!g){let dt=!1;if(De&&!pe&&(T.preventDefault(),dt=!0),C&&nt.checkActiveMode()||dt){const Wt=Number.parseInt(Ne.current.textContent,10);if(Ne.current.textContent===""||Wt===0&&y)return null;oe=null,Ne.current.textContent=oe,ke(Tt({specificEvent:ue,nativeEvent:"onDelete",value:oe},Q))}}else if(Ho(T.keyCode))ke(Tt({specificEvent:J,nativeEvent:"onTab",value:oe},Q));else if(ho(T.keyCode)&&!g)nt.checkActiveMode()?oe=A===vn.current.formattedValue||A===void 0?vn.current.formattedValue:A:oe=F===vn.current.value||F===void 0?vn.current.value:F,Ne.current.textContent=oe,ke(cn(Tt({specificEvent:z,nativeEvent:"onImplicitChange"},Q),{value:oe,notValidValue:!0})),Oe=ke(cn(Tt({specificEvent:X,nativeEvent:"onEsc"},Q),{value:oe})),Oe&&(C?zn():ir());else if(!(hs(T)&&gs(T.keyCode))&&go(T)&&!nt.checkEditableMode())T.preventDefault();else{!g&&(!wt||wt&&yl(oe,wt))&&(Rr.current=oe),Oe=ke(cn(Tt({},Q),{specificEvent:G,nativeEvent:"onKeyDown",value:oe}));let dt=!1;!g&&Oe&&(nt.checkEditableMode()?(Bt.setDefaultMode(),!zc(T)&&gs(T.keyCode)&&wt&&!(yl!=null&&yl(T.key,wt))&&([DI,NI,im].includes(T.keyCode)||(dn.current=!0,un.current=oe!==""?oe:null,T.preventDefault()))):(gs(T.keyCode)?wt?(yl!=null&&yl(T.key,wt)?(Rr.current=T.key,un.current=T.key,dt=!1):(dn.current=!0,dt=!0),T.preventDefault()):vn.current.formattedValue!==vn.current.value?(un.current=T.key,T.preventDefault()):Ne.current.value="":$c(T.keyCode),T.preventDefault(),dt||It(!1))),dt&&Bt.setSelectedMode()}},[me,R,j,G,J,ee,X,nt,ir,zn,It,Me,C,Ne,f,g,Dr,pe,ht]),nl=(0,a.useCallback)(T=>{if(jt)return;i&&_r(T);let Q=cr();ke({specificEvent:Z,nativeEvent:"onChange",event:T,metaSet:j,events:R,value:Q})},[jt,g,j,R,Z]),rl=(0,a.useCallback)(T=>{if(jt)return;let Q=cr();dn.current?(dn.current=!1,Et.current=(Q==null?void 0:Q.length)||0,Bt.setSelectedMode()):wt&&!yl(Q,wt)&&(Q=Rr.current,Ne.current.textContent=Q,un.current=Q,nt.checkEditableMode()&&!yn&&t0({value:Q,inputRef:Ne.current})),un.current&&(un.current=null,Bt.setDefaultMode()),ke({specificEvent:re,nativeEvent:"onKeyUp",event:T,metaSet:j,events:R,value:Q})},[un.current,jt,yn,R,j,re,Ne,i,_r,nl,nt]),Kn=(0,a.useCallback)(T=>{var Q;if(me)return;const{formId:oe,formName:Oe,name:mt,type:dt,subElement:Wt}=((Q=T.target)==null?void 0:Q.dataset)||{},En={event:T,metaSet:j,events:R};let Jl=!0;const tc=Wt===bl.button;if(tc&&De&&T.target===T.currentTarget){Ne.current.focus();return}return Jl=ke(cn(Tt({specificEvent:q,nativeEvent:"onFocus"},En),{value:E})),ve&&!b&&!tc&&!et&&(ie||!g)&&ke(cn(Tt({specificEvent:W,nativeEvent:"onAutolock"},En),{value:E})),Jl&&(C&&nt.checkDefaultMode()?(zn(),et&&ke(cn(Tt({specificEvent:Be,nativeEvent:"onEdit"},En),{value:E}))):!g&&!et&&!nt.checkEditableMode()&&It()),oe&&Ge.onLastFocusedElementUpdate({formId:oe,formName:Oe,controlId:mt,type:dt}),!1},[me,De,g,Be,W,R,j,q,zn,It,C,Ne,Ye,ve,E]),ro=(0,a.useCallback)(T=>{if(jt||o.current.contains(T.relatedTarget))return;const Q={event:T,metaSet:j,events:R};let oe=cr(),Oe=!0;Ye&&Mt(!0),At===sn.editable&&oe!==F&&(ke(cn(Tt({specificEvent:z,nativeEvent:"onImplicitChange"},Q),{value:oe})),ln.current=!0),Oe=ke(cn(Tt({specificEvent:ce,nativeEvent:"onBlur"},Q),{value:oe})),Oe&&ir()},[jt,C,R,j,ce,z,ir,At]),ol=(0,a.useCallback)(T=>{if(jt)return;const{value:Q}=T.currentTarget;ke({specificEvent:D,nativeEvent:"onBlurCapture",event:T,metaSet:j,events:R,value:Q})},[j,R,D,jt]),oo=T=>{const{target:{dataset:{subElement:Q}},detail:oe}=T,Oe=Q===bl.button,mt={event:T,events:R,metaSet:cn(Tt({},j),{subElement:Q})},dt=cr();if(me||et&&ht)return;Ye&&Oe&&ke(cn(Tt({specificEvent:null,nativeEvent:"onImplicitChange"},mt),{value:dt}));let Wt=!0;return oe===1?(nt.checkActiveMode()&&!Ye&&(It(!0),T.preventDefault()),Wt=ke(cn(Tt({specificEvent:de,nativeEvent:"onMouseDown"},mt),{value:dt}))):oe===2&&(Wt=ke(cn(Tt({specificEvent:Ee,nativeEvent:"onDoubleMouseDown"},mt),{value:dt})),(Wt||Ye)&&At!==sn.editable&&It(!0)),Wt},ql=(0,a.useCallback)(T=>{if(jt)return;const{target:{dataset:{subElement:Q}},detail:oe}=T,{value:Oe}=Ne.current,mt={event:T,events:R,metaSet:cn(Tt({},j),{subElement:Q})};let dt=!0;return oe===1?dt=ke(cn(Tt({specificEvent:ge,nativeEvent:"onMouseUp"},mt),{value:Oe})):oe===2&&(dt=ke(cn(Tt({specificEvent:Pe,nativeEvent:"onDoubleMouseUp"},mt),{value:Oe}))),dt},[jt,R,j,E,ge,Pe]),ll=(0,a.useCallback)(T=>{if(Ye||jt)return;const{target:{dataset:{subElement:Q}},detail:oe}=T,{value:Oe}=Ne.current;let mt=!0;const dt=Q===bl.button;if(dt&&(!De||Ae)){Dr({event:T,onlyEvent:!0});return}return Fn&&!g&&!me&&!et&&!dt&&!C&&!nt.checkEditableMode()&&It(),oe===1&&(De&&!pe&&!Ae&&Dr({event:T,onlyEvent:!0}),mt=ke({specificEvent:fe,nativeEvent:"onClick",event:T,metaSet:j,value:Oe,isButtonClick:dt})),mt},[jt,De,pe,Ae,Dr,et,R,j,E,fe,Ye,Dr,C,et,g,me,nt]),Yl=(0,a.useCallback)(T=>{if(jt&&!ie)return;const Q=T.target.dataset.subElement===bl.button,oe=Ne.current.textContent;let Oe=!0;return Oe=ke({specificEvent:Ce,nativeEvent:"onDoubleClick",event:T,metaSet:j,value:oe,isButtonClick:Q}),Oe},[j,Ce,ie,jt,Ye,nt,Ne]),lo=(0,a.useCallback)(T=>{const Q=Ne.current.textContent,oe=fl(T);Ya(oe||Q),ke({events:R,specificEvent:Se,nativeEvent:"onCopy",event:T,value:Q,clipboardValue:oe,editable:nt.checkEditableMode()})},[]),Eo=(0,a.useCallback)(T=>{var Q;if(me||!nt.checkEditableMode()){T.preventDefault();return}(Q=T==null?void 0:T.clipboardData)!=null&&Q.types.includes("Files")&&T.preventDefault();const oe=fl(T);if(ke({events:R,specificEvent:je,nativeEvent:"onPaste",event:T,value:oe,editable:nt.checkEditableMode()}),!nt.checkEditableMode()){if(!oe)return!0;T.preventDefault(),Ne.current.textContent=oe,ke({specificEvent:z,nativeEvent:"onImplicitChange",event:T,metaSet:j,value:oe})}},[Ne,nt,z,j,R,me]),Ha=(0,a.useCallback)(T=>{const Q=Ne.current.textContent,oe=fl(T);Ya(oe||Q),ke({events:R,specificEvent:at,nativeEvent:"onCut",event:T,value:Q,clipboardValue:oe,editable:nt.checkEditableMode()})},[]),ao=(0,a.useCallback)(T=>{ke({specificEvent:Ze,nativeEvent:"onHint",event:T,metaSet:j})},[Ze,R,j]),Xl=(0,a.useMemo)(()=>cn(Tt({},N),{"data-sub-element":bl.input}),[N]),qn=(0,a.useMemo)(()=>cn(Tt({},N),{"data-sub-element":et&&ht?"":bl.button,"data-testid":`${U}_button`}),[ht,N]),al=(0,a.useMemo)(()=>({textAlign:Zt||"left"}),[Zt]),ko=(0,a.useMemo)(()=>Hn({isFixSize:Ie,style:m,type:it}),[Ie,m,it]),{backgroundColor:Nr,color:Vr}=ko,jo=x4(ko,["backgroundColor","color"]),sl=nt.checkEditableMode()&&$?$:Vr,il=!Qe&&!me&&!g&&nt.checkEditableMode(),so=Tt({id:d,ref:Ne,"data-testid":U,autoComplete:t.name==="username"?"on":t.isAutocomplete?"off":He,spellCheck:!!_t,style:al,tabIndex:Ur(!me,H),disabled:me,contentEditable:il,suppressContentEditableWarning:il,onCopy:lo,onPaste:Eo,onCut:Ha,onKeyDown:Kl,onInput:nl,onKeyUp:rl,onFocus:Kn},Xl);(0,a.useEffect)(()=>{!me&&C&&ke({specificEvent:K,nativeEvent:"onModeChange",metaSet:j,value:At})},[me,j,R,K,At]),(0,a.useEffect)(()=>{vn.current={value:E,formattedValue:w}},[E,w]),(0,a.useEffect)(()=>{me&&nt.setDefaultMode()},[me,nt]),(0,a.useEffect)(()=>{var T;ie&&!g&&Fn&&!se&&!C&&(It(!1),(T=Ne.current)==null||T.focus())},[g,Fn,se,C]),(0,a.useLayoutEffect)(()=>{F!==void 0&&E!==F&&(Ne.current.textContent=F,ke({specificEvent:null,nativeEvent:"onImplicitChange",metaSet:j,value:F,notValidValue:!0}))},[]);const io=(0,a.useCallback)(()=>{let T=A||w||F;Ne.current&&!me&&(Ne.current.textContent=T),ke({specificEvent:z,nativeEvent:"onImplicitChange",metaSet:j,events:R,notValidValue:!0})},[z,R,Ye,F,Ne,j]);if(ws({dataAttrs:N,initialValue:F,value:(n=Ne.current)==null?void 0:n.textContent,formattedValue:w,resetValue:io,controlName:k}),pr(Ye?null:o,V,(r=Ne==null?void 0:Ne.current)==null?void 0:r.textContent),v)return null;let On=nt.checkEditableMode()||ln.current?E:w||E;ln.current&&(ln.current=!1),un.current!==null&&(On=un.current);const co=T=>{Nt(T.target.value)},cl=T=>{Ot(T),Mt(Q=>!Q)},Y=/^#[0-9A-F]{6}$/i.test(E),_e=Le?(0,s.jsx)("img",{className:"icon",style:{height:qe},alt:"",src:en(Le)}):null,Ue=T=>{T.stopPropagation(),jt||Ne.current&&Ne.current.focus()},ot=()=>(0,s.jsx)("input",cn(Tt({name:k,type:pt?"password":"text",value:yt,onChange:co},so),{className:"string__input"})),vt=()=>{if((0,zt.isObject)(On)&&!Array.isArray(On))throw new Error("\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0443 String \u043F\u0435\u0440\u0435\u0434\u0430\u043D\u044B \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435, currentValue \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0438\u043C\u0435\u0442\u044C \u0442\u0438\u043F [object Object]");return E&&Y?(0,s.jsxs)("div",{className:"string_colored_wrapper",style:{color:sl,marginTop:c?"8px":null},children:[_e,(0,s.jsx)("div",cn(Tt({},so),{className:"string__input",children:On}))]}):(0,s.jsxs)("div",{className:`${xn}_input-container`,children:[_e,(0,s.jsx)("div",cn(Tt({},so),{className:"string__input",style:{color:sl,marginTop:c?"8px":null},children:On}))]})},kt=Fn||!!w||nt.checkEditableMode()||_e,Rt={fontSize:kt?"10px":"14px",color:"#b6bbc6",top:kt?0:"50%",transform:kt?null:"translate(0%,-50%)"},Ln=(0,s.jsx)("div",{className:"string_inner_lable",onClick:Ue,style:Rt,onMouseDown:g?null:oo,children:c}),Ro=()=>Ye||yn?ot():vt(),Wa=()=>Jt&&!Y&&!Ye?(0,s.jsx)(fn(),Tt({className:`${xn}__button`,ref:Te,name:mn,tabIndex:-1,onFocus:Kn,style:{backgroundColor:Nr}},qn)):Jt&&Y?(0,s.jsx)(Km,Tt({style:{backgroundColor:On},ref:Te,tabIndex:-1,onFocus:Kn},qn)):Jt&&Ye?(0,s.jsx)("span",cn(Tt({ref:Te,tabIndex:-1,onFocus:Kn,style:{color:"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"},onClick:cl},qn),{children:(0,s.jsx)(Ct,{name:tr})})):null,ul=()=>{if(!Qe)return Jt&&!Y&&!Ye&&te!=="reference"&&it!=="enum"?(0,s.jsx)(fn(),Tt({className:`${xn}__button`,ref:Te,name:mn,tabIndex:-1,onFocus:Kn,style:{backgroundColor:Nr}},qn)):te==="reference"?(0,s.jsx)("span",Tt({ref:Te,tabIndex:-1,onFocus:Kn,className:"ri-folders-fill",style:{color:me?"#C7C9D1":"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"}},qn)):it==="enum"?(0,s.jsx)("span",Tt({ref:Te,tabIndex:-1,onFocus:Kn,className:$n,style:{color:me?"#C7C9D1":"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"}},qn)):Jt&&Y?(0,s.jsx)(Km,Tt({style:{backgroundColor:On},ref:Te,tabIndex:-1,onFocus:Kn},qn)):Jt&&Ye?(0,s.jsx)("span",cn(Tt({ref:Te,tabIndex:-1,onFocus:Kn,style:{color:"#8F93A3",width:"15px",height:"15px",cursor:"pointer",display:"inline-flex"},onClick:cl},qn),{children:(0,s.jsx)(Ct,{name:tr})})):null};return(0,s.jsxs)(s.Fragment,{children:[(!gt||ie||yn)&&(0,s.jsx)("div",{style:{backgroundColor:ie&&tt?"transparent":tt},className:"string_wrapper",children:(0,s.jsxs)("div",{ref:o,className:In,style:Tt({backgroundColor:Nr,alignItems:Zn},jo),onMouseDown:g?null:oo,onMouseUp:g?null:ql,onClick:ll,onBlur:ro,onBlurCapture:ol,onPaste:Eo,onDoubleClick:Yl,onMouseEnter:ao,children:[Ro(),c&&Ln,Wa()]})}),gt&&!ie&&!yn&&(0,s.jsx)(Lm,{_ref:o,className:u,buttonComponent:ul(),caption:c,componentProps:so,currentValue:On,inputRef:Ne,isDisabled:me,isRequired:ft,isStatic:g,isStaticOrDisabled:jt,handleMouseDown:oo,handleMouseUp:ql,onClick:ll,onBlur:ro,onFocus:Kn,onBlurCapture:ol,onPaste:Eo,onDoubleClick:Yl,onMouseEnter:ao,palette:gt,showSuccess:sr,showError:ye,textColor:sl,wrapperStyleProps:jo,isPassword:Ye,name:k,innerIcon:_e,isHexValue:Y,onChange:co,value:yt,isMultiLine:p,isNumeric:y,isReadOnly:Qe})]})}Zc.propTypes={_ref:_().object,focusedElement:_().object,id:_().string,className:_().string,style:_().object,value:_().string,isWrapped:_().bool,isMultiLine:_().bool,isExcluded:_().bool,isDisabled:_().bool,isStatic:_().bool,hasActiveMode:_().bool,metaSet:_().object,dataAttrs:_().object,hasError:_().bool,hint:_().string,events:_().object,tabIndex:_().oneOfType([_().number,_().string]),testId:_().string,isReadOnly:_().bool,mode:_().string,modeSwitch:_().object,onModeChange:_().func,onFocus:_().func,onBlur:_().func,onClick:_().func,onChange:_().func,onKeyDown:_().func,onKeyUp:_().func,onEnter:_().func,onEsc:_().func,onDelete:_().func,onTab:_().func,onDoubleClick:_().func,isControlledValue:_().bool,isNumeric:_().bool,isPassword:_().bool,browserAutoComplete:_().oneOf(["on","off"]),isParentTable:_().bool,isAutoLock:_().bool,disableOnEdit:_().bool},Zc.defaultProps={_ref:null,focusedElement:null,id:null,className:null,style:{},value:null,isWrapped:!1,isMultiLine:!1,isExcluded:!1,isDisabled:!1,isStatic:!1,metaSet:null,dataAttrs:null,hasError:!1,hint:null,events:null,tabIndex:0,testId:null,isReadOnly:!1,hasActiveMode:!1,mode:null,modeSwitch:null,onModeChange:null,onFocus:null,onBlur:null,onClick:null,onChange:null,onKeyDown:null,onKeyUp:null,onEnter:null,onEsc:null,onDelete:null,onTab:null,onDoubleClick:null,isControlledValue:!1,isNumeric:!1,isPassword:!1,browserAutoComplete:"off",showButton:!1,buttonIconName:"ellipsis-h",isParentTable:!1,isAutoLock:!1,disableOnEdit:!1};var An=(0,a.memo)((0,a.forwardRef)(p4(Zc))),S4=Ve(52300);const P4=t=>[...t].map(e=>e.charCodeAt(0)),I4=t=>(t+1)%4===0?1:(t+1)%3===0?2:(t+1)%2===0?3:4,Ss=t=>{const n=P4((0,S4.cv)(t)).map((r,o)=>r+=I4(o));return String.fromCharCode(...n)},Yn="prelogin-form";var O4=({onClose:t})=>{const[e,n]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(!0),u=({event:v,value:b})=>{var y;const h=(y=v.target.dataset)==null?void 0:y.testid;h==="oldPassword"&&o(b),h==="newPassword"&&(n(b),d(l===b)),h==="confirmPassword"&&(i(b),d(e===b))},m=()=>{const v={oldPassword:Ss(r.trim()),newPassword:Ss(e.trim()),obf:!0};t(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(v)},f=()=>{t(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(null)},p=(0,a.useCallback)(v=>{v.key==="Enter"&&c?m():v.key==="Escape"&&f()},[c]);return(0,a.useEffect)(()=>(document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}),[p]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:`${Yn}__input-container`,children:[(0,s.jsx)("label",{className:`${Yn}__label`,children:rt.t("old_password").toString()}),(0,s.jsx)(An,{className:`${Yn}__input`,isPassword:!0,testId:"oldPassword",onEnter:m,isControlledValue:!0,hasActiveMode:!1,onChange:u,value:r})]}),(0,s.jsxs)("div",{className:`${Yn}__input-container`,children:[(0,s.jsx)("label",{className:`${Yn}__label`,children:rt.t("new_password").toString()}),(0,s.jsx)(An,{className:`${Yn}__input`,isPassword:!0,testId:"newPassword",onEnter:m,isControlledValue:!0,hasActiveMode:!1,onChange:u,value:e})]}),(0,s.jsxs)("div",{className:`${Yn}__input-container`,children:[(0,s.jsx)("label",{className:`${Yn}__label`,children:rt.t("confirm").toString()}),(0,s.jsx)(An,{className:`${Yn}__input`,isPassword:!0,testId:"confirmPassword",onEnter:m,isControlledValue:!0,hasActiveMode:!1,onChange:u,value:l})]}),(0,s.jsxs)("div",{className:`${Yn}__button-row`,children:[(0,s.jsx)(Ut,{isDisabled:!c,style:{minWidth:"30"},onClick:m,className:`${Yn}__button`,caption:rt.t("apply")},`${Yn}confirmButton`),(0,s.jsx)(Ut,{isDisabled:!1,style:{minWidth:"30"},onClick:f,className:`${Yn}__button`,caption:rt.t("cancel")},`${Yn}cancelButton`)]})]})};const Xr="prelogin-form";var E4=({roles:t,onClose:e})=>{const[n,r]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&r(t[0].name)},[]);const o=f=>{var p;f.persist(),Ot(f);const v=f.target;r(((p=v==null?void 0:v.parentElement)==null?void 0:p.dataset.name)||(v==null?void 0:v.dataset.name)||"")},l=()=>{e(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(n)},i=()=>{e(),Ge.onClientDialogSubmit&&Ge.onClientDialogSubmit(null)},c=(0,a.useCallback)(f=>{const p=t.findIndex(v=>n===v.name);f.key==="ArrowDown"?t[p+1]&&r(t[p+1].name):f.key==="ArrowUp"?t[p-1]&&r(t[p-1].name):f.key==="Enter"?l():f.key==="Escape"&&i()},[n]);(0,a.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const d=(0,s.jsxs)("div",{className:`${Xr}__row table-header`,children:[(0,s.jsx)("span",{children:(0,nr.ZP)(rt.t("name"))},"roleNameHeader"),(0,s.jsx)("span",{children:(0,nr.ZP)(rt.t("description"))},"roleDescriptionHeader")]},"preloginFormHeader"),u=(0,s.jsx)("ul",{className:`${Xr}__rows`,children:t.map((f,p)=>(0,s.jsxs)("li",{className:`${Xr}__row`+(f.name===n?" chosen":""),id:"role"+p,"data-name":f.name,onClick:o,children:[(0,s.jsx)("span",{children:f.name},"name-"+f.name),(0,s.jsx)("span",{children:f.description},"desc-"+f.description)]},f.name))},"preloginFormList"),m=(0,s.jsxs)("div",{className:`${Xr}__button-row`,children:[(0,s.jsx)(Ut,{name:"okButton",style:{minWidth:"30"},caption:(0,nr.ZP)(rt.t("ok")),className:`${Xr}__button`,onClick:l},`${Xr}okButton`),(0,s.jsx)(Ut,{name:"closeButton",style:{minWidth:"30"},caption:(0,nr.ZP)(rt.t("cancel")),className:`${Xr}__button`,onClick:i},`${Xr}closeButton`)]},"prelogin-form__button-row");return t?(0,s.jsxs)("div",{className:Xr,children:[d,u,m]}):null},k4={PasswordChangeForm:O4,ChooseRoleForm:E4,ImgModal:QI},j4=Ve(58949);class r0 extends a.Component{constructor(){super(...arguments),this.handleClickOutside=e=>{this.props.onClickOutside(e)}}render(){const{className:e,children:n,style:r}=this.props,o=be()("outside-wrapper",e);return(0,s.jsx)("div",{className:o,style:r,children:n})}}r0.defaultProps={onClickOutside:()=>{}};var yo=(0,j4.Z)(r0),hG={popperIconSize:"18px",primaryColor:"#0bd688"};const R4=(0,B.ZP)("div")({display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box",minWidth:400,maxWidth:800,minHeight:100,backgroundColor:"#fff",padding:32,borderRadius:8,boxShadow:"0px 8px 24px -8px rgba(34, 60, 80, 0.25)"}),D4=(0,B.ZP)("div")({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20}),N4=(0,B.ZP)("div")({marginBottom:20}),M4=(0,B.ZP)("div")({display:"flex",justifyContent:"end"}),T4=(0,B.ZP)("div")({fontSize:24,fontWeight:500,marginBottom:8}),F4=(0,B.ZP)("div")({fontSize:14,fontWeight:400}),o0=t=>{const{message:e,onClose:n,messageId:r,caption:o="",onKeyDown:l,iconID:i}=t,c=(0,nr.ZP)(e?rt.t(e):rt.t("empty_message")),d=rt.t(o),u=()=>{n==null||n(r)};return(0,s.jsxs)(R4,{onKeyDown:l,children:[(0,s.jsxs)(D4,{children:[(0,s.jsx)(Ct,{name:"error-warning",type:"fill",size:28,color:"#FF3352"}),(0,s.jsx)(Ut,{fashion:"Ghost",iconName:"close",onClick:u})]}),(0,s.jsxs)(N4,{children:[!o&&!i?null:(0,s.jsx)(T4,{children:d}),(0,s.jsx)(F4,{children:c})]}),(0,s.jsx)(M4,{children:(0,s.jsx)(Ut,{caption:"OK",fashion:"Primary",isFixSize:!0,onClick:u,style:{width:30}})})]})};o0.displayName="Notification";var A4=Object.defineProperty,l0=Object.getOwnPropertySymbols,B4=Object.prototype.hasOwnProperty,$4=Object.prototype.propertyIsEnumerable,a0=(t,e,n)=>e in t?A4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z4=(t,e)=>{for(var n in e||(e={}))B4.call(e,n)&&a0(t,n,e[n]);if(l0)for(var n of l0(e))$4.call(e,n)&&a0(t,n,e[n]);return t};const Xn="pop-up",L4=(t,e,n)=>{let r="exclamation";switch(t){case Sr.notification:{r="exclamation-triangle";break}case Sr.error:{e?r="times-circle":r="exclamation-circle";break}case Sr.dialog:{n==="ChooseRoleForm"?r="users":n==="PasswordChangeForm"?r="lock":r="question-circle";break}default:break}return r},H4={0:QP,1:XP,2:eI,3:tI,4:JP},Sr={error:"error",notification:"notification",dialog:"dialog",preview:"preview"};var W4=t=>{const{className:e,message:n,caption:r,style:o,onClose:l,messageId:i,type:c,isLastMessage:d,component:u,componentProps:m,context:f,iconID:p}=t,v=(0,lt.v9)(Dt),b=(0,a.useRef)(null),y=u?k4[u]:"",h=["ChooseRoleForm","PasswordChangeForm"].includes(u),g={padding:"6px"},C=be()(e,Xn,{[`${Xn}__error`]:c===Sr.error,[`${Xn}__notification`]:c===Sr.notification}),O=L4(c,f,u),M=p!==void 0,P=(0,a.useCallback)(()=>{l(i)},[i]),x=(0,a.useCallback)(w=>{ho(w.keyCode)&&!h&&P()},[]),k=(w,S)=>S?(0,s.jsx)("img",{className:`${Xn}__context-icon`,src:H4[p],alt:"Message icon",height:"24px"}):w?(0,s.jsx)(fn(),{className:`${Xn}__context-icon fa-2x`,name:O}):(0,s.jsx)(fn(),{className:`${Xn}__icon`,name:O}),E=()=>y?(0,s.jsx)(y,z4({onClose:P},m)):f&&!u?(0,s.jsx)(yo,{onClickOutside:P,children:(0,s.jsx)("div",{style:o,className:`${Xn}__button-container`,children:(0,s.jsxs)("button",{className:`${Xn}__context-button`,onClick:P,children:[k(f,M),n]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:`${Xn}__message`,children:(0,nr.ZP)(n?rt.t(n):rt.t("empty_message"))})}),(0,s.jsx)("div",{className:`${Xn}__button-container`,children:(0,s.jsx)(qr,{name:"OKButton",hint:"",caption:"Ok",iconName:"",isExcluded:!1,isDisabled:!1,isFixSize:!0,style:{width:30,minHeight:8},className:`${Xn}__button`,onClick:P})})]});return(0,a.useEffect)(()=>{var w;(w=b.current)==null||w.focus()},[d]),(0,s.jsx)(Gp(),{focusTrapOptions:{setReturnFocus:w=>w.isContentEditable?w:document.body},children:f?(0,s.jsx)("div",{tabIndex:-1,onKeyDown:x,children:(0,s.jsx)(E,{})}):v&&!h?(0,s.jsx)(o0,{message:n,onClose:l,messageId:i,caption:r,onKeyDown:x}):(0,s.jsxs)("div",{tabIndex:-1,onKeyDown:x,className:C,style:o,children:[!r&&!p?null:(0,s.jsxs)("div",{className:`${Xn}__title`+(h?" align-left":""),children:[k(f,M),rt.t(r)]}),(0,s.jsx)("div",{className:`${Xn}__content`,style:h?g:{},children:(0,s.jsx)(E,{})})]})})},V4=Object.defineProperty,s0=Object.getOwnPropertySymbols,U4=Object.prototype.hasOwnProperty,G4=Object.prototype.propertyIsEnumerable,i0=(t,e,n)=>e in t?V4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z4=(t,e)=>{for(var n in e||(e={}))U4.call(e,n)&&i0(t,n,e[n]);if(s0)for(var n of s0(e))G4.call(e,n)&&i0(t,n,e[n]);return t};const K4=[];var q4=(0,Fe.Lq)(K4,t=>{t.addCase(op,(e,n)=>{const{message:r}=n.payload,o="server_notification",l=Sr.notification;return[{message:r,caption:o,type:l},...e]}).addCase(is,(e,n)=>{const{message:r,formId:o,controlId:l}=n.payload,i="error_client",c=Sr.error;return[{message:r,caption:i,type:c,formId:o,controlId:l},...e]}).addCase(oa,(e,n)=>{const{message:r}=n.payload,o="error_server",l=Sr.error;return[{message:r,caption:o,type:l},...e]}).addCase(rp,(e,n)=>{const r="error",o=Sr.error;return[Z4({caption:r,type:o},n.payload),...e]}).addCase(np,(e,n)=>{var r;const o=(r=n.payload)==null?void 0:r.id;return o!==void 0?e.filter((l,i)=>i!==o):e}).addCase(cs,(e,n)=>{const{component:r,caption:o="dialog",componentProps:l}=n.payload,i=Sr.dialog;return[{caption:o,type:i,component:r,componentProps:l},...e]}).addCase(us,e=>e).addCase(lp,(e,n)=>{const{component:r,componentProps:o,caption:l}=n.payload,i=Sr.preview;return[{caption:l,type:i,component:r,componentProps:o},...e]})});const c0=null;var Y4=(0,Fe.Lq)(c0,t=>{t.addCase(ep,(e,n)=>n.payload).addCase(tp,()=>c0)});const X4=(0,ur.UY)({mainAppParams:jP,authorize:AP,formStackQueue:BP,forms:VP,uploadForm:UP,colorPickerForm:Y4,print:YP,modalPopUp:q4});var J4=Ve(30797);const u0=(0,J4.ZP)();var Je=(0,Fe.xC)({reducer:X4,middleware:[u0]}),Ge={onMainMenuPin:t=>{rs.setPinned(t),Je.dispatch(hp(t))},onMainMenuOpen:t=>{rs.setOpened(t),Je.dispatch(Rc(t))},saveSelectedMainMenuItemId:t=>{Je.dispatch(ls(t))},saveSelectedRoleCenterItemId:t=>{Je.dispatch(ls(t))},onMainMenuCommandSend:t=>{Je.dispatch(gp(t))},onToolbarCommandSend:t=>{Je.dispatch(Dc(t))},onRoleCenterCommandSend:t=>{Je.dispatch(bp(t))},onFormStackClose:t=>{Je.dispatch(Nc(t))},onFormStackActive:t=>{Je.dispatch(xp(t))},onFormClose:t=>{Je.dispatch(Nc(t))},onAllFormClose:()=>{Je.dispatch(yp())},onOthersFormClose:t=>{Je.dispatch(_p(t))},onModalFormClose:t=>{Je.dispatch(Cp(t))},onFormActive:t=>{Je.dispatch(wp(t))},onFormRaise:t=>{Je.dispatch(jp(t))},onWideScreenModeToggle:t=>{Je.dispatch(Sp(t))},onLogOut:()=>{Je.dispatch(aa())},onUploadApprove:t=>{Je.dispatch(Ip(t))},onUploadAbort:t=>{Je.dispatch(Op(t))},onChooseColorApprove:t=>{Je.dispatch(Ep(t))},onChooseColorAbort:t=>{Je.dispatch(kp(t))},onClientError:t=>{Je.dispatch(is(t))},onClientDialog:t=>{Je.dispatch(cs(t))},onClientDialogSubmit:t=>{Je.dispatch(us(t))},onImagePreview:t=>{Je.dispatch(lp(t))},onLastFocusedElementUpdate:(t={})=>{Je.dispatch(Ec(t))},onIFrameClick:(t={})=>{Je.dispatch(sp(t))},onIFrameMessage:(t={})=>{Je.dispatch(ip(t))},onShowProcessIndicator:()=>{Je.dispatch(yc())},onHideProcessIndicator:()=>{Je.dispatch(_c())}},Q4=Object.defineProperty,eE=Object.defineProperties,tE=Object.getOwnPropertyDescriptors,d0=Object.getOwnPropertySymbols,nE=Object.prototype.hasOwnProperty,rE=Object.prototype.propertyIsEnumerable,f0=(t,e,n)=>e in t?Q4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oE=(t,e)=>{for(var n in e||(e={}))nE.call(e,n)&&f0(t,n,e[n]);if(d0)for(var n of d0(e))rE.call(e,n)&&f0(t,n,e[n]);return t},lE=(t,e)=>eE(t,tE(e));function Kc(t){const{_ref:e,schema:n,renderElement:r,className:o,testId:l}=t,i=be()("hierarchy-list",o);function c(d,u=0){return No(d).map(m=>{let f;return m!=null&&m.elements&&(f=c(m.elements,u+1)),r({schema:m,children:f,depth:u})})}return(0,s.jsx)("div",{ref:e,className:i,"data-testid":l,children:c(n)})}Kc.propTypes={depthOffsetSize:_().number,className:_().string,testId:_().string,schema:_().oneOfType([_().object,_().array]).isRequired,renderElement:_().func.isRequired,_ref:_().object,dataAttrs:_().shape({})},Kc.defaultProps={_ref:null,className:"",depthOffsetSize:5,dataAttrs:{},testId:""};var Ps=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Kc,lE(oE({},t),{_ref:e})))),Jr=Ve(73935),aE=Ve(84355),CG={popperIconSize:"18px",primaryColor:"#0bd688"},sE=Object.defineProperty,iE=Object.defineProperties,cE=Object.getOwnPropertyDescriptors,p0=Object.getOwnPropertySymbols,uE=Object.prototype.hasOwnProperty,dE=Object.prototype.propertyIsEnumerable,m0=(t,e,n)=>e in t?sE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uo=(t,e)=>{for(var n in e||(e={}))uE.call(e,n)&&m0(t,n,e[n]);if(p0)for(var n of p0(e))dE.call(e,n)&&m0(t,n,e[n]);return t},Is=(t,e)=>iE(t,cE(e));const Qr="drop-down",fE="drop-down";function qc(t){var e,n,r,o;const{_ref:l,isDisabled:i,isExcluded:c,onScroll:d,maxHeight:u,minWidth:m,sameWidth:f,Component:p,targetComponent:v,data:b,className:y,children:h,componentListId:g,withArrow:C,elementNode:O,selected:M,needToRender:P,metaSet:x,events:k,testId:E,hasMenuOffset:w,onFocus:S,onBlur:F,onKeyDown:A,onEnter:$,onEsc:U,onTab:V,popMaxWIdth:N,isListButton:L,isContextMenu:j,style:R,isIncludedList:H,setActiveMode:W,setEditableMode:K}=t,Z=(0,lt.v9)(Dt),G=E||fE,[re,ee]=(0,a.useState)(null),[ce,D]=(0,a.useState)(null),[z,q]=(0,a.useState)(null),[J,X]=(0,a.useState)(null),{pageZoom:ue}=(0,lt.v9)(pe=>pe.mainAppParams),de=(0,a.useMemo)(()=>({name:"custom-size",enabled:!0,phase:"write",fn:({state:pe})=>{const{elements:{popper:ae,reference:te}}=pe,le=Uo({},pe.styles),we=500,ze=ae.firstChild;return te.clientWidth>=ze.clientWidth?le.popper.width=N||te.clientWidth:le.popper.maxWidth=we,m&&(le.popper.minWidth=m),u&&(le.popper.maxHeight=u),f&&(le.popper.width=te.clientWidth,le.popper.maxWidth=te.clientWidth),X({width:f?te.clientWidth:le.popper.width}),j&&(le.popper.boxShadow="3px 3px 2px gray"),pe.styles=le,pe}}),[f,m,u,C,j]),ge=(0,a.useMemo)(()=>({name:"custom-fix-overflow",enabled:!0,phase:"write",fn:({state:pe})=>{var ae,te,le;const{elements:{popper:we}}=pe,ze=Uo({},pe.styles);if((ue||1)<1&&((ae=pe==null?void 0:pe.modifiersData)!=null&&ae.preventOverflow)){const{x:gt,y:se}=((te=pe==null?void 0:pe.modifiersData)==null?void 0:te.preventOverflow)||{},xe=new window.WebKitCSSMatrix((le=ze.popper)==null?void 0:le.transform),{m41:me,m42:Me}=xe,Te={height:document.body.offsetWidth,width:document.body.offsetWidth},et={left:me,top:Me,right:Te.width-me-we.offsetWidth,bottom:Te.height-Me-we.offsetHeight},We=gt>0&&et.left>gt,yt=gt<0&&et.right>-gt;(We||yt)&&(gt||se)&&me&&Me&&(ze.popper.transform=`translate(${me-gt}px, ${Me-se}px)`,pe.modifiersData.preventOverflow={x:0,y:0})}return pe.styles=ze,pe}}),[ue]),fe=H?"right-start":w?"bottom-start":"bottom",Ee=H?[0,0]:C?[0,14]:[0,2],{styles:Pe,attributes:Ce,state:Se,update:je}=(0,aE.D)(re,ce,{placement:fe,modifiers:[{name:"preventOverflow",enabled:!0,options:{rootBoundary:"viewport"}},{name:"offset",enabled:!0,options:{offset:Ee}},{name:"arrow",enabled:C,options:{element:z}},{name:"flip",options:{allowedAutoPlacements:["bottom","top"]}},de,ge]}),at=be()(`${Qr}__target-element-container`),Le=be()(y,`${Qr}__popper-element-container`,{[`${Qr}__list-button`]:L}),qe=`${Qr}__popper-element-arrow`,Ie=be()(`${Qr}__scroll-area`,{[`${Qr}__list-button`]:L}),Ye=be()(`${Qr}__scroll-area_palette`,{[`${Qr}__list-button`]:L}),He=`${Qr}__list`,Ae={borderRadius:"10px"},De={borderRadius:"10px",backgroundColor:"#1D223D",margin:"0 2px 0 0"},it=p&&(b!=null&&b.length)?b.map((pe,ae)=>(0,s.jsx)(p,Is(Uo({},pe),{index:ae,selected:M,ref:O}),pe.keyValue)):[],ct=p&&b?(0,s.jsx)("ul",{id:g,className:He,children:it}):h,st=(0,a.useCallback)(pe=>{if(i)return;let ae=!0;if(d&&(ae=d({event:pe,metaSet:x})),ae&&(k!=null&&k.onScroll)){const{alias:te,args:le}=k.onScroll;he[te]({event:pe,metaSet:x,args:le})}},[i,x,k,d]),bt=(0,a.useCallback)(pe=>{if(i)return;let ae=!0;if(S&&(ae=S({event:pe,metaSet:x})),ae&&(k!=null&&k.onFocus)){const{alias:te,args:le}=k.onFocus;he[te]({event:pe,metaSet:x,args:le})}},[i,x,k,S]),ft=(0,a.useCallback)(pe=>{if(i)return;let ae=!0;if(F&&(ae=F({event:pe,metaSet:x})),ae&&(k!=null&&k.onBlur)){const{alias:te,args:le}=k.onBlur;he[te]({event:pe,metaSet:x,args:le})}},[i,x,k,F]),ht=(0,a.useCallback)(pe=>{if(!i)if(rr(pe.keyCode)){let ae=!0;if($&&(ae=$({event:pe,metaSet:x})),ae&&(k!=null&&k.onEnter)){const{alias:te,args:le}=k.onEnter;he[te]({event:pe,metaSet:x,args:le})}}else if(Ho(pe.keyCode)){let ae=!0;if(V&&(ae=V({event:pe,metaSet:x})),ae&&(k!=null&&k.onTab)){const{alias:te,args:le}=k.onTab;he[te]({event:pe,metaSet:x,args:le})}}else if(ho(pe.keyCode)){let ae=!0;if(U&&(ae=U({event:pe,metaSet:x})),ae&&(k!=null&&k.onEsc)){const{alias:te,args:le}=k.onEsc;he[te]({event:pe,metaSet:x,args:le})}}else if(go(pe))pe.preventDefault();else{let ae=!0;if(A&&(ae=A({event:pe,metaSet:x})),ae&&(k!=null&&k.onKeyDown)){const{alias:te,args:le}=k.onKeyDown;he[te]({event:pe,metaSet:x,args:le})}}},[i,x,k,$,V,U,A]),Be=(0,a.useCallback)(()=>{H&&K&&K()},[H,K]),ie=(0,a.useCallback)(()=>{H&&W&&W()},[H,W]),Ze=(0,a.useCallback)(pe=>{const{button:ae}=pe;ae!==0&&ft(pe),Ot(pe)},[ft]),tt=(n=(e=Se==null?void 0:Se.rects)==null?void 0:e.reference)==null?void 0:n.x;(0,a.useEffect)(()=>{if(re&&je){const pe=new uo.Z(je);return pe.observe(re),()=>{pe.unobserve(re)}}},[re,je,tt]);let _t=null;if((o=(r=l==null?void 0:l.current)==null?void 0:r.content)!=null&&o.nextSibling&&(_t=l.current.content.nextSibling),(0,a.useEffect)(()=>{_t&&(_t.onclick=pe=>{Ot(pe)})},[_t]),c)return null;const ve=y==="login-layout__input-drop-down autocomplete__drop-down";return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{ref:ee,className:at,children:v}),P?(0,Jr.createPortal)((0,s.jsx)(yo,{onClickOutside:Ze,children:(0,s.jsxs)("div",Is(Uo({onMouseDown:Ze,ref:D,className:Le,style:Is(Uo(Uo({},Pe.popper),R),{display:ve?"none":"relative"})},Ce.popper),{onFocus:bt,onBlur:ft,onKeyDown:ht,onMouseEnter:Be,onMouseLeave:ie,tabIndex:0,"data-testid":`${G}`,children:[(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,className:Z?Ye:Ie,ref:l,onScroll:st,minimalThumbSize:40,tabIndex:-1,translateContentSizesToHolder:!0,noScrollX:!0,style:J,contentProps:{style:J},thumbYProps:{style:Z?De:Ae},children:ct}),C&&(0,s.jsx)("div",{ref:q,className:qe,style:Pe.arrow})]}))}),document.getElementById("drop-down-list")):""]})}qc.propTypes={_ref:_().object,onScroll:_().func,maxHeight:_().number,componentId:_().string,data:_().array,Component:_().elementType,targetComponent:_().element,className:_().string,componentListId:_().string,children:_().element,withArrow:_().bool,style:_().object,minWidth:_().string,elementNode:_().object,selected:_().oneOfType([_().number,_().string]),needToRender:_().bool,hasMenuOffset:_().bool,scrollSpeed:_().number},qc.defaultProps={_ref:null,maxHeight:null,componentId:"",data:null,className:"",Component:null,componentListId:"",children:null,withArrow:!1,selected:null,popperClassName:"",hasMenuOffset:!1,scrollSpeed:1};var _l=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(qc,Is(Uo({},t),{_ref:e})))),wG={popperIconSize:"18px",primaryColor:"#0bd688"};function v0(t,e,n){return t-e/n}function pE(t,e){let n=t;return n>e.realHeight-e.containerHeight&&(n=e.realHeight-e.containerHeight),n<0&&(n=0),n}function Yc(t){t.focus()}const Xc="search",mE="search";function Jc(t){const{className:e,items:n,hasSearchValue:r,onChange:o,onResultListItemSelect:l,children:i,isExcluded:c,testId:d,isSearchResultsOpened:u}=t,m=d||mE,f=200,p=40,v=1,b=(0,a.useRef)(null),y=(0,a.useRef)(null),h=(0,a.useRef)(null),g=(0,a.useRef)(null),C=be()(e,Xc),[O,M]=(0,a.useState)(!0),[P,x]=(0,a.useState)(-1),[k,E]=(0,a.useState)(-1),w=(0,a.useCallback)(()=>{b!=null&&b.current&&Yc(b.current)},[b]),S=(0,a.useCallback)(()=>{b!=null&&b.current&&Yc(b.current)},[b]);function F(j,R){const H=parseInt(f/p,10);let W;for(let K=0;K<=H;K++){const Z=p*K,G=K+1<=H&&p*(K+1),re=K===0;let ee;k>Z&&k<=G?(ee=!re&&f/(p*K),W=re?j:v0(j,R,ee)):(ee=f/(p*v),W=v0(j,R,ee))}return W}function A(j,R){if(h!=null&&h.current&&(y!=null&&y.current)){const H={realHeight:h.current.clientHeight,containerHeight:y.current.wrapperElement.clientHeight},W=F(j,H.containerHeight),K=pE(W,H);R.current.scrollTo(null,K)}}function $(j,R,H){let W=j*p;x(j),A(W,y),l({index:j,itemUrl:null,event:H})}const U=(0,a.useCallback)(j=>{var R,H,W,K,Z,G;const re=P>=0,ee=P<n.length-1,ce=j.event||j,D=parseInt((H=(R=ce.currentTarget)==null?void 0:R.dataset)==null?void 0:H.index,10),z=ce.clientY;switch(!ce.keyCode&&(b!=null&&b.current)&&Yc(b.current),(xr(ce.keyCode)||Gr(ce.keyCode))&&ce.preventDefault(),!0){case(xr(ce.keyCode)&&re):{const q=P-1,J=((W=n[q])==null?void 0:W.item.caption)||"";M(!1),$(q,J,ce);break}case(Gr(ce.keyCode)&&ee):{let q=P+1,J=((K=n[q])==null?void 0:K.item.caption)||"";M(!1),$(q,J,ce);break}case rr(ce.keyCode):{const q=((G=(Z=n[P])==null?void 0:Z.item)==null?void 0:G.id)||"";l({index:P,itemUrl:q,event:ce});break}case ho(ce.keyCode):{o(""),x(-1);break}case(!xr(ce.keyCode)&&!Gr(ce.keyCode)&&O):{D!==void 0&&!isNaN(D)&&(x(D),E(z));break}default:break}},[P,n,b,O,o,l,$]),V=(0,a.useCallback)(({event:j})=>{j.stopPropagation(),r&&(o({value:""}),g.current.innerText="",x(-1))},[o,r]);function N(){O||M(!0)}const L=u?i.map((j,R)=>{const H=P===j.props.index,W=be()("search__item",{search__item_active:H});return(0,s.jsx)("li",{className:W,"data-index":R,onMouseMove:O?null:N,onMouseEnter:U,children:j},R)}):[];return(0,a.useEffect)(()=>{n.length||x(-1)},[n]),(0,a.useEffect)(()=>{!r&&b.current&&(g.current.innerText="")},[r,b]),c?null:(0,s.jsxs)("div",{className:C,id:"search","data-testid":m,children:[(0,s.jsx)(_l,{targetComponent:(0,s.jsx)(An,{ref:b,className:`${Xc}__input`,onChange:o,onKeyDown:U,onEnter:U,testId:`${m}_input`,focusedElement:g}),popperPlacement:"bottom-start",needToRender:r,className:"search",popperClassName:"search__items-wrapper",ref:y,onScroll:S,onHover:w,maxHeight:f,sameWidth:!0,children:(0,s.jsx)("ul",{ref:h,children:L})}),(0,s.jsx)(Ut,{className:`${Xc}__button`,iconName:r?"times":"search",onClick:V,testId:`${m}_button`})]})}Jc.propTypes={onChange:_().func.isRequired,hasSearchValue:_().bool.isRequired,items:_().array.isRequired,onResultListItemSelect:_().func.isRequired,className:_().string,children:_().array,isSearchResultsOpened:_().bool},Jc.defaultProps={className:""};var vE=(0,a.memo)(Jc),xG={popperIconSize:"18px",primaryColor:"#0bd688"};function Qc(t){const{index:e,element:n,onMouseEnter:r,onClick:o}=t,{item:{caption:l,id:i},path:c}=n;function d(u){const m=u.target.dataset.openUrl;o({caption:l,index:e,itemUrl:m?i:null,needCloseResultList:!m,event:u})}return(0,s.jsxs)("div",{className:"search__result-item",onClick:d,onMouseEnter:r,tabIndex:e,"data-index":e,"data-id":i,"data-name":l,children:[(0,s.jsx)("span",{"data-open-url":i,className:"search__result-item-name","data-name":l,"data-id":i,title:l,children:l}),(0,s.jsx)("span",{className:"search__result-item-path",title:c,children:c})]})}Qc.propTypes={index:_().number.isRequired,element:_().object.isRequired,onMouseEnter:_().func,onClick:_().func.isRequired},Qc.defaultProps={onMouseEnter:()=>{}};var hE=(0,a.memo)(Qc),SG={popperIconSize:"18px",primaryColor:"#0bd688"},gE=Object.defineProperty,bE=Object.defineProperties,yE=Object.getOwnPropertyDescriptors,h0=Object.getOwnPropertySymbols,_E=Object.prototype.hasOwnProperty,CE=Object.prototype.propertyIsEnumerable,g0=(t,e,n)=>e in t?gE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vn=(t,e)=>{for(var n in e||(e={}))_E.call(e,n)&&g0(t,n,e[n]);if(h0)for(var n of h0(e))CE.call(e,n)&&g0(t,n,e[n]);return t},_o=(t,e)=>bE(t,yE(e));function b0(t){return t.filter(e=>!e.hidden)}function wE(t,e){const n=[];function r(o){o.forEach(l=>{var i;(i=l[e])!=null&&i.length&&(n.push(l.GUID||null),r(b0(l[e])))})}return r(b0(t)),n}function y0(t,e=null){var n;let r=null;return e&&(r=(n=t.find(o=>o.GUID===e))==null?void 0:n.elements),r||t}function _0(t,e,n,r){const o=e==null?void 0:e.clientHeight,l=n==null?void 0:n.clientHeight,i=n.querySelector(`[data-id="${r}"]`),c=i&&i.parentNode.offsetTop,d=l-o;let u=c-o/2;u>d&&(u=d),u<0&&(u=0),t.setState({topPosition:u})}function C0(t,e=!1){var n;const r={activeSubMenuId:null,openedSubMenusId:[],searchValue:"",schema:t};if(t!=null&&t.length&&e){const o=y0(t);r.activeSubMenuId=((n=o[0])==null?void 0:n.GUID)||null,r.openedSubMenusId=wE(o,"elements")}return r}function w0(t,e,n,r="",o=""){return t.reduce((l,i)=>{const{elements:c,GUID:d}=i,{caption:u}=e[d];let m=Vn(Vn({},i),e[d]);if(e[d].isSeparator)return l;if(c!=null&&c.length){let f=r+" > "+u,p=o+" > "+d;l=l.concat(w0(m.elements,e,n,f,p))}else m.caption&&m.caption.toLowerCase().indexOf(n.trim().toLowerCase())!==-1&&!(m!=null&&m.isDisabled)&&l.push({item:m,path:r.substr(3),arrayIds:o.substr(3).split(" > ")});return l},[])}const xE="main-menu";function eu(t){const{className:e,leftBarHide:n,isPinned:r,testId:o,schema:l,entities:i,selectedItemId:c,isMainMenuOpened:d}=t,u=o||xE,m=10,f=(0,a.useRef)(null),p=(0,a.useRef)(null),v=(0,a.useRef)(null),b=(0,a.useRef)(null),y=(0,a.useRef)(null),h=(0,a.useRef)(!1),[g,C]=(0,a.useState)(()=>C0(l,!n)),O=(0,a.useRef)([]),M={"data-is-active":r};l!==g.schema&&C(C0(l,!n));function P(D){Ge.onMainMenuCommandSend&&Ge.onMainMenuCommandSend(_o(Vn({},D),{controlId:"mainMenu"}))}const x=(0,a.useCallback)(D=>{Ot(D);const{dataset:{itemGuid:z}}=D.currentTarget;C(q=>_o(Vn({},q),{activeSubMenuId:z}))},[]),k=(0,a.useCallback)(D=>{Ot(D);const{currentTarget:z,target:q}=D,{dataset:{subCommand:J}}=q,{dataset:{itemId:X,isDisabled:ue}}=z;if(ue==="true")return;Ge.saveSelectedMainMenuItemId&&Ge.saveSelectedMainMenuItemId(X);const de={id:X,advanced:!!J,isCtrlClick:MI(D.ctrlKey,D.keyCode)||TI(D.metaKey)};P(de)},[]),E=(0,a.useCallback)(D=>{if(Ot(D),h.current)return;const{dataset:{itemGuid:z}}=D.currentTarget,{openedSubMenusId:q}=g;let J=[];q.includes(z)?J=q.filter(X=>X!==z):J=[...q,z],C(X=>_o(Vn({},X),{openedSubMenusId:J}))},[g.openedSubMenusId]);function w(D){var z,q;const J={activeSubMenuId:!n&&((z=D.sectionItemsId)!=null&&z.length)?D.sectionItemsId[0]:null};let X;n&&((q=D.sectionItemsId)!=null&&q.length)?X=D.sectionItemsId:X=D.sectionItemsId.reduce((ue,de)=>(ue.includes(de)||ue.push(de),ue),[...g.openedSubMenusId]),J.openedSubMenusId=X,C(ue=>Vn(Vn({},ue),J)),Ge.saveSelectedMainMenuItemId(D.selectedItemId)}const S=(0,a.useCallback)(D=>{C(z=>_o(Vn({},z),{searchValue:D}))},[]),F=(0,a.useCallback)(({value:D})=>{const z=D.replace(`
`,"");O.current=w0(l,i,z),(z===""||!O.current.length)&&Ge.saveSelectedMainMenuItemId(null),S(z)},[l,i]),A=(0,a.useCallback)(({event:D})=>{Ot(D),Ge.onMainMenuPin&&Ge.onMainMenuPin(!r)},[r]),$=(0,a.useCallback)(D=>{const{index:z,itemUrl:q,event:J,needCloseResultList:X}=D;Ot(J);const ue=O.current[z];ue!=null&&ue.path&&w({sectionItemsId:ue.arrayIds,selectedItemId:ue.item.id}),X&&S(""),q&&P({id:q})},[]);function U(){var D;return(D=O.current)==null?void 0:D.map((z,q)=>(0,s.jsx)(hE,{index:q,element:z,onClick:$},`${z.item.GUID}`))}function V(){return l.map(D=>{const{GUID:z,elements:q,id:J}=D,{caption:X,isExcluded:ue,iconName:de,hint:ge}=i[z];if(q&&!ue){const fe=rS(X,9,`
`,!0,2),Ee=be()("main-menu__left-bar-menu-item",{"main-menu__left-bar-menu-item_active":z===g.activeSubMenuId});return(0,s.jsx)("li",{className:Ee,"data-item-guid":z,title:ge||X,onClick:x,"data-testid":`${u}_left-bar-menu-item_${J}`,children:(0,s.jsxs)("div",{className:"main-menu__left-bar-menu-item-content",children:[(0,s.jsx)("img",{src:en(de),alt:de,className:"main-menu__left-bar-menu-item-icon"}),(0,s.jsx)("span",{className:"main-menu__left-bar-menu-item-text",children:fe})]})},z)}})}(0,a.useEffect)(()=>{var D;c&&f.current&&_0(f.current,f.current.wrapper,p.current,c),!n&&g.activeSubMenuId&&_0(v.current,(D=v.current)==null?void 0:D.wrapper,b.current,g.activeSubMenuId)},[c,g.activeSubMenuId,n,d]);const N=be()(e,"main-menu"),L=be()("main-menu__pin",{"main-menu__pin_not-active":!r}),j=U(),R=(0,a.useCallback)((D,z)=>{let q="";return D&&z?q="main-menu__command-item-link-collect":(z||D)&&(q="main-menu__command-item-link-indent"),q}),H=(0,a.useCallback)(D=>{const{caption:z,GUID:q,depth:J,id:X,renderStyle:ue,isExcluded:de,isDisabled:ge,hint:fe,iconName:Ee,depthOffsetSize:Pe}=D,Ce=ue==null?void 0:ue.isNewAvailable,Se=ue==null?void 0:ue.isHelp,je=be()("main-menu__command-item",{"main-menu__command-item_hidden":de,"main-menu__command-item_disabled":ge,"main-menu__command-item_marked":c!==void 0&&c===X}),at=be()("main-menu__command-span",{"main-menu__command-item_disabled":ge}),Le=R(Ce,Se);let qe={className:"main-menu__item-icon"};Ee&&(qe.src=en(Ee));const Ie={"data-id":X,"data-sub-command":Ce?"new":"help","data-testid":`${u}_item_${X}_sub-command`};return(0,s.jsxs)("li",{"data-item-id":X,"data-item-guid":q,"data-name":X,"data-is-disabled":ge,onClick:k,className:je,children:[(0,s.jsxs)("span",{className:be()(`main-menu__command-item-link ${Le}`,{"main-menu__command-item-link_marked":c!==void 0&&c===X}),"data-name":z,style:{paddingLeft:`${J*Pe}px`},title:fe||rt.t(z),"data-caption":rt.t(z),"data-id":X,"data-testid":`${u}_item_${X}`,children:[Ee?(0,s.jsx)("img",_o(Vn({},qe),{"data-testid":`${u}_item_${X}_icon`})):(0,s.jsx)("span",_o(Vn({},qe),{"data-testid":`${u}_item_${X}_icon`})),(0,s.jsx)("span",{className:at,children:rt.t(z)})]}),Ce||Se?(0,s.jsx)("button",_o(Vn({className:"main-menu__command-add"},Ie),{children:(0,s.jsx)(fn(),_o(Vn({},Ie),{name:Ce?"plus":"question-circle"}))})):null]},q)},[c,k,u]),W=(0,a.useCallback)(({GUID:D,hint:z,caption:q,id:J})=>(0,s.jsx)("li",{className:"main-menu__separator",onClick:Ot,children:(0,s.jsx)("span",{title:z||q,"data-id":J,"data-testid":`${u}_item_${J}_separator`,children:q})},D),[u]),K=(0,a.useCallback)(D=>{var z,q;const{GUID:J,id:X,depth:ue,caption:de,children:ge,hint:fe,iconName:Ee,schema:Pe,isExcluded:Ce,isDisabled:Se}=D,{openedSubMenusId:je=[]}=g,at=be()("main-menu__category-wrapper"),Le=be()("main-menu__category-name",{"main-menu__category-name_hidden":Ce,"main-menu__category-name_disabled":Se,"main-menu__category-name-title":!((q=(z=Pe==null?void 0:Pe.elements)==null?void 0:z[0])!=null&&q.elements)}),Ie=(je==null?void 0:je.includes(J))?"angle-down":"angle-right";return(0,s.jsxs)("li",{id:J,className:at,"data-item-id":X,"data-item-guid":J,onClick:Se?Ot:E,children:[(0,s.jsxs)("span",{className:Le,style:{paddingLeft:`${ue*m}px`},title:fe||de,"data-testid":`${u}_item_${X}`,children:[(0,s.jsx)(fn(),{name:Ie,className:"main-menu__category-icon","data-testid":`${u}_item_${X}_icon`}),Ee&&(0,s.jsx)("img",{className:"main-menu__command-icon",src:en(Ee)}),de]}),je.includes(J)&&ge]},J)},[g.openedSubMenusId,E,m,u]),Z=(0,a.useCallback)(({schema:D,children:z,depth:q})=>{var J;const{GUID:X}=D,{id:ue,caption:de,iconName:ge,hint:fe,isExcluded:Ee,isDisabled:Pe,renderStyle:Ce,isSeparator:Se}=i[X];let je;const at={GUID:X,hint:fe,caption:de,id:ue};if((J=D==null?void 0:D.elements)!=null&&J.length)je=K(Vn({depth:q,children:z,iconName:ge,schema:D,isExcluded:Ee,isDisabled:Pe},at));else if(Se)je=W(Vn({},at));else{const Le=Vn({depth:q,schema:D,renderStyle:Ce,isExcluded:Ee,isDisabled:Pe,iconName:ge,depthOffsetSize:6},at);je=H(Le)}return(0,s.jsx)("ul",{className:"main-menu__category",children:je},X)}),G=(0,a.useCallback)(()=>{document.body.style["overflow-y"]="auto"},[]),re=(0,a.useCallback)(()=>{document.body.style["overflow-y"]="hidden"},[]),ee=(0,a.useCallback)(D=>{h.current=!1,y.current=D.target},[]),ce=(0,a.useCallback)(D=>{h.current=y.current!==D.target},[]);return l!=null&&l.length?(0,s.jsxs)("div",{className:N,"data-testid":o,children:[(0,s.jsxs)("div",{className:"main-menu__top-bar-area",children:[(0,s.jsx)(vE,{className:"main-menu__search",items:O.current,hasSearchValue:!!g.searchValue,onChange:F,onResultListItemSelect:$,testId:"main-menu_search",isSearchResultsOpened:d,children:j}),(0,s.jsx)(Ut,{dataAttrs:M,testId:"main-menu_pin",className:L,onClick:A,iconName:"thumb-tack"})]}),(0,s.jsxs)("div",{onMouseOut:G,onMouseOver:re,onMouseDown:ee,onMouseUp:ce,className:"main-menu__list-area",children:[n?null:(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,ref:v,className:"main-menu__left-bar",minimalThumbSize:40,noScrollX:!0,translateContentSizeXToHolder:!0,thumbYProps:{style:{borderRadius:"10px"}},children:(0,s.jsx)("ul",{ref:b,className:"main-menu__left-bar-menu","data-testid":"main-menu__left-bar-menu",children:V()})}),(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,ref:f,className:"main-menu__right-bar",thumbYProps:{style:{borderRadius:"10px"}},children:(0,s.jsx)(Ps,{schema:y0(g.schema,g.activeSubMenuId),renderElement:Z,ref:p,testId:"main-menu__right-bar-menu"})})]})]}):null}eu.propTypes={elements:_().arrayOf(_().object).isRequired,leftBarHide:_().bool,isPinned:_().bool},eu.defaultProps={leftBarHide:!0,isPinned:!1,elements:[]};function SE({mainAppParams:{menu:{entities:t,isOpened:e,isPinned:n,leftBarHide:r,schema:o,selectedItemId:l}}}){return{isMainMenuOpened:e,isPinned:n,leftBarHide:r,schema:o,entities:t,selectedItemId:l}}var PE=(0,ur.qC)((0,lt.$j)(SE),a.memo)(eu);function tu(t,e){e||(document.title=t==="ru"?"\u0422\u0423\u0420\u0411\u041E":"TURBO"),lS(t,e),of("language",t,{path:"/"})}function IE(t){rt.init({lng:t}).then(tu.bind(this,t))}function OE(t){rt.changeLanguage(t).then(tu.bind(this,t))}var x0={init:IE,change:OE},nn=Ve(89250),EE=Ve(15734),S0=Ve(12599),kE=Object.defineProperty,jE=Object.defineProperties,RE=Object.getOwnPropertyDescriptors,Os=Object.getOwnPropertySymbols,P0=Object.prototype.hasOwnProperty,I0=Object.prototype.propertyIsEnumerable,O0=(t,e,n)=>e in t?kE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DE=(t,e)=>{for(var n in e||(e={}))P0.call(e,n)&&O0(t,n,e[n]);if(Os)for(var n of Os(e))I0.call(e,n)&&O0(t,n,e[n]);return t},NE=(t,e)=>jE(t,RE(e)),ME=(t,e)=>{var n={};for(var r in t)P0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Os)for(var r of Os(t))e.indexOf(r)<0&&I0.call(t,r)&&(n[r]=t[r]);return n},Co=t=>{var e=t,{to:n}=e,r=ME(e,["to"]);const o=(0,nn.UO)(),l=typeof n=="string"?n:(0,S0.Ep)(n),i=(0,S0.Gn)(l,o);return(0,s.jsx)(nn.Fg,NE(DE({},r),{to:i}))},IG={popperIconSize:"18px",primaryColor:"#0bd688"};const kn="un-supported-browser";function TE(t){const{webUiLanguage:e}=t;return(0,s.jsx)("div",{className:kn,children:(0,s.jsxs)("div",{className:`${kn}__container`,children:[(0,s.jsx)("div",{className:`${kn}__head`,children:(0,s.jsx)("div",{className:`${kn}__head-image ${kn}__head-image_${e}`})}),(0,s.jsxs)("div",{className:`${kn}__content`,children:[(0,s.jsxs)("div",{className:`${kn}__content-message`,children:[(0,s.jsx)("div",{children:rt.t("browser_support_message_1")}),(0,s.jsx)("div",{children:rt.t("browser_support_message_2")}),(0,s.jsx)("div",{children:rt.t("browser_support_message_3")})]}),(0,s.jsxs)("div",{className:`${kn}__browsers`,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:`${kn}__browsers ${kn}__browsers_chrome`}),(0,s.jsx)("a",{className:`${kn}__browser-link`,href:"https://www.google.com/chrome/",target:"_blank",children:"Chrome"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:`${kn}__browsers ${kn}__browsers_fire-fox`}),(0,s.jsx)("a",{className:`${kn}__browser-link`,href:"https://www.mozilla.org",target:"_blank",children:"Firefox"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:`${kn}__browsers ${kn}__browsers_edge`}),(0,s.jsx)("a",{className:`${kn}__browser-link`,href:"https://www.microsoft.com/en-us/windows/microsoft-edge",target:"_blank",children:"Edge"})]})]})]})]})})}function FE({mainAppParams:t}){return{webUiLanguage:t.webUiLanguage}}var AE=(0,lt.$j)(FE)(TE),OG={popperIconSize:"18px",primaryColor:"#0bd688"};const BE=B.iv`
  @keyframes dash {
    0% {
      stroke-dasharray: 10, 200;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 40, 200;
    }

    100% {
      stroke-dasharray: 10, 200;
      stroke-dashoffset: -230%;
      transform: rotate(30deg);
    }
  }
`,$E=(0,B.ZP)("div")`
  display: none;

  ${({showIndicator:t})=>t&&B.iv`
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
      /* 40% непрозрачность (66 в hex) */
      background: ${()=>I("loader-background","#17181C")}66;
      z-index: 2000;
    `}
`,zE=(0,B.ZP)("div")`
  position: relative;
  margin: 0 auto;
  width: 52px;

  &:before {
    content: "";
    display: block;
    padding-top: 100%;
  }

  ${BE}

  .circular {
    height: 100%;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }

  .path {
    stroke: ${()=>I("loader-color","#00cc7e")};
    stroke-width: 4px;
    stroke-dasharray: 10, 200;
    stroke-dashoffset: 0;
    stroke-linecap: round;

    transform-box: fill-box;
    transform-origin: center center;

    animation: dash 1.05s cubic-bezier(0, 0, 0.5, 0.8) infinite;
  }
`,E0=document.getElementById("indicator"),LE=({showIndicator:t})=>E0&&(0,Jr.createPortal)((0,s.jsx)($E,{showIndicator:t,children:(0,s.jsx)(zE,{children:(0,s.jsx)("svg",{className:"circular",viewBox:"25 25 50 50",children:(0,s.jsx)("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeMiterlimit:"10"})})})}),E0);var HE=Object.defineProperty,k0=Object.getOwnPropertySymbols,WE=Object.prototype.hasOwnProperty,VE=Object.prototype.propertyIsEnumerable,j0=(t,e,n)=>e in t?HE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UE=(t,e)=>{for(var n in e||(e={}))WE.call(e,n)&&j0(t,n,e[n]);if(k0)for(var n of k0(e))VE.call(e,n)&&j0(t,n,e[n]);return t};const GE="indicator";let nu=0;function ZE({show:t=!1}){const[n,r]=(0,a.useState)(!1);if((0,a.useEffect)(()=>(t?nu=setTimeout(()=>{r(!0)},700):(clearTimeout(nu),r(!1)),()=>{clearTimeout(nu),r(!1)}),[t]),(0,lt.v9)(Dt)){const l={showIndicator:n};return(0,s.jsx)(LE,UE({},l))}return(0,Jr.createPortal)((0,s.jsx)("div",{className:n?"indicator":"indicator indicator_hidden",children:(0,s.jsx)("div",{className:`${GE}__loader`})}),document.getElementById("indicator"))}var KE=(0,lt.$j)(({mainAppParams:t})=>({show:t.showProcessIndicator}))(ZE),qE=Ve(68607),YE=Ve.n(qE);function XE({needToPrint:t,serviceURL:e,setPrintStatus:n}){const r=(0,a.useRef)(null),o=(0,a.useRef)(null),l=be()("print print__container"),i=(0,a.useCallback)(()=>{console.warn("Something went wrong while printing!")},[]),c=(0,a.useCallback)(()=>{n({needToPrint:!1,serviceURL:null})},[n]),d=(0,a.useCallback)(m=>{const f=document.createElement("iframe");return f.classList.add("print__frame"),f.src=m,f},[]),u=(0,a.useCallback)(m=>{r.current.innerHTML="",o.current=d(m),r.current.appendChild(o.current),(o.current.contentWindow||o.current[0]).print()},[]);return(0,a.useEffect)(()=>{if(!r.current||!t||!e)return;const m=nS(e);Ka(["chrome","opera","safari"])?YE()({printable:m,type:"pdf",onPrintDialogClose:c,onError:i}):u(m)},[e,t,c]),t?(0,s.jsx)("div",{ref:r,className:l}):null}function JE(t){const{print:{needToPrint:e,serviceURL:n}}=t;return{needToPrint:e,serviceURL:n}}var QE=(0,lt.$j)(JE,{setPrintStatus:as})(XE),EG={popperIconSize:"18px",primaryColor:"#0bd688"};const ru="system-messages",ek=document.getElementById("system-messages");var tk=t=>{const{modalPopUp:e,onPopUpClose:n}=t,r=e.length>0,o=i=>{n({id:i})};let l=!1;return e.length>0&&e.every(i=>(i==null?void 0:i.context)===!0)&&(l=!0),(0,s.jsx)(s.Fragment,{children:r&&(0,Jr.createPortal)((0,s.jsxs)("div",{className:ru,children:[e.map((i,c)=>{const{type:d,caption:u,message:m,component:f,context:p,iconID:v,componentProps:b}=i,y=c===e.length-1,h=f==="ImgModal"?`${Xn}_big`:null;let g={};if(p){const{controlId:C,rowId:O,rowControlId:M,tableControlId:P,formId:x}=i,k=cf({rowId:O,rowControlId:M,tableControlId:P,controlId:C,formId:x});if(k){const{height:E,top:w,left:S}=k.getBoundingClientRect();g={position:"absolute",top:w+E,left:S,width:"fit-content",border:"none"}}}return(0,s.jsx)("div",{className:`${ru}__item`,children:(0,s.jsx)(W4,{className:h,context:p,style:g,iconID:v,caption:u,message:m,messageId:c,onClose:o,type:d,isLastMessage:y,component:f,componentProps:b})},c)}),(0,s.jsx)("div",{style:l&&{background:"none"}||{},className:`${ru}__overlay`})]}),ek)})},mr=Ve(71336),jG={popperIconSize:"18px",primaryColor:"#0bd688"},nk=Object.defineProperty,rk=Object.defineProperties,ok=Object.getOwnPropertyDescriptors,R0=Object.getOwnPropertySymbols,lk=Object.prototype.hasOwnProperty,ak=Object.prototype.propertyIsEnumerable,D0=(t,e,n)=>e in t?nk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ou=(t,e)=>{for(var n in e||(e={}))lk.call(e,n)&&D0(t,n,e[n]);if(R0)for(var n of R0(e))ak.call(e,n)&&D0(t,n,e[n]);return t},N0=(t,e)=>rk(t,ok(e));const Es="list-button",sk="list-button";let Cl=null;const ik=({child:t,withIcon:e,index:n,currentActiveIndex:r,setActiveMode:o,setEditableMode:l,isIncludedList:i,setActiveModePrev:c,targetItemTestId:d})=>{var u;const m=(0,a.useRef)(null),{caption:f,GUID:p,name:v,hint:b,iconName:y,isDisabled:h,isPressed:g,className:C,metaSet:O,testId:M,onClick:P,events:x,commandName:k}=t,E=M||d,w=`${Es}__item`,S=be()(C,w,{[`${w}_disabled`]:h,[`${w}_active`]:n===r}),F=`${Es}__item-content`,A=be()(F,{[`${F}_pressed`]:g});let $=null;if(e){let j={className:`${Es}__item-icon`,"data-testid":`${sk}__item-icon`};const R=y||(g?"check":""),H=`${E}_icon`;$=R?R!=null&&R.includes("/")?(0,s.jsx)("img",N0(ou({},j),{src:en(R),alt:"","data-testid":H})):(0,s.jsx)(fn(),N0(ou({},j),{name:R,"data-testid":H})):(0,s.jsx)("span",ou({},j))}const U=(0,a.useCallback)(j=>{if(j.preventDefault(),Cl&&clearTimeout(Cl),i&&l)return l()},[i,Cl,l]),V=(0,a.useCallback)(j=>{if(h||i){Ot(j);return}ke({specificEvent:P,nativeEvent:"onClick",events:x,value:v,metaSet:O,commandName:k,event:j}),c?c():o()},[c,o,h,k,P,i]),N=(0,a.useCallback)(()=>{l&&i&&(Cl=setTimeout(l,500))},[l,i]),L=(0,a.useCallback)(()=>{o&&i&&(Cl&&clearTimeout(Cl),o())},[o,i]);return pr(m,b,(u=m==null?void 0:m.current)==null?void 0:u.innerText),(0,s.jsx)("li",{"data-item-id":v,"data-item-guid":p,"data-name":v,onClick:V,onMouseEnter:N,onMouseLeave:L,onMouseDown:U,className:S,children:(0,s.jsxs)("div",{className:A,"data-id":v,"data-name":v,"data-testid":E,ref:m,children:[$,(0,s.jsx)("span",{className:`${Es}__item-caption`,"data-testid":`${E}_caption`,children:rt.t(f)})]})},p||v)};var M0=(0,a.memo)(ik),ck=Object.defineProperty,uk=Object.defineProperties,dk=Object.getOwnPropertyDescriptors,T0=Object.getOwnPropertySymbols,fk=Object.prototype.hasOwnProperty,pk=Object.prototype.propertyIsEnumerable,F0=(t,e,n)=>e in t?ck(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ks=(t,e)=>{for(var n in e||(e={}))fk.call(e,n)&&F0(t,n,e[n]);if(T0)for(var n of T0(e))pk.call(e,n)&&F0(t,n,e[n]);return t},lu=(t,e)=>uk(t,dk(e));const A0="list-button",B0="list-button";function mk(t){return t.some(e=>!!e.iconName)}function vk(t){return t.some(e=>!!e.isPressed)}const $0=(t,e,n)=>{let r=e;const o=e;if(n==="up"?r=e-1<0?0:e-1:n==="down"&&(r=e+1>t.length-1?t.length-1:e+1),t[r].isDisabled){let i;switch(n){case"down":{i=t.slice(r).find(c=>c.isDisabled===!1),i||(i=t[o]);break}case"up":{i=t.slice(0,r).reverse().find(c=>c.isDisabled===!1),i||(i=t[o]);break}default:return r}return r=t.findIndex(c=>c===i),r}return r};function z0(t){var e;const{_ref:n,focusedElement:r,className:o,style:l,fashion:i,id:c,name:d,isDisabled:u,isFixSize:m,hasActiveMode:f,mode:p,modeSwitch:v,children:b=[],caption:y,iconName:h,iconSize:g,dataAttrs:C,hint:O,tabIndex:M,events:P,metaSet:x,testId:k,onTab:E,onFocus:w,onBlur:S,onBlurCapture:F,onEnter:A,onEsc:$,onClick:U,onModeChange:V,onMouseDown:N,dropDownClassName:L,elements:j,onHint:R,isIncludedList:H,sameWidth:W,index:K,setActiveModePrev:Z}=t,G=30,re=k||B0,ee=`${re}_item`,ce=rt.t("list_button_hint"),D=ve=>["button","listButton"].includes(ve==null?void 0:ve.type),z=(e=a.Children.map(b,ve=>(ve==null?void 0:ve.props)||ve))==null?void 0:e.filter(D),q=z&&(mk(z)||vk(z));let J=(0,a.useRef)(null);J=r||n||J;let X=(0,a.useRef)(null);const ue=(0,a.useRef)(null),de=(0,a.useRef)(null);X=v||X;const[ge,fe]=(0,a.useState)(null),[Ee,Pe]=(0,a.useState)(!1),[Ce,Se]=(0,a.useState)(-1),je=be()(A0,B0,`list-button-${c}`),at=be()(o),Le=(0,a.useCallback)(()=>{var ve,pe;(ve=X.current)==null||ve.setDefaultMode(),Pe(!1),(pe=J.current)==null||pe.focus()},[]),qe=(0,a.useCallback)(()=>{var ve,pe;(ve=X.current)==null||ve.setActiveMode(),Pe(!1),(pe=J.current)==null||pe.focus()},[]),Ie=(0,a.useCallback)(()=>{var ve;(ve=X.current)==null||ve.setEditableMode(),Pe(!0)},[]),Ye=(0,a.useCallback)(({event:ve,value:pe})=>{var ae;if(u)return;const te=go(ve),le=vs(ve);if(te&&le){let we=!0;if(A&&(we=A({event:ve,metaSet:x,value:pe})),we&&(P!=null&&P.onEnter)){const{alias:ze,args:Qe}=P.onEnter;he[ze]({event:ve,metaSet:x,args:Qe,value:pe})}(ae=X.current)!=null&&ae.checkEditableMode()?f?qe():Le():Ie()}return!1},[u,x,P,A,f,qe,Le,Ie]),He=(0,a.useCallback)(({event:ve,value:pe})=>{if(u)return;let ae=!0;if(w&&(ae=w({event:ve,metaSet:x,value:pe})),ae&&(P!=null&&P.onFocus)){const{alias:te,args:le}=P.onFocus;he[te]({event:ve,metaSet:x,args:le,value:pe})}return!0},[u,x,P,w]),Ae=(0,a.useCallback)(({event:ve})=>{if(u)return;let pe=!0;if(S&&(pe=S({event:ve,metaSet:x})),pe&&(P!=null&&P.onBlur)){const{alias:ae,args:te}=P.onBlur;he[ae]({event:ve,metaSet:x,args:te})}return dS()||Pe(!1),!0},[u,x,P,S,Pe]),De=(0,a.useCallback)(({event:ve,value:pe})=>{var ae;if(u)return;let te=!0;if(F&&(te=F({event:ve,metaSet:x,value:pe})),te&&(P!=null&&P.onBlurCapture)){const{alias:le,args:we}=P.onBlurCapture;he[le]({event:ve,metaSet:x,args:we,value:pe})}return(ae=ve==null?void 0:ve.relatedTarget)!=null&&ae.classList.contains("scrollarea-content")&&ve.stopPropagation(),!1},[u,x,P,F]),it=(0,a.useCallback)(({event:ve})=>{ve.relatedTarget!==J.current&&Le()},[Le]),ct=(0,a.useCallback)(({event:ve})=>{if(!u){if(N&&N({event:ve,metaSet:x}),P!=null&&P.onMouseDown){const{alias:pe,args:ae}=P.onMouseDown;he[pe](ks({event:ve,metaSet:x},ae))}return Ee||(f?qe():Le()),!1}},[u,x,P,N]),st=(0,a.useCallback)(({event:ve})=>{if(!u)return U&&U({event:ve,metaSet:x}),ke({specificEvent:U,nativeEvent:"onClick",events:P}),Ee||Ie(),!1},[u,z,x,P,U,Ee,f,Le,qe,Ie]),bt=(0,a.useCallback)(({event:ve})=>{if(u)return;let pe=!0;if(E&&(pe=E({event:ve,metaSet:x})),pe&&(P!=null&&P.onTab)){const{alias:ae,args:te}=P.onTab;he[ae]({event:ve,metaSet:x,args:te})}return f?qe():Le(),!1},[u,x,P,E,f,qe,Le]),ft=(0,a.useCallback)(({event:ve})=>{if(u)return;let pe=!0;if($&&(pe=$({event:ve,metaSet:x})),pe&&(P!=null&&P.onEsc)){const{alias:ae,args:te}=P.onEsc;he[ae]({event:ve,metaSet:x,args:te})}return f?qe():Le(),!1},[u,x,P,$,f,qe,Le]),ht=(0,a.useCallback)(({value:ve})=>{if(u)return;let pe=!0;if(V&&(pe=V({metaSet:x,value:ve})),pe&&(P!=null&&P.onModeChange)){const{alias:ae,args:te}=P.onModeChange;he[ae](lu(ks({},te),{metaSet:x,value:ve}))}},[u,x,P,V]),Be=(0,a.useCallback)(ve=>{var pe;const{keyCode:ae}=ve;if((pe=ue.current)!=null&&pe.contentElement&&z.length>0&&(xr(ae)||Gr(ae))){let te;const le=ue.current.contentElement,we=ue.current.wrapperElement,ze=le.offsetHeight,Qe=Array.from(de.current.children),gt=parseInt(ue.scrollTop,10),se=Math.abs(gt),xe=se+we.offsetHeight;let me=null;xr(ae)?(te=$0(z,Ce,"up"),me=Qe[te]):(te=$0(z,Ce,"down"),me=Qe[te]);const Me=me.offsetTop;let Te=pf({parentNodeScrollTop:gt,step:10,activeNodeOffsetTop:Me,visibleRangeMin:se,visibleRangeMax:xe,cellHeight:G});ge&&(ze-Te<ge?(Te=ze-ge,ue.current.state.topPosition=Te,ue.current.scrollArea.scrollYTo(Te)):te===0?(ue.current.state.topPosition=0,ue.current.scrollArea.scrollYTo(0)):(ue.current.state.topPosition=Te,ue.current.scrollArea.scrollYTo(Te))),Se(te)}else if(rr(ae)){if(u)return;const te=z.filter((le,we)=>Ce===we).shift();if(te!==void 0){const{name:le,metaSet:we,events:ze,onClick:Qe}=te;let gt=!0;if(Qe&&(gt=Qe({event:ve,metaSet:we,value:le})),gt&&(ze!=null&&ze.onClick)){const{alias:se,args:xe}=ze.onClick;he[se]({event:ve,args:xe,metaSet:we,value:le})}}}},[Ce,z,U,ue,G,ge,de]),ie=(0,a.useCallback)(()=>{let ve=!0;if(R&&(ve=R({event,metaSet:x})),ve&&(P!=null&&P.onHint)){const{alias:pe,args:ae}=P.onHint;ve=he[pe]({event,args:ae,metaSet:x})}},[R,P,x]);(0,a.useEffect)(()=>{var ve;if(Ee||Se(-1),Ee&&((ve=ue==null?void 0:ue.current)!=null&&ve.content)&&(J!=null&&J.current)){const{top:pe,height:ae}=J.current.getBoundingClientRect(),te=ue.current.content.clientHeight,le=pe+ae,we=document.documentElement.clientHeight-le;te>we&&fe(205),ue.current.content.onkeydown=ze=>{Ot(ze),Be(ze)}}},[Ee,Be]);const Ze=(0,a.useCallback)(()=>{Z?Z():qe()},[qe,Z]),tt=H?(0,s.jsx)(M0,{child:{caption:y,name:d,hint:O,iconName:h,isDisabled:u,className:o,metaSet:x,testId:k,onClick:U,events:P},index:K,withIcon:!!h,currentActiveIndex:Ce,setActiveMode:qe,targetItemTestId:ee,setEditableMode:Ie,isIncludedList:H,setActiveModePrev:Ze}):(0,s.jsx)(qr,{ref:J,focusedElement:r,className:at,style:l,fashion:i,id:c,name:d,isDisabled:u,isFixSize:m,hasActiveMode:f,mode:p,modeSwitch:X,metaSet:x,iconName:h,iconSize:g,caption:rt.t(y),dataAttrs:C,hint:O?`${O}`:ce,tabIndex:M,testId:`${re}`,onTab:bt,onFocus:He,onBlur:Ae,onBlurCapture:De,onModeChange:ht,onMouseDown:ct,onClick:st,onEnter:Ye,onEsc:ft,onHint:ie}),_t=(ve,pe)=>{if(ve.type==="separator")return(0,s.jsx)(mr.Z0,{},pe);const ae=z==null?void 0:z.find(te=>te==null?void 0:te.name.includes(ve==null?void 0:ve.name));if(!ae||ve!=null&&ve.hidden)return null;switch(ve.type){case"listButton":return(0,s.jsx)(z0,{_ref:null,index:pe,className:o,style:l,name:ae.name,elements:ae.elements,caption:ae.caption,isDisabled:!1,hint:ae.caption,iconSize:ae.iconSize,iconName:ae.iconName,isIncludedList:!0,setActiveModePrev:Ze,children:ae.children||[]},pe);default:return(0,s.jsx)(M0,{child:ae,index:pe,withIcon:q,currentActiveIndex:Ce,setActiveMode:qe,targetItemTestId:ee,setActiveModePrev:Ze},pe)}};return(0,s.jsx)("div",lu(ks({tabIndex:-1,onKeyDown:Be,className:je},C),{children:z!=null&&z.length||j!=null&&j.length?(0,s.jsx)(_l,{withArrow:!0,isListButton:!0,sameWidth:W,className:L,targetComponent:tt,needToRender:Ee,onTab:bt,onBlur:it,onEnter:Ye,onEsc:ft,testId:`${re}_drop-down-box`,maxHeight:ge,ref:ue,isIncludedList:H,setActiveMode:qe,setEditableMode:Ie,children:(0,s.jsx)("ul",{className:`${A0}__list`,ref:de,children:(j==null?void 0:j.map(_t))||(z==null?void 0:z.map(_t))})}):tt}))}var L0=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(z0,lu(ks({},t),{_ref:e})))),wl=L0,js=Ve.p+"images/TurboXIcon.svg",RG={popperIconSize:"18px",primaryColor:"#0bd688"},hk=Object.defineProperty,gk=Object.defineProperties,bk=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,yk=Object.prototype.hasOwnProperty,_k=Object.prototype.propertyIsEnumerable,W0=(t,e,n)=>e in t?hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,au=(t,e)=>{for(var n in e||(e={}))yk.call(e,n)&&W0(t,n,e[n]);if(H0)for(var n of H0(e))_k.call(e,n)&&W0(t,n,e[n]);return t},su=(t,e)=>gk(t,bk(e));const Fr="header",Ck=document.getElementById("favicon");let Rs;function V0(t){const{isMainMenuOpen:e,isMainMenuExcluded:n,userName:r,roleName:o,toolbarData:l={},version:i="Version: 0.0.0"}=t,c=(0,lt.v9)(h=>h.mainAppParams.reminders,lt.wU),d=(0,lt.v9)(h=>{var g;return(g=h.mainAppParams.app)==null?void 0:g.appIcon}),u=(0,a.useCallback)(h=>{const g=h==null?void 0:h.isExist;if(Rs&&clearTimeout(Rs),!g)fo(d?en(d):js);else{const{iconname:C}=h;C!==Ck.href.slice(-C.length)?fo(en(C)):fo(d?en(d):js),Rs=setTimeout(u,1e3,h)}},[c]);(0,a.useEffect)(()=>(u(c),()=>{c&&(fo(en(d)||js),clearTimeout(Rs))}),[c]);const{schema:m,entities:f}=l,p=(0,a.useCallback)(({metaSet:h={}})=>{var g;const{name:C}=h;C&&((g=Ge)!=null&&g.onToolbarCommandSend)&&Ge.onToolbarCommandSend({id:C,mode:"toolbarClick",controlId:"toolBar"})},[]),v=(0,a.useCallback)(()=>{Ge.onMainMenuOpen&&Ge.onMainMenuOpen(!e)},[e,Ge]),b=(0,a.useCallback)(()=>{Ge.onLogOut&&Ge.onLogOut()},[Ge]);let y=null;return m&&f&&(y=m.map(h=>{var g;const{type:C,name:O,elements:M}=h,P=(g=f==null?void 0:f[C])==null?void 0:g[O];if(P){if(h.type==="button")return(0,s.jsx)(Ut,su(au({},P),{className:`${Fr}__button ${Fr}__toolbar-button`,caption:"",hint:rt.t(P.hint)||rt.t(P.caption),metaSet:{name:O},testId:O,onClick:p}),O);if(h.type==="listButton"){let x=null;return M!=null&&M.length&&(x=M.map(k=>{var E;const{type:w,name:S}=k,F=(E=f==null?void 0:f[w])==null?void 0:E[S];return F?(0,s.jsx)(Ut,su(au({},F),{metaSet:{name:S},testId:S,onClick:p}),S):null})),(0,s.jsx)(wl,su(au({},P),{className:`${Fr}__button ${Fr}__toolbar-button`,testId:O,caption:"",hint:rt.t(P.hint)||rt.t(P.caption),children:x}),O)}return null}return null})),(0,s.jsxs)("header",{className:Fr,children:[(0,s.jsxs)("div",{className:`${Fr}__container`,children:[!n&&(0,s.jsx)(Ut,{name:"mainMenuButton",iconName:"bars",hint:rt.t("main_menu"),onClick:v,className:`${Fr}__main-menu-button`,testId:"main-menu-button",isPressed:e}),y]}),(0,s.jsxs)(wl,{name:"user-button",caption:r?`${r} (${o})`:"user",iconName:"user",testId:"user-button",className:`${Fr}__user-button`,children:[(0,s.jsx)(Ut,{name:"exit-button",type:"button",className:`${Fr}__exit-button`,caption:rt.t("workspace_exit"),testId:"exit-button",onClick:b}),(0,s.jsx)(Ut,{name:"version",type:"button",className:`${Fr}__version-button`,isDisabled:!0,caption:i,testId:"app-version"})]})]})}V0.propTypes={isMainMenuExcluded:_().bool,isMainMenuOpen:_().bool.isRequired,userName:_().string,toolbarData:_().object};var wk=(0,a.memo)(V0),DG={popperIconSize:"18px",primaryColor:"#0bd688"},NG={popperIconSize:"18px",primaryColor:"#0bd688"},xk=Object.defineProperty,Sk=Object.defineProperties,Pk=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,Ik=Object.prototype.hasOwnProperty,Ok=Object.prototype.propertyIsEnumerable,G0=(t,e,n)=>e in t?xk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z0=(t,e)=>{for(var n in e||(e={}))Ik.call(e,n)&&G0(t,n,e[n]);if(U0)for(var n of U0(e))Ok.call(e,n)&&G0(t,n,e[n]);return t},K0=(t,e)=>Sk(t,Pk(e));const q0=t=>t?"0":"180";var Y0=t=>{const{orientation:e,index:n,splitterAtRight:r,canHideBySplit:o,canResizeBySplit:l,hideFrame:i,onMouseDown:c,WIDTH_SPLITTER:d,isHideElement:u,autoSize:m}=t,[f,p]=(0,a.useState)(r?!u:u),[v,b]=(0,a.useState)(null),y=Boolean((0,lt.v9)(Dt)),h=()=>e==="horizontal"?"wrapper-hide-frame wrapper-hide-frame__vertical":"wrapper-hide-frame",g=()=>e==="horizontal"?"splitter splitter__vertical":"splitter splitter__horizontal",C=()=>e==="horizontal"?K0(Z0({},y&&{border:`1px solid ${I("tree-border-default")}`}),{width:d+"px",cursor:l?"col-resize":"auto"}):K0(Z0({},y&&{border:`1px solid ${I("tree-border-default")}`}),{height:d+"px",cursor:l?"row-resize":"auto"}),O=e==="horizontal"?"caret-left":"caret-up",M=e==="horizontal"?"ellipsis__vertical":"ellipsis";(0,a.useEffect)(()=>{p(r?!u:u)},[u]);const P=k=>{if(v!==null&&(e==="vertical"&&k.clientY!==v.y||e==="horizontal"&&k.clientX!==v.x))return!0;k.preventDefault(),i(n),p(!f)},x=k=>{aS(),k.detail===1?(b({x:k.clientX,y:k.clientY}),c(n,r)(k)):k.detail===2&&m(n)};return(0,s.jsx)("div",{className:g(),onMouseDown:l?x:null,style:C(),children:o&&(0,s.jsxs)("div",{onMouseUp:P,className:h(),children:[(0,s.jsx)(fn(),{className:O,style:{transform:"rotate("+q0(f)+"deg)"},name:O}),(0,s.jsx)("div",{className:M}),(0,s.jsx)(fn(),{className:O,style:{transform:"rotate("+q0(f)+"deg)"},name:O})]})},n)},Ek=Object.defineProperty,kk=Object.defineProperties,jk=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty,Dk=Object.prototype.propertyIsEnumerable,J0=(t,e,n)=>e in t?Ek(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xl=(t,e)=>{for(var n in e||(e={}))Rk.call(e,n)&&J0(t,n,e[n]);if(X0)for(var n of X0(e))Dk.call(e,n)&&J0(t,n,e[n]);return t},iu=(t,e)=>kk(t,jk(e));const Q0=t=>(0,s.jsx)("div",{style:{overflow:"auto"},children:(0,s.jsx)("div",{style:{display:"grid",height:"100%",gridTemplateRows:"1fr"},children:t})}),ev=(t,e)=>t.split(" ").map((n,r)=>r===e?"max-content":n).join(" "),vr=6,cu=(t,e)=>t.findIndex(n=>n.index===e),tv=(t,e)=>t.split(" ").find((n,r)=>r===e),Nk=t=>{const{children:e,orientation:n,style:r,className:o,dataAttrs:l,events:i,childrenHideProps:c,gridTemplateRows:d,gridTemplateColumns:u,scrollTop:m}=t,f=xl({},r);e.forEach(Z=>{var G,re;((G=Z==null?void 0:Z.props)==null?void 0:G.type)==="table"&&((re=Z==null?void 0:Z.props)!=null&&re.freezed)&&r!=null&&r.paddingTop&&(f.marginTop=r.paddingTop+2,f.height="auto",delete f.paddingTop)});const[p,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[h,g]=(0,a.useState)(null),[C,O]=(0,a.useState)([]),[M,P]=(0,a.useState)([]),[x,k]=(0,a.useState)([]),[E,w]=(0,a.useState)(null),[S,F]=(0,a.useState)({}),A=(0,a.useRef)(null),$=(Z,G)=>re=>{re.preventDefault(),w(tv(n==="horizontal"?p:b,Z));const ee=n==="horizontal"?re.clientX:re.clientY,ce=Array.from(A.current.children),D=ce.map(q=>q.clientHeight),z=ce.map(q=>q.clientWidth);F({width:z,height:D}),g({index:Z,splitterAtRight:G,client:ee})},U=(0,a.useCallback)(Z=>{let G="";return Z?G="minmax(0,100%)"+vr+"px":G=vr+"px minmax(0,100%)",n==="horizontal"?{display:"grid",gridTemplateColumns:G}:{display:"grid",gridTemplateRows:G}},[n,vr]),V=(0,a.useCallback)((Z,G,re)=>Z.split(" ").map((ee,ce)=>ce===G?re===-1?(k([...x,{index:G,predSize:ee}]),vr+"px"):(k(x.filter(D=>D.index!==G)),x[re].predSize):ee).join(" "),[x,k,vr]),N=(0,a.useCallback)(Z=>{const G=cu(x,Z);n==="horizontal"?v(V(p,Z,G)):y(V(b,Z,G))},[p,b,v,y,x]),L=(0,a.useCallback)(Z=>{cu(x,Z)===-1?n==="horizontal"?v(ev(p,Z)):y(ev(b,Z)):k(x.map(G=>Z===G.index?iu(xl({},G),{predSize:"max-content"}):G))},[k,x,p,b,v,y]),j=(0,a.useCallback)(Z=>Z.reduce((G,re,ee)=>{if(re){const{isAdaptive:ce,isFixSize:D,style:z,autoSize:q,hasGrid:J,type:X,useSplitter:ue,isSplitterOpen:de=!0,canHideBySplit:ge,hasCaption:fe,_autoSize:Ee}=re.props,{size:Pe,width:Ce,paddingLeft:Se=0,paddingRight:je=0}=z||{},at=Pe||Ce,Le=$t(z==null?void 0:z.minSize),qe=$t(z==null?void 0:z.maxSize);let Ie="min-content";return D&&at?Ie=Vt(at+(Se+je)/4+2):D||(Ie=`${at||1}fr`,!fe&&fe!==void 0&&(Ie="max-content")),q&&(X!=="grid"&&X!=="table"?Ie="max-content":Ie="auto"),J&&Ee&&(Ie="100%",Z[Z.length-1].props.hasGrid&&(Ie="auto")),n==="horizontal"&&X==="group"&&ce&&(Ie="auto"),X==="frame"&&ue!==void 0?ue?Ie="minmax("+(Le||vr)+"px,"+Ie+")":Le&&(Ie="minmax("+Le+"px,"+Ie+")"):qe&&(Ie="minmax("+(Le||0)+"px,"+qe+"px)"),ge&&!de&&(k([...x,{index:ee,predSize:Ie}]),Ie=vr+"px"),`${G} ${Ie}`}else return G},""),[e,O,vr,n]);(0,a.useEffect)(()=>{let Z=u||d;(!Z||Z.split(" ").length!==e.length)&&(Z=j(e).trim()),n==="horizontal"?v(Z==null?void 0:Z.trim()):y(Z==null?void 0:Z.trim()),vf(e)&&y("minmax(0,1fr)")},[e]),(0,a.useEffect)(()=>{if(h===null&&i!=null&&i.saveContent&&(b&&b!==" "||p&&p!==" ")){const{alias:Z,args:G}=i.saveContent;he[Z]({args:G,data:{childrenHide:x,gridTemplateRows:b,gridTemplateColumns:p}})}},[h,x]),(0,a.useEffect)(()=>{c&&k(c)},[]),(0,a.useEffect)(()=>{const Z=[],G=[];e.forEach((re,ee)=>{if(re){const ce=cu(x,ee)!==-1,{useSplitter:D,splitterAtRight:z,canResizeBySplit:q,canHideBySplit:J,name:X,style:ue,type:de}=re.props;G.push({minSize:$t(ue==null?void 0:ue.minSize),maxSize:$t(ue==null?void 0:ue.maxSize)});const ge={orientation:n,index:ee,splitterAtRight:z,canResizeBySplit:q,canHideBySplit:J,WIDTH_SPLITTER:vr,onMouseDown:$,hideFrame:N,isHideElement:ce,autoSize:L};D&&(de==="frame"||de==="menuBar")?z?Z.push((0,s.jsxs)("div",{style:U(z),children:[Q0(re),(0,s.jsx)(Y0,xl({},ge))]},X)):Z.push((0,s.jsxs)("div",{style:U(z),children:[(0,s.jsx)(Y0,xl({},ge)),Q0(re)]},X)):Z.push(re)}}),P(G),O(Z)},[e,p,b]);const R=(0,a.useCallback)((Z,G,re)=>{re(ee=>ee.split(" ").map((ce,D)=>{const z=h.index===D;if(!z&&!ce.endsWith("px"))return ce;let q=Z-(h==null?void 0:h.client);z&&!h.splitterAtRight&&(q*=-1);let J=G[D]+q;return M[D].minSize&&M[D].minSize>J&&(J=M[D].minSize),M[D].maxSize&&M[D].maxSize<=J&&(J=M[D].maxSize),J<vr&&(k([...x,{index:D,predSize:E}]),J=vr),J+"px"}).join(" "))},[vr,M,E,x,h,k]),H=(0,a.useCallback)(Z=>{h.index!==null&&(k(x.filter(G=>G.index!==h.index)),Z.preventDefault(),n==="horizontal"?(document.body.style.cursor="col-resize",R(Z.clientX,S.width,v)):(document.body.style.cursor="row-resize",R(Z.clientY,S.height,y)))},[h,x,k,A,S]),W=(0,a.useCallback)(()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",W)},[H]),K=(0,a.useCallback)(()=>{g(null),w(null),W()},[g]);return(0,a.useEffect)(()=>(h!==null&&(window.addEventListener("mousemove",H),window.addEventListener("mouseup",K)),()=>{W()}),[h,H,K,W]),(0,a.useEffect)(()=>{A.current&&m&&setTimeout(()=>A.current.scrollTo(0,m),10)},[A.current]),(0,a.useEffect)(()=>()=>{if(i!=null&&i.saveContent&&A.current){const{alias:Z,args:G}=i.saveContent;he[Z]({args:G,data:{scrollTop:A.current.scrollTop}})}},[]),(0,s.jsx)("div",iu(xl({ref:A,className:o,style:iu(xl({},f),{gridTemplateRows:b,gridTemplateColumns:p})},l),{children:C}))};var Mk=(0,a.memo)(Nk),TG={popperIconSize:"18px",primaryColor:"#0bd688"};class Tk extends a.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n})}render(){return this.state.errorInfo?(0,s.jsxs)("div",{className:"error-boundary",children:[(0,s.jsx)("h2",{children:rt.t("error_application")}),(0,s.jsx)("div",{className:"error-comment",children:rt.t("contact_to_dev")}),(0,s.jsxs)("details",{className:"error-detail-container",children:[(0,s.jsx)("div",{className:"error-detail",children:this.state.error&&this.state.error.toString()}),(0,s.jsx)("div",{className:"error-detail-stack",children:this.state.errorInfo.componentStack})]})]}):this.props.children}}var Ds=Tk,nv={popperIconSize:"18px",primaryColor:"#0bd688"},FG={popperIconSize:"18px",primaryColor:"#0bd688"};const Fk="slide-bar";function rv(t){switch(t){case"next":return"caret-right";case"prev":return"caret-left";default:return""}}function ov(t){const{className:e,isExcluded:n,slides:r,activeSlidesIds:o,onSlideClick:l,onSlideRender:i,testId:c,style:d={}}=t,u=["prev","next"],m=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),v=(0,lt.v9)(Dt),b={showPrevButton:!1,showNextButton:!0,leftOffset:0},[y,h]=(0,a.useState)(!1),[g,C]=(0,a.useState)(b),[O,M]=(0,a.useState)(!0),P=c||Fk,x=40,k=60;(0,a.useEffect)(()=>{h(m.current.clientWidth<f.current.clientWidth)}),(0,a.useEffect)(()=>{if(p!=null&&p.current){const N=new uo.Z(w);return N.observe(p.current),()=>{p!=null&&p.current&&N.unobserve(p.current)}}},[p]),(0,a.useEffect)(()=>{C(y?{leftOffset:m.current.clientWidth-f.current.clientWidth,showPrevButton:!0,showNextButton:!1}:b)},[r.length,y]),(0,a.useEffect)(()=>{var N;if(o!==void 0&&!Array.isArray(o)){const L=f.current.offsetWidth,j=m.current.offsetWidth,R=Array.from((N=f==null?void 0:f.current)==null?void 0:N.childNodes).filter(Z=>Z.dataset.slideId===o).shift();let H=0;if(R)if(H=R.offsetLeft,O)M(!1);else{const{leftOffset:Z}=g,G=R.offsetLeft+R.offsetWidth-Math.abs(Z)<=j,re=R.offsetLeft-Math.abs(Z)<j;if(!G&&re){F("next");return}if(G&&re&&R.offsetLeft-Math.abs(Z)>=0)return}const W=H>5;let K=L-H>=j;if(y){if(H+j>=L){H=H-j+((R==null?void 0:R.offsetWidth)||0)+x,K=L-H>=j,C({leftOffset:-H,showPrevButton:W,showNextButton:K});return}C({leftOffset:-H,showPrevButton:W,showNextButton:K})}else C(b)}},[o]);function E(N){const L=m.current.clientWidth,j=Array.from(f.current.children),{leftOffset:R,showPrevButton:H}=g,W=Math.abs(R);let K=0,Z=null,G=H;return j.some(re=>(K+=re.clientWidth,G&&K-W>0?(re===N&&(Z=u[0]),G=!1):K-W>L&&re===N&&(Z=u[1]),!!Z)),Z}function w(){var N,L,j;const R=(N=m.current)==null?void 0:N.clientWidth,H=(L=f.current)==null?void 0:L.clientWidth,W=(j=f==null?void 0:f.current)==null?void 0:j.offsetLeft,K=Math.abs(W);if(R<H){const G=K>5,re=H-R-K>0;C({leftOffset:W,showNextButton:re,showPrevButton:G})}else C(b)}const S=N=>{const{leftOffset:L}=g,j=Math.abs(L),R=f.current.offsetWidth,H=m.current.offsetWidth,W=Array.from(f.current.children);let K=null;if(N==="next"){if(K=W.find(G=>G.offsetLeft-j>=H||G.offsetLeft+G.offsetWidth-j>=H),K===W[W.length-1])return(K==null?void 0:K.offsetLeft)+K.offsetWidth-H}else if(K=Array.from(W).reverse().find(G=>G.offsetLeft-j<=0),K===W[1]||K===W[0])return 0;const Z=N==="next"?(K==null?void 0:K.offsetLeft)+K.offsetWidth-H-j+x:j-K.offsetLeft+k;return K?N==="next"?Z+j:j-Z:N==="next"?R-H:0};function F(N){const L=f.current.offsetWidth,j=m.current.offsetWidth,R=S(N),H=R<0?0:R,W=L-R>=j;C({leftOffset:-H,showPrevButton:!!H,showNextButton:W})}const A=N=>{const L=N.currentTarget?N:N.event;L.preventDefault();const{dataset:{nav:j}}=L.currentTarget;F(j)},$=N=>{N.preventDefault();const{dataset:{close:L}}=N.target,{dataset:{slideId:j}}=N.currentTarget,{dataset:{name:R}}=N.currentTarget;if(!L){const H=E(N.currentTarget);H&&F(H)}l&&l({id:j||R,close:!!L})},U=be()(e,"slide-bar"),V=be()("slide-bar__slide-list-wrapper",{"slide-bar__slider":y,"slide-bar__slider_prev-hidden":!g.showPrevButton,"slide-bar__slider_next-hidden":!g.showNextButton});return n?null:(0,s.jsxs)("div",{className:U,ref:p,style:d,children:[y&&g.showPrevButton&&!v&&(0,s.jsx)("div",{className:"slide-bar__nav-button-wrapper",children:(0,s.jsx)(Ut,{className:"slide-bar__nav-button",style:{maxWidth:18,maxHeight:18,borderColor:nv.primaryColor},iconName:rv(u[0]),onClick:A,dataAttrs:{"data-nav":u[0]}})}),(0,s.jsx)("div",{ref:m,className:V,children:(0,s.jsx)("div",{ref:f,className:"slide-bar__slide-list",style:{left:g.leftOffset},"data-testid":`${P}__slide-list`,children:r.map((N,L)=>(0,s.jsx)(a.Fragment,{children:i({slide:N,handleSlideClick:$,activeSlidesIds:o,isLast:r.length-1===L})},N.GUID||L))})}),y&&g.showNextButton&&!v&&(0,s.jsx)("div",{className:"slide-bar__nav-button-wrapper",children:(0,s.jsx)(Ut,{className:"slide-bar__nav-button",style:{maxWidth:18,maxHeight:18,borderColor:nv.primaryColor},iconName:rv(u[1]),onClick:A,dataAttrs:{"data-nav":u[1]}})})]})}ov.propTypes={className:_().string,activeSlidesIds:_().oneOfType([_().array,_().string]),slides:_().oneOfType([_().array]),onSlideClick:_().func,style:_().object};var Sl=(0,a.memo)(ov),AG={popperIconSize:"18px",primaryColor:"#0bd688"},Ak=Object.defineProperty,Bk=Object.defineProperties,$k=Object.getOwnPropertyDescriptors,lv=Object.getOwnPropertySymbols,zk=Object.prototype.hasOwnProperty,Lk=Object.prototype.propertyIsEnumerable,av=(t,e,n)=>e in t?Ak(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ns=(t,e)=>{for(var n in e||(e={}))zk.call(e,n)&&av(t,n,e[n]);if(lv)for(var n of lv(e))Lk.call(e,n)&&av(t,n,e[n]);return t},uu=(t,e)=>Bk(t,$k(e));const Un="label";function du(t){var e,n,r;const{_ref:o,focusedElement:l,className:i,style:c,id:d,isDisabled:u,isExcluded:m,isStatic:f,hasActiveMode:p,hasError:v,hint:b,dataAttrs:y,iconName:h,iconSize:g,value:C,testId:O,tabIndex:M,events:P,metaSet:x,onClick:k,onFocus:E,onBlur:w,onHint:S,isFixSize:F,isMultiLine:A,isWrapped:$,staticStyle:U,cellColor:V}=t,N=(0,lt.v9)(Dt),L=(0,a.useMemo)(()=>Hn({isFixSize:F,style:c}),[F,c]);(e=L.fontSize)!=null||(L.fontSize=N?"14px":"13px"),(n=L.fontFamily)!=null||(L.fontFamily=N?"Ubuntu":"Verdana");const{display:j}=L;let R=(0,a.useRef)(null);(l||o)&&(R=l||o);const[H,W]=Lo(),K=be()(i,Un,{[`${Un}_error`]:v,[`${Un}_disabled`]:u,[`${Un}_active`]:W.checkActiveMode(),[`${Un}_interactive`]:!f,[`${Un}_wrapped`]:$,[`${Un}_multiline`]:A,[`${Un}_not-multiline`]:!A&&!h,[`${Un}_not-multiline_with-icon`]:!A&&h,[`${Un}_static-button`]:U==="staticButton",[`${Un}_static-header`]:U==="staticHeader",[`${Un}_static-hyperlink`]:U==="staticHyperlink",[`${Un}_static-normal`]:U==="normalText"}),Z=(0,a.useCallback)(z=>{if(u||f){z.preventDefault();return}if(k&&k({value:C,metaSet:x,event:z}),P.onClick){const{alias:q,args:J}=P.onClick;he[q]({args:J,value:C,event:z})}},[u,f,k,P,x]),G=(0,a.useCallback)(z=>{const{keyCode:q}=z;rr(q)&&Z(z)},[Z]),re=(0,a.useCallback)(z=>{if(u||f)return;const{value:q}=z.currentTarget;let J=!0;if(E&&(J=E({event:z,metaSet:x,value:q})),J&&(P!=null&&P.onFocus)){const{alias:X,args:ue}=P.onFocus;J=he[X]({event:z,metaSet:x,args:ue,value:q})}J&&(p?W.setActiveMode():W.setEditableMode())},[u,P,x,E]),ee=(0,a.useCallback)(z=>{if(u||f)return;const{value:q}=z.currentTarget;let J=!0;if(w&&(J=w({event:z,metaSet:x,value:q})),J&&(P!=null&&P.onBlur)){const{alias:X,args:ue}=P.onBlur;J=he[X](uu(Ns({event:z},ue),{metaSet:x,value:q}))}J&&W.setDefaultMode()},[u,P,x,w]),ce=(0,a.useCallback)(z=>{let q=!0;if(S&&(q=S({event:z,metaSet:x})),q&&(P!=null&&P.onHint)){const{alias:J,args:X}=P.onHint;q=he[J]({event:z,args:X,metaSet:x})}},[S,P,x]);if(pr(R,b||C,(r=R==null?void 0:R.current)==null?void 0:r.innerText),m)return null;let D=null;if(h){const z={width:g,height:g};D=(0,s.jsx)("img",Ns({className:`${Un}__img img-${O}`,style:z,alt:h,src:en(h)},y))}return(0,s.jsx)("div",{ref:R,onMouseEnter:ce,style:{backgroundColor:V,flexGrow:2,display:j},children:(0,s.jsxs)("div",uu(Ns({className:K,style:L,"data-testid":O,id:d,tabIndex:Ur(!f&&!u,M),onClick:Z,onKeyDown:G,onFocus:re,onBlur:ee},y),{children:[D,(0,s.jsx)("span",{className:`${Un}__span`,children:C})]}))})}du.propTypes={_ref:_().object,id:_().string,className:_().string,style:_().object,isExcluded:_().bool,isDisabled:_().bool,hasActiveMode:_().bool,isStatic:_().bool,metaSet:_().object,dataAttrs:_().object,iconName:_().string,hasError:_().bool,hint:_().string,events:_().object,tabIndex:_().oneOfType([_().number,_().string]),testId:_().string,value:_().string,onClick:_().func,onFocus:_().func,onBlur:_().func,staticStyle:_().string,cellColor:_().string},du.defaultProps={_ref:null,id:null,className:null,style:null,isExcluded:!1,isDisabled:!1,hasActiveMode:!1,isStatic:!0,metaSet:null,dataAttrs:null,iconName:null,hasError:!1,hint:null,events:null,tabIndex:0,testId:null,value:"",onClick:null,onFocus:null,onBlur:null,staticStyle:"",cellColor:""};var fa=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(du,uu(Ns({},t),{_ref:e})))),Hk=Object.defineProperty,Wk=Object.defineProperties,Vk=Object.getOwnPropertyDescriptors,Ms=Object.getOwnPropertySymbols,sv=Object.prototype.hasOwnProperty,iv=Object.prototype.propertyIsEnumerable,cv=(t,e,n)=>e in t?Hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fu=(t,e)=>{for(var n in e||(e={}))sv.call(e,n)&&cv(t,n,e[n]);if(Ms)for(var n of Ms(e))iv.call(e,n)&&cv(t,n,e[n]);return t},pu=(t,e)=>Wk(t,Vk(e)),Uk=(t,e)=>{var n={};for(var r in t)sv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ms)for(var r of Ms(t))e.indexOf(r)<0&&iv.call(t,r)&&(n[r]=t[r]);return n};const mu=B.ZP.div`
    position: relative;
    width: fit-content;
    padding: 8px 12px;
    cursor: ${({isDisabled:t})=>t?"auto":"pointer"};
`,uv=B.ZP.span`
    position: relative;
    pointer-events: none;
    line-height: 16px;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    
    text-overflow: ellipsis;
    font-size: 14px;
    color: ${({isDisabled:t})=>I(t?"text-disable":"text")};
`,Gk=(0,B.ZP)(mu)`
    padding-bottom: 10px;
    &:first-child {
        padding-left: 0;
    }
    &:last-child {
        padding-right: 0;
    }
`,Zk=(0,B.ZP)(uv)`
    /* Подчеркивание */
    ${({isDisabled:t,active:e})=>!t&&B.iv`
        &&:before {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            border-radius: 1px;
            background-color: ${e?I("tabbutton-primary-background-active"):"transparent"};
            
            ${mu}:hover & {
                background-color: ${I(e?"tabbutton-primary-background-active-hover":"tabbutton-primary-background-default-hover")};
            }
        }`}
`,Kk=(0,B.ZP)(mu)`
    border-radius: 8px;
    background-color: ${({active:t})=>I(t?"tabbutton-secondary-background-active":"tabbutton-secondary-background-default")};

    ${({isDisabled:t,active:e})=>!t&&B.iv` 
        &:hover {
            background-color: ${I(e?"tabbutton-secondary-background-active-hover":"tabbutton-secondary-background-default-hover")};
        }
    `}
`;var qk=t=>{const e=t,{active:n,slide:r,onClick:o,fashion:l,isDisabled:i,isExcluded:c}=e,d=Uk(e,["active","slide","onClick","fashion","isDisabled","isExcluded"]),{name:u,hint:m,title:f}=r,p=f&&typeof f!="string",v=p?f==null?void 0:f.hint:m,b=p?f==null?void 0:f.value:f;let y;p?y=(0,s.jsx)(fa,pu(fu({},f),{className:"tabs__tab-title_label"})):y=f;const h=(0,a.useRef)(null);if(pr(h,v,b),c)return null;switch(l){case"Secondary":return(0,s.jsx)(Kk,pu(fu({ref:h,active:n,"data-name":u,onClick:o,isDisabled:i},d),{children:(0,s.jsx)(uv,{active:n,isDisabled:i,children:y})}));case"Primary":default:return(0,s.jsx)(Gk,pu(fu({ref:h,active:n,"data-name":u,onClick:o,isDisabled:i},d),{children:(0,s.jsx)(Zk,{active:n,isDisabled:i,children:y})}))}},Yk=Object.defineProperty,Xk=Object.defineProperties,Jk=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,Qk=Object.prototype.hasOwnProperty,ej=Object.prototype.propertyIsEnumerable,fv=(t,e,n)=>e in t?Yk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vu=(t,e)=>{for(var n in e||(e={}))Qk.call(e,n)&&fv(t,n,e[n]);if(dv)for(var n of dv(e))ej.call(e,n)&&fv(t,n,e[n]);return t},tj=(t,e)=>Xk(t,Jk(e)),nj=t=>{var e;const{activeTabName:n,isDisabled:r,isExcluded:o,handleTabClick:l,handleSlideClick:i,slide:c,fashion:d}=t,u=(0,a.useRef)(),{name:m,hint:f,title:p}=c,v=p&&typeof p!="string"?p:null,b=(0,lt.v9)(Dt),y=be()("tabs__tab-title",{"tabs__tab-title_active":m===n,"tabs__tab-title_disabled":r}),h=g=>{!r&&l(g),i&&i(g)};if(pr(u,f,(e=u==null?void 0:u.current)==null?void 0:e.innerText),o)return null;if(b&&d){const g=tj(vu({},t),{onClick:h,active:m===n});return(0,s.jsx)(qk,vu({},g))}return(0,s.jsx)(s.Fragment,{children:v?(0,s.jsx)(fa,vu({className:"tabs__tab-title_label"},v)):(0,s.jsx)("div",{ref:u,className:y,onClick:h,"data-name":m,children:p})})},rj=Object.defineProperty,pv=Object.getOwnPropertySymbols,oj=Object.prototype.hasOwnProperty,lj=Object.prototype.propertyIsEnumerable,mv=(t,e,n)=>e in t?rj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hu=(t,e)=>{for(var n in e||(e={}))oj.call(e,n)&&mv(t,n,e[n]);if(pv)for(var n of pv(e))lj.call(e,n)&&mv(t,n,e[n]);return t};const vv="20px",aj=(0,B.ZP)(Sl)`
    margin: 0;
    /* tabline */
    &:before {
        content: '';
        position: absolute;
        left: ${vv};
        bottom: 0;
        height: 1px;
        width: calc(100% - ${vv} * 2);
        background-color: ${()=>I("tabbutton-primary-tabline")};
    }
`,sj=(0,B.ZP)(Sl)`
    .slide-bar__slide-list {
        column-gap: 4px;
    }
`;var ij=t=>{const{fashion:e}=t;switch(e){case"Secondary":return(0,s.jsx)(sj,hu({},t));case"Primary":return(0,s.jsx)(aj,hu({},t));default:return(0,s.jsx)(Sl,hu({},t))}},LG={popperIconSize:"18px",primaryColor:"#0bd688"},cj=Object.defineProperty,uj=Object.defineProperties,dj=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,fj=Object.prototype.hasOwnProperty,pj=Object.prototype.propertyIsEnumerable,gv=(t,e,n)=>e in t?cj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gu=(t,e)=>{for(var n in e||(e={}))fj.call(e,n)&&gv(t,n,e[n]);if(hv)for(var n of hv(e))pj.call(e,n)&&gv(t,n,e[n]);return t},mj=(t,e)=>uj(t,dj(e));const Go="tabs";function vj(t){const{className:e,name:n,fashion:r,style:o,isDisabled:l,isExcluded:i,children:c,onClick:d,onChange:u,eventsTabs:m,metaSet:f,activeTab:p,isFixSize:v,autoSize:b,showTabs:y}=t,h=a.Children.toArray(c);let g=(0,a.useMemo)(()=>Hn({isFixSize:v,style:o}),[v,o]),C=p||pS(h);const O=(0,lt.v9)(Dt),[M,P]=(0,a.useState)([C]),[x,k]=(0,a.useState)([]),[E,w]=(0,a.useState)(0);(0,a.useEffect)(()=>{!M.includes(C)&&P([...M,C])},[C]),(0,a.useEffect)(()=>{const V=h.filter(N=>{var L;return((L=N==null?void 0:N.props.children)==null?void 0:L.length)===0});if(V.length!==E){let N=[...M];w(V.length),V.forEach(L=>{M.includes(L==null?void 0:L.props.name)&&(N=N.filter(j=>j!==(L==null?void 0:L.props.name)),N.length===0?P([C]):P([...N]))})}},[h,C,M]);const S=h.map(V=>({name:V.props.name||"undefined-tab-name",type:V.props.type||"undefined-tab-type",title:V.props.title||V.props.name||"undefined-tab-title",hint:V.props.hint,isDisabled:V.props.isDisabled,isExcluded:V.props.isExcluded})),F=(0,a.useCallback)(V=>{const{dataset:{name:N}}=V.target,L=N;let j=!0;if(!x.includes(L)&&k([...x,L]),m!=null&&m.onChange){if(u&&(j=u({event:V,metaSet:f,value:L})),j){const{alias:R,args:H}=m.onChange;he[R]({event:V,args:H,metaSet:f,value:L})}}else if(d&&(j=d({event:V,metaSet:f,value:L})),m!=null&&m.onClick){const{alias:R,args:H}=m.onClick;he[R]({event:V,args:H,metaSet:f,value:L})}},[d,u,m,f,x]);function A(V){const{handleSlideClick:N,slide:L}=V;return(0,s.jsx)(nj,{activeTabName:C,isDisabled:l!=null?l:L==null?void 0:L.isDisabled,isExcluded:i!=null?i:L==null?void 0:L.isExcluded,handleTabClick:F,handleSlideClick:N,slide:L,fashion:r})}if(i)return null;const $=be()(e,Go,{disabled:l,[`${Go}_adaptive`]:b===!1,[`${Go}__not-show-tabs-links`]:b&&!y,[`${Go}__not-show-tabs-links__adaptive`]:b===!1&&!y}),U={fashion:r,slides:S,onSlideRender:A};return(0,s.jsxs)("div",{"data-name":n,className:$,style:g,children:[y&&(O&&r?(0,s.jsx)(ij,gu({},U)):(0,s.jsx)(Sl,gu({},U))),C?(0,s.jsx)("div",{className:`${Go}__content`,children:h.filter(V=>{var N;return M.includes((N=V.props)==null?void 0:N.name)}).map(V=>{var N;const L={activeTabName:C},j=(0,a.cloneElement)(V,L);return(0,s.jsx)("div",{className:be()(((N=j.props)==null?void 0:N.name)===C?`${Go}__show`:`${Go}__hidden`),children:j},j.key)})}):null]})}var bv=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(vj,mj(gu({},t),{_ref:e}))));function hj(t,e){const{name:n,autoSizeFrame:r,activeTabName:o,_autoSize:l,isTableGroup:i}=e;let c=t.map(d=>{const{type:u}=(d==null?void 0:d.props)||{};return["table","grid","canvasGrid","tree","chart"].includes(u)?(0,a.cloneElement)(d,{selfWidthByContent:r,isActiveTab:o===n,_autoSize:l,isTableGroup:i}):d});if((c==null?void 0:c.length)===2){let d=!1,u=!1;c.forEach(f=>{var p,v,b,y,h;const g=(y=(v=(p=f.props)==null?void 0:p.children)==null?void 0:v[0])!=null?y:(b=f.props)==null?void 0:b.children;if(!g)return;const C=(h=g.props)==null?void 0:h.type;C==="tree"&&(d=!0),C==="table"&&(u=!0)}),d&&u&&(c=c.map(f=>(0,a.cloneElement)(f,{isTableGroup:!0})))}return c}var gj=Object.defineProperty,bj=Object.defineProperties,yj=Object.getOwnPropertyDescriptors,yv=Object.getOwnPropertySymbols,_j=Object.prototype.hasOwnProperty,Cj=Object.prototype.propertyIsEnumerable,_v=(t,e,n)=>e in t?gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cv=(t,e)=>{for(var n in e||(e={}))_j.call(e,n)&&_v(t,n,e[n]);if(yv)for(var n of yv(e))Cj.call(e,n)&&_v(t,n,e[n]);return t},wj=(t,e)=>bj(t,yj(e));const Ts="frame";function bu(t){const{className:e,name:n,_autoSize:r,orientation:o,style:l,children:i,dataAttrs:c,autoSize:d,metaSet:u,events:m,onLoadData:f,childrenHide:p,gridTemplateColumns:v,gridTemplateRows:b,scrollerStyle:y,scrollTop:h,activeTabName:g,isTableGroup:C,isSplitterOpen:O}=t,M=(0,a.useMemo)(()=>{const w=Cv({},l);switch(y){case 1:w.overflow="hidden";break;case 2:w.overflowX="auto";break;case 3:w.overflowY="auto";break;case 0:default:w.overflow="auto";break}return!d&&!r&&(w.maxSize&&(o==="vertical"?w.maxHeight=$t(w.maxSize):w.maxWidth=$t(w.maxSize)),w.minSize&&(o==="vertical"?w.minHeight=$t(w.minSize):w.minWidth=$t(w.minSize))),w},[l,o,y]),P=a.Children.toArray(i),x=be()(e,Ts,{[`${Ts}_vertical`]:o==="vertical",[`${Ts}_horizontal`]:o==="horizontal",[`${Ts}_autosize`]:d}),k=!!P.length;(0,a.useEffect)(()=>{!k&&ke({specificEvent:f,nativeEvent:"onLoadData",value:n,events:m,metaSet:u})},[k]);const E=hj(P,{name:n,autoSizeFrame:d,activeTabName:g,_autoSize:r,isTableGroup:C});return(0,s.jsx)(Ds,{children:o==="tabs"?(0,s.jsx)(bv,wj(Cv({},t),{children:E})):(0,s.jsx)(Mk,{dataAttrs:c,className:x,orientation:o,events:m,childrenHideProps:p,gridTemplateColumns:v,gridTemplateRows:b,style:M,scrollTop:h,isSplitterOpen:O,children:E})})}bu.propTypes={type:_().string,name:_().string,children:_().oneOfType([_().arrayOf(_().node),_().node]),classNames:_().string,style:_().object,hint:_().oneOfType([_().string,_().object]),scrollerStyle:_().number,autoSize:_().bool,useSplitter:_().bool,splitterAtRight:_().bool,canResizeBySplit:_().bool,isFixSize:_().bool,isDisabled:_().bool,isFlexible:_().bool,isScrollable:_().bool,isPrintable:_().bool},bu.defaultProps={orientation:"vertical",style:null};var yu=(0,a.memo)(bu),HG={popperIconSize:"18px",primaryColor:"#0bd688"},xj=Object.defineProperty,Sj=Object.defineProperties,Pj=Object.getOwnPropertyDescriptors,Fs=Object.getOwnPropertySymbols,wv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Sv=(t,e,n)=>e in t?xj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ij=(t,e)=>{for(var n in e||(e={}))wv.call(e,n)&&Sv(t,n,e[n]);if(Fs)for(var n of Fs(e))xv.call(e,n)&&Sv(t,n,e[n]);return t},Oj=(t,e)=>Sj(t,Pj(e)),Ej=(t,e)=>{var n={};for(var r in t)wv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fs)for(var r of Fs(t))e.indexOf(r)<0&&xv.call(t,r)&&(n[r]=t[r]);return n};const _u="group";function Cu(t){const{className:e,behavior:n,name:r,isAdaptive:o,style:l,children:i,isDisabled:c,dataAttrs:d,isFixSize:u,isEmpty:m}=t,f=Ej(l,[]),p=sS(f),v=a.Children.toArray(i).map(h=>{var g;const{props:{type:C,isParentTable:O}}=h;return C==="radio"&&!O&&!((g=h==null?void 0:h.props)!=null&&g.group)?(0,a.cloneElement)(h,{group:"radioGroup-"+r}):h}),b=be()(e,_u,{[`${_u}_vertical`]:n==="vertical",[`${_u}_horizontal`]:n==="horizontal",adaptive:o,disabled:c,empty:m}),y=v.reduce((h,g)=>{if(g){let{isFixSize:C,style:O,isAdaptive:M,autoSize:P}=g.props,{maxWidth:x,minWidth:k,width:E}=O!=null?O:{},w="min-content";return k&&x&&!C&&o?w=`minmax( ${Vt(k)}, ${Vt(x)})`:x&&!C&&o?w=Vt(x):!C&&o?w=`${E||1}fr`:E&&!o&&(w=Vt(E),p.minWidth=w),P&&(w="max-content"),M&&(w=n==="vertical"?"min-content":"1fr"),`${h} ${w}`}else return h},"");if(n==="horizontal"?p.gridTemplateColumns=y==null?void 0:y.trim():p.gridTemplateRows=y==null?void 0:y.trim(),!u){const h=p.width||1;p.width=`${h}fr`}return(0,s.jsx)("div",Oj(Ij({className:b,style:p},d),{children:v}))}Cu.propTypes={name:_().string,children:_().oneOfType([_().arrayOf(_().node),_().node]),classNames:_().string,style:_().object,hint:_().string,autoSize:_().bool,isExcluded:_().bool,isDisabled:_().bool,isAdaptive:_().bool,isFlexible:_().bool,isScrollable:_().bool,isPrintable:_().bool,isEmpty:_().bool},Cu.defaultProps={style:{},behavior:"horizontal"};var kj=(0,a.memo)(Cu),WG={popperIconSize:"18px",primaryColor:"#0bd688"};const jj=(0,B.ZP)("div")({boxSizing:"border-box",display:"flex",flexDirection:"column",borderRadius:8});var Rj=Object.defineProperty,Dj=Object.defineProperties,Nj=Object.getOwnPropertyDescriptors,Pv=Object.getOwnPropertySymbols,Mj=Object.prototype.hasOwnProperty,Tj=Object.prototype.propertyIsEnumerable,Iv=(t,e,n)=>e in t?Rj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fj=(t,e)=>{for(var n in e||(e={}))Mj.call(e,n)&&Iv(t,n,e[n]);if(Pv)for(var n of Pv(e))Tj.call(e,n)&&Iv(t,n,e[n]);return t},Aj=(t,e)=>Dj(t,Nj(e));const Bj=(0,B.ZP)("button")(({styledState:t})=>{const{hovered:e}=t;return Aj(Fj({display:"flex",position:"relative",justifyContent:"space-between",flexDirection:"row",boxSizing:"border-box",alignItems:"center",width:"100%",minHeight:32,borderRadius:8,cursor:"pointer",gap:10},e&&{background:"#F7F7F8"}),{":focus-visible":{background:"#F7F7F8"}})}),$j=(0,B.ZP)("div")(()=>({flex:1,padding:"0px 10px",boxSizing:"border-box",display:"flex",gap:"10px",alignItems:"center"})),zj=(0,B.ZP)("div")({flex:1}),Ov={DOWN:"fa-solid fa-angle-up",UP:"fa-solid fa-angle-down"};var Lj=Object.defineProperty,Ev=Object.getOwnPropertySymbols,Hj=Object.prototype.hasOwnProperty,Wj=Object.prototype.propertyIsEnumerable,kv=(t,e,n)=>e in t?Lj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vj=(t,e)=>{for(var n in e||(e={}))Hj.call(e,n)&&kv(t,n,e[n]);if(Ev)for(var n of Ev(e))Wj.call(e,n)&&kv(t,n,e[n]);return t};const jv=(0,a.memo)(t=>{const{children:e,name:n,isCollapsed:r,title:o,events:l,onToggle:i,onLoadData:c}=t,[d,u]=(0,a.useState)(!1),m=Boolean(e==null?void 0:e.length),f=(0,a.useRef)(null),p=!r&&(e==null?void 0:e.length),v=o&&typeof o!="string"?o:null,{element:b}=v,y=r?Ov.UP:Ov.DOWN,h=o.style,g=o.value,C={hovered:d,titleStyle:h},O=()=>{u(!0)},M=()=>{u(!1)},P=()=>{ke({specificEvent:i,nativeEvent:"onToggle",events:l,value:{isCollapsed:!r}}),!m&&ke({specificEvent:c,nativeEvent:"onLoadData",events:l,value:v.value})};return(0,s.jsxs)(jj,{ref:f,"data-name":n,children:[(0,s.jsx)(Bj,{styledState:C,onMouseEnter:O,onMouseLeave:M,onClick:P,children:(0,s.jsxs)($j,{styledState:C,children:[(0,s.jsx)(fn(),{name:y}),(0,s.jsx)(zj,{children:g}),b&&Xo(b)]})}),p?(0,s.jsx)(yu,Vj({},t)):null]})});jv.displayName="Box";var Uj=Object.defineProperty,Gj=Object.defineProperties,Zj=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,Kj=Object.prototype.hasOwnProperty,qj=Object.prototype.propertyIsEnumerable,Dv=(t,e,n)=>e in t?Uj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,As=(t,e)=>{for(var n in e||(e={}))Kj.call(e,n)&&Dv(t,n,e[n]);if(Rv)for(var n of Rv(e))qj.call(e,n)&&Dv(t,n,e[n]);return t},Nv=(t,e)=>Gj(t,Zj(e));const wo="box";function Yj(t){var e;const{children:n,className:r,name:o,isCollapsed:l,isHandleCollapsed:i,title:c,hint:d,events:u,onToggle:m,onLoadData:f,metaSet:p}=t,v=(0,lt.v9)(Dt),b=!!(n!=null&&n.length),y=(0,a.useRef)(null),h=c&&typeof c!="string"?c:null,{element:g}=h,C=h?{background:h.cellColor,fontSize:h.fontSize,color:h.color}:{},O=be()(r,wo),M=be()(`${wo}__content`,{[`${wo}__content_picture`]:vf(n)}),P=(0,a.useCallback)(function(x){ke({specificEvent:m,nativeEvent:"onToggle",event:x,metaSet:p,events:u,value:{isCollapsed:!l}}),!b&&ke({specificEvent:f,nativeEvent:"onLoadData",event:x,metaSet:p,events:u})},[b,l,u,m,p,i]);return pr(y,d.value,(e=y==null?void 0:y.current)==null?void 0:e.innerText),(0,s.jsx)(s.Fragment,{children:v?(0,s.jsx)(jv,As({},t)):(0,s.jsxs)("div",{"data-name":o,className:O,children:[(0,s.jsxs)("div",{className:"box__header",style:C,children:[!h&&(0,s.jsxs)("div",{ref:y,className:`${wo}__title-simple`,onClick:P,children:[(0,s.jsx)(fn(),{name:l?"angle-right":"angle-down",className:`${wo}__title-icon`}),c]}),h&&(0,s.jsxs)("div",{ref:y,className:`${wo}__title-complex`,onClick:P,children:[(0,s.jsx)(fn(),{name:l?"angle-right":"angle-down",className:`${wo}__title-icon`,style:{fontSize:h.iconsize}}),(0,s.jsx)(fa,As({className:`${wo}__title-label`},h))]}),g&&Xo(g)]}),!l&&(n!=null&&n.length)?(0,s.jsx)(yu,Nv(As({},t),{className:M})):null]})})}var Xj=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Yj,Nv(As({},t),{_ref:e})))),Jj=Object.defineProperty,Qj=Object.defineProperties,eR=Object.getOwnPropertyDescriptors,Bs=Object.getOwnPropertySymbols,Mv=Object.prototype.hasOwnProperty,Tv=Object.prototype.propertyIsEnumerable,Fv=(t,e,n)=>e in t?Jj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wu=(t,e)=>{for(var n in e||(e={}))Mv.call(e,n)&&Fv(t,n,e[n]);if(Bs)for(var n of Bs(e))Tv.call(e,n)&&Fv(t,n,e[n]);return t},Av=(t,e)=>Qj(t,eR(e)),tR=(t,e)=>{var n={};for(var r in t)Mv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bs)for(var r of Bs(t))e.indexOf(r)<0&&Tv.call(t,r)&&(n[r]=t[r]);return n};const nR="integer",rR=/^[-+]?\d*$/;function oR(t){const e=t,{className:n,focusedElement:r,style:o}=e,l=tR(e,["className","focusedElement","style"]),i=o.textAlign?wu({textAlign:"right"},o):o,c=be()(n,nR),d=(0,a.useRef)(null),u=r||d;return(0,s.jsx)(An,Av(wu({},l),{isNumeric:!0,className:c,isControlledValue:!1,controlRegExp:rR,focusedElement:u,style:i}))}var lR=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(oR,Av(wu({},t),{_ref:e}))));const aR=B.ZP.label`
  display: inline-flex;
  align-items: center;
  flex-direction: ${t=>t.labelPosition==="right"?"row":"row-reverse"};
`,sR=B.ZP.input`
  width: 0;
  height: 0;
  opacity: 0;
`,iR=B.ZP.label`
  display: inline-flex;
  width: auto;
  align-items: center;
  padding: 4px;
  gap: 2px;
  border-radius: 12px;
  box-sizing: border-box;
  background: ${()=>I("button-ghost-background-default")};
  border: 1px solid ${()=>I("switch-button-border-default")};
  &:focus-within {
    outline-offset: 1px;
    outline: 2px solid ${()=>I("focus-outline")};
  }
`,Bv=B.ZP.div`
  padding: ${t=>t.variant==="text"?"8px 16px":"9.67px"};
  background: ${t=>{if(t.disabled&&t.active)return I("button-primary-background-disable");if(t.disabled&&!t.active)return"transparent";if(t.active)return I("button-primary-background-default")}};
  border-radius: 8px;
  cursor: ${t=>t.active||t.disabled?"default":"pointer"};

  &:hover {
    background: ${t=>{if(t.active&&!t.disabled)return I("button-primary-background-hover");if(!t.disabled)return I("button-ghost-background-hover")}};
  }
  &:active {
    background: ${t=>{if(t.active&&!t.disabled)return I("button-primary-background-click");if(!t.disabled)return I("button-ghost-background-click")}};
  }
`,$v=B.ZP.span`
  font-size: 14px;
  line-height: 16px;
  color: ${t=>{if(t.disabled&&t.active)return I("text-disable");if(t.disabled&&!t.active)return I("text-disable");if(t.active)return I("text-primary");I("text")}};
`,cR=B.ZP.div`
  font-size: 13px;
  vertical-align: middle;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  outline: none;
  border: none;
  margin: ${t=>t.labelPosition==="right"?"0 0 0 7px":"0 7px  0 0"};
  color: ${({disabled:t})=>I(t?"label-disable":"label")};
`;var uR=Object.defineProperty,dR=Object.defineProperties,fR=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,zv=Object.prototype.hasOwnProperty,Lv=Object.prototype.propertyIsEnumerable,Hv=(t,e,n)=>e in t?uR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pa=(t,e)=>{for(var n in e||(e={}))zv.call(e,n)&&Hv(t,n,e[n]);if($s)for(var n of $s(e))Lv.call(e,n)&&Hv(t,n,e[n]);return t},Wv=(t,e)=>dR(t,fR(e)),pR=(t,e)=>{var n={};for(var r in t)zv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$s)for(var r of $s(t))e.indexOf(r)<0&&Lv.call(t,r)&&(n[r]=t[r]);return n};const mR=t=>{const e=t,{icons:n,labels:r,value:o,_ref:l,onMouseEnter:i,isDisabled:c,focusedElement:d,inputTabIndex:u,dataAttrs:m,labelPosition:f,label:p}=e,v=pR(e,["icons","labels","value","_ref","onMouseEnter","isDisabled","focusedElement","inputTabIndex","dataAttrs","labelPosition","label"]),b=n&&!r?"icon":"text",y=h=>h!=null&&h.includes("/")?(0,s.jsx)("img",pa({style:{padding:"4px"},alt:h,src:en(h)},m)):h?(0,s.jsx)(fn(),pa({style:{padding:"4px"},name:h},m)):null;return(0,s.jsxs)(aR,{labelPosition:f!=null?f:"right",children:[(0,s.jsxs)(iR,{onMouseEnter:i,ref:l,children:[(0,s.jsx)(Bv,{variant:b,active:!!o,disabled:c,tabIndex:-1,children:(0,s.jsxs)($v,{active:!!o,disabled:c,children:[r==null?void 0:r[0],n&&y(n==null?void 0:n[0])]})}),(0,s.jsx)(Bv,{disabled:c,variant:b,active:!o,children:(0,s.jsxs)($v,{disabled:c,active:!o,children:[r==null?void 0:r[1],n&&y(n==null?void 0:n[1])]})}),(0,s.jsx)(sR,Wv(pa(pa({ref:d,type:"checkbox"},v),m),{checked:!!o,"data-is-checked":o,tabIndex:u,disabled:c}))]}),p&&(0,s.jsx)(cR,{disabled:c,labelPosition:f!=null?f:"right",children:p})]})};var vR=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(mR,Wv(pa({},t),{_ref:e})))),VG={popperIconSize:"18px",primaryColor:"#0bd688"};const xu=t=>{const e={width:38,height:24};return t==="sm"&&(e.width=30,e.height=20),e},hR=B.ZP.label`
  display: inline-flex;
  align-items: center;
  flex-direction: ${t=>t.labelPosition==="right"?"row":"row-reverse"};
  ${t=>t.label?`*:${t.labelPosition==="right"?"first-child":"last-child"} {
            margin-right: 7px;
        }`:""};
`,gR=B.ZP.div`
  display: inline-block;
  outline-offset: 1px;
  box-sizing: border-box;
  background: ${({isDisabled:t,value:e})=>I(e?t?"toggle-on-background-disable":"toggle-on-background-default":t?"toggle-off-background-disable":"toggle-off-background-default")};
  border-radius: 20px;
  width: ${({size:t})=>xu(t).width}px;
  height: ${({size:t})=>xu(t).height}px;
  padding: 2px;
  position: relative;
  transition: background 0.1s ease;
  ${({isDisabled:t,value:e})=>t?"":B.iv`
          cursor: pointer;
          &:hover {
            background: ${I(e?"toggle-on-background-hover":"toggle-off-background-hover")};
          }
          &:focus {
            background: ${I(e?"toggle-on-background-focus":"toggle-off-background-focus")};
          }
          &:active {
            background: ${I(e?"toggle-on-background-click":"toggle-off-background-click")};
          }
          &:focus-within {
            outline: 2px solid ${I("focus-outline")};
          }
        `}
`,bR=B.ZP.div`
  position: absolute;
  top: 2px;
  left: ${t=>{const e=xu(t.size).width,n=t.size==="lg"?20:16;return t.value?e-2-n:2}}px;
  background: ${({isDisabled:t,value:e})=>I(t?e?"toggle-on-mark-disable":"toggle-off-mark-disable":e?"toggle-on-mark-default":"toggle-off-mark-default")};
  box-shadow: 0 1px 4px rgba(147, 147, 163, 0.2),
    0 1px 1px rgba(147, 147, 163, 0.05);
  width: ${t=>t.size==="lg"?20:16}px;
  height: ${t=>t.size==="lg"?20:16}px;
  border-radius: 50%;
  transition: left 0.1s ease, background 0.1s ease;

  ${({isDisabled:t,value:e})=>!t&&B.iv`
      &:hover {
        background: ${I(e?"toggle-on-mark-hover":"toggle-off-mark-hover")};
      }
      &:focus {
        background: ${I(e?"toggle-on-mark-focus":"toggle-off-mark-focus")};
      }
      &:active {
        background: ${I(e?"toggle-on-mark-click":"toggle-off-mark-click")};
      }
    `}
`,yR=B.ZP.input`
  width: 0;
  height: 0;
  opacity: 0;
`,_R=B.ZP.div`
  font-size: 13px;
  vertical-align: middle;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  outline: none;
  border: none;
  color: ${({isDisabled:t})=>I(t?"label-disable":"label")};
`;var CR=Object.defineProperty,wR=Object.defineProperties,xR=Object.getOwnPropertyDescriptors,zs=Object.getOwnPropertySymbols,Vv=Object.prototype.hasOwnProperty,Uv=Object.prototype.propertyIsEnumerable,Gv=(t,e,n)=>e in t?CR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Su=(t,e)=>{for(var n in e||(e={}))Vv.call(e,n)&&Gv(t,n,e[n]);if(zs)for(var n of zs(e))Uv.call(e,n)&&Gv(t,n,e[n]);return t},Zv=(t,e)=>wR(t,xR(e)),SR=(t,e)=>{var n={};for(var r in t)Vv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&zs)for(var r of zs(t))e.indexOf(r)<0&&Uv.call(t,r)&&(n[r]=t[r]);return n};const Kv=t=>{const e=t,{size:n,value:r,_ref:o,onMouseEnter:l,isDisabled:i,focusedElement:c,inputTabIndex:d,dataAttrs:u,labelPosition:m,label:f}=e,p=SR(e,["size","value","_ref","onMouseEnter","isDisabled","focusedElement","inputTabIndex","dataAttrs","labelPosition","label"]);return(0,s.jsxs)(hR,{labelPosition:m!=null?m:"right",label:f,children:[(0,s.jsxs)(gR,{ref:o,size:n,value:r,onMouseEnter:l,isDisabled:i,children:[(0,s.jsx)(bR,{size:n,value:r,tabIndex:-1,isDisabled:i}),(0,s.jsx)(yR,Zv(Su(Su({ref:c,type:"checkbox"},p),u),{checked:!!r,"data-is-checked":r,tabIndex:d,disabled:i}))]}),f&&(0,s.jsx)(_R,{isDisabled:i,children:f})]})};Kv.defaultProps={size:"lg"};var PR=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Kv,Zv(Su({},t),{_ref:e})))),IR=Object.defineProperty,OR=Object.defineProperties,ER=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,qv=Object.prototype.hasOwnProperty,Yv=Object.prototype.propertyIsEnumerable,Xv=(t,e,n)=>e in t?IR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pu=(t,e)=>{for(var n in e||(e={}))qv.call(e,n)&&Xv(t,n,e[n]);if(Ls)for(var n of Ls(e))Yv.call(e,n)&&Xv(t,n,e[n]);return t},kR=(t,e)=>OR(t,ER(e)),jR=(t,e)=>{var n={};for(var r in t)qv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ls)for(var r of Ls(t))e.indexOf(r)<0&&Yv.call(t,r)&&(n[r]=t[r]);return n};const Hs="[class^=ri-]",Ws=B.ZP.label`
  margin: 2px;
  display: inline-flex;
  flex-direction: ${t=>t.labelPosition==="right"?"row":"row-reverse"};
  column-gap: 7px;
  align-items: center;
  cursor: ${t=>t.isDisabled?"auto":"pointer"};
`,RR=B.ZP.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  outline-offset: 1px;
  ${Ws}:focus-within && {
    ${({value:t,isDisabled:e})=>!e&&B.iv`
      background: ${I(t?"checkbox-on-background-focus":"checkbox-off-background-focus")};
      outline: 2px solid ${()=>I("focus-outline")};
      border-color: ${I(t?"checkbox-on-border-focus":"checkbox-off-border-focus")};
      & ${Hs} {
        color: ${I(t?"checkbox-on-mark-focus":"checkbox-off-mark-focus")};
      }
    `}
  }
  background: ${({value:t,isDisabled:e,isBulk:n})=>I(n?"checkbox-on-background-bulk":t?e?"checkbox-on-background-disable":"checkbox-on-background-default":e?"checkbox-off-background-disable":"checkbox-off-background-default")};
  border-radius: 2px;
  border: 1px solid ${({value:t,isDisabled:e,isBulk:n})=>I(n?"checkbox-on-border-bulk":t?e?"checkbox-on-border-disable":"checkbox-on-border-default":e?"checkbox-off-border-disable":"checkbox-off-border-default")};
  && ${Hs} {
    color: ${({value:t,isDisabled:e,isBulk:n})=>I(n?"checkbox-on-mark-bulk":t?e?"checkbox-on-mark-disable":"checkbox-on-mark-default":e?"checkbox-off-mark-disable":"checkbox-off-mark-default")};
  }

  ${({isDisabled:t,value:e})=>!t&&B.iv`
    ${Ws}:hover && {
      background: ${I(e?"checkbox-on-background-hover":"checkbox-off-background-hover")};
      border-color: ${I(e?"checkbox-on-border-hover":"checkbox-off-border-hover")};
      
      & ${Hs} {
        color: ${I(e?"checkbox-on-mark-hover":"checkbox-off-mark-hover")};
      }
    }
    ${Ws}:active && {
      background: ${I(e?"checkbox-on-background-click":"checkbox-off-background-click")};
      border-color: ${I(e?"checkbox-on-border-click":"checkbox-off-border-click")};
      & ${Hs} {
        color: ${I(e?"checkbox-on-mark-click":"checkbox-off-mark-click")};
      }
    }
  `}
`,DR=B.ZP.span`
  font-size: 14px;
  color: ${({isDisabled:t})=>I(t?"label-disable":"label")}
`,NR=B.ZP.input`
  width: 0;
  height: 0;
  opacity: 0;
  position: absolute;
`,MR=t=>{var e=t,{value:n,_ref:r,onMouseEnter:o,isDisabled:l,focusedElement:i,inputTabIndex:c,dataAttrs:d,labelPosition:u,label:m,isBulk:f}=e,p=jR(e,["value","_ref","onMouseEnter","isDisabled","focusedElement","inputTabIndex","dataAttrs","labelPosition","label","isBulk"]);return(0,s.jsxs)(Ws,{ref:r,labelPosition:u!=null?u:"right",label:m,isDisabled:l,children:[(0,s.jsx)(RR,{isDisabled:l,isBulk:f,value:n||f,onMouseEnter:o,children:(0,s.jsx)(Ct,{name:f?"subtract":"check",type:"line",size:14})}),(0,s.jsx)(NR,Pu(Pu({ref:i,type:"checkbox",checked:!!n,"data-is-checked":!!n,disabled:l,tabIndex:c},p),d)),m&&(0,s.jsx)(DR,{isDisabled:!!l,children:m})]})};var TR=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(MR,kR(Pu({},t),{_ref:e})))),FR=Object.defineProperty,AR=Object.defineProperties,BR=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,$R=Object.prototype.hasOwnProperty,zR=Object.prototype.propertyIsEnumerable,Qv=(t,e,n)=>e in t?FR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ma=(t,e)=>{for(var n in e||(e={}))$R.call(e,n)&&Qv(t,n,e[n]);if(Jv)for(var n of Jv(e))zR.call(e,n)&&Qv(t,n,e[n]);return t},eh=(t,e)=>AR(t,BR(e));const Iu=["left","right"],Sn="checkbox",th=1,nh=5.5;function Ou(t){var e;const{_ref:n,focusedElement:r,className:o,style:l,id:i,isDisabled:c,isExcluded:d,isStatic:u,hasActiveMode:m,mode:f,modeSwitch:p,hasError:v,hint:b,dataAttrs:y,value:h,initialValue:g,testId:C,events:O,metaSet:M,tabIndex:P,label:x,labelPosition:k,onChange:E,onKeyDown:w,onKeyUp:S,onEnter:F,onEsc:A,onFocus:$,onBlur:U,onTab:V,onClick:N,onModeChange:L,isFixSize:j,isWrapped:R,isMultiLine:H,disableOnEdit:W,onEdit:K,onImplicitChange:Z,onHint:G,switchLabels:re,switchIcons:ee,isParentTable:ce,cellColor:D,type:z,isBulk:q}=t;let J=(0,a.useRef)(null);J=n||J;const X=(O==null?void 0:O.onEdit)||K,ue=cc(x);let de=(0,a.useRef)(null);de=r||de;const ge=(0,a.useMemo)(()=>Hn({isFixSize:j,style:l}),[j,l]),fe=(0,lt.v9)(Dt),Ee={};(l==null?void 0:l.width)<=nh&&!ue&&(Ee.width=Vt(l.width-th),Ee.height=Vt(l.width-th));let Pe=i||null;!Pe&&ue&&(Pe=Cr().generate());const[Ce,Se]=Lo(f,p),je=k===Iu[0],at=k===Iu[1],Le=(0,a.useMemo)(()=>Ur(!u&&!c,P),[u,c,P]),qe=be()(o,Sn,"text-ellipsis",{[`${Sn}_with-label`]:!!ue,[`${Sn}_left-direction`]:je,[`${Sn}_right-direction`]:at,[`${Sn}_error`]:v,[`${Sn}_disabled`]:c,[`${Sn}_static`]:u,[`${Sn}_active`]:Se.checkActiveMode(),[`${Sn}_editable`]:Se.checkEditableMode(),[`${Sn}_custom-style`]:(l==null?void 0:l.width)<=nh,[`${Sn}__cell`]:ce}),Ie=be()(`${Sn}__label`,{[`${Sn}__label_left`]:je,[`${Sn}__label_right`]:at,[`${Sn}__label_wrapped`]:R,[`${Sn}__label_multiline`]:H,[`${Sn}__label_not-multiline`]:!H}),Ye=(0,a.useCallback)(Be=>{if(Ot(Be),X&&W!==!1)return;let ie=!0;if(N&&(ie=N({event:Be,metaSet:M,value:h})),ie&&(O!=null&&O.onClick)){const{alias:Ze,args:tt}=O.onFocus;ie=he[Ze]({event:Be,metaSet:M,args:tt,value:h})}},[c,M,O,N,h]),He=(0,a.useCallback)(Be=>{if(h!==g&&g!==void 0&&(Z&&Z({event:Be,metaSet:M,value:g,notValidValue:!0}),O!=null&&O.onImplicitChange)){const{alias:Ze,args:tt}=O.onImplicitChange;he[Ze]({event:Be,metaSet:M,args:tt,value:g,notValidValue:!0})}let ie=!0;if($&&(ie=$({event:Be,metaSet:M,value:h})),ie&&(O!=null&&O.onFocus)){const{alias:Ze,args:tt}=O.onFocus;ie=he[Ze]({event:Be,metaSet:M,args:tt,value:h})}if(ie)if(m){if(Se.setActiveMode(),X)if(K)ie=K({event:Be,metaSet:M,value:h});else{const{alias:Ze,args:tt}=O.onEdit;he[Ze]({event:Be,metaSet:M,args:tt,value:h})}}else Se.setEditableMode()},[c,u,O,M,h,$,Z]),Ae=(0,a.useCallback)(Be=>{if(c)return;let ie=!0;if(U&&(ie=U({event:Be,metaSet:M,value:h})),ie&&(O!=null&&O.onBlur)){const{alias:Ze,args:tt}=O.onBlur;ie=he[Ze]({event:Be,args:tt,metaSet:M,value:h})}ie&&Se.setDefaultMode()},[c,u,O,M,h,U]),De=(0,a.useCallback)(Be=>{if(c||u||X&&W!==!1){Be!=null&&Be.preventDefault&&(Be==null||Be.preventDefault());return}if(E&&E({event:Be,metaSet:M,value:!h}),O!=null&&O.onChange){const{alias:ie,args:Ze}=O.onChange;he[ie]({event:Be,metaSet:M,args:Ze,value:!h})}},[c,u,O,M,E,h,X]),it=(0,a.useCallback)(Be=>{const{keyCode:ie}=Be;if(c||X&&W!==!1)return;let Ze=!0;if(rr(ie))De(Be);else if(ua(ie))Ot(Be);else if(Ho(ie)){if(V&&(Ze=V({event:Be,metaSet:M,value:h})),Ze&&(O!=null&&O.onTab)){const{alias:tt,args:_t}=O.onTab;Ze=he[tt]({event:Be,metaSet:M,args:_t,value:h})}Ze&&Se.setDefaultMode()}else if(ho(ie)){if(A&&(Ze=A({event:Be,metaSet:M,value:h})),Ze&&(O!=null&&O.onEsc)){const{alias:tt,args:_t}=O.onEsc;Ze=he[tt]({event:Be,metaSet:M,args:_t,value:h})}Ze&&(m?Se.setActiveMode():Se.setDefaultMode())}else if(go(Be))Be.preventDefault();else if(w&&(Ze=w({event:Be,metaSet:M,value:h})),Ze&&(O!=null&&O.onKeyDown)){const{alias:tt,args:_t}=O.onKeyDown;he[tt]({event:Be,metaSet:M,value:h,args:_t})}},[c,u,O,M,h,w,V,F,A,De]),ct=(0,a.useCallback)(Be=>{if(c||u||X&&W!==!1)return;let ie=!0;if(S&&(ie=S({event:Be,metaSet:M,value:h})),ie&&(O!=null&&O.onKeyUp)){const{alias:Ze,args:tt}=O.onKeyUp;he[Ze]({event:Be,metaSet:M,value:h,args:tt})}},[c,u,O,M,h,S]),st=(0,a.useCallback)(Be=>{let ie=!0;if(G&&(ie=G({event:Be,metaSet:M})),ie&&(O!=null&&O.onHint)){const{alias:Ze,args:tt}=O.onHint;ie=he[Ze]({event:Be,args:tt,metaSet:M})}},[G,O,M]);(0,a.useEffect)(()=>{if(!c&&m){let Be=!0;if(L&&(Be=L({metaSet:M,value:Ce})),Be&&(O!=null&&O.onModeChange)){const{alias:ie,args:Ze}=O.onModeChange;he[ie]({args:Ze,metaSet:M,value:Ce})}}},[c,m,M,O,L,Ce]),(0,a.useEffect)(()=>{c&&Se.setDefaultMode()},[c]),(0,a.useEffect)(()=>{X&&W===!1&&De({})},[W]),pr(J,b||ue,(e=J==null?void 0:J.current)==null?void 0:e.innerText),ws({dataAttrs:y,initialValue:g,value:h,resetValue:()=>{if(Z&&Z({event,metaSet:M,value:g,notValidValue:!0}),O!=null&&O.onImplicitChange){const{alias:Be,args:ie}=O.onImplicitChange;he[Be]({event,metaSet:M,args:ie,value:g,notValidValue:!0})}}});const ft=(0,a.useMemo)(()=>({ref:J,value:h,onBlur:Ae,onFocus:He,onChange:De,onKeyDown:it,onKeyUp:ct,onMouseEnter:st,onClick:Ye,isDisabled:c,id:Pe,focusedElement:r,readOnly:c||u,inputTabIndex:Le,dataAttrs:y,label:ue,labelPosition:k,isBulk:q}),[h,Ae,He,De,it,ct,st,Ye,J,c,u,Pe,r,y,Le,ue,k,q]);return d?null:z==="switch"&&(fe&&(re||ee))?(0,s.jsx)(vR,ma({labels:re,icons:ee},ft)):z==="switch"&&fe?(0,s.jsx)(PR,ma({},ft)):fe?(0,s.jsx)(TR,ma({},ft)):(0,s.jsx)("div",{style:{backgroundColor:ce&&D?"transparent":D},children:(0,s.jsxs)("div",{ref:J,className:qe,style:ge,onMouseEnter:st,"data-testid":C,tabIndex:-1,children:[(0,s.jsx)("input",eh(ma({style:Ee,type:"checkbox",ref:de,id:Pe,className:`${Sn}__control`,disabled:c,checked:h,readOnly:c||u,"data-is-checked":h},y),{tabIndex:Le,onFocus:He,onBlur:Ae,onKeyDown:it,onKeyUp:ct,onChange:De,onClick:Ye})),ue&&(0,s.jsx)("span",{className:Ie,onClick:De,tabIndex:-1,children:ue})]})})}Ou.propTypes={_ref:_().object,focusedElement:_().object,className:_().string,style:_().object,id:_().string,isDisabled:_().bool,isExcluded:_().bool,isStatic:_().bool,hasActiveMode:_().bool,mode:_().string,modeSwitch:_().object,hasError:_().bool,hint:_().string,dataAttrs:_().object,value:_().oneOfType([_().bool,_().string,_().number]),testId:_().string,tabIndex:_().oneOfType([_().number,_().string]),events:_().object,metaSet:_().oneOfType([_().object,_().boolean]),label:_().string,labelPositions:_().string,onChange:_().func,onKeyDown:_().func,onKeyUp:_().func,onEnter:_().func,onEsc:_().func,onTab:_().func,onFocus:_().func,onBlur:_().func,onClick:_().func,onModeChange:_().func,type:_().string,isBulk:_().bool},Ou.defaultProps={_ref:null,focusedElement:null,className:null,style:null,id:null,isDisabled:!1,isExcluded:!1,isStatic:!1,hasActiveMode:!1,mode:null,modeSwitch:null,hasError:!1,hint:null,dataAttrs:null,value:!1,testId:null,tabIndex:0,events:null,metaSet:null,label:null,labelPosition:Iu[1],onChange:null,onKeyDown:null,onKeyUp:null,onEnter:null,onEsc:null,onTab:null,onFocus:null,onBlur:null,onClick:null,onModeChange:null,type:"checkbox"};var Zo=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Ou,eh(ma({},t),{_ref:e})))),LR=Ve(89755),Ar=Ve(70722),Pl=Ve(58916),Il=Ve(49599),HR=Ve(37042),WR=Ve(4543),VR=Ve(39880),UR={firstDayOfWeek:1,dayNames:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],dayNamesShort:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],dayNamesMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],monthNames:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"],monthNamesShort:["\u044F\u043D","\u0444\u0432","\u043C\u0440","\u0430\u043F","\u043C\u0430\u0439","\u0438\u043D","\u0438\u043B","\u0430\u0432","\u0441\u0442","\u043E\u043A","\u043D\u043E","\u0434\u0435"]},GR={firstDayOfWeek:1,dayNames:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],dayNamesShort:["sun","mon","tue","wed","thur","fri","sat"],dayNamesMin:["Su","Mn","Tu","Wd","Th","Fr","Sa"],monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],monthNamesShort:["jan","feb","mar","apr","may","june","july","aug","sept","oct","nov","dec"]};const rh={ru:UR,en:GR},Eu={dateAndTime:/^([0-9]|0[1-9]|[12][0-9]|3[01])?(\.)?([0-9]|0[1-9]|1[012])?(\.)?(\d|20\d\d|20[0-9]|210[01]?|1\d\d|19\d\d|0\d|[1-9]\d)?(( )(([012]|[01][0-9]|2[0-3])?([:]([0-9]|[0-5][0-9])?)?([:]([0-9]|[0-5][0-9])?)?)?)?$/,dateOnly:/^([0-9]|0[1-9]|[12][0-9]|3[01])?(\.)?([0-9]|0[1-9]|1[012])?(\.)?(\d|20\d\d|20[0-9]|210[01]?|1\d\d|19\d\d|0\d|[1-9]\d)?$/,timeOnly:/^([0-1]?\d|2[0-3])?:?(?::([0-5]?\d))?:?(?::([0-5]?\d))?$/},oh={dateAndTime:{formatOfDate:"dd.MM.yyyy HH:mm:ss",defaultMask:Eu.dateAndTime,0:/^$/,1:/^[0-9]|[.]$/,2:/^([012][0-9]|3[0|1])|(\d\.)|(\.\d)|(\.\.)$/,3:/^(([012][0-9]|3[0|1])\.)|(\d\.\d)|(\d\.\.)|(\.\.\d)|(\.([0][0-9]|[1][0-2]))$/,4:/^(([012][0-9]|3[0|1])\.\.)|(([012][0-9]|3[0|1])\.\d)|(\d\.([0][0-9]|1[012]))|(\d\.\d\.)|(\.\d\.\d)|(\.([0][0-9]|1[012])\.)|(\.\.(19|2[0-1]))$/,5:/^(([012][0-9]|3[0|1])\.([0][0-9]|[1][0-2]))|(([012][0-9]|3[0|1])\.\d\.)|(([012][0-9]|3[0|1])\.\.\d)|(\d\.([0][0-9]|[1][0-2])\.)|(\d\.\d\.\d)|(\d\.\.\d\d)|(\.([0][0-9]|[1][0-2])\.\d)|(\.\d\.\d\d)|(\.\.\d\d\d)$/},timeOnly:{formatOfDate:"HH:mm:ss",defaultMask:Eu.timeOnly},dateOnly:{formatOfDate:"dd.MM.yyyy",defaultMask:Eu.dateOnly,0:/^$/,1:/^[0-9]|[.]$/,2:/^([012][0-9]|3[0|1])|(\d\.)|(\.\d)|(\.\.)$/,3:/^(([012][0-9]|3[0|1])\.)|(\d\.\d)|(\d\.\.)|(\.\.\d)|(\.([0][0-9]|[1][0-2]))$/,4:/^(([012][0-9]|3[0|1])\.\.)|(([012][0-9]|3[0|1])\.\d)|(\d\.([0][0-9]|1[012]))|(\d\.\d\.)|(\.\d\.\d)|(\.([0][0-9]|1[012])\.)|(\.\.(19|2[0-1]))$/,5:/^(([012][0-9]|3[0|1])\.([0][0-9]|[1][0-2]))|(([012][0-9]|3[0|1])\.\d\.)|(([012][0-9]|3[0|1])\.\.\d)|(\d\.([0][0-9]|[1][0-2])\.)|(\d\.\d\.\d)|(\d\.\.\d\d)|(\.([0][0-9]|[1][0-2])\.\d)|(\.\d\.\d\d)|(\.\.\d\d\d)$/}};function ku(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function va(t,e){e||(e={formatOfDate:"dateOnly",utc:!1});const n=ku(),r=new window.Date;let o=t||null,l=null,i=null,c=null;switch(e.formatOfDate){case"dateAndTime":i="dd.MM.yyyy HH:mm:ss";break;case"timeOnly":i="HH:mm:ss";break;case"dateOnly":default:i="dd.MM.yyyy";break}if(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d+(?:[+-][0-2]\d:[0-5]\d|Z)/.test(o)){let d=(0,Pl.Z)(o,"yyyy-MM-dd'T'HH:mm:ss'Z'",r),u=(0,Pl.Z)(o,"yyyy-MM-dd'T'HH:mm:ssXXX'Z'",r);!e.utc&&(0,Il.Z)(d)?l=d:!e.utc&&(0,Il.Z)(u)&&(l=u),l=e.utc?(0,Ar.utcToZonedTime)(o,n):l,c=o}else if(/^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/.test(o)&&e.utc)c=`${o}T00:00:00Z`,l=(0,Ar.utcToZonedTime)(c,n);else if(/^(?:2[0-3]|[01]?[0-9]):[0-5][0-9]:[0-5][0-9]Z$/.test(o)&&e.utc)c=`${(0,Ar.format)(r,"yyyy-MM-dd")}T${o}`,l=(0,Ar.utcToZonedTime)(c,n);else if(o)if(o.length!==i.length){let d=(0,Pl.Z)(o,"dd.MM.yyyy",r),u=(0,Pl.Z)(o,"dd.MM.yyyy HH:mm:ss",r),m=(0,Pl.Z)(o,"dd.MM.yyyy HH:mm",r);e.formatOfDate==="dateAndTime"&&(0,Il.Z)(d)?l=d:e.formatOfDate==="dateAndTime"&&(0,Il.Z)(m)?l=m:e.formatOfDate==="dateOnly"&&(0,Il.Z)(u)?l=u:e.formatOfDate==="dateOnly"&&(0,Il.Z)(m)&&(l=m)}else l=(0,Pl.Z)(o,i,r);if(l instanceof Date&&!isNaN(l)&&(o=(0,Ar.format)(l,i),e.utc)){const d=e.formatOfDate==="dateOnly"?(0,HR.Z)((0,WR.Z)((0,VR.Z)(l,0),0),0):l,u=(0,Ar.utcToZonedTime)(d,"UTC");c=(0,Ar.format)(u,"yyyy-MM-dd'T'HH:mm:ss'Z'")}return{value:o,date:l,dateFormat:i,preparedValue:c}}function lh(){return rh[rt.language]||rh.ru}const ah=(t,e,n,r)=>{if(!t)return t;const o=ku(),l=new window.Date;let i="",[c,d]=t.split(" "),[u,m,f]=c.split(".");n==="timeOnly"&&(d=c);let[p,v,b]=(d==null?void 0:d.split(":"))||[];f||(f=l.getFullYear()),m?m&&(m=+m-1):m=l.getMonth(),f.length===1?f=`200${f}`:f.length===2&&(f>=46?f=`19${f}`:f=`20${f}`),(!p||!v||!b)&&(p||(p="00"),v||(v="00"),b||(b="00"));const y=h=>h.toString().length>1?h:"0"+h;if(["dateAndTime","dateOnly"].includes(n)){const h=new window.Date(f,m,u,p,v,b);if(h.getDate()!==Number(u)||h.getMonth()!==Number(m)||h.getFullYear()!==Number(f)){let g=n==="dateAndTime"?` ${y(p)}:${y(v)}:${y(b)}`:"";i=`${y(u)}.${y(m+1)}.${f}`+g}else i=(0,Ar.format)(h,e,{timeZone:o})}else n==="timeOnly"&&(i=`${p}:${v}:${b}`);return r.current.value=i,i},ZR=(t,e)=>{const n=oh[e][t.length]||oh[e].defaultMask;return n==null?void 0:n.test(t)};var ZG={popperIconSize:"18px",primaryColor:"#0bd688"},KR=Object.defineProperty,qR=Object.defineProperties,YR=Object.getOwnPropertyDescriptors,sh=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,JR=Object.prototype.propertyIsEnumerable,ih=(t,e,n)=>e in t?KR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ko=(t,e)=>{for(var n in e||(e={}))XR.call(e,n)&&ih(t,n,e[n]);if(sh)for(var n of sh(e))JR.call(e,n)&&ih(t,n,e[n]);return t},QR=(t,e)=>qR(t,YR(e));const eD=(0,B.ZP)("div")(({styledState:t})=>{const{focused:e,hovered:n,isDisabled:r,showSuccess:o,showError:l,wrapperStyle:i,hasCaption:c}=t;return Ko(Ko(Ko(Ko({margin:2,position:"relative",overflow:"hidden",boxSizing:"border-box",display:"flex",alignItems:"center",height:c?48:32,width:"100%",paddingLeft:12,paddingRight:12,backgroundColor:I(r?"input-background-disable":"input-background"),cursor:r?"default":"text",borderRadius:8,border:`1px solid ${I("input-border")}`},!r&&QR(Ko(Ko(Ko({},e&&{border:`1px solid ${I("input-border-active")}`}),n&&{border:`1px solid ${I("input-border-hover")}`}),n&&e&&{border:`1px solid ${I("input-border-active")}`}),{"&:active":{border:`1px solid ${I("input-border-active")}`}})),o&&{border:`1px solid ${I("input-border-success")}`}),l&&{border:`1px solid ${I("input-border-error")}`}),i)});var tD=Object.defineProperty,nD=Object.defineProperties,rD=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertySymbols,oD=Object.prototype.hasOwnProperty,lD=Object.prototype.propertyIsEnumerable,uh=(t,e,n)=>e in t?tD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dh=(t,e)=>{for(var n in e||(e={}))oD.call(e,n)&&uh(t,n,e[n]);if(ch)for(var n of ch(e))lD.call(e,n)&&uh(t,n,e[n]);return t},aD=(t,e)=>nD(t,rD(e));const sD=(0,B.ZP)("input")(({styledState:t})=>{const{isDisabled:e,textColor:n,hasCaption:r,wrapperStyle:o}=t;return dh(aD(dh({border:"none",outline:"none",wordBreak:"break-all",height:"auto",alignSelf:"flex-end"},r&&{paddingBottom:o!=null&&o.paddingBottom?0:8}),{minHeight:10,width:"100%",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:n||I("input-text")}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")})});var iD=Object.defineProperty,fh=Object.getOwnPropertySymbols,cD=Object.prototype.hasOwnProperty,uD=Object.prototype.propertyIsEnumerable,ph=(t,e,n)=>e in t?iD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ju=(t,e)=>{for(var n in e||(e={}))cD.call(e,n)&&ph(t,n,e[n]);if(fh)for(var n of fh(e))uD.call(e,n)&&ph(t,n,e[n]);return t};const dD=(0,B.ZP)("div")(({styledState:t})=>{const{isDisabled:e,hasCurrentValue:n,focused:r,hasInputValue:o,wrapperStyle:l}=t;return ju(ju({position:"absolute",top:"50%",transform:"translate(0, -50%)",color:I("input-label"),fontSize:14,lineHeight:1,transition:"font-size .2s, top .2s, color .2s",transitionDelay:".3s"},(r||n||o)&&{color:I("input-label-disabled"),fontSize:12,transitionDelay:"0s",transition:"font-size .2s, top .2s, color .2s",top:l!=null&&l.paddingTop?l.paddingTop:14}),e&&ju({color:I("input-label-disabled"),transition:"none",top:"50%",fontSize:14},n&&{top:l!=null&&l.paddingTop?l.paddingTop:14,fontSize:12}))});var fD=Object.defineProperty,pD=Object.defineProperties,mD=Object.getOwnPropertyDescriptors,mh=Object.getOwnPropertySymbols,vD=Object.prototype.hasOwnProperty,hD=Object.prototype.propertyIsEnumerable,vh=(t,e,n)=>e in t?fD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gD=(t,e)=>{for(var n in e||(e={}))vD.call(e,n)&&vh(t,n,e[n]);if(mh)for(var n of mh(e))hD.call(e,n)&&vh(t,n,e[n]);return t},bD=(t,e)=>pD(t,mD(e));const yD=(0,B.ZP)("div")(({styledState:t})=>{const{isRequiredIndicator:e,isDisabled:n}=t;return bD(gD({width:14,height:14,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:1,transition:".2s",transitionDelay:".3s"},!e&&{opacity:0,transition:".2s",transitionDelay:"0s"}),{"& span, div":{color:I("input-icon-required"),opacity:n?0:1}})}),hh=(0,B.ZP)("button")(({styledState:t})=>{const{isDisabled:e}=t;return{position:"relative",cursor:"pointer",width:16,"& span, i":{color:I(e?"input-icon-disabled":"input-icon")}}}),_D=(0,B.ZP)("div")(({styledState:t})=>{const{hasCaption:e}=t;return{position:"relative",display:"flex",flex:1,height:e?"100%":"initial",overflow:"hidden"}}),CD=(0,B.ZP)("div")({marginRight:5,display:"flex"}),KG=(0,B.ZP)(Ct)({position:"relative",cursor:"pointer",width:16,color:"#8F93A3"});var wD=Object.defineProperty,xD=Object.defineProperties,SD=Object.getOwnPropertyDescriptors,gh=Object.getOwnPropertySymbols,PD=Object.prototype.hasOwnProperty,ID=Object.prototype.propertyIsEnumerable,bh=(t,e,n)=>e in t?wD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_n=(t,e)=>{for(var n in e||(e={}))PD.call(e,n)&&bh(t,n,e[n]);if(gh)for(var n of gh(e))ID.call(e,n)&&bh(t,n,e[n]);return t},Jn=(t,e)=>xD(t,SD(e));function OD(t){return t==null}const jn="date",ha={input:"input",button:"button"},ED=["pi-chevron-up","pi-chevron-down"],kD=(t,e,n)=>{let r=0,o=0,l=0;for(let i=0;i<t.length;i++)t[i]===e&&r++;if(n==="dateAndTime")for(let i=0;i<t.length;i++)i>=9&&t[i]===" "&&o++,i>=11&&t[i]===":"&&l++;return{count:r,spaceCount:o,colonCount:l}},jD=(t,e)=>{const n=(u,m)=>{let f=r.split("");f.splice(u,0,m),r=f.join("")};let r=t,o=".",l=" ",i=":",c;e==="dateAndTime"||e==="dateOnly"?c=o:e==="timeOnly"&&(c=i);const d=kD(r,c,e);return e==="timeOnly"&&d.count===2||e==="dateOnly"&&d.count===2||(r.length===3&&d.count===0?n(2,o):r.length===6&&d.count===1?n(5,o):r.length===11&&d.spaceCount===0?n(10,l):r.length===14&&d.colonCount===0?n(13,i):r.length===17&&d.colonCount===1&&n(16,i)),r};function Ru(t){var e,n,r;const{_ref:o,focusedElement:l,id:i,className:c,style:d,isDisabled:u,isDisabledByAutolock:m,isStatic:f,hasActiveMode:p,mode:v,modeSwitch:b,value:y,formattedValue:h,initialValue:g,initialFormattedValue:C,iconName:O,iconSize:M,testId:P,hasError:x,hint:k,dataAttrs:E,metaSet:w,events:S,tabIndex:F,onAutolock:A,onModeChange:$,onChange:U,onKeyDown:V,onKeyUp:N,onEnter:L,onEsc:j,onBlur:R,onBlurCapture:H,onImplicitChange:W,onFocus:K,onTab:Z,onDelete:G,onMouseDown:re,onMouseUp:ee,onClick:ce,onDoubleMouseDown:D,onDoubleMouseUp:z,onDoubleClick:q,onCopy:J,onPaste:X,onCut:ue,dateOptions:de,disableOnEdit:ge,onEdit:fe,isRequired:Ee,isParentTable:Pe,cellColor:Ce,isFixSize:Se,isAutoLock:je,type:at,caption:Le}=t,qe=(0,lt.v9)(Dt),Ie=f||m,Ye=je&&m===void 0,He=(S==null?void 0:S.onEdit)||fe,Ae=E["data-table-id"]==="CardFile",De=h!==void 0?h:y,it=(0,a.useRef)({value:y,formattedValue:De}),ct=(0,a.useRef)(""),{formatOfDate:st}=de,bt=st!=="dateOnly",ft=st==="timeOnly",ht=(0,a.useRef)(null),Be=(0,a.useRef)(null),ie=l||ht,Ze=(0,a.useRef)(null),tt=(0,a.useRef)(null),[_t,ve]=Lo(v,b),pe=(0,a.useRef)(null),[ae,te]=(0,a.useState)(!1),[le,we]=(0,a.useState)(!1),[ze,Qe]=(0,a.useState)(()=>{const Y=va(y,de);return pe.current=Y.dateFormat,Y.date}),[gt,se]=(0,a.useState)(!1),[xe,me]=(0,a.useState)(!1),[Me,Te]=(0,a.useState)(!1),et=(0,lt.v9)(Xm);(0,a.useEffect)(()=>{var Y;C!==h&&(((Y=et[0])==null?void 0:Y.caption)==="\u041E\u0448\u0438\u0431\u043A\u0430"&&Te(!0),setTimeout(()=>{Te(!1),me(!1)},500))},[C,h,et]);let We=!1;const yt=(0,a.useMemo)(()=>i||Cr().generate(),[i]),Nt=`${jn}_${yt}`,pt=!u&&!Ie,Mt=be()(c,jn,Nt,{[`${jn}_disabled`]:u||m,[`${jn}_error`]:x,[`${jn}_active`]:ve.checkActiveMode(),[`${jn}_editable`]:ve.checkEditableMode(),[`${jn}_static`]:Ie,[`${jn}_with-icon`]:pt,[`${jn}__cell`]:Pe}),mn=be()(`${jn}__date-picker`,Nt),tr=be()(c,`${jn}__input`,{[`${jn}_required`]:Ee&&!y&&!ve.checkEditableMode()}),yn=(0,a.useMemo)(()=>Jn(_n({},E),{"data-sub-element":ha.input}),[]),un=(0,a.useMemo)(()=>Jn(_n({},E),{"data-sub-element":ha.button,"data-testid":`${P}_button`}),[]),dn=(0,a.useCallback)(()=>{var Y;(Y=ie.current)==null||Y.focus()},[ie]);(0,a.useEffect)(()=>{Mt.includes(`${jn}_editable`)&&dn()},[Mt]);const ln=(0,a.useCallback)(()=>{const Y=ie.current.value;return Y===De?y:Y},[y,De,ie]),Jt=(0,a.useCallback)(Y=>{ie.current&&(ie.current.value=Y)},[ie]),vn=(0,a.useCallback)(Y=>{var _e;const Ue=(_e=ie.current)==null?void 0:_e.value;let ot=Y?y:De;return!Y&&Ue!==it.current.formattedValue?ot:!Y&&Ue!==void 0&&Ue!==ot&&Ue!==it.current.value?Ue:ot},[y,De]),Bn=vn(ve.checkEditableMode());(0,a.useEffect)(()=>{ie.current&&Bn!==void 0&&ie.current.value!==Bn&&Jt(Bn)},[ie,Bn]),(0,a.useLayoutEffect)(()=>{if(g!==void 0&&(ie.current.value=g,it.current={initialValue:g,initialFormattedValue:C},y!==g&&(W&&W({event,metaSet:w,value:g,notValidValue:!0}),S!=null&&S.onImplicitChange))){const{alias:Y,args:_e}=S.onImplicitChange;he[Y]({event,metaSet:w,args:_e,value:g,notValidValue:!0})}},[]),pr(ie,k,(e=ie==null?void 0:ie.current)==null?void 0:e.innerText);const[,Rr]=Hm({targetElement:ie.current,needSelection:!0,textSelectionSwitch:Be,editableMode:ve.checkEditableMode()}),sr=(0,a.useCallback)(()=>ve.checkDefaultMode(),[ve]),Pn=(0,a.useCallback)(()=>ve.checkActiveMode(),[ve]),ye=(0,a.useCallback)(()=>ve.checkEditableMode(),[ve]),Re=(0,a.useCallback)(()=>{Rr.setDefaultMode(),ve.setDefaultMode()},[ve]),Ke=(0,a.useCallback)(()=>{Rr.setDefaultMode(),ve.setActiveMode()},[ve,vn]),Xe=(0,a.useCallback)((Y=!1)=>{Rr[Y?"setSelectedMode":"setDefaultMode"](),we(!0),ve.setEditableMode()},[ve,vn]);(0,a.useEffect)(()=>{Ie&&te(!1)},[Ie]),(0,a.useEffect)(()=>{if(!u&&p){let Y=!0;if($&&(Y=$({metaSet:w,value:_t})),Y&&(S!=null&&S.onModeChange)){const{alias:_e,args:Ue}=S.onModeChange;he[_e](Jn(_n({},Ue),{args:Ue,metaSet:w,value:_t}))}}},[u,w,S,$,_t]);const ut=Y=>Y instanceof window.Date&&!isNaN(Y);(0,a.useEffect)(()=>{const{date:Y}=va(y,De);(ut(Y)||y==="")&&(it.current={value:y,formattedValue:De})},[y,De]),(0,a.useEffect)(()=>{He&&gt==="button"&&ge===!1&&te(!ae)},[ge]);const Ne=(0,a.useCallback)(()=>{if(u)return;let Y=!0;const _e=ah(ln(),pe.current,st,ie);if(L&&(Y=L({metaSet:w,value:_e})),Y&&(S!=null&&S.onEnter)){const{alias:Ue,args:ot}=S.onEnter;he[Ue]({metaSet:w,args:ot,value:_e})}p&&(te(!1),Ke()),dn()},[dn,u,w,S,L,Ke,p,ln]),Et=(0,a.useCallback)(Y=>{Ot(Y)},[]),At=Y=>{Y.stopPropagation(),u||ie.current&&ie.current.focus()},nt=(0,a.useCallback)(Y=>{if(u||Ie)return;const{target:{dataset:{subElement:_e}},detail:Ue}=Y,{value:ot}=ie.current;let vt=!0;if(We=_e===ha.button,Ue===1&&(ce&&(vt=ce({event:Y,metaSet:Jn(_n({},w),{subElement:_e}),value:ot})),vt&&(S!=null&&S.onClick))){const{alias:kt,args:Rt}=S.onClick;he[kt]({event:Y,metaSet:Jn(_n({},w),{subElement:_e}),value:ot,args:Rt})}},[u,S,w,y,ce]),Zt=(0,a.useCallback)(Y=>{const{value:_e}=ie.current;let Ue=!0;if(q&&(Ue=q({event:Y,metaSet:w,value:_e})),Ue&&(S!=null&&S.onDoubleClick)){const{alias:ot,args:vt}=S.onDoubleClick;Ue=he[ot]({event:Y,metaSet:w,value:_e,args:vt})}},[w,q,Pe,u,Ie]),Zn=(0,a.useCallback)(Y=>{if(u)return;const{target:{dataset:{subElement:_e}},detail:Ue,button:ot}=Y;if(ot===0){const{value:vt}=ie.current;if(se(_e),u||He&&(ge||ge===void 0))return;let kt=!0;if(We=_e===ha.button,Ue===1){if(re&&(kt=re({event:Y,metaSet:Jn(_n({},w),{subElement:_e}),value:vt})),kt&&(S!=null&&S.onMouseDown)){const{alias:Rt,args:Ln}=S.onMouseDown;he[Rt]({event:Y,metaSet:Jn(_n({},w),{subElement:_e}),value:vt,args:Ln})}We&&(Y.preventDefault(),te(!ae),dn(),Xe())}else if(Ue===2){if(D&&(kt=D({event:Y,metaSet:w,value:vt})),kt&&(S!=null&&S.onDoubleMouseDown)){const{alias:Rt,args:Ln}=S.onDoubleMouseDown;kt=he[Rt]({event:Y,metaSet:w,value:vt,args:Ln})}kt&&Xe(!0)}}else Y.preventDefault(),ae&&te(!1)},[u,p,S,w,re,D,Xe]),$n=(0,a.useCallback)(Y=>{if(u)return;if(we(!1),Y==null||Y.persist(),ae&&(Y==null?void 0:Y.target)===ie.current){Xe();return}let _e=ln();if(ye()){_e=ah(_e,pe.current,st,ie);let ot=!0;if(W&&(ot=W({event:Y,metaSet:w,value:_e})),ot&&(S!=null&&S.onImplicitChange)){const{alias:vt,args:kt}=S.onImplicitChange;he[vt]({event:Y,metaSet:w,args:kt,value:_e})}}let Ue=!0;if(R&&(Ue=R({event:Y,metaSet:w,value:_e})),Ue&&(S!=null&&S.onBlur)){const{alias:ot,args:vt}=S.onBlur;he[ot]({event:Y,metaSet:w,args:vt,value:_e})}Ue&&Re()},[u,ln,ae,ye,pe,st,ie,R,w,S,Xe,Re,W,Bn]),jt=(0,a.useCallback)(()=>{!u&&!Ie&&ae&&($n(),te(!1))},[u,Ie,ae,dn,Xe,$n,ln]),Fn=(0,a.useCallback)(({event:Y})=>{if(!u)if(ae)Y.preventDefault(),Y.stopPropagation(),Ze.current.querySelector(".p-datepicker-prev.p-link").focus();else{let _e=!0;if(Z&&(_e=Z({event:Y,metaSet:w,value:y})),_e&&(S!=null&&S.onTab)){const{alias:Ue,args:ot}=S.onTab;he[Ue]({event:Y,metaSet:w,args:ot,value:y})}return!0}},[ae,u,Z,w,y,S]),In=(0,a.useCallback)(()=>{const Y=new window.Date;let _e="";switch(st){case"dateAndTime":_e="dd.MM.yyyy HH:mm:ss";break;case"dateOnly":_e="dd.MM.yyyy";break;case"timeOnly":_e="HH:mm:ss";break;default:break}ie.current.value=(0,Ar.format)(Y,_e),te(!1)},[ae,st]),Bt=(0,a.useCallback)(({event:Y})=>{u||(ae&&(y===""||OD(y))&&In(),Y.altKey?ae?te(!1):(Xe(),te(!0)):(p&&(Pn()?Xe(!0):Ke()),ye()?Ne():te(!1)))},[p,ae,Xe,Ke,Pn,ye,u,Ne,In]),It=(0,a.useCallback)(({event:Y,value:_e})=>{if(u)return;let Ue=_e;if(p&&Pn()){if(ie.current.value==="")return;Ue="",ie.current.value=Ue}let ot=!0;if(G&&(Ue===""||ut(Ue))&&(ot=G({event:Y,metaSet:w,value:Ue})),ot&&(S!=null&&S.onDelete)){const{alias:vt,args:kt}=S.onDelete;he[vt]({event:Y,metaSet:w,args:kt,value:Ue})}return!1},[G,u,S,w,ie,p,Pn]),wt=(0,a.useCallback)(()=>{if(!u){if(g!==void 0&&(ie.current.value=g,W&&W({event,metaSet:w,value:g,notValidValue:!0}),S!=null&&S.onImplicitChange)){const{alias:Y,args:_e}=S.onImplicitChange;he[Y]({event,metaSet:w,args:_e,value:g,notValidValue:!0})}te(!1),p?Ke():Re()}},[p,Ke,Re,u,it,ie]),_r=(0,a.useCallback)(Y=>{if(!Ze.current)return;const _e=Ze.current.querySelector(".p-hour-picker"),Ue=Ze.current.querySelector(".p-minute-picker"),ot=Ze.current.querySelector(".p-second-picker");if((_e||Ue||ot)&&Y.stopPropagation(),!tt.current)return;const vt="pi-chevron-down",kt="pi-chevron-up",Rt=Y.target.querySelector(`.${vt}`)||Y.target.classList.contains(vt),Ln=Y.target.querySelector(`.${kt}`)||Y.target.classList.contains(kt);_e.contains(Y.target)&&(Ln?tt.current.incrementHour(Y):Rt&&tt.current.decrementHour(Y)),Ue.contains(Y.target)&&(Ln?tt.current.incrementMinute(Y):Rt&&tt.current.decrementMinute(Y)),ot.contains(Y.target)&&(Ln?tt.current.incrementSecond(Y):Rt&&tt.current.decrementSecond(Y))},[tt,Ze]),ir=(0,a.useCallback)(Y=>{const{button:_e}=Y;if(_e===2){te(!1);return}bt&&_r(Y)},[bt,_r]),zn=(0,a.useCallback)(Y=>{if(Ot(Y),u)return;const{keyCode:_e}=Y;rr(_e)&&bt&&_r(Y),ho(_e)&&(Y.preventDefault(),te(!1),dn())},[dn,u,bt,_r]),cr=(0,a.useCallback)(({event:Y,value:_e})=>{if(u||Ye)return;let Ue=!0;if(U&&U({event:Y,metaSet:w,value:_e}),Ue&&(S!=null&&S.onChange)){const{alias:ot,args:vt}=S.onChange;he[ot](Jn(_n({event:Y},vt),{args:vt,metaSet:w,value:_e}))}},[u,Ye,w,S,U]),Dr=(0,a.useCallback)(Y=>{var _e,Ue,ot;if(u||Ye)return;const vt=ku(),kt=new window.Date(Y.value),Rt=(0,Ar.format)(kt,pe.current,{timeZone:vt}),Ln=ED.some(Wa=>{var ul;return(ul=Y.originalEvent.target.classList)==null?void 0:ul.contains(Wa)});Jt(Rt),Qe(Y.value);const Ro=(Ue=(_e=Y.originalEvent)==null?void 0:_e.nativeEvent)==null?void 0:Ue.pointerType;return!Ln&&(((ot=Y.originalEvent)==null?void 0:ot.detail)===2||Ro==="touch")&&(cr({event:Y,value:Rt}),Ne({event:Y,value:Rt}),te(!1)),!1},[cr,Ye,pe,Ne,Jt,tt,dn]),Kl=(0,a.useCallback)(()=>{u||Ye||(In(),Ne())},[In,Ye,Ne]),nl=(0,a.useCallback)(Y=>{Y.persist();const _e=Y.target.value,Ue=jD(_e,st),ot=ZR(Ue,st),{date:vt}=va(Ue,de);let kt=Y.target.selectionStart;if(ot&&!(He&&(ge||ge===void 0))){Y.target.value=Ue;const Rt=Y.target.value[Y.target.value.length-2];(Rt==="."||Rt===":")&&(kt+=1)}else Y.target.value=ct.current,Ue.length>Y.target.value.length?kt-=1:kt+=1;return Y.target.setSelectionRange(kt,kt),Qe(vt),cr({value:Ue}),!1},[ln,cr,de,st]);(0,a.useEffect)(()=>{const{dateFormat:Y,date:_e}=va(y,de);pe.current=Y,Qe(_e)},[y,De,de]);const rl=(0,a.useCallback)(Y=>{if(u)return;const{target:{dataset:{subElement:_e}},detail:Ue}=Y,{value:ot}=ie.current;let vt=!0;if(We=_e===ha.button,Ue===1){if(ee&&(vt=ee({event:Y,metaSet:Jn(_n({},w),{subElement:_e}),value:ot})),vt&&(S!=null&&S.onMouseUp)){const{alias:kt,args:Rt}=S.onMouseUp;he[kt]({event:Y,metaSet:Jn(_n({},w),{subElement:_e}),value:ot,args:Rt})}}else if(Ue===2&&(z&&(vt=z({event:Y,metaSet:w,value:ot})),vt&&(S!=null&&S.onDoubleMouseUp))){const{alias:kt,args:Rt}=S.onDoubleMouseUp;he[kt]({event:Y,metaSet:w,value:ot,args:Rt})}},[u,S,w,y,ee,z]),Kn=(0,a.useCallback)(Y=>{if(u||He&&(ge||ge===void 0))return;const _e=ln();let Ue=!0;if(!zc(Y)){if(ho(Y.keyCode)&&!Ie)wt({event:Y});else if(rr(Y.keyCode)&&!Ie)Bt({event:Y,value:_e});else if(cm(Y.keyCode)&&!Ie)It({event:Y});else if(Ho(Y.keyCode))Fn({event:Y});else if(go(Y)&&!ve.checkEditableMode())Y.preventDefault();else if(!Ie||Ae){if(ct.current=_e,V&&(Ue=V({event:Y,metaSet:w,value:_e})),Ue&&(S!=null&&S.onKeyDown)){const{alias:ot,args:vt}=S.onKeyDown;he[ot]({event:Y,metaSet:w,args:vt,value:_e})}Ue&&(ve.checkEditableMode()||(gs(Y.keyCode)&&!Ae?(Xe(),ie.current.value=""):$c(Y.keyCode)&&Xe()))}}},[wt,Bt,It,Fn,ae,u,S,w,V,Z,L,j,ve,Re,Ke,Xe,p,ie,w,he,Ie,ln]),ro=(0,a.useCallback)(Y=>{const{value:_e}=Y.currentTarget;let Ue=!0;if(K&&(Ue=K({event:Y,metaSet:w,value:_e})),Ue&&(S!=null&&S.onFocus)){const{alias:ot,args:vt}=S.onFocus;Ue=he[ot]({event:Y,metaSet:w,args:vt,value:_e})}if(je&&!u&&!ye()&&!He&&(A&&A({event:Y,metaSet:w,value:_e}),S!=null&&S.onAutolock)){const{alias:ot,args:vt}=S.onAutolock;he[ot]({args:vt})}if(Ue&&!Ie){const{date:ot}=va(_e,De);if(p){if(He)if(fe)Ue=fe({event:Y,metaSet:w,value:_e});else{const{alias:vt,args:kt}=S.onEdit;he[vt]({event:Y,metaSet:w,args:kt,value:_e})}ut(ot)||_e===""?Ke():Xe()}else Xe()}},[u,S,w,K,Ke,Xe,p,ie,Ie,je,Ye]),ol=(0,a.useCallback)(Y=>{if(u)return;const _e=ln();let Ue=!0;if(N&&(Ue=N({event:Y,metaSet:w,value:_e})),Ue&&(S!=null&&S.onKeyUp)){const{alias:ot,args:vt}=S.onKeyUp;he[ot](_n({event:Y,metaSet:w,value:_e},vt))}},[u,S,w,N,ie,ln]),oo=(0,a.useCallback)(Y=>{const{value:_e}=Y.currentTarget;let Ue=!0;if(H&&(Ue=H({event:Y,metaSet:w,value:_e})),Ue&&(S!=null&&S.onBlurCapture)){const{alias:ot,args:vt}=S.onBlurCapture;he[ot]({event:Y,metaSet:w,args:vt,value:_e})}},[w,S,H]),ql=(0,a.useCallback)(Y=>{var _e,Ue;Ya((_e=ie.current)==null?void 0:_e.value),mf({value:ze,formattedValue:(Ue=ie.current)==null?void 0:Ue.value});const ot=fl();ke({events:S,specificEvent:J,nativeEvent:"onCopy",event:Y,value:y,clipboardValue:ot,editable:ve.checkEditableMode()})},[ie,ze]),ll=(0,a.useCallback)(Y=>{var _e;if(!ve.checkEditableMode()){Y.preventDefault();return}(_e=Y==null?void 0:Y.clipboardData)!=null&&_e.types.includes("Files")&&Y.preventDefault();let Ue=!0;const ot=Y.clipboardData.getData("text/plain"),{value:vt,formattedValue:kt}=mS();let Rt="";if(ot!==void 0&&(Rt=ot),Rt===kt&&(Y.preventDefault(),Rt=vS(vt,{options:st}),Rt===null&&(Rt=ot),ie.current.value=Rt),ke({events:S,specificEvent:X,nativeEvent:"onPaste",event:Y,value:vt,editable:ve.checkEditableMode()}),W&&(Ue=W({event:Y,metaSet:w,value:Rt})),Ue&&(S!=null&&S.onImplicitChange)){const{alias:Ln,args:Ro}=S.onImplicitChange;he[Ln]({event:Y,metaSet:w,args:Ro,value:Rt})}},[ie,ve,W,w,S,st]),Yl=(0,a.useCallback)(Y=>{var _e,Ue;Ya((_e=ie.current)==null?void 0:_e.value),mf({value:ze,formattedValue:(Ue=ie.current)==null?void 0:Ue.value});const ot=fl();ke({events:S,specificEvent:ue,nativeEvent:"onCut",event:Y,value:y,clipboardValue:ot,editable:ve.checkEditableMode()})},[ie,ze]),lo=(0,a.useCallback)(()=>{const Y=new window.Date;let _e=lh().monthNames[Y==null?void 0:Y.getMonth()];return/[а-я]/i.test(_e)?(_e=_e[_e.length-1]==="\u0442"?_e+"\u0430":_e.slice(0,_e.length-1)+"\u044F",ft?"\u0421\u0435\u0439\u0447\u0430\u0441":`\u0421\u0435\u0433\u043E\u0434\u043D\u044F ${Y==null?void 0:Y.getDate()} ${_e} ${Y==null?void 0:Y.getFullYear()}`):ft?"Now":`Today ${_e} ${Y==null?void 0:Y.getDate()}, ${Y==null?void 0:Y.getFullYear()}`},[ft]),Eo=()=>{if(ie.current.value=g,W&&W({event,metaSet:w,value:y}),S!=null&&S.onImplicitChange){const{alias:Y,args:_e}=S.onImplicitChange;he[Y]({event,metaSet:w,args:_e,value:y})}};ws({dataAttrs:E,initialValue:g,value:(n=ie.current)==null?void 0:n.value,resetValue:Eo});const Ha=!u&&!Ie&&ve.checkEditableMode(),ao=(0,a.useMemo)(()=>Hn({isFixSize:Se,style:d,type:at}),[Se,d,at]),Xl=_n({ref:ie,id:yt,"data-testid":P,autoComplete:"off",spellCheck:"false",tabIndex:Ur(!Ie&&!u,F),disabled:u,contentEditable:Ha,defaultValue:Bn,onCopy:ql,onPaste:ll,onCut:Yl,onKeyDown:Kn,onKeyUp:ol,onFocus:ro,onBlur:$n,onBlurCapture:oo,onChange:nl,readOnly:Ie||ge||Ye},yn),qn=le||!!De||!!((r=ie.current)!=null&&r.value),al={fontSize:qn?"10px":"14px",color:"#b6bbc6",top:qn?0:"50%",transform:qn?null:"translate(0%,-50%)"},ko=(0,s.jsx)("div",{className:"date_inner_lable",onClick:At,style:al,onMouseDown:Ie?null:Zn,children:Le}),Nr=O?(0,s.jsx)("img",{className:"icon",style:{height:M},alt:"",src:en(O)}):null,[Vr,jo]=(0,a.useState)(!1),sl=Bn&&(le||Vr),il=()=>{jo(!0)},so=()=>{jo(!1)},io=Y=>{Y.preventDefault(),ie.current&&!u&&(ie.current.value="",ie.current.focus()),At(Y)},On={isDisabled:u,showError:Me,focused:le,hovered:Vr,wrapperStyle:ao,hasCurrentValue:Bn,hasCaption:Le,isRequiredIndicator:Ee&&!Bn,showSuccess:xe},co=(0,s.jsxs)("div",{ref:o,className:Mt,style:Jn(_n({},ao),{height:Le?void 0:"24px",padding:"2px"}),onMouseDown:Ie?null:Zn,onMouseUp:Ie?null:rl,onClick:nt,children:[(0,s.jsxs)("div",{className:`${jn}_input-container`,style:_n({},(u||Ie)&&{pointerEvents:"none"}),children:[Nr,(0,s.jsx)("input",Jn(_n({},Xl),{className:tr}))]}),pt&&(0,s.jsx)(fn(),_n({className:`${jn}__button`,name:"calendar",tabIndex:-1,onFocus:ro,onBlur:$n},un)),Le&&ko]}),cl=(0,s.jsxs)(eD,{ref:o,onMouseDown:Ie?null:Zn,onMouseUp:Ie?null:rl,onClick:At,styledState:On,onMouseEnter:il,onMouseLeave:so,children:[Nr&&(0,s.jsx)(CD,{children:Nr}),(0,s.jsxs)(_D,{styledState:On,children:[(0,s.jsx)(sD,Jn(_n({},Xl),{styledState:On})),Le&&(0,s.jsx)(dD,{styledState:On,children:Le})]}),(0,s.jsx)(yD,{styledState:On,children:(0,s.jsx)("div",{className:"fa fa-asterisk",style:{fontSize:"8px"},"aria-hidden":"true"})}),sl&&(0,s.jsx)(hh,{styledState:On,onClick:io,children:(0,s.jsx)(Ct,{name:"close"})}),pt&&(0,s.jsx)(hh,{styledState:On,children:(0,s.jsx)("i",_n({className:"ri-time-fill",tabIndex:-1,onFocus:ro,onBlur:$n},un))})]});return(0,s.jsx)(yo,{onClickOutside:jt,outsideClickIgnoreClass:Nt,className:`${jn}__outside-wrapped`,onDoubleClick:Zt,style:{backgroundColor:Pe&&Ce?"transparent":Ce},children:(0,s.jsx)(_l,{withArrow:!0,targetComponent:qe&&!Pe?cl:co,needToRender:ae,children:(0,s.jsxs)("div",{className:mn,ref:Ze,onClick:Et,onMouseDownCapture:ir,onKeyDown:zn,children:[(0,s.jsx)(LR.Calendar,{ref:tt,locale:lh(),showTime:bt,timeOnly:ft,dateFormat:pe.current,hourFormat:"24",showSeconds:!0,inline:!0,minDate:new window.Date(100,0,1),maxDate:new window.Date(2101,0,1),monthNavigator:!0,yearNavigator:!0,yearRange:"1900:2101",value:ze,onChange:Dr},ze==null?void 0:ze.toString()),(0,s.jsx)("div",{onClick:Kl,className:`${jn}__label-today-date`,children:lo()})]})})})}Ru.propTypes={_ref:_().object,focusedElement:_().object,isDisabled:_().bool,isStatic:_().bool,events:_().object,metaSet:_().object,className:_().string,mode:_().string,modeSwitch:_().object,id:_().string,dateOptions:_().object,value:_().string,hasActiveMode:_().bool,onChange:_().func,onBlur:_().func,onTab:_().func,onEnter:_().func,isParentTable:_().bool,isAutoLock:_().bool},Ru.defaultProps={events:{},dateOptions:{formatOfDate:"dateOnly"},isParentTable:!1,isAutoLock:!1};var RD=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(Ru,Jn(_n({},t),{_ref:e}))));function DD(t,e){const{index:n,selected:r,value:o,onMouseDown:l,className:i}=t,c=be()(i,{[`${i}_selected`]:n===r}),d=(0,a.useCallback)(u=>{l&&l({event:u,value:o})},[l,o]);return(0,s.jsx)("li",{className:c,onMouseDown:d,ref:e,children:o.root})}var ND=(0,a.memo)((0,a.forwardRef)(DD)),qG={popperIconSize:"18px",primaryColor:"#0bd688"},MD=Object.defineProperty,TD=Object.defineProperties,FD=Object.getOwnPropertyDescriptors,Vs=Object.getOwnPropertySymbols,yh=Object.prototype.hasOwnProperty,_h=Object.prototype.propertyIsEnumerable,Ch=(t,e,n)=>e in t?MD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ol=(t,e)=>{for(var n in e||(e={}))yh.call(e,n)&&Ch(t,n,e[n]);if(Vs)for(var n of Vs(e))_h.call(e,n)&&Ch(t,n,e[n]);return t},ga=(t,e)=>TD(t,FD(e)),AD=(t,e)=>{var n={};for(var r in t)yh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Vs)for(var r of Vs(t))e.indexOf(r)<0&&_h.call(t,r)&&(n[r]=t[r]);return n};const Du="enum",BD=31*5,Nu=t=>{const e=t,{_ref:n,focusedElement:r,isDisabled:o,isStatic:l,isExcluded:i,isParentTable:c,hasActiveMode:d,modeSwitch:u,events:m,isAutoLock:f,isDisabledByAutolock:p,buttonIconName:v,isSwitchedToEnum:b,metaSet:y,value:h,formattedValue:g,initialValue:C,listValues:O,selected:M,setSelected:P,onEsc:x,onEnter:k,onChange:E,onSelect:w,onKeyDown:S,onBlur:F,showButton:A,onLookup:$,onClick:U,onDoubleClick:V,onResetAutocompleteValues:N,onImmediatelyAutoComplete:L,style:j,disableOnEdit:R,isAutocomplete:H,keyBoardNavigation:W,elementNode:K,containerNode:Z}=e,G=AD(e,["_ref","focusedElement","isDisabled","isStatic","isExcluded","isParentTable","hasActiveMode","modeSwitch","events","isAutoLock","isDisabledByAutolock","buttonIconName","isSwitchedToEnum","metaSet","value","formattedValue","initialValue","listValues","selected","setSelected","onEsc","onEnter","onChange","onSelect","onKeyDown","onBlur","showButton","onLookup","onClick","onDoubleClick","onResetAutocompleteValues","onImmediatelyAutoComplete","style","disableOnEdit","isAutocomplete","keyBoardNavigation","elementNode","containerNode"]),re=(0,lt.v9)(Dt),ee=b?v:"caret-down",ce=f&&p===void 0,D=l||o,z=`${G.className?G.className+"-drop-down":""} ${Du}__drop-down`,q=b||!H?$:null,J=b?A:!0,[X,ue]=(0,a.useState)(!1),de=(0,a.useMemo)(()=>{var te;return ga(Ol({},j),{textAlign:(te=j.textAlign)!=null?te:"left"})},[j]),ge=(0,a.useMemo)(()=>D||R||!X?!1:!!(O!=null&&O.length),[X,O,R,D]);let fe=(0,a.useRef)({}),Ee=(0,a.useRef)(null),Pe=(0,a.useRef)(null);fe=u||fe,Ee=n||Ee,Pe=r||Pe;const Ce=()=>fe.current.checkEditableMode(),Se=()=>fe.current.checkActiveMode(),je=()=>fe.current.checkDefaultMode(),at=(0,a.useCallback)(te=>{Pe.current&&(Pe.current.textContent=te||g||h)},[Pe,g,h]),Le=(0,a.useCallback)(()=>{ue(!1),P(-1)},[ue,P]),qe=(0,a.useCallback)(({event:te,value:le})=>{let we=!0;if(we&&N&&(we=N({event:te,value:le})),we&&(m!=null&&m.onResetAutocompleteValues)){const{alias:ze,args:Qe}=m.onResetAutocompleteValues;he[ze](ga(Ol({},Qe),{value:le}))}return we},[N,m]),Ie=(0,a.useCallback)(te=>{const le=window.getSelection();le.removeAllRanges(),te===Tr.selected&&le.selectAllChildren(Pe.current)},[Pe]),Ye=(0,a.useCallback)(()=>{D||je()||(Le(),fe.current.setDefaultMode())},[Le,D,je]),He=(0,a.useCallback)(()=>{D||!d||Se()||(Le(),fe.current.setActiveMode())},[Le,D,d,Se]),Ae=(0,a.useCallback)(()=>{D||R||Ce()||fe.current.setEditableMode()},[R,D,Ce]),De=(0,a.useCallback)(()=>{d?He():Ye()},[d,Ye,He]),it=(0,a.useCallback)(te=>{var le;return H||!(O!=null&&O.length)?te:((le=O.find(ze=>ze.value===te))==null?void 0:le.key)||te},[H,O]),ct=(0,a.useCallback)(({event:te,value:le})=>{if(D)return;let we=!0;if(E&&(we=E({event:te,metaSet:y,value:le})),we&&(m!=null&&m.onChange)){const{alias:ze,args:Qe}=m.onChange;he[ze]({event:te,metaSet:y,args:Qe,value:le})}return!le&&we&&(we=qe({event:te,value:le})),we&&ue(!!le),!1},[D,m,y,E,qe]),st=(0,a.useCallback)(({event:te,value:le})=>{if(D)return;let we=!0;if(X&&W&&(we=W(te)),!H)return!dm(te.keyCode)&&!um(te.keyCode)&&te.preventDefault(),!1;if(we&&S&&(we=S({event:te,type:"autoComplete",autocompleteValues:O,selected:M})),we&&(m!=null&&m.onKeyDown)){const{alias:ze,args:Qe}=m.onKeyDown;he[ze](ga(Ol({event:te,metaSet:y},Qe),{value:le}))}return!1},[D,m,y,h,X,W,S,O,M,H]),bt=(0,a.useCallback)(({event:te,value:le})=>{if(D)return;let we=!0;if(x&&(we=x({event:te,metaSet:y,value:le})),we&&(m!=null&&m.onEsc)){const{alias:ze,args:Qe}=m.onEsc;we=he[ze]({event:te,metaSet:y,args:Qe,value:le})}return we&&(Le(),De(),Ie(Tr.default),Pe.current.scrollLeft=0),!1},[D,y,m,x,Le,De,Ie,Pe]),ft=(0,a.useCallback)(({event:te,value:le})=>{if(D||ce)return;te.preventDefault();const we=Array.isArray(le)?le[0]:le,ze=(we==null?void 0:we.root)===C;let Qe=!0;if(ze)at();else if(at(we==null?void 0:we.root),w&&(Qe=w({event:te,metaSet:y,value:we})),Qe&&(m!=null&&m.onSelect)){const{alias:gt,args:se}=m.onSelect;Qe=he[gt]({args:se,value:we})}return Qe&&(Le(),De(),Ie(Tr.default)),!1},[D,y,m,w,De,Le,Ie,C,at,ce]),ht=(0,a.useCallback)(({event:te,value:le})=>{if(!(D||te.repeat)){if(!Ce())Ae();else if(M===-1){const we=le?{keyValue:it(le),root:le}:it(le);let ze=!0;if(k&&(ze=k({event:te,metaSet:y,value:we})),ze&&(m!=null&&m.onEnter)){const{alias:Qe,args:gt}=m.onEnter;ze=he[Qe]({args:gt,value:we})}ze&&(Le(),De(),Ie(Tr.default))}else if(M>=0){const we=O==null?void 0:O[M];if(!we)return!1;const{key:ze,value:Qe}=we;ft({event:te,value:{keyValue:ze,root:Qe}})}return!1}},[it,De,D,Ie,y,m,O,M,k,ft,Ce,Ae]),Be=(0,a.useCallback)(({event:te,value:le})=>{if(D)return;let we=!0;const ze=it(le);if(F&&(we=F({event:te,metaSet:y,value:ze})),we&&(m!=null&&m.onBlur)){const{alias:Qe,args:gt}=m.onBlur;we=he[Qe]({event:te,metaSet:y,args:gt,value:ze})}return we&&(we=qe({event:te,value:ze})),we&&(Le(),Pe.current.scrollLeft=0,Ye()),!1},[D,y,m,F,Le,Ye,it,Pe,qe]),ie=(0,a.useCallback)(({event:te})=>{te.relatedTarget!==Pe.current&&Ye()},[Ye,Pe]),Ze=(0,a.useCallback)(({event:te,value:le})=>{const we=le||"*",ze=ga(Ol({},y),{isOpenList:X});let Qe=!0;if(L&&(Qe=L({event:te,metaSet:ze,value:we})),Qe&&(m!=null&&m.onImmediatelyAutoComplete)){const{alias:gt,args:se}=m.onImmediatelyAutoComplete;he[gt]({event:te,metaSet:ze,args:se,value:we})}return Qe},[D,m,L,X,y]),tt=(0,a.useCallback)(({event:te,metaSet:le,value:we,isButtonClick:ze})=>{var Qe;if(D)return!1;R?(Le(),De()):ze&&(document.activeElement!==Pe.current&&((Qe=Pe.current)==null||Qe.focus()),ue(xe=>!xe),Ze({event:te}),Ce()||Ae());let gt=!0;if(U&&(gt=U({event:te,metaSet:le,value:we,isButtonClick:ze})),gt&&(m!=null&&m.onClick)){const{alias:se,args:xe}=m.onClick;he[se]({event:te,metaSet:le,value:we,args:xe,isButtonClick:ze})}return!1},[D,Ze,Pe,Ae,Ce,Ie,Le,R,De,U,m]),_t=(0,a.useCallback)(({event:te,metaSet:le,value:we,isButtonClick:ze})=>{var Qe;if(!(D&&!c))return R?(Le(),De()):ze?(document.activeElement!==Pe.current&&((Qe=Pe.current)==null||Qe.focus()),ue(se=>!se),Ze({event:te}),Ce()||Ae()):Ce()&&(Ze({event:te}),ue(!0),Ie(Tr.selected)),ke({specificEvent:V,nativeEvent:"onDoubleClick",event:te,metaSet:le,value:we,isButtonClick:ze}),!1},[D,Ze,Pe,Ae,Ce,Ie,Le,R,De,Ce,V,m]);(0,a.useEffect)(()=>{R&&Ce()&&(De(),Ie(Tr.default))},[R,Ce,De,Ie]),(0,a.useEffect)(()=>{C===h&&at()},[C,h,at]);const ve=(0,a.useMemo)(()=>O==null?void 0:O.map(({key:te="",value:le=""})=>({value:{keyValue:te,root:le},keyValue:te,className:re?`${Du}__item_palette`:`${Du}__item`,onMouseDown:ft})),[ft,O]),pe=(0,a.useMemo)(()=>{const te=Ol({},m);return delete te.onBlur,delete te.onEnter,delete te.onSelect,delete te.onEsc,delete te.onKeyDown,delete te.onChange,delete te.onClick,delete te.onDoubleClick,delete te.onImmediatelyAutoComplete,delete te.onResetAutocompleteValues,!b&&H&&delete te.onLookup,te},[m,b,H]);if(i)return null;const ae=(0,s.jsx)(An,ga(Ol({},G),{_ref:Ee,events:pe,focusedElement:Pe,buttonIconName:ee,isSwitchedToEnum:b,needTextSelection:!0,isDisabled:o,isStatic:l,isParentTable:c,modeSwitch:fe,hasActiveMode:d,isAutoLock:f,isDisabledByAutolock:p,metaSet:y,value:h,onBlur:Be,isEnum:!0,onEnter:ht,onKeyDown:st,onChange:ct,onEsc:bt,onLookup:q,onClick:tt,onDoubleClick:_t,isAutocomplete:H,disableOnEdit:R,formattedValue:g,initialValue:C,showButton:J,style:de,isOpenList:X}));return(0,s.jsx)(_l,{ref:Z,targetComponent:ae,data:ve,Component:ND,className:z,maxHeight:BD,hasMenuOffset:!0,selected:M,elementNode:K,needToRender:ge,onBlur:ie,onKeyDown:st})};Nu.propTypes={_ref:_().object,focusedElement:_().object,selected:_().number,setSelected:_().func,listValues:_().array,elementNode:_().object,containerNode:_().object,hasActiveMode:_().bool,metaSet:_().object,dataAttrs:_().object,events:_().object,value:_().string,formattedValue:_().string,initialValue:_().string,isExcluded:_().bool,isAutoLock:_().bool,isDisabled:_().bool,isDisabledByAutolock:_().bool,isStatic:_().bool,style:_().object,onLookup:_().func,modeSwitch:_().object,keyBoardNavigation:_().func,onResetAutocompleteValues:_().func,onSelect:_().func,onFocus:_().func,onBlur:_().func,onClick:_().func,onChange:_().func,onKeyDown:_().func,onKeyUp:_().func,onEnter:_().func,onEsc:_().func,onDelete:_().func,onTab:_().func,onDoubleClick:_().func,disableOnEdit:_().bool},Nu.defaultProps={_ref:null,metaSet:{},events:{},style:{},isExcluded:!1,isAutoLock:!1,isDisabled:!1,isDisabledByAutolock:!1,isStatic:!1,disableOnEdit:!1};var $D=(0,a.memo)(a4(Nu));function wh(t){return new RegExp(`(<table.*?data-tab="${t}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)table>)`,"gi")}function Mu(t){const e=t.match(new RegExp("(<table[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)table>)","gi"));return e!=null&&e.length&&e.length===1?e:!1}function zD(){return{currentReportTable:null,currentReportRow:null,currentReportSerialNumber:null,uniqueCell:0}}function Tu(t){var e,n,r,o,l;return{"data-tab":t.target.dataset.tab||((e=t.target.parentNode)==null?void 0:e.dataset.tab)||((o=(r=(n=t.target.parentNode)==null?void 0:n.parentNode)==null?void 0:r.parentNode)==null?void 0:o.dataset.tab),"data-row":t.target.dataset.row||((l=t.target.parentNode)==null?void 0:l.dataset.row),"data-col":t.target.dataset.col,"data-lvl":t.target.dataset.lvl,"data-grp":t.target.dataset.grp,"data-ind":t.target.dataset.ind,"data-ser":t.target.dataset.ser,"data-event":t.target.dataset.event}}function Fu(t){const e=t==null?void 0:t.split(";");let n=null;return e&&e[0]==="h"&&(n=+e[1]?"onExpand":"onCollapse"),n}function Au(t){let e=parseInt(t,10),n="";for(;e;)n+=""+e--+"|";return n&&(n=n.slice(0,-1)),n||0}function LD({dataTab:t,dataRow:e,dataLvl:n}){return n?t?new RegExp(`(<tr.*?data-tab="${t}".*?data-row="${e}".*?data-lvl="${n}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):new RegExp(`(<tr.*?data-row="${e}".*?data-lvl="${n}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):t?new RegExp(`(<tr.*?data-tab="${t}".*?data-row="${e}".*?data-lvl="\\d+"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):new RegExp(`(<tr.*?data-row="${e}".*?data-lvl="\\d+"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi")}function xh(t){const e=t==null?void 0:t.match(/data-tab=\"(.*?)\"/),n=t==null?void 0:t.match(/data-row=\"(.*?)\"/),r=t==null?void 0:t.match(/data-lvl=\"(.*?)\"/);return!n||!r?!1:{dataRow:n[1],dataLvl:parseInt(r[1],10),dataTab:e}}function HD(t,e){let n,r;return e?(n=wh(e[1]),r=t.match(n)):r=Mu(t),r?r.join(""):t}function WD(t,e,n){const o=t.search(new RegExp(`<tr.*?data-row="${e}".*?data-lvl="${n}"`,"gm")),i=t.slice(o).search(/<\/tr>/gm);return t.slice(o,o+i+5)}function VD({whereReplace:t,whatToReplace:e,reservedRow:n}){const r=xh(e),o=xh(n),l=r||o,i=r?e:n;if(!l)return t;const{dataTab:c,dataLvl:d,dataRow:u}=l,m=HD(t,c),f=WD(m,u,d),p=m.replace(f,i);return t.replace(m,p)}const UD=t=>{const e={style:"",link:[],script:[],body:"",thead:"",table:"",tbody:[]},n=document.createElement("html");n.innerHTML=t;const r=l=>{var i,c,d;const u=n.getElementsByTagName(`${l}`),m=f=>f==="undefined"?"":f;for(let f=0;f<u.length;f++)switch(l){case"link":e[`${l}`][f]={attributes:Array.from((i=u[f])==null?void 0:i.attributes)};break;case"script":e[`${l}`][f]={src:(d=Array.from((c=u[f])==null?void 0:c.attributes).find(p=>(p==null?void 0:p.name)==="src"))==null?void 0:d.value,text:m(u[f].innerHTML)};break;case"table":e[`${l}`]+=l==="table"?u[f].className:"";break;case"thead":e[`${l}`]+=m(l==="thead"?u[f].outerHTML:u[f].innerHTML);break;case"tbody":e[`${l}`][f]=[...u[f].children];break;default:e[`${l}`]+=m(l==="body"?u[f].innerHTML:u[f].outerHTML);break}};return["style","link","body","script","thead","table","tbody"].forEach(l=>r(l)),e},GD=t=>{const e=t.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=(l,i)=>document.elementFromPoint(l,i);return e.right<0||e.bottom<0||e.left>n||e.top>r?!1:t.contains(o(e.left,e.top))||t.contains(o(e.right,e.top))||t.contains(o(e.right,e.bottom))||t.contains(o(e.left,e.bottom))},ZD=t=>{const e=document.querySelectorAll(`.${t}`);let n=[];for(let r=0;r<e.length;r++)GD(e[r])&&n.push(e[r]);if(n.length){const r=document.createElement("IFRAME");document.body.appendChild(r);const o=r.contentWindow.document;n.forEach(l=>{o.write('<div style="-webkit-print-color-adjust: exact; color-adjust: exact">'+(l==null?void 0:l.outerHTML)+"</div>")}),o.close(),r.contentWindow.focus(),r.contentWindow.print(),setTimeout(()=>{document.body.removeChild(r)},500)}};var JG={popperIconSize:"18px",primaryColor:"#0bd688"},KD=Object.defineProperty,qD=Object.defineProperties,YD=Object.getOwnPropertyDescriptors,Sh=Object.getOwnPropertySymbols,XD=Object.prototype.hasOwnProperty,JD=Object.prototype.propertyIsEnumerable,Ph=(t,e,n)=>e in t?KD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ba=(t,e)=>{for(var n in e||(e={}))XD.call(e,n)&&Ph(t,n,e[n]);if(Sh)for(var n of Sh(e))JD.call(e,n)&&Ph(t,n,e[n]);return t},ya=(t,e)=>qD(t,YD(e));const _a="...",Ih=5,Us=(t,e)=>{const n=e-t+1;return Array.from({length:n},(r,o)=>o+t)},QD=({itemsQuantity:t,itemsPerPageInitial:e=60})=>{const[n,r]=(0,a.useState)(1),[o,l]=(0,a.useState)(e),i=n*o,c=i-o,d=Math.ceil(t/o),u={currentPage:n,setCurrentPage:r,itemsPerPage:o,setItemsPerPage:l,lastItemIndex:i,firstItemIndex:c,listOfPages:d,itemsQuantity:t};return(0,a.useEffect)(()=>{localStorage.setItem("currentPage",JSON.stringify(n)),(JSON.parse(localStorage.getItem("currentPage")||"1")===null||JSON.parse(localStorage.getItem("currentPage")||"1")<=0)&&localStorage.setItem("currentPage","1")},[n]),(0,a.useMemo)(()=>{if(d<=6)return ya(ba({},u),{paginationRange:[...Us(1,d)]});const m=Math.max(n-1,1),f=Math.min(n+1,d),p=m>2,v=f<=d-2,b=1,y=d;if(!p&&v){const h=Us(1,Ih);return ya(ba({},u),{paginationRange:[...h,_a,y]})}if(p&&!v){const h=Us(d-Ih+1,d);return ya(ba({},u),{paginationRange:[b,_a,...h]})}if(p&&v){const h=Us(m,f);return ya(ba({},u),{paginationRange:[b,_a,...h,_a,y]})}return ya(ba({},u),{paginationRange:[]})},[d,n,o,c,i])};var QG={popperIconSize:"18px",primaryColor:"#0bd688"};const e1=t=>{const{handleChangePage:e,paginationRange:n,currentPage:r,countOfPages:o}=t;return!n||!r||!o?null:(0,s.jsx)("div",{className:`${Ht}__numbers-wrapper`,children:n.map((l,i)=>l===_a?(0,s.jsx)("div",{className:`${Ht}__dots`,children:"\u2026"},i):(0,s.jsx)("div",{className:`${r===l&&o.length>1?`${Ht}__number_active`:`${Ht}__number`}`,onClick:()=>e(l),children:l},i))})};var Oh=(0,a.memo)(e1);const xo=16;var t1=Object.defineProperty,Eh=Object.getOwnPropertySymbols,n1=Object.prototype.hasOwnProperty,r1=Object.prototype.propertyIsEnumerable,kh=(t,e,n)=>e in t?t1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gs=(t,e)=>{for(var n in e||(e={}))n1.call(e,n)&&kh(t,n,e[n]);if(Eh)for(var n of Eh(e))r1.call(e,n)&&kh(t,n,e[n]);return t};const hr={start:"pagination__button_start",prev:"pagination__button_prev",next:"pagination__button_next",end:"pagination__button_end"},o1=t=>{const{countOfPages:e,currentPage:n=null,className:r,isDisabled:o,handleClick:l,onClickAngleDoubleLeftIcon:i,onClickAngleLeftIcon:c,onClickAngleDoubleRightIcon:d,onClickAngleRightIcon:u,isPrevBtnDisabled:m,isNextBtnDisabled:f,handleChangePage:p,paginationRange:v,isAdaptiveButtons:b}=t,y=Boolean((0,lt.v9)(Dt)),h=y?Zr.Remix:Zr.FontAwesome,g=be()(r,`${Ht}__buttons`,{[`${Ht}_disabled`]:o}),C=be()([`${Ht}__prev-buttons`],{[`${Ht}__prev-buttons_disabled`]:n===1||m}),O=be()([`${Ht}__next-buttons`],{[`${Ht}__next-buttons_disabled`]:n===(e==null?void 0:e.length)||f}),M=(0,a.useMemo)(()=>({handleChangePage:p,currentPage:n,countOfPages:e,paginationRange:v}),[p,n,e,v]);return b?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:g,onClick:l,style:Gs({},y&&{height:"16px",padding:0,fontSize:"initial"}),children:[(0,s.jsxs)("div",{className:C,children:[(0,s.jsx)(Ct,{name:y?"arrow-left-double":"angle-double-left",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.start},set:h,onClick:i}),(0,s.jsx)(Ct,{name:y?"arrow-drop-left":"angle-left",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.prev},set:h,onClick:c})]}),(0,s.jsxs)("div",{className:O,children:[(0,s.jsx)(Ct,{name:y?"arrow-drop-right":"angle-right",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.next},set:h,onClick:u}),(0,s.jsx)(Ct,{name:y?"arrow-right-double":"angle-double-right",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.end},set:h,onClick:d})]})]}),(0,s.jsx)(Oh,Gs({},M))]}):(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:g,onClick:l,style:Gs({},y&&{height:"16px",padding:0,fontSize:"initial"}),children:[(0,s.jsxs)("div",{className:C,children:[(0,s.jsx)(Ct,{name:y?"arrow-left-double":"angle-double-left",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.start},set:h,onClick:i}),(0,s.jsx)(Ct,{name:y?"arrow-drop-left":"angle-left",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.prev},set:h,onClick:c})]}),(0,s.jsx)(Oh,Gs({},M)),(0,s.jsxs)("div",{className:O,children:[(0,s.jsx)(Ct,{name:y?"arrow-drop-right":"angle-right",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.next},set:h,onClick:u}),(0,s.jsx)(Ct,{name:y?"arrow-right-double":"angle-double-right",size:xo,type:"line",className:"pagination__icon",dataAttrs:{"data-id":hr.end},set:h,onClick:d})]})]})})};var Bu=(0,a.memo)(o1);const l1=t=>{const{countOfPages:e,handleChangePage:n,isSmallSize:r,currentPage:o}=t,[l,i]=(0,a.useState)(!1),c=(0,a.useRef)(null),d=be()({[`${Ht}__input-wrapper_small`]:r}),u=be()({[`${Ht}__input_error`]:l});(0,a.useEffect)(()=>{c.current&&(c.current.value=o,i(!1))},[c,o]);const m=(0,a.useCallback)(f=>{if(!f.target.value)return;f.target.value=f.target.value.replace(/[^0-9]/g,"");const p=parseInt(f.target.value,10);p<=e.length&&p>0&&n(p),p>e.length||p<=0?i(!0):i(!1)},[n]);return(0,s.jsxs)("div",{className:`${Ht}__input-wrapper ${d}`,children:[(0,s.jsx)("label",{className:`${Ht}__label-input`,children:"\u041A \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435"}),(0,s.jsx)("input",{ref:c,className:`${Ht}__input ${u}`,onChange:m})]})};var jh=(0,a.memo)(l1);const a1=t=>{const{itemsPerPage:e=10,handleChangeItemsPerPage:n,itemsQuantity:r=0,isSmallSize:o}=t,l=(0,a.useRef)(null),[i,c]=(0,a.useState)(!1),d=r>kl?kl:r,u=be()(Ht,{[`${Ht}__input_error`]:i}),m=be()({[`${Ht}__items-count_small`]:o});(0,a.useEffect)(()=>{l.current&&localStorage.getItem("valueOfElements")===null||+(localStorage.getItem("valueOfElements")||"60")>kl?l.current!==null&&(l.current.value=e):l.current!==null&&(l.current.value=localStorage.getItem("valueOfElements")||"60")},[l]);const f=(0,a.useCallback)(p=>{if(!p.target.value)return;p.target.value=p.target.value.replace(/[^0-9]/g,"");const v=parseInt(p.target.value,10);v>0?localStorage.setItem("valueOfElements",JSON.stringify(v)):localStorage.setItem("valueOfElements",JSON.stringify(e)),v>kl?(n(kl),c(!0)):v<=0?(n(e),c(!0)):v>r?(n(r),c(!0)):(n(v),c(!1))},[l.current,n]);return(0,s.jsxs)("div",{className:`${Ht}__items-count ${m}`,children:[(0,s.jsx)("p",{children:"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E"}),(0,s.jsx)("input",{ref:l,className:`${Ht}__input ${u}`,onChange:f}),(0,s.jsxs)("p",{children:["\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430(\u043E\u0432) ",(0,s.jsxs)("span",{children:[" (\u043D\u0435 \u0431\u043E\u043B\u0435\u0435 ",d,")"]})]})]})};var Rh=(0,a.memo)(a1),s1=Object.defineProperty,Dh=Object.getOwnPropertySymbols,i1=Object.prototype.hasOwnProperty,c1=Object.prototype.propertyIsEnumerable,Nh=(t,e,n)=>e in t?s1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,El=(t,e)=>{for(var n in e||(e={}))i1.call(e,n)&&Nh(t,n,e[n]);if(Dh)for(var n of Dh(e))c1.call(e,n)&&Nh(t,n,e[n]);return t};const Ht="pagination",kl=500,$u="toggle-button",u1=t=>{const{listOfPages:e,currentPage:n,setCurrentPage:r,paginationRange:o,itemsPerPage:l,setItemsPerPage:i,itemsQuantity:c}=t,[d,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!0),b=(0,a.useRef)(null),y=be()({[`${Ht}__small`]:d}),h=be()({[`${Ht}__hidden`]:!p}),g=be()({[`${$u}_small`]:d});(0,a.useEffect)(()=>{if(b.current){const N=new uo.Z(C);return N.observe(b.current),()=>{b.current&&N.unobserve(b.current)}}},[b]);const C=(0,a.useCallback)(()=>{let N=!1,L=!1;b.current!==null&&(N=b.current.clientWidth<900,L=b.current.clientWidth<500),u(N),f(L)},[b]);(0,a.useEffect)(()=>{const N=JSON.parse(localStorage.getItem("currentPage")||"1"),L=JSON.parse(localStorage.getItem("valueOfElements")||"60");L&&L<=kl&&(i==null||i(L)),N===null?r==null||r(1):r==null||r(N)},[]);const O=(0,a.useMemo)(()=>[...Array(e).keys()],[e]),M=(0,a.useCallback)(N=>{N===void 0||!N||N>O.length||r==null||r(N)},[O.length]),P=(0,zt.debounce)(M,500),x=(0,a.useCallback)(N=>{N&&(i==null||i(N),r==null||r(1))},[]),k=(0,zt.debounce)(x,500),E=(0,a.useCallback)(()=>{r==null||r(1)},[]),w=(0,a.useCallback)(()=>{r==null||r(N=>N<=1?N:N-1)},[]),S=(0,a.useCallback)(()=>{r==null||r(O.length)},[O]),F=(0,a.useCallback)(()=>{r==null||r(N=>N>=O.length?N:N+1)},[O]),A=(0,a.useCallback)(()=>{v(!p)},[p]),$=(0,a.useMemo)(()=>({countOfPages:O,currentPage:n,onClickAngleDoubleLeftIcon:E,onClickAngleLeftIcon:w,onClickAngleDoubleRightIcon:S,onClickAngleRightIcon:F,handleChangePage:P,paginationRange:o,isAdaptiveButtons:m}),[O,n,E,w,S,F,P,o,m]),U=(0,a.useMemo)(()=>({itemsPerPage:l,handleChangeItemsPerPage:k,itemsQuantity:c,isSmallSize:d}),[l,k,c,d]),V=(0,a.useMemo)(()=>({handleChangePage:P,countOfPages:O,isSmallSize:d,currentPage:n}),[P,O,d]);return d?(0,s.jsxs)("div",{className:`${Ht}__main-wrapper${y}`,ref:b,children:[(0,s.jsx)("div",{className:p?`${g} fa fa-angle-down`:`${g} fa fa-angle-up`,onClick:A,title:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C/\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C"}),(0,s.jsxs)("div",{className:`${Ht} ${h}`,children:[(0,s.jsx)("div",{className:`${Ht}__left-block`,children:(0,s.jsx)(Bu,El({},$))}),(0,s.jsxs)("div",{className:`${Ht}__center-block`,children:[(0,s.jsx)(jh,El({},V)),(0,s.jsx)(Rh,El({},U))]})]})]}):(0,s.jsxs)("div",{className:`${Ht}__main-wrapper`,ref:b,children:[(0,s.jsx)("div",{className:p?`${$u} fa fa-angle-down`:`${$u} fa fa-angle-up`,onClick:A,title:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C/\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C"}),(0,s.jsxs)("div",{className:`${Ht} ${h}`,children:[(0,s.jsxs)("div",{className:`${Ht}__left-block`,children:[(0,s.jsx)(Bu,El({},$)),(0,s.jsx)(jh,El({},V)),(0,s.jsx)(Rh,El({},U))]}),n&&O&&(0,s.jsxs)("p",{className:`${Ht}__current-page`,children:["\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 ",n," \u0438\u0437 ",O.length]})]})]})};var d1=(0,a.memo)(u1),f1=Object.defineProperty,p1=Object.defineProperties,m1=Object.getOwnPropertyDescriptors,Mh=Object.getOwnPropertySymbols,v1=Object.prototype.hasOwnProperty,h1=Object.prototype.propertyIsEnumerable,Th=(t,e,n)=>e in t?f1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zu=(t,e)=>{for(var n in e||(e={}))v1.call(e,n)&&Th(t,n,e[n]);if(Mh)for(var n of Mh(e))h1.call(e,n)&&Th(t,n,e[n]);return t},Fh=(t,e)=>p1(t,m1(e));const g1=t=>{const{className:e,isDisabled:n,isStatic:r,isPrevBtnDisabled:o,isNextBtnDisabled:l,onClick:i,onButtonClick:c,metaSet:d,events:u,countOfPages:m,currentPage:f}=t,p=(0,a.useCallback)(b=>{var y,h;if(n||r)return;const g=(h=(y=b==null?void 0:b.target)==null?void 0:y.dataset)==null?void 0:h.id;if(g&&(c&&c({value:g,metaSet:d,event:b}),u!=null&&u.onButtonClick)){const{alias:C,args:O}=b.onButtonClick;he[C](Fh(zu({value:g},O),{event:b}))}if(i&&i({metaSet:d,event:b}),u!=null&&u.onClick){const{alias:C,args:O}=b.onClick;he[C](Fh(zu({},O),{event:b}))}},[n,r,i,c,u,d]),v=(0,a.useMemo)(()=>({isDisabled:n,handleClick:p,isPrevBtnDisabled:o,isNextBtnDisabled:l,className:e,countOfPages:m,currentPage:f}),[n,p,o,l,e,m,f]);return(0,s.jsx)(Bu,zu({},v))};var b1=(0,a.memo)(g1);const y1=(0,B.ZP)("div")`
background-color:${()=>I("pagination-background-default")};
border: 1px solid ${()=>I("pagination-border-default")};
border-radius: 0px 0px 8px 8px;
padding: 4px 16px;
min-height: 24px;
height: auto;
width: 100%;
display: flex;
justify-content: space-between;
box-sizing: border-box;
`;function _1(t){function e(r){const{palette:o,isParentTable:l,isServerSide:i}=r;return l||!o||!i?t(r):(0,s.jsx)(y1,{children:t(r)})}const n=r=>({palette:Dt(r)});return(0,lt.$j)(n)(e)}var C1=_1,w1=Object.defineProperty,Zs=Object.getOwnPropertySymbols,Ah=Object.prototype.hasOwnProperty,Bh=Object.prototype.propertyIsEnumerable,$h=(t,e,n)=>e in t?w1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zh=(t,e)=>{for(var n in e||(e={}))Ah.call(e,n)&&$h(t,n,e[n]);if(Zs)for(var n of Zs(e))Bh.call(e,n)&&$h(t,n,e[n]);return t},x1=(t,e)=>{var n={};for(var r in t)Ah.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zs)for(var r of Zs(t))e.indexOf(r)<0&&Bh.call(t,r)&&(n[r]=t[r]);return n};const S1=t=>{const e=t,{isServerSide:n=!1,isClientSide:r=!1,isExcluded:o}=e,l=x1(e,["isServerSide","isClientSide","isExcluded"]);return o?null:r?(0,s.jsx)(d1,zh({},l)):n?(0,s.jsx)(b1,zh({},l)):(console.warn("\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D \u0442\u0438\u043F \u043F\u0430\u0433\u0438\u043D\u0430\u0446\u0438\u0438"),null)};var jl=(0,a.memo)(C1(S1)),P1=Object.defineProperty,I1=Object.defineProperties,O1=Object.getOwnPropertyDescriptors,Ks=Object.getOwnPropertySymbols,Lh=Object.prototype.hasOwnProperty,Hh=Object.prototype.propertyIsEnumerable,Wh=(t,e,n)=>e in t?P1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ca=(t,e)=>{for(var n in e||(e={}))Lh.call(e,n)&&Wh(t,n,e[n]);if(Ks)for(var n of Ks(e))Hh.call(e,n)&&Wh(t,n,e[n]);return t},Lu=(t,e)=>I1(t,O1(e)),E1=(t,e)=>{var n={};for(var r in t)Lh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ks)for(var r of Ks(t))e.indexOf(r)<0&&Hh.call(t,r)&&(n[r]=t[r]);return n};const k1="report",wa=(t,e)=>Array.from((e||document).querySelectorAll(t));function Hu(t){const{className:e,id:n,dataAttrs:r,isDisabled:o,isExcluded:l,name:i,formId:c,value:d,metaSet:u,selectedCellId:m,onCellSelect:f,onClick:p,onDoubleClick:v,onExpand:b,onCollapse:y,events:h,freezeHeader:g,freezeSide:C,scrollTop:O,scrollLeft:M}=t,P=(0,a.useMemo)(()=>UD(d),[d]),[x,k]=(0,a.useState)(!1),[E,w]=(0,a.useState)(!1),S=(0,a.useRef)(null),F=P.tbody[0],A=60,$=(F==null?void 0:F.length)>=A,U=QD({itemsPerPageInitial:A,itemsQuantity:F==null?void 0:F.length}),{firstItemIndex:V,lastItemIndex:N}=U,L=E1(U,["firstItemIndex","lastItemIndex"]),j=F==null?void 0:F.slice(V,N),R=d&&Mu(d);let H=zD();const W=(0,a.useCallback)(D=>{const z=!!D.attribs;z&&(D.attribs.uniquecell=H.uniqueCell++);const q=J=>{J.forEach(X=>{if(X.type==="tag"){z&&X.name==="tr"&&(X.attribs["data-tab"]=H.currentReportTable,H.currentReportRow=X.attribs["data-row"]||null,H.currentReportSerialNumber=1),X.name==="td"&&(X.attribs["data-tab"]=H.currentReportTable,X.attribs["data-row"]=H.currentReportRow,!X.attribs["data-ind"]&&(X.attribs["data-tab"]||X.attribs["data-row"]||X.attribs["data-col"])&&(X.attribs["data-ser"]=H.currentReportSerialNumber++),X.attribs.class.includes("hdr1")&&(X.attribs["data-ser"]=H.currentReportSerialNumber++));for(let ue in X)Array.isArray(X[ue])&&q(X[ue])}})};if(D.name==="table"&&typeof D.attribs["data-tab"]!="undefined"){let{children:J}=D;H.currentReportTable=D.attribs["data-tab"],q(J)}else z&&D.type==="tag"&&(D.name==="tr"&&(H.currentReportRow=D.attribs["data-row"],H.currentReportSerialNumber=1),D.name==="td"&&(D.attribs["data-row"]=H.currentReportRow,!D.attribs["data-ind"]&&(D.attribs["data-tab"]||D.attribs["data-row"]||D.attribs["data-col"])&&(D.attribs["data-ser"]=H.currentReportSerialNumber++)),D.name==="th"&&D.attribs.class.includes("hdr1")&&(D.attribs["data-ser"]=H.currentReportSerialNumber++))},[H]),K=(0,a.useCallback)(D=>{if(D.name!=="td"||!D.attribs||!D.attribs["data-ind"]||!Fu(D.attribs["data-ind"]))return;const z=Ca({},D.children[0]);z.attribs=Lu(Ca({},D.attribs),{class:"","data-hierarchy-button":!0,"data-lvl":D.parent.attribs&&D.parent.attribs["data-lvl"]||void 0,"data-grp":D.parent.attribs&&D.parent.attribs["data-grp"]||void 0,"data-tab":D.parent.attribs&&D.parent.attribs["data-tab"]||void 0}),z.type="tag",z.name="button",z.children=[...D.children],D.children=[z]},[]),Z=(0,a.useCallback)(D=>{D.name==="style"?D.children=D.children.map(z=>(z.data=`'.report__container' ${z.data}`,z)):(W(D),K(D))},[W,K]),G=(0,a.useCallback)(D=>{if(o||!["BUTTON","TD","TH"].includes(D.target.tagName))return;let z=!0;const q=D.detail,J=["BUTTON"].includes(D.target.tagName);if(q===1||J)if(J){const X=Tu(D),ue=Fu(X["data-ind"]);ue==="onExpand"?z=ke({specificEvent:b,nativeEvent:"onExpand",event:D,metaSet:u,value:X,events:h}):ue==="onCollapse"&&(z=ke({specificEvent:y,nativeEvent:"onCollapse",event:D,metaSet:u,value:X,events:h}))}else if(D.target.className.includes("hdr1")){const X=Tu(D);z=ke({specificEvent:p,nativeEvent:"onClick",event:D,metaSet:u,value:X,events:h})}else{const X=D==null?void 0:D.target.getAttribute("uniqueCell");z=ke({specificEvent:f,nativeEvent:"onCellSelect",event:D,metaSet:u,value:X,events:h})}else if(q===2){const X=Tu(D);z=ke({specificEvent:v,nativeEvent:"onDoubleClick",event:D,metaSet:u,value:X,events:h})}return z},[o,f,v,b,y,u,h]);(0,a.useEffect)(()=>{if(m){let D=document.querySelectorAll(`[id="${c}"] .report[data-name="${i}"] .report__cell_selected`);D.length&&D.forEach(q=>{q==null||q.classList.remove("report__cell_selected")});const z=document.querySelector(`[id="${c}"] .report[data-name="${i}"] [uniqueCell="${m}"]`);z==null||z.classList.add("report__cell_selected")}},[m]),(0,a.useEffect)(()=>{P!=null&&P.script.length&&!x&&(P==null||P.script.map(D=>{const z=document.createElement("script");z.type="text/javascript",D.src?(z.src=D.src,document.head.appendChild(z)):(z.innerHTML=D.text,document.body.appendChild(z))}),k(!0)),P.link.length&&!E&&(P==null||P.link.map(D=>{const z=document.createElement("link");D.attributes&&(D.attributes.forEach(q=>{z[q==null?void 0:q.name]=q==null?void 0:q.textContent}),document.head.appendChild(z)),w(!0)}))},[P,x,E]);const re=be()(e,k1,{report_disabled:o});(0,a.useEffect)(()=>{if(d){let D=wa("table.rep");if(D=D&&D.length?D[0]:void 0,!D)return;let z=wa("tr",D);if(!(z&&z.length))return;let q=wa("thead",D);q=q&&q.length?q[0]:void 0;let J=document.querySelector(".report");g&&(J.style.height="100%",J.style.overflow="auto",q.classList.add("freezeHeader"));let X={freezedCells:[],freezeCellsLength:[]};z.forEach(de=>{let ge=de.querySelectorAll(".freeze");ge.length>1&&X.freezedCells.push(ge);let fe=wa("td",de);fe&&fe.length||(fe=wa("th",de)),fe.forEach(Ee=>{C&&Ee.classList.contains("freeze")&&Ee.classList.add("freezeCells"),de.style.height=Ee.offsetHeight+"px;"})}),X.freezedCells.forEach(de=>{if(C){let ge=0;if(de.length>2)for(const Ce of de)ge+=Ce.offsetWidth;let fe=[...de],Ee=[];fe.map(Ce=>Ee.push(Ce.offsetWidth)),Ee=Ee.map((Ce,Se)=>Ee.slice(0,Se+1).reduce((je,at)=>je+at));for(let Ce=1;Ce<=fe.length;Ce+=1)for(let Se=0;Se<=Ee.length;Se+=1)fe[Ce]!==void 0&&(fe[Ce].style.left=`${Ee[Ce-1]}px`);const Pe=()=>{D.style.overflowX=ge>J.offsetWidth?"hidden":"auto",J.style.overflowX=ge>J.offsetWidth?"hidden":"auto"};if(S.current){const Ce=new uo.Z(Pe);return Ce.observe(S.current),()=>{S.current&&Ce.unobserve(S.current)}}}});const ue=()=>{if(C||g){let de=window.innerWidth,ge=X.freezeCellsLength[0]+20;D.style.overflowX=de<=ge?"hidden":"auto",J.offsetHeight>D.offsetHeight+20&&(D.style.display="block",J.style.overflowX=de<=ge?"visible":"hidden")}};return ue(),window.addEventListener("resize",ue),()=>{window.removeEventListener("resize",ue)}}},[d,g,C]),(0,a.useEffect)(()=>{S.current&&setTimeout(()=>S.current.scrollTo(M||0,O||0),10)},[]),(0,a.useEffect)(()=>()=>{if(h!=null&&h.saveContent&&S.current){const{alias:D,args:z}=h.saveContent;he[D]({args:z,data:{scrollTop:S.current.scrollTop,scrollLeft:S.current.scrollLeft}})}},[]);const ee=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",Lu(Ca({className:re,"data-name":i,ref:S,id:n},r),{onClick:G,children:[(0,nr.ZP)(P.style,{replace:Z}),(0,s.jsxs)("table",{className:P.table,children:[(0,nr.ZP)(P.thead,{replace:Z}),(0,s.jsx)("tbody",{children:j==null?void 0:j.map((D,z)=>(0,s.jsx)(a.Fragment,{children:(0,nr.ZP)(D.outerHTML,{replace:Z})},z))})]})]})),(0,s.jsx)(jl,Ca({isClientSide:!0},L))]}),ce=()=>(0,s.jsx)("div",Lu(Ca({className:re,"data-name":i,ref:S,id:n},r),{onClick:G,children:(0,nr.ZP)(P.style+P.body,{replace:Z})}));return l?null:(0,s.jsx)(s.Fragment,{children:d&&$&&R?ee():ce()})}Hu.propTypes={className:_().string,id:_().string,dataAttrs:_().object,isExcluded:_().bool,name:_().string.isRequired,type:_().string.isRequired,formId:_().string.isRequired,value:_().string.isRequired,metaSet:_().object,selectedCellId:_().string,onCellSelect:_().func,onClick:_().func,onDoubleClick:_().func,onExpand:_().func,onCollapse:_().func,events:_().object,freezeHeader:_().bool,freezeSide:_().bool,scrollTop:_().number,scrollLeft:_().number},Hu.defaultProps={className:"",disabled:!1,id:"",dataAttrs:{}};var j1=(0,a.memo)(Hu),e6={popperIconSize:"18px",primaryColor:"#0bd688"},R1=Object.defineProperty,D1=Object.defineProperties,N1=Object.getOwnPropertyDescriptors,Vh=Object.getOwnPropertySymbols,M1=Object.prototype.hasOwnProperty,T1=Object.prototype.propertyIsEnumerable,Uh=(t,e,n)=>e in t?R1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gh=(t,e)=>{for(var n in e||(e={}))M1.call(e,n)&&Uh(t,n,e[n]);if(Vh)for(var n of Vh(e))T1.call(e,n)&&Uh(t,n,e[n]);return t},F1=(t,e)=>D1(t,N1(e));const qs=B.ZP.label`
  position: relative;
  margin: 2px;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
  ${({labelPosition:t})=>B.iv`
    flex-direction: ${t==="right"?"row":"row-reverse"};
  `}
`,A1=B.ZP.div`
  padding: 0 8px;
  line-height: 16px;
  vertical-align: middle;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 14px;
  color: ${({isDisabled:t})=>I(t?"label-disable":"label")};
`,B1=B.ZP.input`
  position: absolute;
  height: 0;
  width: 0;
  opacity: 0;
  cursor: pointer;
`,$1=B.ZP.span`
  position: relative;
  flex: 0 0 16px;
  height: 16px;
  width: 16px;
  border-radius: 100%;
  ${({isDisabled:t})=>B.iv`
    border: 1px solid
      ${I(t?"radiobutton-off-border-disable":"radiobutton-off-border-default")};
    background-color: ${I(t?"radiobutton-off-background-disable":"radiobutton-off-background-default")};
  `}

  &:after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    width: 6px;
    height: 6px;
    transform: translate(-50%, -50%);
    display: block;
    border-radius: 100%;
    background-color: ${({isDisabled:t})=>I(t?"radiobutton-off-mark-disable":"radiobutton-off-mark-default")};
  }
  
  ${qs}:focus-within && {
    outline-offset: 1px;
    outline: 2px solid ${()=>I("focus-outline")};
    ${({value:t})=>B.iv`
      background-color: ${I(t?"radiobutton-on-background-focus":"radiobutton-off-background-focus")};
      border-color: ${I(t?"radiobutton-on-border-focus":"radiobutton-off-border-focus")};
    `}

    &:after {
      ${({value:t})=>B.iv`
        background-color: ${I(t?"radiobutton-on-mark-focus":"radiobutton-off-mark-focus")};
      `}
    }
  }

  ${({isDisabled:t,value:e})=>e&&B.iv`
      & {
        border-color: ${I(t?"radiobutton-on-border-disable":"radiobutton-on-border-default")};
        background-color: ${I(t?"radiobutton-on-background-disable":"radiobutton-on-background-default")};
      }

      &:after {
        background-color: ${I(t?"radiobutton-on-mark-disable":"radiobutton-on-mark-default")};
      }
    `}

  ${({isDisabled:t,value:e})=>!t&&B.iv`
      ${qs}:hover && {
        border-color: ${I(e?"radiobutton-on-border-hover":"radiobutton-off-border-hover")};
        background-color: ${I(e?"radiobutton-on-background-hover":"radiobutton-off-background-hover")};

        &:after {
          background-color: ${I(e?"radiobutton-on-mark-hover":"radiobutton-off-mark-hover")};
        }
      }

      ${qs}:active && {
        background-color: ${I(e?"radiobutton-on-background-click":"radiobutton-off-background-click")};
        border-color: ${I(e?"radiobutton-on-border-click":"radiobutton-off-border-click")};

        &:after {
          background-color: ${I(e?"radiobutton-on-mark-click":"radiobutton-off-mark-click")};
        }
      }
    `}
`,z1=t=>{const{_ref:e,id:n,tabIndex:r,hint:o,label:l,labelPosition:i,value:c,name:d,group:u,isDisabled:m,isStatic:f,dataAttrs:p,onBlur:v,onFocus:b,onChange:y,onKeyDown:h}=t,g=m||f,C=(0,a.useRef)(null);return pr(C,o||l,""),(0,s.jsxs)(qs,{ref:C,labelPosition:i,children:[(0,s.jsx)(B1,Gh({id:n,ref:e,type:"radio",tabIndex:r,disabled:g,onBlur:v,onFocus:b,onChange:y,onKeyDown:h,checked:c,name:u,value:d},p)),(0,s.jsx)($1,{isDisabled:g,value:c}),l&&(0,s.jsx)(A1,{isDisabled:g,children:l})]})};var L1=(0,a.memo)((0,a.forwardRef)((t,e)=>(0,s.jsx)(z1,F1(Gh({},t),{_ref:e})))),H1=Object.defineProperty,W1=Object.defineProperties,V1=Object.getOwnPropertyDescriptors,Zh=Object.getOwnPropertySymbols,U1=Object.prototype.hasOwnProperty,G1=Object.prototype.propertyIsEnumerable,Kh=(t,e,n)=>e in t?H1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e)=>{for(var n in e||(e={}))U1.call(e,n)&&Kh(t,n,e[n]);if(Zh)for(var n of Zh(e))G1.call(e,n)&&Kh(t,n,e[n]);return t},Z1=(t,e)=>W1(t,V1(e));const gr="radio_button",Ys=`${gr}__label`,Xs=(0,a.forwardRef)((t,e)=>{var n,r;const{className:o,dataAttrs:l,events:i,group:c,hasActiveMode:d,mode:u,modeSwitch:m,hint:f,id:p,initialValue:v,isDisabled:b,isMultiLine:y,isParentTable:h,isRequired:g,isStatic:C,isWrapped:O,isFixSize:M,label:P,labelPosition:x,metaSet:k,name:E,onBlur:w,onChange:S,onEdit:F,onFocus:A,onModeChange:$,onTab:U,onImplicitChange:V,style:N,tabIndex:L,type:j,value:R}=t,H=(i==null?void 0:i.onEdit)||F,W=P?cc(P):void 0,K=Array.isArray(W)?W.join():W,Z=(0,a.useMemo)(()=>Hn({isFixSize:M,style:N,type:j}),[M,N]),G=typeof R=="string"?R==="true":!!R,re=typeof v=="string"?v==="true":!!v,ee=(0,a.useRef)(null);let ce=(0,a.useRef)(null);ce=e||ce;const[D,z]=Lo(u,m),q=z,J=(0,lt.v9)(Dt),X=be()(o,gr,`${gr}__container`,{[`${gr}__with-label`]:!!K,[`${gr}__reverse-label`]:!!K&&x==="left",[`${gr}__disabled`]:b,[`${gr}__static`]:C,[`${gr}__required`]:g,[`${gr}__cell`]:h,[`${gr}__active`]:q.checkActiveMode(),[`${gr}__editable`]:q.checkEditableMode()}),ue=be()("text-ellipsis",Ys,{[`${Ys}_wrapped`]:O,[`${Ys}_multiline`]:y,[`${Ys}_not-multiline`]:!y}),de=(0,a.useCallback)(Se=>{if(b)return;ke({specificEvent:w,nativeEvent:"onBlur",event:Se,metaSet:k,events:i,value:G})&&q.setDefaultMode()},[b,C,w,i,k,G]),ge=(0,a.useCallback)(Se=>{b||C||H||ke({specificEvent:S,nativeEvent:"onChange",event:Se,metaSet:k,events:i,value:!0})},[b,C,S,i,k,H]),fe=(0,a.useCallback)(Se=>{b||(G!==re&&re!==void 0&&ke({specificEvent:V,nativeEvent:"onImplicitChange",event:Se,metaSet:k,events:i,value:re,notValidValue:!0}),ke({specificEvent:A,nativeEvent:"onFocus",event:Se,metaSet:k,events:i,value:G}),d?(q.setActiveMode(),H&&ke({specificEvent:F,nativeEvent:"onEdit",event:Se,metaSet:k,events:i,value:G})):q.setEditableMode())},[b,C,A,i,k,G,d]),Ee=(0,a.useCallback)(Se=>{const{keyCode:je}=Se;b||H||(rr(je)?ge(Se):ua(je)?Ot(Se):Ho(je)?ke({specificEvent:U,nativeEvent:"onTab",event:Se,metaSet:k,events:i,value:G})&&q.setDefaultMode():go(Se)&&Se.preventDefault())},[b,C,i,k,G,U,ge]);(0,a.useEffect)(()=>{!b&&d&&ke({specificEvent:$,nativeEvent:"onModeChange",event,metaSet:k,events:i,value:D})},[b,d,k,i,$,D]),(0,a.useEffect)(()=>{b&&q.setDefaultMode()},[b]),ws({dataAttrs:l,initialValue:re,value:G,resetValue:()=>{ke({specificEvent:V,nativeEvent:"onImplicitChange",event,metaSet:k,events:i,value:re,notValidValue:!0})}}),pr(ee,f||K||((n=ce==null?void 0:ce.current)==null?void 0:n.value),((r=ce==null?void 0:ce.current)==null?void 0:r.value)||"");const Ce=(0,a.useMemo)(()=>Z1(Wu({},t),{_ref:ce,value:G,hint:f,label:K,labelPosition:x,dataAttrs:l,onBlur:de,onFocus:fe,onChange:ge,onKeyDown:Ee}),[ce,G,f,K,x,l,de,fe,ge,Ee]);return J?(0,s.jsx)(L1,Wu({},Ce)):(0,s.jsxs)("label",{ref:ee,className:X,children:[(0,s.jsx)("input",Wu({type:"radio",id:p,ref:ce,tabIndex:L,name:c,value:E,disabled:b||C,onBlur:de,onChange:ge,onFocus:fe,onKeyDown:Ee,checked:G},l)),(0,s.jsx)("span",{className:`${gr}__checkmark`}),K&&(0,s.jsx)("div",{className:ue,style:Z,children:K})]})});Xs.propTypes={className:_().string,dataAttrs:_().any,events:_().any,group:_().string,hasActiveMode:_().bool,mode:_().string,modeSwitch:_().any,hint:_().string,id:_().string,initialValue:_().oneOfType([_().string,_().bool]).isRequired,isDisabled:_().bool,isMultiLine:_().bool,isParentTable:_().bool,isRequired:_().bool,isStatic:_().bool,isWrapped:_().bool,isFixSize:_().bool,label:_().string,labelPosition:_().oneOf(["left","right"]),metaSet:_().object,name:_().string.isRequired,onBlur:_().func,onChange:_().func,onEdit:_().bool,onFocus:_().func,onModeChange:_().func,onTab:_().func,onImplicitChange:_().func,style:_().object,fashion:_().string,tabIndex:_().number,type:_().string.isRequired,value:_().oneOfType([_().string,_().bool]).isRequired},Xs.defaultProps={hasActiveMode:!1,initialValue:!1,isDisabled:!1,isMultiLine:!1,isParentTable:!1,isRequired:!1,isStatic:!1,isWrapped:!1,isFixSize:!1,value:!1},Xs.displayName="RadioButton";var K1=(0,a.memo)(Xs);const q1=(0,B.ZP)("ul")`
    display: grid;
    font-size: 13px;
    list-style-type: none;
`;function Y1({children:t}){return(0,s.jsx)(q1,{children:t})}var X1=Y1;const J1=(0,B.ZP)("li")`
    padding: 6px 8px;
    position: relative;
    box-sizing: border-box;
    overflow: hidden;
    text-overflow: ellipsis;

    &_hidden {
        display: none;
    }

    &_disabled {
        pointer-events: none;
        color: #D5D8E7;
    }

    &_marked {
        cursor: pointer;
        background: transparent;
    }

    ${({isActive:t})=>t&&B.iv`
        background-color: ${I("tree-item-background-default")};
        border-radius: 8px;
    `}
`,Q1=(0,B.ZP)("span")`
    cursor: pointer;
    padding: 0 1px;
    height: 20px;
    text-decoration: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    align-items: center;
    user-select: none;

    &:hover {
        cursor: pointer;
    }
`,eN=(0,B.ZP)("span")`
    font-weight: 400;
    font-size: 12px;
    line-height: 14px;
    font-style: normal;

    height: 14px;
    padding-right: 10px;
    background-color: transparent;
    pointer-events: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`,tN=(0,B.ZP)(Ct)`
    height: 21px;
    width: 21px;
    min-width: 21px;
    max-width: 21px;
    padding: 0 8px;
    display: inline-block;
    pointer-events: none;
    vertical-align: middle;
`,nN=(0,B.ZP)("span")`
    width: 10px;
`;var rN=Object.defineProperty,oN=Object.defineProperties,lN=Object.getOwnPropertyDescriptors,qh=Object.getOwnPropertySymbols,aN=Object.prototype.hasOwnProperty,sN=Object.prototype.propertyIsEnumerable,Yh=(t,e,n)=>e in t?rN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xh=(t,e)=>{for(var n in e||(e={}))aN.call(e,n)&&Yh(t,n,e[n]);if(qh)for(var n of qh(e))sN.call(e,n)&&Yh(t,n,e[n]);return t},Jh=(t,e)=>oN(t,lN(e));function iN(t){const{caption:e,GUID:n,depth:r,name:o,hint:l,iconName:i,nodeId:c,dataAttrs:d,handleNodeClick:u,handleDoubleClick:m,wrapClick:f=h=>g=>h(g),selfTestId:p,preparedDataAttrs:v,depthOffsetSize:b,isActive:y}=t;return(0,s.jsx)(J1,Jh(Xh({isActive:y,"data-item-id":c,"data-item-guid":n,onClick:f(u),onDoubleClick:m},d),{"data-testid":`${p}__command-item`,children:(0,s.jsxs)(Q1,Jh(Xh({},v),{style:{paddingLeft:`${r*b}px`},title:l||rt.t(e),"data-caption":rt.t(e),"data-id":o,"data-testid":`${p}__command-item-link`,children:[i?(0,s.jsx)(tN,{name:i,size:16,type:"line",color:y?"#000":"#B7BAC4"}):(0,s.jsx)(nN,{}),(0,s.jsx)(eN,{children:e})]}))}),n)}var cN=iN;const uN=(0,B.ZP)("li")`
    background: transparent;
    border: none;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;

    &_hidden {
        display: none;
    }
`,dN=(0,B.ZP)("span")`
    background: transparent;
    padding: 6px 8px;
    height: 20px;
    white-space: nowrap;
    overflow: hidden;
    align-items: center;
    display: flex;

    ${({isActive:t})=>t&&B.iv`
        background-color: ${I("tree-item-background-default")};
        border-radius: 8px;
    `}
`,fN=(0,B.ZP)("span")`
    font-weight: 400;
    font-size: 12px;
    line-height: 14px;
    font-style: normal;

    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`,pN=(0,B.ZP)(Ct)`
    padding-right: 4px;
`,mN=(0,B.ZP)(Ct)`
    padding-right: 8px;
    display: inline-block;
    pointer-events: none;
    vertical-align: middle;
`;var vN=Object.defineProperty,hN=Object.defineProperties,gN=Object.getOwnPropertyDescriptors,Qh=Object.getOwnPropertySymbols,bN=Object.prototype.hasOwnProperty,yN=Object.prototype.propertyIsEnumerable,eg=(t,e,n)=>e in t?vN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_N=(t,e)=>{for(var n in e||(e={}))bN.call(e,n)&&eg(t,n,e[n]);if(Qh)for(var n of Qh(e))yN.call(e,n)&&eg(t,n,e[n]);return t},CN=(t,e)=>hN(t,gN(e));function wN(t){const{depth:e,children:n,iconName:r,GUID:o,hint:l,caption:i,nodeId:c,dataAttrs:d,handleToggleItemClick:u,wrapClick:m,handleDoubleClick:f,depthOffsetSize:p,selfTestId:v,isOpenSubItems:b,isActive:y}=t,h=b?"arrow-down-s":"arrow-right-s";return(0,s.jsxs)(uN,CN(_N({id:o,"data-item-id":c,"data-item-guid":o,"data-testid":`${v}__category`},d),{onClick:m(u),onDoubleClick:f,children:[(0,s.jsxs)(dN,{isActive:y,"data-testid":`${v}__category-name`,style:{paddingLeft:`${e*p}px`},title:l||rt.t(i),children:[(0,s.jsx)("span",{"data-arrow-wrapper":!0,children:(0,s.jsx)(pN,{"data-testid":`${v}__category-icon`,name:h,size:12,type:"line",color:I("tree-item-icon-color-default")})}),r&&(0,s.jsx)(mN,{name:r,size:16,type:"line",color:y?"#000":"#B7BAC4"}),(0,s.jsx)(fN,{children:i})]}),b&&n]}),o)}var xN=wN;const xa=()=>B.iv`
-ms-overflow-style: none;
    /* IE 10+ */
    scrollbar-width: none;
    /* Firefox */
    overflow: -moz-scrollbars-none;
    /* Firefox */

    &::-webkit-scrollbar {
        /* chrome based */
        width: 0;
        /* ширина scrollbar'a */
        height: 0;
        /* высота scrollbar'a */
        background: transparent;
        /* опционально */
    }
`,Vu=(t="transparent",e="rgba(0, 0, 0, 0.4)",n=!1,r="#777777")=>B.iv`
    @supports(scrollbar-width: thin) {
        scrollbar-width: thin;
        scrollbar-color: ${e} ${t};
    }

    &::-webkit-scrollbar {
        height: 10px;
        width: 10px;
        background-color: var(--scrollbar-backgroundColor, ${t});

        &-thumb {
            background-color: ${e};
            border: 3px solid transparent;
            border-radius: 20px;
            background-clip: content-box;
            min-height: 30px;
            min-width: 30px;

            &:hover,
            &:active {
                border: 0;
            }
        }

        &-corner {
            background-color: ${t};
        }

        ${n&&B.iv`
            // stylelint-disable-next-line selector-pseudo-class-no-unknown
            &-button:single-button {
                background-color: ${t};
                display: block;
                border-style: solid;
                height: 5px;
                width: 5px;

                /* Up */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical {
                    border-width: 0px 4px 6px 4px;
                    border-color: transparent transparent ${e} transparent;

                    &:hover {
                        border-color: transparent transparent ${r} transparent;
                    }
                }

                /* Down */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical:increment {
                    border-width: 6px 4px 0 4px;
                    border-color: ${e} transparent transparent transparent;

                    &:hover {
                        border-color: ${r} transparent transparent transparent;
                    }
                }

                /* Left */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal {
                    border-width: 4px 6px 4px 0;
                    border-color: transparent ${e} transparent transparent;

                    &:hover {
                        border-color: transparent ${r} transparent transparent;
                    }
                }

                /* Right */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal:increment {
                    border-width: 4px 0 4px 6px;
                    border-color: transparent transparent transparent ${e};

                    &:hover {
                        border-color: transparent transparent transparent ${r};
                    }
                }
            }
        `}
    }
`,SN=()=>B.iv`
    height: auto !important;
    padding: 0px 8px;
    border: 1px solid ${()=>I("input-border")};
    box-shadow: inset 0px -10px 10px #efecff;
    border-radius: 20px;
`,PN=()=>B.iv`
    padding: 0px 8px;
    background: ${()=>I("table-background-default")};
    cursor: default;

    &:hover {
        background: none;
        box-shadow: inset 0px -20px 10px #efecff;
    }

    &:active {
        box-shadow: inset 0px 10px 10px #efecff;
        & span {
            transform: translate(1px, 1px);
        }
    }
`,IN=()=>B.iv`
    &:hover {
        color: ${()=>I("table-link-color-default")};
        cursor: pointer;
        text-decoration: underline;
    }

    &:active {
        color: ${()=>I("table-link-color-error")};
    }
`,ON=(0,B.ZP)(Ps)`
    display: grid;
    font-size: 13px;
    list-style-type: none; 
    width: 100%;
    max-height: 100%;
    box-sizing: border-box;
    overflow: auto;
    
    ${({showAddButton:t})=>B.iv`
        ${t?Vu():B.iv`
            overflow: visible;
        `}
    `}
`,EN=B.iv`
    border: 1px solid ${()=>I("tree-border-default")};
    border-right: none;
    border-radius: 8px 0 0 8px;
    margin-right: 0 !important;
`,kN=(0,B.ZP)("div")`
    ${({isTableGroup:t,showAddButton:e})=>B.iv`
        ${t&&EN}
        ${!e&&Vu()}
    `}

    overflow: auto;
`,jN=(0,B.ZP)("div")`
    box-sizing: border-box;
    display: grid;
    overflow: auto;
    
    ${({showAddButton:t})=>t?B.iv`
            height: 100%;
            grid-template-rows: minmax(auto, calc(100% - 57px)) 1px auto;
        `:B.iv`grid-template-rows: auto;`}
    row-gap: 12px;
    padding: 8px;
`,RN=(0,B.ZP)("span")`
    width: 100%;
    height: 1px;
    background-color: ${()=>I("tree-separator-background-default")};
`,DN=(0,B.ZP)("div")`
    & button {
        min-height: 28px;
        padding: 4px 8px;
        color: ${()=>I("tree-button-color-default")};
    }

    & span {
        font-size: 12px
    }
    
    display: flex;
    align-items: start;
`;var NN=Object.defineProperty,MN=Object.defineProperties,TN=Object.getOwnPropertyDescriptors,tg=Object.getOwnPropertySymbols,FN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,ng=(t,e,n)=>e in t?NN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rl=(t,e)=>{for(var n in e||(e={}))FN.call(e,n)&&ng(t,n,e[n]);if(tg)for(var n of tg(e))AN.call(e,n)&&ng(t,n,e[n]);return t},rg=(t,e)=>MN(t,TN(e));function BN(t){const{schema:e,entities:n,style:r,isDisabled:o,isExcluded:l,name:i,GUID:c,handleNodeClick:d,handleDoubleClick:u,handleToggleItemClick:m,handleKeyDown:f,handleKeyUp:p,handleFocusOnTree:v,handleBlurOnTree:b,wrapClick:y,treeRef:h,handleClickAdd:g,isTableGroup:C,activeNodeId:O,openNodesIds:M,depthOffsetSize:P,showAddButton:x}=t,k="tree",E=F=>{const{nodeId:A}=F,$=O!==void 0&&O===A,U=rg(Rl({},F),{handleNodeClick:d,handleDoubleClick:u,wrapClick:y,depthOffsetSize:P,selfTestId:k,isActive:$});return(0,s.jsx)(cN,Rl({},U))},w=F=>{const{nodeId:A}=F,$=O!==void 0&&O===A,U=M==null?void 0:M.includes(A),V=rg(Rl({},F),{handleToggleItemClick:m,wrapClick:y,handleDoubleClick:u,depthOffsetSize:P,selfTestId:k,isOpenSubItems:U,isActive:$});return(0,s.jsx)(xN,Rl({},V))},S=({schema:F,children:A,depth:$})=>{var U;const{nodeId:V,GUID:N}=F!=null?F:{};if(!V)return null;const{caption:L,iconName:j,hint:R,isExpansible:H}=(U=n[V])!=null?U:{};let W=null;const K={GUID:N,hint:R,caption:L,nodeId:V};return H?W=w(Rl({depth:$,children:A,iconName:j,schema:F},K)):W=E(Rl({depth:$,schema:F,isExcluded:l,isDisabled:o,iconName:j},K)),(0,s.jsx)(X1,{"data-testid":`${k}__category`,children:W},N)};return(0,s.jsx)(kN,{style:r,tabIndex:0,onKeyDown:f,onKeyUp:p,onFocus:v,onBlur:b,ref:h,"data-name":i,"data-item-guid":c,isTableGroup:C,children:(0,s.jsxs)(jN,{showAddButton:x,children:[(0,s.jsx)(ON,{schema:e,renderElement:S,testId:"tree__hierarchy-list",showAddButton:x}),x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(RN,{}),(0,s.jsx)(DN,{children:(0,s.jsx)(Ut,{onClick:g,fashion:"Ghost",caption:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u0430\u043F\u043A\u0443",iconName:"add",iconSize:16,iconType:"line",iconColor:I("tree-button-icon-color-default")})})]})]})})}var $N=BN,t6={popperIconSize:"18px",primaryColor:"#0bd688"};function og(t,e=null){let n=(0,a.useRef)(e);return n=t||n,n}var zN=Object.defineProperty,LN=Object.defineProperties,HN=Object.getOwnPropertyDescriptors,lg=Object.getOwnPropertySymbols,WN=Object.prototype.hasOwnProperty,VN=Object.prototype.propertyIsEnumerable,ag=(t,e,n)=>e in t?zN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Br=(t,e)=>{for(var n in e||(e={}))WN.call(e,n)&&ag(t,n,e[n]);if(lg)for(var n of lg(e))VN.call(e,n)&&ag(t,n,e[n]);return t},Dl=(t,e)=>LN(t,HN(e));const Uu=({currentTarget:t})=>{var e;return(e=t==null?void 0:t.dataset)==null?void 0:e.itemId},sg=(t,e,n)=>{let r=t;return n==="up"?r=t-1<0?0:t-1:n==="down"&&(r=t+1>e.length-1?e.length-1:t+1),r};function UN(t){const{_ref:e,schema:n,entities:r,className:o,style:l,name:i,isExcluded:c,isDisabled:d,onSelect:u,onToggle:m,onBlur:f,onFocus:p,onDoubleClick:v,GUID:b,openNodesIds:y,currentNodeId:h,events:g,metaSet:C,isFixSize:O,isTableGroup:M}=t,P=(0,a.useMemo)(()=>ff(n,y),[n,y]),[x,k]=(0,a.useState)(h),E=og(e,null),w=(0,a.useRef)(null),S=(0,lt.v9)(Dt),F=(0,a.useMemo)(()=>Hn({isFixSize:O,style:l}),[O,l]),A=16;let $;const U="tree",V=be()(o,"tree",{disabled:d}),N=(0,a.useCallback)(D=>{if(d)return;let z=!0;if(p&&(z=p({event:D,metaSet:C})),z&&(g!=null&&g.onFocus)){const{alias:q,args:J}=g.onFocus;z=he[q]({event:D,args:J,metaSet:C})}return z},[p,g,C,d]),L=(0,a.useCallback)(D=>{if(d)return;let z=!0;if(f&&(z=f({event:D,metaSet:C})),z&&(g!=null&&g.onBlur)){const{alias:q,args:J}=g.onBlur;z=he[q]({event:D,args:J,metaSet:C})}return z},[f,g,C,d]),j=(0,a.useCallback)(D=>{if(d)return;let z=!0;const q=Uu(D);if(v&&(z=v({event:D,metaSet:C,value:q})),z&&(g!=null&&g.onDoubleClick)){const{alias:J,args:X}=g.onDoubleClick;z=he[J]({event:D,args:X,metaSet:C,value:q})}return z},[d,v,g,C]),R=(0,a.useCallback)(D=>{D.preventDefault(),D.stopPropagation(),clearTimeout($),j(D)},[]),H=(0,a.useCallback)(D=>{if(d)return;let z=!0;const q=Uu(D);if(u&&(z=u({event:D,metaSet:C,value:q})),z&&(g!=null&&g.onSelect)){const{alias:J,args:X}=g.onSelect;z=he[J]({event:D,args:X,metaSet:C,value:q})}return z&&(clearTimeout(w.current),k(q)),z},[d,u,g,C]),W=(0,a.useCallback)(D=>{if(d)return;const{parentNode:z}=D.target,{dataset:{arrowWrapper:q}}=z;if(q){let J=!0;const X=Uu(D);if(m&&(J=m({event:D,metaSet:C,value:X})),J&&(g!=null&&g.onToggle)){const{alias:ge,args:fe}=g.onToggle;J=he[ge]({event:D,args:fe,metaSet:C,value:X})}const ue=ic(n,X);if(!!ic(ue,x)&&x!==X){if(d)return;if(u&&(J=u({event:D,metaSet:C,value:X})),J&&(g!=null&&g.onSelect)){const{alias:ge,args:fe}=g.onSelect;J=he[ge]({event:D,args:fe,metaSet:C,value:X})}}return J}else H(D)},[d,m,g,H,C,n,u,x]),K=D=>z=>{z.preventDefault(),Ot(z);const q={currentTarget:z.currentTarget,target:z.target};z.detail===1&&($=setTimeout(()=>{D(q)},200))},Z=(0,a.useCallback)(D=>{D.preventDefault()},[]),G=(0,a.useCallback)(D=>{D.preventDefault();const{keyCode:z}=D,q=Object.keys(r);if(q.length>0&&(xr(z)||Gr(z))){let J;const X=P.findIndex(de=>de===x);xr(z)?J=sg(X,q,"up"):J=sg(X,q,"down");const ue=P[J];if(k(ue),ue){if(d)return;let de=!0;const ge=ue;if(u&&(de=u({event:D,metaSet:C,value:ge})),de&&(g!=null&&g.onSelect)){const{alias:fe,args:Ee}=g.onSelect;clearTimeout(w.current),w.current=setTimeout(()=>{he[fe]({event:D,args:Ee,metaSet:C,value:ge})},500)}if(de&&(E!=null&&E.current)){const fe=E.current,Ee=fe==null?void 0:fe.querySelector(`[data-item-id="${ge}"]`),Pe=fe==null?void 0:fe.getBoundingClientRect().top,Ce=Ee.offsetTop;if((fe==null?void 0:fe.scrollHeight)>(fe==null?void 0:fe.clientHeight)){const Se=Ce-Pe,je=fe.scrollTop,at=fe.clientHeight,Le=je,qe=Le+at,Ye={top:pf({activeNodeOffsetTop:Se,parentNodeScrollTop:je,cellHeight:22,step:20,visibleRangeMax:qe,visibleRangeMin:Le}),left:0,behavior:"smooth"};fe==null||fe.scrollTo(Ye)}}return de}}if(rr(z)){if(d)return;let J=!0;const X=x;if(m&&(J=m({event:D,metaSet:C,value:X})),J&&(g!=null&&g.onToggle)){const{alias:ue,args:de}=g.onToggle;J=he[ue]({event:D,args:de,metaSet:C,value:X})}return J}},[r,x,u,g,C,P,m,E]);(0,a.useEffect)(()=>{k(h)},[h]);const re=(0,a.useCallback)(D=>{const{caption:z,GUID:q,depth:J,name:X,hint:ue,iconName:de,nodeId:ge,dataAttrs:fe}=D,Ee=be()("tree__hierarchy-list__command-item"),Pe=be()("tree__hierarchy-list__command-span");let Ce={className:be()("tree__hierarchy-list__item-icon")};de&&(Ce.src=en(de));const Se=x!==void 0&&x===ge,je=Br({},fe);return je["data-name"]=X,(0,s.jsx)("li",Dl(Br({"data-item-id":ge,"data-item-guid":q,onClick:K(H),onDoubleClick:R},fe),{className:Ee,"data-testid":`${U}__command-item`,children:(0,s.jsxs)("span",Dl(Br({className:be()("tree__hierarchy-list__command-item-link",{"tree__hierarchy-list__command-item-link_marked":Se})},je),{style:{paddingLeft:`${J*A}px`},title:ue||rt.t(z),"data-caption":rt.t(z),"data-id":X,"data-testid":`${U}__command-item-link`,children:[(0,s.jsx)("span",{className:"tree__hierarchy-list__command-action-item-arrow-stub"}),de?(0,s.jsx)("img",Dl(Br({},Ce),{"data-testid":`${U}__command-item-icon`})):(0,s.jsx)("span",Dl(Br({},Ce),{"data-testid":`${U}__command-item-icon`})),(0,s.jsx)("span",{className:Pe,children:z})]}))}),q)},[x,H,R,A,U]),ee=(0,a.useCallback)(D=>{const{depth:z,children:q,iconName:J,GUID:X,hint:ue,caption:de,nodeId:ge,dataAttrs:fe}=D,Ee=x!==void 0&&x===ge,Pe=be()("tree__hierarchy-list__category-wrapper"),Ce=be()("tree__hierarchy-list__category-name",{"tree__hierarchy-list__category_marked":Ee});let Se=y==null?void 0:y.includes(ge);const je=Se?"angle-down":"angle-right";return(0,s.jsxs)("li",Dl(Br({id:X,className:Pe,"data-item-id":ge,"data-item-guid":X,"data-testid":`${U}__category`},fe),{onClick:K(W),onDoubleClick:R,children:[(0,s.jsxs)("span",{className:Ce,style:{paddingLeft:`${z*A}px`},title:ue||de,"data-testid":`${U}__category-name`,children:[(0,s.jsx)("span",{"data-arrow-wrapper":!0,children:(0,s.jsx)(fn(),{name:je,className:"tree__hierarchy-list__category-icon","data-testid":`${U}__category-icon`})}),J&&(0,s.jsx)(Ct,{className:"tree__hierarchy-list__command-icon",name:J,size:16,type:"line"}),(0,s.jsx)("span",{className:"tree__hierarchy-list__category-caption text-ellipsis",children:de})]}),Se&&q]}),X)},[y,x,W,R,A,U,K]),ce=(0,a.useCallback)(({schema:D,children:z,depth:q})=>{const{nodeId:J,GUID:X}=D||{};if(!J)return null;const{caption:ue,iconName:de,hint:ge,isExpansible:fe}=r[J];let Ee="";const Pe={GUID:X,hint:ge,caption:ue,nodeId:J};return fe?Ee=ee(Br({depth:q,children:z,iconName:de,schema:D,nodeId:J},Pe)):Ee=re(Br({depth:q,schema:D,isExcluded:c,isDisabled:d,iconName:de},Pe)),(0,s.jsx)("ul",{className:"tree__hierarchy-list","data-testid":`${U}__category`,children:Ee},X)});if(c)return null;if(S){const D=q=>{d||ke({specificEvent:null,nativeEvent:"onClickAdd",event:q,metaSet:C,events:g})},z=Dl(Br({},t),{style:F,handleNodeClick:H,handleClickAdd:D,handleDoubleClick:R,handleToggleItemClick:W,handleKeyDown:Z,handleKeyUp:G,handleFocusOnTree:N,handleBlurOnTree:L,wrapClick:K,treeRef:E,renderProps:ce,isTableGroup:M,activeNodeId:x,openNodesIds:y,depthOffsetSize:A});return(0,s.jsx)($N,Br({},z))}return(0,s.jsx)("div",{style:F,"data-name":i,"data-item-guid":b,className:V,tabIndex:0,onKeyDown:Z,onKeyUp:G,onFocus:N,onBlur:L,ref:E,children:(0,s.jsx)(Ps,{className:"tree__hierarchy-list",schema:n,renderElement:ce,testId:"tree__hierarchy-list"})})}var GN=(0,a.memo)(UN),n6={popperIconSize:"18px",primaryColor:"#0bd688"},ZN=Object.defineProperty,ig=Object.getOwnPropertySymbols,KN=Object.prototype.hasOwnProperty,qN=Object.prototype.propertyIsEnumerable,cg=(t,e,n)=>e in t?ZN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YN=(t,e)=>{for(var n in e||(e={}))KN.call(e,n)&&cg(t,n,e[n]);if(ig)for(var n of ig(e))qN.call(e,n)&&cg(t,n,e[n]);return t};const XN="pdf";function Gu(t){const{className:e,id:n,dataAttrs:r,isExcluded:o,value:l,style:i,name:c,GUID:d,isFixSize:u}=t,m=(0,a.useMemo)(()=>Hn({isFixSize:u,style:i}),[u,i]);if(o)return null;const f=n||d||c||Cr().generate(),p=be()(e,XN);return(0,s.jsx)("iframe",YN({src:l,className:p,id:f,style:m},r))}Gu.defaultProps={value:""},Gu.propTypes={className:_().string,id:_().string,value:_().string.isRequired,dataAttrs:_().object,style:_().object,name:_().string,GUID:_().string};var JN=(0,a.memo)(Gu),r6={popperIconSize:"18px",primaryColor:"#0bd688"},QN=Object.defineProperty,eM=Object.defineProperties,tM=Object.getOwnPropertyDescriptors,ug=Object.getOwnPropertySymbols,nM=Object.prototype.hasOwnProperty,rM=Object.prototype.propertyIsEnumerable,dg=(t,e,n)=>e in t?QN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fg=(t,e)=>{for(var n in e||(e={}))nM.call(e,n)&&dg(t,n,e[n]);if(ug)for(var n of ug(e))rM.call(e,n)&&dg(t,n,e[n]);return t},pg=(t,e)=>eM(t,tM(e));const oM="img";function lM(t){return t>6?1:t>3.5?.5:t>1?.25:.1}function mg(t){const{clientWidth:e,clientHeight:n,scrollWidth:r,scrollHeight:o}=t;return o>n||r>e}function vg(t){t.preventDefault()}function Zu(t){const{className:e,id:n,title:r,dataAttrs:o,value:l,center:i,stretch:c,shrink:d,preview:u,isExcluded:m,GUID:f,name:p,type:v,events:b,metaSet:y,onDoubleClick:h,scaleByWheel:g}=t,C=v==="img",O=l.includes(".svg"),M=n||f||p||Cr().generate(),P={high:10,low:.1},[x,k]=(0,a.useState)(null),E=(0,a.useRef)(1),w=(0,a.useRef)(null),S=(0,a.useRef)({}),F=(0,a.useRef)(null),A=be()(e,"image",{image_center:i&&C}),$=be()("image__img",{image__img__svg:O,image__img_shrink:d&&C&&!(c&&x==="stretch"),image__img_stretch:c&&C&&!(d&&x==="shrink")}),U=(0,a.useCallback)(()=>{i&&mg(F.current)&&F.current.scrollTo((w.current.clientWidth-F.current.clientWidth)/2,(w.current.clientHeight-F.current.clientHeight)/2)},[i,w,F,mg]),V=(0,a.useCallback)(({width:G,height:re})=>{w.current.style.height=re,w.current.style.width=G},[w]),N=(0,a.useCallback)(()=>{S.current={width:w.current.clientWidth,height:w.current.clientHeight},E.current=1},[w,S,E]),L=(0,a.useCallback)(()=>{var G,re;if(d&&c){const{height:ee,width:ce}=((G=w==null?void 0:w.current)==null?void 0:G.getBoundingClientRect())||{},{height:D,width:z}=((re=F==null?void 0:F.current)==null?void 0:re.getBoundingClientRect())||{};k(z/ce<D/ee?"stretch":"shrink")}},[w,F,d,c]),j=(0,a.useCallback)(()=>{V({width:"",height:""})},[V]),R=(0,a.useCallback)(()=>{L(),N(),U()},[N,L,U]),H=(0,a.useCallback)(G=>{var re,ee,ce;if(b!=null&&b.onClick){const{alias:D,args:z}=b.onClick,q={args:z,value:l,event:G},J=(ce=(ee=(re=G==null?void 0:G.target)==null?void 0:re.parentElement)==null?void 0:ee.href)==null?void 0:ce.baseVal;return J&&(q.href=J),he[D](q),!1}u&&(Ot(G),Ge.onImagePreview({component:"ImgModal",componentProps:{value:l,className:oM}}))},[u,l,b]),W=(0,a.useCallback)(G=>{let re=!0;if(h&&(re=h({event:G,metaSet:y,value:l})),re&&(b!=null&&b.onDoubleClick)){const{alias:ee,args:ce}=b.onDoubleClick;re=he[ee]({event:G,args:ce,metaSet:y,value:l})}},[h,b,y]),K=(0,a.useCallback)(G=>{if(g){const re=G.deltaY||G.detail||G.wheelDelta,ee=lM(E.current);re>0?E.current.toFixed(1)>P.low&&(E.current-=ee):E.current.toFixed(1)<P.high&&(E.current+=ee),V({width:S.current.width*E.current+"px",height:S.current.height*E.current+"px"}),U()}},[E,g,S,V,U]),Z=(0,a.useCallback)(()=>{var G,re,ee,ce;if(O){const D=w.current.contentDocument.documentElement;if(D&&!D.getAttribute("viewBox")){const{height:z,width:q}=D.getBBox();z&&q&&D.setAttribute("viewBox",`0 0 ${((re=(G=D.width)==null?void 0:G.baseVal)==null?void 0:re.value)||q} ${((ce=(ee=D.height)==null?void 0:ee.baseVal)==null?void 0:ce.value)||z}`)}}R()},[R,O,w]);return(0,a.useLayoutEffect)(()=>{(d||c)&&j(),R()},[d,c,w,F]),(0,a.useEffect)(()=>{U()},[i]),(0,a.useEffect)(()=>{const G=F.current;g?G.addEventListener("wheel",vg):G.removeEventListener("wheel",vg)},[F,g]),(0,a.useEffect)(()=>{const G=F==null?void 0:F.current;if(G&&R){const re=new uo.Z(()=>{(E==null?void 0:E.current)===1&&R()});return re.observe(G),()=>{re.unobserve(G)}}},[F,E,R]),m?null:(0,s.jsx)("div",{ref:F,className:A,onWheel:K,onClick:H,onDoubleClick:W,children:O?(0,s.jsx)("object",pg(fg({data:l,type:"image/svg+xml",ref:w,tabIndex:-1,id:M,className:$,title:r||rt.t("image"),onLoad:Z},o),{children:r||rt.t("image")})):(0,s.jsx)("img",pg(fg({ref:w,src:l,id:M,className:$,title:r,tabIndex:-1,onLoad:Z},o),{alt:r||rt.t("image")}))})}Zu.defaultProps={center:!1,stretch:!1,shrink:!1,preview:!1,originalStyle:{},events:null},Zu.PropTypes={className:_().string,id:_().string,title:_().string,value:_().string.isRequired,dataAttrs:_().object,center:_().bool,stretch:_().bool,shrink:_().bool,preview:_().bool,isExcluded:_().bool,name:_().string,type:_().string,events:_().object};var aM=(0,a.memo)(Zu),sM=aM,o6={popperIconSize:"18px",primaryColor:"#0bd688"},iM=Object.defineProperty,hg=Object.getOwnPropertySymbols,cM=Object.prototype.hasOwnProperty,uM=Object.prototype.propertyIsEnumerable,gg=(t,e,n)=>e in t?iM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dM=(t,e)=>{for(var n in e||(e={}))cM.call(e,n)&&gg(t,n,e[n]);if(hg)for(var n of hg(e))uM.call(e,n)&&gg(t,n,e[n]);return t};const bg="html",yg="<p><br></p>",fM=["OnTextChange","DoExecuteScriptAsyncResult","DoSelectionChange"];function Ku(t){const{className:e,id:n,dataAttrs:r,isDisabled:o,isExcluded:l,value:i,srcdoc:c,style:d,name:u,GUID:m,isFixSize:f,initialScripts:p,events:v,scriptValues:b,content:y}=t,h=r["data-form-id"],g=(0,a.useRef)(null),[C,O]=(0,a.useState)(!1),[M,P]=(0,a.useState)([]),x=(0,a.useRef)("");(0,a.useEffect)(()=>{b&&P(R=>[...R,...b])},[b]);const k=R=>{if(Ge.onIFrameClick&&R.button===0){const H=R.target.dataset||{},W=h;if(Object.keys(H).length){const K={controlId:u,formId:W,data:H};Ge.onIFrameClick(K)}}};(0,a.useEffect)(()=>{P(R=>[...R,`if(window.state) window.state.disabled = ${o?"true":"false"}`])},[o]);const E=(0,a.useCallback)(()=>{var R;const H=(R=g.current)==null?void 0:R.contentDocument;if(!H)return;const W=H.querySelector("#chartDiv");if(!W)return;const K=H.querySelector("html"),Z=H.body;[K,Z,W].forEach(G=>{G.style.height="100%"})},[g]),w=(0,a.useCallback)(R=>{var H,W,K,Z;if(Ge.onIFrameMessage&&((H=R==null?void 0:R.data)!=null&&H.dataset)&&R.source===g.current.contentWindow){const G=((W=R==null?void 0:R.data)==null?void 0:W.dataset)||{},re=h;if(Object.keys(G).length){const ce={controlId:u,formId:re,data:G};Ge.onIFrameMessage(ce)}const ee=(Z=(K=g.current)==null?void 0:K.contentDocument)==null?void 0:Z.querySelector(".ql-editor");if(!ee)return;if(fM.includes(G.Event)&&ee.innerHTML===yg){x.current=ee.innerHTML;return}ee.innerHTML===yg&&x.current?ee.innerHTML=x.current:x.current=ee.innerHTML}},[g,x,h]),S=()=>{Ge.onShowProcessIndicator()},F=()=>{Ge.onHideProcessIndicator()},A=()=>{var R;const H=(R=g.current)==null?void 0:R.contentDocument;H.onmouseup=k,H.showThrobber=S,H.hideThrobber=F},$=()=>{g.current.contentWindow.getData=()=>y},U=()=>{A(),O(!0)},V=()=>{if(U(),!y){const R=b!=null&&b.length&&!(0,zt.isEqual)(b,p)?b:[];P(H=>[...H,...p,...R])}};(0,a.useEffect)(()=>(window.addEventListener("message",w),()=>{window.removeEventListener("message",w)}),[]),(0,a.useLayoutEffect)(()=>(g&&y&&$(),()=>{var R,H,W,K;if(g&&(H=(R=g.current)==null?void 0:R.contentDocument)!=null&&H.body&&v!=null&&v.saveContent){const{alias:Z,args:G}=v.saveContent;if(!((W=g.current)!=null&&W.contentWindow.saveData))return;const re=(K=g.current)==null?void 0:K.contentWindow.saveData(),ee="";he[Z]({args:G,content:re,value:ee})}}),[g]),(0,a.useEffect)(()=>{g&&M.length!==0&&C&&(M.forEach(R=>{var H,W;try{(W=(H=g.current)==null?void 0:H.contentWindow)==null||W.eval(R)}catch(K){console.error(K)}}),P([]),E())},[g,M,C,E]);const N=(0,a.useMemo)(()=>Hn({isFixSize:f,style:d}),[f,d]),L=n||m||u||Cr().generate(),j=be()(e,bg);return l?null:(0,s.jsx)("div",{className:"wrapper_"+bg,children:(0,s.jsx)("iframe",dM({ref:g,srcDoc:c,src:i||" ",className:j,id:L,style:N,onLoad:V,sandbox:"allow-modals allow-popups allow-same-origin allow-top-navigation allow-scripts"},r))})}Ku.defaultProps={value:"",style:null,scriptValues:[],initialScripts:[]},Ku.propTypes={className:_().string,id:_().string,value:_().string.isRequired,dataAttrs:_().object,style:_().object,name:_().string,GUID:_().string};var pM=(0,a.memo)(Ku,(t,e)=>t.scriptValues===e.scriptValues&&t.value===e.value);const mM="30px";var l6={popperIconSize:"18px",primaryColor:"#0bd688"};const Sa="circle-item";function vM(t){const{name:e,caption:n,iconName:r,cellSize:o,onItemSelect:l,dummy:i}=t,c=be()(Sa,{[`${Sa}__dummy`]:i}),d={maxWidth:$t(o==null?void 0:o.maxWidth),minWidth:$t(o==null?void 0:o.minWidth)},u={width:(d.maxWidth+d.minWidth)/2},m=(0,a.useCallback)(f=>{var p;if(f.target.classList.contains("circle-item"))return null;const v=(p=f.currentTarget.dataset)==null?void 0:p.id;l(v)},[l]);return(0,s.jsxs)("div",{className:c,"data-id":e,style:d,onClick:m,title:n,children:[(0,s.jsx)("div",{className:`${Sa}__icon-wrapper`,children:(0,s.jsx)(Ct,{className:`${Sa}__icon`,size:mM,name:r})}),(0,s.jsx)("p",{className:`${Sa}__title`,style:u,children:n})]})}var qu=(0,a.memo)(vM),a6={popperIconSize:"18px",primaryColor:"#0bd688"};const Pr="circle-menu";function hM(t){const{circles:e,caption:n,cellSize:r,onItemSelect:o,entities:l}=t,[i,c]=(0,a.useState)(!1),d={maxWidth:35,minWidth:21},u={maxWidth:$t(r==null?void 0:r.maxWidth),width:"100%",minWidth:$t(r==null?void 0:r.minWidth)},m=50,f=(0,a.useCallback)(y=>{let h={x:3,y:2};return y<=4&&y>2?h={x:2,y:2}:y<=2&&(h={x:2,y:1}),h},[]),p=(0,a.useCallback)(()=>{c(!i)},[i]),v=(0,a.useCallback)(y=>y?(0,s.jsx)("h1",{className:`${Pr}__title`,children:y}):"",[]),b=(0,a.useCallback)(()=>{const y=f(e.length),h=e.map(P=>{const x=l==null?void 0:l[P.name];return(0,s.jsx)(qu,{name:P.name,caption:x.caption,iconName:x.iconName,cellSize:d,onItemSelect:o,entities:l},P.name)}),g={borderRadius:"10px"},C={top:`${m}px`},O={width:`${m}px`,height:`${m}px`},M={gridTemplateColumns:`repeat(${y.x}, max-content)`,gridTemplateRows:`repeat(${y.y}, max-content)`};return(0,s.jsx)("div",{style:u,className:Pr,children:(0,s.jsx)(_l,{withArrow:!0,className:`${Pr}__drop-down-menu`,targetComponent:(0,s.jsxs)("div",{className:`${Pr}__arrow-container`,onClick:p,children:[(0,s.jsx)("div",{className:`${Pr}__arrow-wrapper`,style:O,children:(0,s.jsx)(fn(),{size:"2x",name:"angle-right",className:`${Pr}__arrow`})}),(0,s.jsx)("p",{className:`${Pr}__more`,style:C,children:"\u0415\u0449\u0435..."})]}),needToRender:i,children:(0,s.jsxs)("div",{onClick:p,className:`${Pr}__drop-down-container`,children:[v(n),(0,s.jsx)(vl.ZP,{noDefaultStyles:!0,translateContentSizesToHolder:!0,thumbYProps:{style:g},children:(0,s.jsx)("div",{className:`${Pr}__items-wrapper`,style:M,children:h})}),(0,s.jsx)("div",{className:`${Pr}__triangle`})]})})})},[e,l,o,p]);return(0,s.jsxs)(s.Fragment,{children:[i?(0,s.jsx)("div",{className:`${Pr}__substrate`,onClick:p}):"",b()]})}var gM=(0,a.memo)(hM),s6={popperIconSize:"18px",primaryColor:"#0bd688"};const eo="tile";function bM(t){const{onItemSelect:e}=t,n=(0,a.useCallback)(({elements:c,elementsLength:d,cols:u,rows:m})=>{const f=u*m,p={renderInWrap:[],circlesInMenu:[],needToRenderMenu:d>f};return p.needToRenderMenu?(p.renderInWrap=c.slice(0,f-1),p.circlesInMenu=c.slice(f-1)):p.renderInWrap=c&&c.slice(),p},[]),r=(0,a.useCallback)((c,d)=>{const u=(0,s.jsx)("h1",{className:`${eo}__title`,children:c||" "});return d!=null&&d.length?u:String.fromCharCode(160)},[]);let o=[];const l=(0,a.useCallback)(c=>{const{circlesItemsList:d,circlesInMenu:u,heightCircle:m,caption:f,cellSize:p,entities:v,needToRenderMenu:b,cols:y}=c;return d==null?void 0:d.reduce((g,C,O)=>{const M=o.length,P=d.length-1;if(P>O)if(M===y){const x=(0,s.jsx)("div",{className:`${eo}__column-wrapper`,children:[...o]},C.key);g=g.concat(x),o=[C]}else o.push(C);else if(P===O){if(M===y){const k=(0,s.jsx)("div",{className:`${eo}__column-wrapper`,children:[...o]},C.key);g=g.concat(k),o=[C]}else o.push(C);if(b&&o.push((0,s.jsx)(gM,{circles:u,heightCircle:m,caption:f,onItemSelect:e,cellSize:p,entities:v},f)),o.length<y){const k=y-o.length;for(let E=0;E<k;E++)o.push((0,s.jsx)(qu,{dummy:!0,cellSize:p},E))}const x=(0,s.jsx)("div",{className:`${eo}__column-wrapper`,children:[...o]},O);g=g.concat(x),o=[]}return g},[])},[o]),i=(0,a.useCallback)(c=>{const{id:d,cols:u,rows:m,caption:f,orientation:p,elements:v,index:b=0,length:y=0,cellSize:h,entities:g,heightCircle:C}=c,O=Boolean(f),M=$t(h==null?void 0:h.maxWidth),P=be()(eo,{[`${eo}__vertical--offset`]:p==="vertical"&&b>0&&b+1!==y,[`${eo}__vertical-orientation`]:p==="vertical"&&!O,[`${eo}__horizontal-orientation`]:p==="horizontal"||O}),x=(v==null?void 0:v.filter(N=>!N.isExcluded).length)||0,E=(v==null?void 0:v.some(N=>N.elements))&&(v==null?void 0:v.map((N,L)=>{const j=g==null?void 0:g[N.name];if(!N.elements)return;const R={index:L,id:j.name,cols:j.cols,rows:j.rows,caption:j.caption,orientation:j.orientation,elements:N.elements,length:x,cellSize:h,entities:g};return i(R)})),w=!!(E!=null&&E.length),S=w?{}:{width:u*M},{renderInWrap:F,circlesInMenu:A,needToRenderMenu:$}=n({elements:v,elementsLength:x,cols:u,rows:m}),U=F&&F.map(N=>{const L=g==null?void 0:g[N.name];return L.isExcluded?null:(0,s.jsx)(qu,{name:N.name,caption:L==null?void 0:L.caption,iconName:L==null?void 0:L.iconName,cellSize:h,onItemSelect:e},N.name)}),V={circlesItemsList:U,circlesInMenu:A,heightCircle:C,caption:f,cellSize:h,entities:g,needToRenderMenu:$,cols:u};return(0,s.jsxs)("div",{className:P,style:S,"data-id":d,children:[w||r(f,U),(0,s.jsx)("div",{className:`${eo}__wrapper`,children:w?E:l(V)})]},d)},[n,e,r,l]);return i(t)}var yM=(0,a.memo)(bM);const Yu=(0,a.createContext)({});var i6={popperIconSize:"18px",primaryColor:"#0bd688"},_M=Object.defineProperty,CM=Object.defineProperties,wM=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,xM=Object.prototype.hasOwnProperty,SM=Object.prototype.propertyIsEnumerable,Cg=(t,e,n)=>e in t?_M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xu=(t,e)=>{for(var n in e||(e={}))xM.call(e,n)&&Cg(t,n,e[n]);if(_g)for(var n of _g(e))SM.call(e,n)&&Cg(t,n,e[n]);return t},PM=(t,e)=>CM(t,wM(e));const qo="role-center";function IM(t){const{name:e,className:n,isExcluded:r,entities:o,schema:l,buttonsBefore:i,buttonsAfter:c}=t,{formId:d}=(0,a.useContext)(Yu);if(r)return null;const u=be()(n,qo),m=(0,a.useCallback)(y=>{Ge.saveSelectedRoleCenterItemId&&Ge.saveSelectedRoleCenterItemId(y),Ge.onRoleCenterCommandSend&&Ge.onRoleCenterCommandSend({id:y,controlId:"roleCenter",formId:d,roleCenterId:e})},[Ge.saveSelectedRoleCenterItemId,Ge.onRoleCenterCommandSend]),f=(0,a.useCallback)((y,h)=>y.elements?y.elements.map(g=>{const C=o[g.name];return(0,s.jsx)(yM,{id:g.name,cols:C.cols,rows:C.rows,caption:C.caption,elements:g.elements,orientation:C.orientation,cellSize:h.cellSize,onItemSelect:m,entities:o},g.name)}):[],[o,m]),p=(0,a.useCallback)((y,h)=>y.map(g=>{var C;if(g.type==="button")return(0,s.jsx)(Ut,Xu({className:`${qo}__button-title ${h}`,metaSet:g.name,testId:g.name},g),g.name);if(g.type==="listButton"){let O=null;return(C=g.elements)!=null&&C.length&&(O=g.elements.map(M=>(0,s.jsx)(Ut,Xu({metaSet:M.name,testId:M.name},M),M.name))),(0,s.jsx)(wl,PM(Xu({className:`${qo}__button-title ${h}`},g),{children:O}),g.name)}}),[]),v=(0,a.useCallback)(y=>{let h="",g="";return i!=null&&i.length&&(h=p(i,"before-title")),c!=null&&c.length&&(g=p(c,"after-title")),(0,s.jsxs)("div",{className:`${qo}__title-group`,children:[h,(0,s.jsx)("h1",{className:`${qo}__first-lvl-ids-title`,children:y||""}),g]})},[]),b=(0,a.useCallback)(y=>{const h=o[y.name],g=h.orientation==="vertical"?`${qo}__vertical-orientation`:`${qo}__horizontal-orientation`;return(0,s.jsxs)(a.Fragment,{children:[v(h.caption),(0,s.jsx)("div",{className:g,children:f(y,h)},y.name)]},y.name)},[o,f]);return(0,s.jsx)("div",{className:u,children:(0,s.jsx)(Ds,{children:l.map(y=>b(y))})})}var OM=(0,a.memo)(IM),EM=Ve(47229);function kM(t){return Boolean(t==null?void 0:t.current)}function Js(t,e){(0,a.useEffect)(()=>{let n;if(kM(t)?n=t==null?void 0:t.current:n=t,!n)return;const r=new uo.Z(o=>{for(const l of o)window.requestAnimationFrame(()=>{e==null||e(l)})});return r.observe(n),()=>{r.unobserve(n)}},[])}var jM=Object.defineProperty,RM=Object.defineProperties,DM=Object.getOwnPropertyDescriptors,wg=Object.getOwnPropertySymbols,NM=Object.prototype.hasOwnProperty,MM=Object.prototype.propertyIsEnumerable,xg=(t,e,n)=>e in t?jM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qs=(t,e)=>{for(var n in e||(e={}))NM.call(e,n)&&xg(t,n,e[n]);if(wg)for(var n of wg(e))MM.call(e,n)&&xg(t,n,e[n]);return t},ei=(t,e)=>RM(t,DM(e));const Pa="chart",Sg=t=>{var e,n,r;const o=((e=t.legend)==null?void 0:e.show)===void 0||((n=t.legend)==null?void 0:n.show);return!!((r=t.legend)!=null&&r.showForSingleSeries&&o)};function Ju(t){var e,n,r;const{className:o,style:l,series:i,options:c,chartType:d,height:u,dataAttrs:m,isDisabled:f,events:p,onDataPointSelect:v,onClick:b,metaSet:y,selfWidthByContent:h}=t,g=(0,a.useMemo)(()=>Hn({style:l}),[l]),O=u?Vt(u):h?"auto":"100%",M=(0,a.useRef)(null);let P;const[x,k]=(0,a.useState)((0,zt.cloneDeep)(c)),E=be()(o,Pa,{[`${Pa}_disabled`]:f,[`${Pa}_custom-legend`]:Sg(c)&&((e=i[0])==null?void 0:e.name)===""}),w=(0,a.useCallback)((F,A,$)=>{if(f)return!1;let U=!0;const{detail:V}=F,N=$.seriesIndex+1,j={valueNumber:$.dataPointIndex+1,seriesNumber:N};if(V===1)P=setTimeout(()=>{if(U&&b&&(U=b({event:F,metaSet:y,value:j})),U&&(p!=null&&p.onClick)){const{alias:R,args:H}=p.onClick;he[R]({event:F,args:H,metaSet:y,value:j})}},200);else if(V===2&&(clearTimeout(P),U&&v&&(U=v({event:F,metaSet:y,value:j})),U&&(p!=null&&p.onDataPointSelect))){const{alias:R,args:H}=p.onDataPointSelect;he[R]({event:F,args:H,metaSet:y,value:j})}},[b,v,p]);(0,a.useEffect)(()=>{var F,A,$,U,V,N,L;let j=(0,zt.cloneDeep)(c);if((A=(F=j.plotOptions)==null?void 0:F.bar)!=null&&A.horizontal||(j=ei(Qs({},j),{plotOptions:{bar:{dataLabels:{position:"top"}}}})),!((U=($=j.plotOptions)==null?void 0:$.bar)!=null&&U.horizontal)&&((V=j.xaxis)!=null&&V.title)&&(j.xaxis.title={offsetY:80}),j.dataLabels&&d==="bar"&&!((N=j.plotOptions.bar)!=null&&N.horizontal)&&(j.dataLabels={offsetY:-25,position:"bottom",background:{enabled:!0,foreColor:"#333",borderRadius:2,padding:10,borderWidth:1.5,borderColor:"#aab"}}),d==="pie"&&!j.dataLabels&&(j.formatters.type==="value"?j.dataLabels={formatter:(R,H)=>H.w.config.series[H.seriesIndex]}:j.formatters.type==="names"&&(j.dataLabels={formatter:(R,H)=>H.w.config.formatters.names[H.seriesIndex]})),j.chart||(j.chart={}),!j.chart.parentHeightOffset&&(j.chart.parentHeightOffset=0),j.chart.animations||(j.chart.animations={enabled:!1}),["bubble","scatter"].includes(d)&&(i!=null&&i.length)){const{min:R,max:H,tickPlacement:W}=(j==null?void 0:j.xaxis)||{};if(R!==void 0&&H!==void 0&&W==="on"){const[K,Z]=i.reduce((G,re)=>{const[ee,ce]=re.data.reduce((D,[z])=>[Math.min(z,D[0]),Math.max(z,D[1])],[Number.MAX_VALUE,Number.MIN_VALUE]);return[Math.min(ee,G[0]),Math.max(ce,G[1])]},[Number.MAX_VALUE,Number.MIN_VALUE]);(R<K||H>Z)&&(j.chart.events=ei(Qs({},j.chart.events),{beforeZoom:function(G,{xaxis:re}){return re.min===K&&re.max===Z&&(R<K&&(re.min=R),H>Z&&(re.max=H)),{xaxis:re}}}))}}j.xaxis&&j.xaxis.categories&&!((L=j.plotOptions.bar)!=null&&L.horizontal)&&(j.xaxis={categories:j.xaxis.categories.reverse(),labels:{rotate:-45,rotateAlways:!1,minHeight:120}}),j.chart.events=ei(Qs({},j.chart.events),{dataPointSelection:(R,H,W)=>w(R,H,W),mounted:R=>{var H,W;(W=(H=c.chart.events)==null?void 0:H.mounted)==null||W.call(H),R.windowResizeHandler()}}),Sg(j)&&(j.legend.formatter=(R,H)=>{const W=H.w.globals.labels||[];return R||W.map(K=>K).join("<br />")}),["area","line"].includes(j.chart.type)&&(j.tooltip||(j.tooltip={},j.tooltip.intersect=!0,j.tooltip.shared=!1),j.markers||(j.markers={},j.markers.size=5)),f&&(j.chart.toolbar={show:!1}),k(j)},[c,w,i,f]);const S=(0,a.useRef)(null);return Js((r=(n=S.current)==null?void 0:n.chart)==null?void 0:r.el,()=>{var F,A;const $=M.current,U=(A=(F=S.current)==null?void 0:F.chart)==null?void 0:A.el;!$||!U||!h||($.style.height=U.style.minHeight)}),(0,s.jsxs)("div",ei(Qs({className:E,style:g,ref:M},m),{children:[f&&(0,s.jsx)("div",{className:`${Pa}_overlay`}),i!=null&&i.length&&d?(0,s.jsx)(EM.Z,{ref:S,className:`${Pa}__apexchart`,options:x,series:i,type:d,height:O}):null]}))}Ju.propTypes={chartType:_().string,height:_().any,className:_().string,id:_().string.isRequired,dataAttrs:_().object.isRequired,events:_().object.isRequired,style:_().object,options:_().object,series:_().array,isDisabled:_().bool,isExcluded:_().bool,onDataPointSelect:_().func},Ju.defaultProps={chartType:""};var TM=(0,a.memo)(Ju),FM=TM,Rn=Ve(78092),ti=Ve(19688),c6={popperIconSize:"18px",primaryColor:"#0bd688"},u6={popperIconSize:"18px",primaryColor:"#0bd688"},AM=Object.defineProperty,BM=Object.defineProperties,$M=Object.getOwnPropertyDescriptors,Pg=Object.getOwnPropertySymbols,zM=Object.prototype.hasOwnProperty,LM=Object.prototype.propertyIsEnumerable,Ig=(t,e,n)=>e in t?AM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qu=(t,e)=>{for(var n in e||(e={}))zM.call(e,n)&&Ig(t,n,e[n]);if(Pg)for(var n of Pg(e))LM.call(e,n)&&Ig(t,n,e[n]);return t},Og=(t,e)=>BM(t,$M(e));const Nl="item-context-menu",Eg="item-context-menu";var kg=t=>{var e;const{caption:n,GUID:r,name:o,hint:l,iconName:i,isDisabled:c,isPressed:d,className:u,testId:m,index:f,currentActiveIndex:p}=t,v=(0,a.useRef)(null),b=m||Eg,y=be()(u,Nl,{[`${Nl}_disabled`]:c,[`${Nl}_active`]:f===p}),h=`${Nl}-content`,g=be()(h,{[`${h}_pressed`]:d});let C={className:`${Nl}-icon`,"data-testid":`${Eg}-icon`};const O=i||(d?"check":""),M=`${b}_icon`,P=O?O!=null&&O.includes("/")?(0,s.jsx)("img",Og(Qu({},C),{src:en(O),alt:"","data-testid":M})):(0,s.jsx)(fn(),Og(Qu({},C),{name:O,"data-testid":M})):(0,s.jsx)("span",Qu({},C));return pr(v,l,(e=v==null?void 0:v.current)==null?void 0:e.innerText),(0,s.jsx)("div",{"data-item-id":o,"data-item-guid":r,"data-name":o,className:y,children:(0,s.jsxs)("div",{className:g,"data-id":o,"data-name":o,"data-testid":b,ref:v,children:[P,(0,s.jsx)("span",{className:`${Nl}-caption`,"data-testid":`${b}_caption`,children:rt.t(n)})]})},r||o)},HM=Object.defineProperty,WM=Object.defineProperties,VM=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,UM=Object.prototype.hasOwnProperty,GM=Object.prototype.propertyIsEnumerable,Rg=(t,e,n)=>e in t?HM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ml=(t,e)=>{for(var n in e||(e={}))UM.call(e,n)&&Rg(t,n,e[n]);if(jg)for(var n of jg(e))GM.call(e,n)&&Rg(t,n,e[n]);return t},Ia=(t,e)=>WM(t,VM(e));const ZM=document.getElementById("context-menu");function KM(t){const{itemsContextMenu:e,id:n,handleClickContextMenu:r,handleCloseContextMenu:o,metaSet:l,dataAttrs:i,events:c,onShowContextMenuValue:d}=t,u=(0,a.useRef)(null),{hideAll:m}=(0,mr.av)({id:n}),f=Ml({"data-testid":"contextMenu-"+n},i),{pageZoom:p}=(0,lt.v9)(O=>O.mainAppParams),v=(0,a.useCallback)(({event:O,data:M,props:P})=>{if(r){const{menuItem:x}=M;r(Ia(Ml({event:O,metaSet:M},P),{menuItem:x}))}},[r]),b=(0,a.useCallback)(O=>{u.current&&!u.current.contains(O.target)&&m(),o&&o(O)},[m,u]),y=(0,a.useCallback)(()=>{c!=null&&c.onShowContextMenu&&ke({events:c,specificEvent:null,nativeEvent:"onShowContextMenu",value:d});const O=p||1;if(O<1){const{left:M,top:P}=u.current.firstChild.style;u.current.firstChild.style.left=`${parseInt(M,10)/O}px`,u.current.firstChild.style.top=`${parseInt(P,10)/O}px`}document.addEventListener("click",b)},[b,p]),h=(0,a.useCallback)(()=>{document.removeEventListener("click",b)},[b]);(0,a.useEffect)(()=>h,[h]);const g=(O,M)=>{if(O.isExcluded===!0||O.hidden)return null;switch(O.type){case"separator":return(0,s.jsx)(mr.Z0,{},M);case"group":return(0,s.jsx)(mr.rS,{arrow:!1,className:"context-menu__item context-menu__submenu",label:(0,s.jsx)(kg,Ia(Ml({},O),{index:M})),children:O.elements.map(g)},M);default:return(0,s.jsx)(mr.ck,{disabled:O.isDisabled||O.disabled,data:Ia(Ml({},l),{id:n,menuItem:O.name}),onClick:v,className:"context-menu__item",children:(0,s.jsx)(kg,Ia(Ml({},O),{index:M}))},M)}},C=(0,a.useMemo)(()=>e==null?void 0:e.map(g),[e]);return(0,Jr.createPortal)((0,s.jsx)("div",{ref:u,children:(0,s.jsx)(mr.v2,Ia(Ml({},f),{onShown:y,onHidden:h,className:"context-menu",animation:!1,id:n,children:C}))}),ZM)}var Dg=(0,a.memo)(KM),Tl=Dg;const Ng=["string","number","integer","enum","date","checkbox","radio"],qM=[...Ng];function YM(t){return Ng.includes(t)}function ni(t){return qM.includes(t)}var XM=Object.defineProperty,Mg=Object.getOwnPropertySymbols,JM=Object.prototype.hasOwnProperty,QM=Object.prototype.propertyIsEnumerable,Tg=(t,e,n)=>e in t?XM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eT=(t,e)=>{for(var n in e||(e={}))JM.call(e,n)&&Tg(t,n,e[n]);if(Mg)for(var n of Mg(e))QM.call(e,n)&&Tg(t,n,e[n]);return t};const or=26,Oa=28,Ea=10,tT=41,Qt="table",So=Qt+"__grid-header",nT=Qt+"__grid-cells",ed=So+"-sorter",Fg=So+"-cell",Ag=Fg+"-item";function to(t,e,n){return`${t}-${e}-${n}`}function Bg(t,e){return dl(e,"rowId",t,1)}function $g(t,e){return dl(e,"rowId",t,-1)}function rT(t,e){return dl(e,"name",t,1)}function oT(t,e){return dl(e,"name",t,-1)}function lT(t,e={}){const{maxWidth:n,minWidth:r,width:o}=e;if(o===void 0)return null;const l=Math.round(o-t);return td(l,r,n)}function td(t=0,e,n){return n&&t>n?n:e&&t<e?e:t<Oa?Oa:t}function aT(t){return Number.isFinite(t)&&Number(t)!==0?Math.round(parseFloat(t)/4):t||null}const sT=(t,e)=>{var n,r;if(!e||!(t!=null&&t.length))return null;for(const o of t){if(o.name===e)return o;if((n=o.insideColumns)!=null&&n.length){const l=o.insideColumns.find(i=>i.name===e);if(l)return l}if((r=o.linkedColumns)!=null&&r.length){const l=sT(o.linkedColumns,e);if(l)return l}}return null},zg=(t,e)=>{const n=Object.assign({},e),r={},o=(i,c)=>{r[i]||(r[i]=[]),r[i].push(c)},l=(i,c=1)=>{var d,u,m;const f={row:c,height:(m=(u=(d=e[i.name])==null?void 0:d.headerSize)==null?void 0:u.height)!=null?m:or},{name:p,rowspan:v,linkedColumns:b}=i;if(v&&v>1&&!b.length){f.rowspan=v;for(let y=c+1;y<=v;y++)o(y,p)}n[p]?n[p].headerSize=f:n[p]={headerSize:f},o(c,p),i.linkedColumns.forEach(y=>l(y,c+1))};return t.forEach(i=>l(i)),{newHeaderRows:r,newTableSizes:n}},Lg=(t,e,n,r)=>{const o=Object.entries(t),l=e-(n?Ea:0);let i=0,c=0;const d={};o.forEach(([p,v])=>{d[p]=eT({},v),v.isFixSize&&v.width?i+=v.width:v.width&&c++});const u=()=>l-i-r-4;let m=!0;const f=[];for(;m;)m=!1,o.forEach(([p,v])=>{const{width:b,minWidth:y,maxWidth:h,isFixSize:g}=v;if(g||f.includes(p)||!b)return;let C=Math.round(u()/c);const O=td(C,y,h);C!==O&&(f.push(p),i+=O,c--,C=O,m=!0),d[p].width=C});return d},nd=(t,e=[],n)=>{var r,o;const l=(r=e[t])==null?void 0:r.rowId;if(l){const i=or-8;return(((o=n[l])==null?void 0:o.reduce((d,u)=>u>d?u:d,i))||i)+8}return or},iT=({rowsData:t=[],columnsData:e,wrapperWidth:n,isCardFile:r,getWidthColumn:o,serviceListWidth:l,rowsHeights:i,headerHeight:c,hasScroll:d,isTableOptimisationNeeded:u})=>{const m=t.length||1,f=n||0;let p;r?p=f:p=e.reduce((h,{name:g})=>h+o({name:g}),l)+2;let v,b=0;for(let y=0;y<m;y++){let h=nd(y,t,i);t.length||(h-=or),b+=h}return v=b+c+4,d.horizontal&&(v+=Ea),d.vertical&&u&&(p+=Ea),{countedWidth:p,countedHeight:v}},Hg=t=>{const e={};return t.forEach(n=>{var r,o,l,i;const c=(r=n.control)==null?void 0:r.style,d=e[n.name];e[n.name]={minWidth:$t(c==null?void 0:c.minWidth)||(d==null?void 0:d.minWidth),maxWidth:$t(c==null?void 0:c.maxWidth)||(d==null?void 0:d.maxWidth),width:Math.max($t((c==null?void 0:c.width)||((o=n==null?void 0:n.style)==null?void 0:o.width))||(d==null?void 0:d.width)||0,Oa),isFixSize:n.isFixSize||(d==null?void 0:d.isFixSize),canResize:((l=n.control)==null?void 0:l.canResize)||(d==null?void 0:d.canResize)};const u=(i=e[n.name])==null?void 0:i.headerSize;u&&(e[n.name].headerSize=u)}),e};var cT=Object.defineProperty,uT=Object.defineProperties,dT=Object.getOwnPropertyDescriptors,Wg=Object.getOwnPropertySymbols,fT=Object.prototype.hasOwnProperty,pT=Object.prototype.propertyIsEnumerable,Vg=(t,e,n)=>e in t?cT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ug=(t,e)=>{for(var n in e||(e={}))fT.call(e,n)&&Vg(t,n,e[n]);if(Wg)for(var n of Wg(e))pT.call(e,n)&&Vg(t,n,e[n]);return t},Gg=(t,e)=>uT(t,dT(e));const ri=({isActive:t,isDisabled:e,isSelected:n})=>B.iv`
  display: flex;
  padding: 0px 8px;
  box-sizing: border-box;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid ${()=>I("table-border-default")};
  border-right: 1px solid ${()=>I("table-border-default")};
  font-size: 12px;
  background-color: white;
  overflow: hidden;
  
  .string, .date__input {
    font-size: 12px;
    color: ${()=>I("text")};
  }

  ${t&&B.iv`
    background-color: ${()=>I("table-cell-background-active")};
  `}

  ${n&&B.iv`
    background-color: ${()=>I("table-cell-background-selected","#D6F5E9")};
  `}

  ${e&&B.iv`
    pointer-events: initial !important;
    background-color: ${()=>I("table-cell-background-disabled")};
    & .string__input {
      background-color: inherit;
      border: none;
    }
  `}

  ${t&&n&&B.iv`
    background-color: ${()=>I("table-cell-background-active-selected")};
  `}

  ${t&&e&&B.iv`
    background-color: ${()=>I("table-cell-background-active-disabled")};
  `}

  ${n&&e&&B.iv`
    background-color: ${()=>I("table-cell-background-selected-disabled","#D6F5E9")};
  `}

  ${t&&n&&e&&B.iv`
    background-color: ${()=>I("table-cell-background-active-selected-disabled")};
  `}

  .string_static,
  .enum_static {
    border-color: transparent;
    background-color: transparent;
  }
`,Fl=({type:t,state:e={}}={})=>{switch(t){case"header":return B.iv`
        ${ri(e)}
        background-color: ${()=>I("table-header-background-default")};
        border-bottom: none;
      `;case"service":{const n=Gg(Ug({},e),{isDisabled:!1});return B.iv`
        ${ri(n)}
        width: 32px;
        height: 100%;
      `}case"service-header":{const n=Gg(Ug({},e),{isDisabled:!1});return B.iv`
        ${ri(n)}
        background-color: ${()=>I("table-header-background-default")};
        border-bottom: none;

        width: 32px;
        height: 100%;
      `}case"cell":default:return ri(e)}},mT=(0,B.ZP)("div")`
  ${({cellState:t,cellType:e})=>Fl({state:t,type:e})}
`;var vT=Object.defineProperty,hT=Object.defineProperties,gT=Object.getOwnPropertyDescriptors,oi=Object.getOwnPropertySymbols,Zg=Object.prototype.hasOwnProperty,Kg=Object.prototype.propertyIsEnumerable,qg=(t,e,n)=>e in t?vT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bT=(t,e)=>{for(var n in e||(e={}))Zg.call(e,n)&&qg(t,n,e[n]);if(oi)for(var n of oi(e))Kg.call(e,n)&&qg(t,n,e[n]);return t},yT=(t,e)=>hT(t,gT(e)),_T=(t,e)=>{var n={};for(var r in t)Zg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&oi)for(var r of oi(t))e.indexOf(r)<0&&Kg.call(t,r)&&(n[r]=t[r]);return n};function CT(t,e){const n=t,{children:r,isActive:o,isDisabled:l,isSelected:i,cellType:c}=n,d=_T(n,["children","isActive","isDisabled","isSelected","cellType"]);return(0,s.jsx)(mT,yT(bT({ref:e},d),{cellType:c,cellState:{isActive:o,isDisabled:l,isSelected:i},children:r}))}var wT=(0,a.forwardRef)(CT),xT=Object.defineProperty,ST=Object.defineProperties,PT=Object.getOwnPropertyDescriptors,li=Object.getOwnPropertySymbols,Yg=Object.prototype.hasOwnProperty,Xg=Object.prototype.propertyIsEnumerable,Jg=(t,e,n)=>e in t?xT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$r=(t,e)=>{for(var n in e||(e={}))Yg.call(e,n)&&Jg(t,n,e[n]);if(li)for(var n of li(e))Xg.call(e,n)&&Jg(t,n,e[n]);return t},rd=(t,e)=>ST(t,PT(e)),Qg=(t,e)=>{var n={};for(var r in t)Yg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&li)for(var r of li(t))e.indexOf(r)<0&&Xg.call(t,r)&&(n[r]=t[r]);return n},eb=(0,a.memo)(({data:t,columnIndex:e,rowIndex:n,style:r})=>{var o,l,i,c,d;const{tableId:u,columns:m,rows:f,currentRowId:p,currentColumnId:v,isCardFile:b,onRowSelect:y,onRowsSelect:h,isInPlaceEdit:g,editableRowId:C,onNavigation:O,onCellDoubleClick:M,onCellControlEvent:P,onRowsBlur:x,onRowHeightChange:k,showContextMenuColumn:E,onMove:w,setFocusedEditableCell:S,tableWasFocused:F,wasServiceRowFocused:A,getWidthColumn:$,cellsBackgroundColor:U,selectedRowIds:V}=t,N=["string","number","integer","enum","checkbox","switch","date","button","listButton","label","radio"],L=f[n]||null,j=m[e],{name:R,control:H,isDisabled:W}=j,K=L?L.rowId:null,Z=(L==null?void 0:L[R])||{},G=Z,{style:re,isRequired:ee,isWrapped:ce,isMultiLine:D,dataAttrs:z={}}=G,q=Qg(G,["style","isRequired","isWrapped","isMultiLine","dataAttrs"]),J=rd($r({},re),{width:aT($({name:R}))}),X={rowId:K,rowIndex:n,columnId:R,columnIndex:e},ue=p===K,de=C===K,ge=v===R&&ue,fe=`${Qt}__grid-cell`,Ee=be()(fe,{[`${Qt}__main-cell`]:!0,[`${fe}_active`]:ue&&!W,[`${fe}_disabled`]:W,[`${fe}_active_disabled`]:ue&&W}),Pe=H,{events:Ce}=Pe,Se=Qg(Pe,["events"]),{type:je,hint:at}=Se,Le=(0,a.useRef)(null),qe=(0,a.useRef)(null),Ie=(0,a.useRef)(sn.active),Ye=to(u,K,R),He=(0,lt.v9)(Dt),Ae=(0,a.useCallback)((ae,{event:te,value:le,rowId:we,columnId:ze})=>(P({event:te,eventType:ae,control:H,cellData:X,value:le,targetRowId:we,targetColumnId:ze}),!0),[H,X,P]),De=(0,a.useCallback)(ae=>{var te;const{detail:le,ctrlKey:we,shiftKey:ze}=ae;if(le===1&&!g&&(we&&y({event:ae,rowId:K}),ze)){const Qe=f.findIndex(me=>me.rowId===K),gt=f.findIndex(me=>me.rowId===p),se=[Qe,gt].sort((me,Me)=>me-Me),xe=[];for(let me=se[0]+1;me<=se[1];me++)xe.push(f[me].rowId);h({event:ae,rowIds:xe}),document.getSelection().removeAllRanges()}le===2&&M&&(!g||p!==K)&&((te=qe.current)==null||te.focus(),M({event:ae,rowId:K}))},[K,M,y,qe,g]),it=(0,a.useCallback)(ae=>{var te;Ot(ae);const{keyCode:le}=ae,we=xr(le),ze=Gr(le);if(ua(le)&&!g&&y({event:ae,rowId:K}),(we||ze)&&(Ie.current!==sn.editable||b)){const Qe=we?$g(K,f):Bg(K,f);return(te=document.getElementById(to(u,Qe,R)))==null||te.focus({preventScroll:!0}),!1}return!0},[u,K,R,f,g,y,Ie]),ct=(0,a.useCallback)(({event:ae})=>{let te={rowId:K,columnId:R};return ue&&delete te.rowId,R===v&&delete te.columnId,w({event:ae,value:{submit:!ue||!F.current&&!b,rowId:K,columnId:R}}),(te.rowId||te.columnId)&&K==="serviceRow"&&!A.current&&(A.current=!0,O({event:ae,value:te})),F.current||(F.current=!0),!0},[O,K,p,R,v,w,ue,F,A]),st=(0,a.useCallback)(({event:ae})=>{var te;const le=(te=ae==null?void 0:ae.relatedTarget)==null?void 0:te.dataset;return((le==null?void 0:le.tableId)!==u||!$e(le,"rowId"))&&x({event:ae,value:{lastSelectedRowId:K}}),!0},[u,x,K]),bt=(0,a.useCallback)(({event:ae,value:te})=>(Ae("onImplicitChange",{event:ae,value:te}),!0),[Ae]),ft=(0,a.useCallback)(({event:ae})=>{const{shiftKey:te}=ae,le=m.filter(ze=>!ze.isDisabled);return(te?oT(R,le):rT(R,le))===R&&ae.preventDefault(),!1},[R,m]),ht=(0,a.useCallback)(ae=>(Ae("onEnter",ae),!0),[Ae,Ie]),Be=(0,a.useCallback)(ae=>(Ae("onEdit",ae),!0),[Ae,Ie]),ie=(0,a.useCallback)(({value:ae})=>{Ie.current=ae},[Ie]),Ze=(0,a.useCallback)(({value:ae})=>{const te=ae.borderBoxSize.blockSize;k({rowId:K,rowIndex:n,columnIndex:e,height:te})},[K,n,e,k]),tt=(0,a.useMemo)(()=>rd($r({},z),{["data-table-id"]:u,["data-row-id"]:K,["data-column-id"]:R}),[u,K,R,z]);let _t=null;//!
if(N.includes(je)){const ae={isWrapped:ce,isMultiLine:D,isRequired:ee,hint:at,style:J,className:`${Qt}__cell-control`||null,isDisabled:W,focusedElement:qe,isStatic:W||b&&(!de||!g),isParentTable:!0,tabIndex:Ur(g&&!W)},te={};for(const we in Ce)$e(Ce,we)&&(te[we]=Ae.bind(void 0,we));te.onTab=ft,te.onBlur=st,te.onEnter=ht,te.onModeChange=ie,te.onEdit=Ce&&Object.keys(Ce).includes("onEdit")&&Be;let le=null;switch(je){case"switch":case"checkbox":{ae.isStatic=!g;break}case"button":{ae.isStatic=!g;break}case"listButton":{ae.isStatic=!g,(o=Se.elements)!=null&&o.length&&(le=Se.elements.map(we=>{var ze;const Qe=$r({},we);return(ze=we==null?void 0:we.actions)!=null&&ze.length&&we.actions.forEach(gt=>{Qe[gt]=Ae.bind(void 0,gt)}),Xo(Qe,Se.isDisabled)}));break}case"radio":{ae!=null&&ae.group||(ae.group="radioGroup-"+u+"-"+K);break}default:break}ae.dataAttrs=tt,ae.value=Z.value,ni(je)&&(ae.formattedValue=Z.formattedValue||Z.value,te.onImplicitChange=bt),ae.isWrapped&&(te.onResize=Ze),_t=Xo($r($r($r($r({GUID:Ye},Se),ae),q),te),!1,le)}_t!==null&&!_t.props.style.backgroundColor&&U&&!ue&&b&&(_t.props.style.backgroundColor=U),(0,a.useEffect)(()=>{var ae;b&&ge&&g&&qe.current&&!W&&((ae=qe.current)==null||ae.focus(),S(qe.current))},[ge,g]);const{show:ve}=(0,mr.av)({id:u,props:{rowId:K,columnId:R}}),pe=ae=>{var te;ve(ae),(te=qe.current)==null||te.focus()};if(L){if(He){const ae={style:$r({backgroundColor:(i=(l=_t==null?void 0:_t.props)==null?void 0:l.style)==null?void 0:i.backgroundColor},r),tabIndex:-1,onClick:De,onKeyDown:it,onFocus:ct,onContextMenu:E?pe:null,isActive:ue,isDisabled:W,isSelected:V.includes(K.toString()),mainCssClass:Qt};return(0,s.jsx)(wT,rd($r({ref:Le},ae),{"data-cell":"",children:_t}))}return(0,s.jsx)("div",{ref:Le,className:Ee,style:$r({backgroundColor:(d=(c=_t==null?void 0:_t.props)==null?void 0:c.style)==null?void 0:d.backgroundColor},r),tabIndex:-1,"data-cell":"",onClick:De,onKeyDown:it,onContextMenu:E?pe:null,onFocus:ct,children:_t})}else return null},Rn.wy);const IT=(0,B.ZP)("div")`
  display: flex;
  align-items: center;
`,od=(0,B.ZP)("div")`
      ${({isActiveRow:t,isSelectedRow:e})=>Fl({type:"service",state:{isActive:t,isSelected:e}})}
`,OT=(0,B.ZP)(od)`
  width: 4px;
  border-right: none;
  flex: 0 0 auto;

  ${({isActiveRow:t,isSelectedRow:e,cellBgColor:n})=>!e&&B.iv`
      background-color: ${t?I("table-cell-background-active"):n};
    `}
`,ET=(0,B.ZP)(od)`
  width: 32px;
  justify-content: initial;
  padding-left: 4px;
  flex: 0 0 auto;

  ${({isActiveRow:t,isSelectedRow:e,cellBgColor:n})=>!e&&B.iv`
      background-color: ${t?I("table-cell-background-active"):n};
    `}
`,kT=(0,B.ZP)(od)`
  padding: 2px;
  flex: 0 0 auto;

  ${({isActiveRow:t,isSelectedRow:e})=>!e&&t&&B.iv`
      background-color: ${I("table-cell-background-active")};
    `}
`,jT=(0,B.ZP)("div")`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 60%;
  aspect-ratio: 1 / 1;
  
  .img {
    max-width: 100%;
    max-height: 100%;
  }
`;var ka=(t=>(t.checkBox="sc-checkBox",t.subMenu="sc-subMenu",t.image="sc-image",t))(ka||{});const RT=16,DT=t=>{const{cellData:e,style:n,rowId:r,rowIcon:o,isActiveRow:l,isSelectedRow:i,styleImagCell:c,checkBoxTestId:d,handleCellClick:u,handleClickIcon:m,handleKeyDown:f,handleFocus:p,handleBlur:v,handleCheckBoxChange:b,controlDataAttrs:y}=t,{tableId:h,isDisabled:g,showSelectColumn:C,showIcon:O,cellsBackgroundColor:M}=e!=null?e:{};return(0,s.jsxs)(IT,{style:n,children:[C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(OT,{isActiveRow:l,isSelectedRow:i,cellBgColor:M}),(0,s.jsx)(ET,{isActiveRow:l,isSelectedRow:i,cellBgColor:M,"data-table-id":h,"data-row-id":r,"data-column-id":ka.checkBox,onClick:u,onKeyDown:f,onFocus:p,onBlur:v,tabIndex:-1,children:(0,s.jsx)(Zo,{id:to(h,r,ka.checkBox),isDisabled:g,value:i,onChange:b,dataAttrs:y,metaSet:{rowId:r},tabIndex:-1,testId:d,isParentTable:!0})})]}),O&&(0,s.jsx)(kT,{isActiveRow:l,isSelectedRow:i,"data-table-id":h,"data-row-id":r,"data-column-id":ka.image,style:c,onClick:m,onKeyDown:f,onFocus:p,onBlur:v,tabIndex:-1,children:(0,s.jsx)(jT,{children:(0,s.jsx)(Ct,{tabIndex:-1,id:to(h,r,ka.image),name:o.name,type:"line",size:RT,color:o==null?void 0:o.color,"data-table-id":h,"data-row-id":r})})})]})};var NT=(0,a.memo)(DT),MT=Object.defineProperty,tb=Object.getOwnPropertySymbols,TT=Object.prototype.hasOwnProperty,FT=Object.prototype.propertyIsEnumerable,nb=(t,e,n)=>e in t?MT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AT=(t,e)=>{for(var n in e||(e={}))TT.call(e,n)&&nb(t,n,e[n]);if(tb)for(var n of tb(e))FT.call(e,n)&&nb(t,n,e[n]);return t},rb=(0,a.memo)(({data:t,index:e,style:n})=>{const{tableId:r,isDisabled:o,rows:l,currentRowId:i,selectedRowIds:c,showSelectColumn:d,showIcon:u,onRowsBlur:m,testId:f,onRowSelect:p,onRowsSelect:v,onNavigation:b,onMove:y,onCellDoubleClick:h,onClickIcon:g,isCardFile:C,tableWasFocused:O,wasServiceRowFocused:M,isInPlaceEdit:P,cellsBackgroundColor:x}=t,k={checkBox:"sc-checkBox",subMenu:"sc-subMenu",image:"sc-image"},E=l[e]||null,w=(E==null?void 0:E.rowId)||null,S=(E==null?void 0:E.iconName)||{},F=i===w,A=c.includes(w),$=be()(`${Qt}__grid-cell`,`${Qt}__service-cell`,{[`${Qt}__grid-cell_active`]:F}),U=`${Qt}__row-marker`,V=be()($,U,{[`${U}_select`]:A,[`${U}_edit`]:!1}),N=be()($,`${Qt}__row-selector`),L=be()($,`${Qt}__row-image`),j=q=>{const J={};return q!=null&&q.bgColor?J.backgroundColor=q.bgColor:!(q!=null&&q.bgColor)&&x&&!F&&(J.backgroundColor=x),J},R=bf(S==null?void 0:S.color),H=j(S),W=`${f}_${w}_checkbox-selector`,K=(0,a.useCallback)(q=>{const{detail:J,ctrlKey:X,shiftKey:ue}=q;if(b&&b({event:q,value:{rowId:w}}),J===1&&!P&&(X&&p({event:q,rowId:w}),ue)){const ge=l.findIndex(Ce=>Ce.rowId===w),fe=l.findIndex(Ce=>Ce.rowId===i),Ee=[ge,fe].sort((Ce,Se)=>Ce-Se),Pe=[];for(let Ce=Ee[0]+1;Ce<=Ee[1];Ce++)Pe.push(l[Ce].rowId);v({event:q,rowIds:Pe}),document.getSelection().removeAllRanges()}J===2&&h&&h({event:q,rowId:w})},[w,b,h]),Z=q=>{const{detail:J}=q;J===1&&g&&!C?g({event:q,rowId:w}):J===1&&h&&C&&h({event:q,rowId:w})},G=(0,a.useCallback)(q=>{var J;Ot(q);const{keyCode:X,currentTarget:{dataset:{tableId:ue,columnId:de,rowId:ge}}}=q,fe=xr(X),Ee=Gr(X);if(ua(X)&&!P&&p({event:q,rowId:ge}),fe||Ee){const Pe=fe?$g(ge,l):Bg(ge,l);return(J=document.getElementById(to(ue,Pe,de)))==null||J.focus(),!1}return!0},[l,P,p]),re=(0,a.useCallback)(q=>(y({event:q,value:{submit:!F||!O.current&&!C,rowId:w}}),O.current||(O.current=!0),w==="serviceRow"&&!M.current&&(M.current=!0,b({event:q,value:{rowId:w}})),!0),[b,w,O,F,M,y]),ee=(0,a.useCallback)(q=>{var J;const X=(J=q.relatedTarget)==null?void 0:J.dataset;return((X==null?void 0:X.tableId)!==r||!$e(X,"rowId"))&&m({event:q,value:{lastSelectedRowId:w}}),!0},[r,m,w]),ce=(0,a.useCallback)(({event:q,value:J})=>{p&&p({event:q,value:J,rowId:w})},[p,w]),D=(0,a.useMemo)(()=>({["data-table-id"]:r,["data-row-id"]:w}),[r,w]);if(Boolean((0,lt.v9)(Dt))){const q={cellData:t,style:n,columnIds:k,rowId:w,rowIcon:S,isActiveRow:F,isSelectedRow:A,styleImagCell:H,checkBoxTestId:W,handleCellClick:K,handleClickIcon:Z,handleKeyDown:G,handleFocus:re,handleBlur:ee,handleCheckBoxChange:ce,controlDataAttrs:D};return(0,s.jsx)(NT,AT({},q))}return(0,s.jsxs)("div",{className:`${Qt}__grid-service-row`,style:n,children:[d&&(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{className:V,style:{backgroundColor:F?null:x}}),(0,s.jsx)("div",{className:N,style:{backgroundColor:F?null:x},"data-table-id":r,"data-row-id":w,"data-column-id":k.checkBox,onClick:K,onKeyDown:G,onFocus:re,onBlur:ee,tabIndex:-1,children:(0,s.jsx)(Zo,{id:to(r,w,k.checkBox),isDisabled:o,value:A,onChange:ce,dataAttrs:D,metaSet:{rowId:w},tabIndex:-1,testId:W,isParentTable:!0})})]}),u&&(0,s.jsx)("div",{className:L,"data-table-id":r,"data-row-id":w,"data-column-id":k.image,style:H,onClick:Z,onKeyDown:G,onFocus:re,onBlur:ee,tabIndex:-1,children:(0,s.jsx)("div",{className:"service-cell__img-container",children:(0,s.jsx)("img",{style:R,tabIndex:-1,id:to(r,w,k.image),className:"img",src:en(S.name),"data-table-id":r,"data-row-id":w,alt:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"})})})]})},Rn.wy),BT=Ve(18446),$T=Ve.n(BT);const zT=({_ref:t,cellColor:e,textStyle:n,hasSorter:r,handleMouseUp:o,handleCellResizeMouseDown:l,className:i,controlClasses:c,sorterClasses:d,isFixSize:u,title:m,children:f,tabIndex:p,height:v})=>{const b=(0,s.jsxs)("div",{className:be()(c,i),style:{position:"relative",height:v},onMouseUp:o,tabIndex:p,children:[(0,s.jsx)("span",{className:`table__grid-header-drop-indicator\r
            table__grid-header-drop-indicator__left`}),(0,s.jsx)("span",{ref:t,className:"table__grid-header-text text-ellipsis",style:n,title:m,children:f}),r&&(0,s.jsx)("span",{className:d}),!u&&(0,s.jsx)("div",{className:"table__grid-header-lane-resizable",onMouseDown:l}),(0,s.jsx)("span",{className:`table__grid-header-drop-indicator\r
            table__grid-header-drop-indicator__right`})]});return e?(0,s.jsx)("div",{className:"table__grid-header-cell-item_wrapper",style:{background:e},children:b}):b};var LT=(0,a.memo)(zT),HT=Object.defineProperty,WT=Object.defineProperties,VT=Object.getOwnPropertyDescriptors,ob=Object.getOwnPropertySymbols,UT=Object.prototype.hasOwnProperty,GT=Object.prototype.propertyIsEnumerable,lb=(t,e,n)=>e in t?HT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ab=(t,e)=>{for(var n in e||(e={}))UT.call(e,n)&&lb(t,n,e[n]);if(ob)for(var n of ob(e))GT.call(e,n)&&lb(t,n,e[n]);return t},sb=(t,e)=>WT(t,VT(e));const ZT=t=>{const{headerCellData:e,getWidthHeader:n}=t;return(0,s.jsx)(s.Fragment,{children:e.linkedColumns.map(r=>{const{style:o}=r,l=n(r),i=sb(ab({},o),{width:l+"px",maxWidth:l+"px",minWidth:l+"px"});return(0,a.createElement)(yb,sb(ab({},t),{headerCellData:r,style:i,key:r.name}))})})};var KT=(0,a.memo)(ZT);const qT=(0,B.ZP)("div")`
  padding: 0 8px;
  flex-grow: 1;
  flex-shrink: 1;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  box-sizing: border-box;
  border-top: none;

  text-align: center;
  line-height: 1.5;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;

  ${({hasOnClick:t})=>t&&B.iv`
      cursor: default;
      &:hover {
        background: linear-gradient(
          to top,
          ${()=>I("table-header-background-default")} 25%,
          white
        );
      }
    `}

  ${({staticStyle:t})=>{switch(t){case"staticHyperlink":return B.iv`
          ${IN};
          border-right: 1px solid ${()=>I("table-border-default")};
          cursor: pointer;
        `;case"staticButton":return B.iv`
          ${SN};
          padding: 2px 3px;
          background-color: ${()=>I("table-background-default","white")};
          box-shadow: inset 0px -10px 10px #efecff;
          border: 1px solid ${()=>I("table-border-default")};
          transition: 0.3s;
          &:first-of-type {
            border-top: 1px solid ${()=>I("table-border-default")};
          }
          &:active {
            box-shadow: inset 0px 10px 10px #efecff;
            & span {
              transform: translate(1px, 1px);
            }
          }
          &:hover {
            border: 1px solid #4f99d4;
            background-color: #f6fafd;
          }
        `;case"staticHeader":return B.iv`
          ${PN};
          width: inherit;
        `;case"normalText":return B.iv`
          &:focus {
            border: 1px dotted ${()=>I("text")};
            &:first-of-type {
              border-top: 1px dotted ${()=>I("text")};
            }
          }
        `;default:return""}}}
`,YT=(0,B.ZP)("span")`
  flex-grow: 1;
  text-align: center;
  line-height: 1.5;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;

  ${({isEllipsis:t})=>t&&B.iv`
      white-space: normal;
    `}
`,XT=(0,B.ZP)("div")`
  position: absolute;
  height: 100%;
  width: 7px;
  cursor: e-resize;
  right: 0px;
`,JT=(0,B.ZP)("div")`
  width: inherit;
  background-color: ${({cellColor:t})=>t};
`,ib=(0,B.ZP)("div")`
  position: absolute;
  height: 100%;
  width: 7px;
  background-color: ${()=>I("table-drop-indicator-background-default")};
  display: none;

  ${({side:t})=>{if(t==="left")return B.iv`
        left: 0px;
      `;if(t==="right")return B.iv`
        right: 0px;
      `}}
`,QT=16,e3=({_ref:t,cellColor:e,staticStyle:n,hasOnClick:r,textStyle:o,hasSorter:l,handleMouseUp:i,handleCellResizeMouseDown:c,className:d,sortDir:u,isFixSize:m,title:f,children:p,tabIndex:v,height:b})=>{const y=u?`sort-${u}`:"",h=(0,s.jsxs)(qT,{staticStyle:n,hasOnClick:r,className:d,style:{position:"relative",height:b},onMouseUp:i,tabIndex:v,children:[(0,s.jsx)(ib,{side:"left",className:"table__grid-header-drop-indicator"}),(0,s.jsx)(YT,{isEllipsis:!0,ref:t,style:o,title:f,children:p}),l&&(0,s.jsx)(Ct,{name:y,size:QT,type:""}),!m&&(0,s.jsx)(XT,{onMouseDown:c}),(0,s.jsx)(ib,{side:"right",className:"table__grid-header-drop-indicator"})]});return e?(0,s.jsx)(JT,{cellColor:e,children:h}):h};var t3=(0,a.memo)(e3);const n3=(0,B.ZP)("div")`
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-right: 1px solid ${()=>I("table-border-default")};
  box-sizing: border-box;
  flex-grow: 1;
  flex-shrink: 1;
`,r3=(0,B.ZP)("div")`
  flex-grow: 1;
  flex-shrink: 1;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  box-sizing: border-box;
  position: relative;
  padding-left: 1px;
  margin-top: 1px;

  &::before {
    content: "";
    width: inherit;
    height: 1px;
    position: absolute;
    top: -1px;
    left: 0px;
    background-color: ${()=>I("table-border-default","black")};
  }
`;var o3=Object.defineProperty,l3=Object.defineProperties,a3=Object.getOwnPropertyDescriptors,cb=Object.getOwnPropertySymbols,s3=Object.prototype.hasOwnProperty,i3=Object.prototype.propertyIsEnumerable,ub=(t,e,n)=>e in t?o3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,db=(t,e)=>{for(var n in e||(e={}))s3.call(e,n)&&ub(t,n,e[n]);if(cb)for(var n of cb(e))i3.call(e,n)&&ub(t,n,e[n]);return t},fb=(t,e)=>l3(t,a3(e));const c3=t=>{const{headerCellData:e,getWidthHeader:n}=t;return(0,s.jsx)(s.Fragment,{children:e.linkedColumns.map(r=>{const{style:o}=r,l=n(r),i=fb(db({},o),{width:l+"px",maxWidth:l+"px",minWidth:l+"px"});return(0,a.createElement)(ld,fb(db({},t),{headerCellData:r,style:i,key:r.name}))})})};var u3=(0,a.memo)(c3),d3=Object.defineProperty,f3=Object.defineProperties,p3=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,pb=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable,vb=(t,e,n)=>e in t?d3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ja=(t,e)=>{for(var n in e||(e={}))pb.call(e,n)&&vb(t,n,e[n]);if(ai)for(var n of ai(e))mb.call(e,n)&&vb(t,n,e[n]);return t},m3=(t,e)=>f3(t,p3(e)),v3=(t,e)=>{var n={};for(var r in t)pb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ai)for(var r of ai(t))e.indexOf(r)<0&&mb.call(t,r)&&(n[r]=t[r]);return n};const h3=t=>{var e,n;const r=t,{containerRef:o,className:l,headerCellData:i,columnIndex:c,sortDir:d,hasOnClick:u,hasLinkedColumns:m,style:f,getHeaderCellHeight:p,handleControlMouseUp:v,handleCellResizeMouseDown:b,handleContextMenu:y}=r,h=v3(r,["containerRef","className","headerCellData","columnIndex","sortDir","hasOnClick","hasLinkedColumns","style","getHeaderCellHeight","handleControlMouseUp","handleCellResizeMouseDown","handleContextMenu"]),g={_ref:o,hasSorter:d!=="none",sortDir:d,staticStyle:i.staticStyle,hasOnClick:u,textStyle:ja({textAlign:"left"},i.style),handleMouseUp:v,handleCellResizeMouseDown:b,isFixSize:i.isFixSize||!!i.sizes.fixedSize.length,title:(e=i.hint)!=null?e:i.title,cellColor:i.cellColor,tabIndex:Ur(u),height:p(i.name)},C=ja(ja({},t),h);return(0,s.jsxs)(n3,{className:l,style:f,onContextMenu:y,"data-column-index":c,children:[(0,s.jsx)(t3,m3(ja({},g),{children:(n=i.title)!=null?n:""})),m&&Boolean(i.linkedColumns.length)&&(0,s.jsx)(r3,{children:(0,s.jsx)(u3,ja({},C))})]},i.name)};var g3=(0,a.memo)(h3),b3=Object.defineProperty,y3=Object.defineProperties,_3=Object.getOwnPropertyDescriptors,hb=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,w3=Object.prototype.propertyIsEnumerable,gb=(t,e,n)=>e in t?b3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,si=(t,e)=>{for(var n in e||(e={}))C3.call(e,n)&&gb(t,n,e[n]);if(hb)for(var n of hb(e))w3.call(e,n)&&gb(t,n,e[n]);return t},bb=(t,e)=>y3(t,_3(e));const x3=t=>{var e,n,r;const{className:o,headerCellData:l,columnIndex:i,style:c,isResizedHeaderWidth:d,handleHeaderClick:u,onMouseDownResizableWidthHed:m,setCellHeight:f,getHeaderCellHeight:p,getWidthHeader:v,onContextMenu:b}=t,y=Boolean((0,lt.v9)(Dt)),h=(0,a.useRef)(null),g=l.sortDir,C=(e=l.events)==null?void 0:e.includes("onClick"),O=!!l.linkedColumns.length,M=be()(o,Ag,So,{[`${So}_clicked`]:C,[`${So}_hyperlink`]:l.staticStyle==="staticHyperlink",[`${So}_button`]:l.staticStyle==="staticButton",[`${So}_header`]:l.staticStyle==="staticHeader",[`${So}_normal`]:l.staticStyle==="normalText"}),P=be()(ed,{[`${ed}_asc`]:g==="asc",[`${ed}_desc`]:g==="desc"}),x=(0,a.useCallback)(S=>{if(C){if(d){S.preventDefault();return}S.button===0&&S.detail<2&&u({event:S,value:l.name})}},[C,d,u]),k=(0,a.useCallback)(S=>{var F;if(l.linkedColumns.length){m(S,[l.name,...l.linkedColumns.map(A=>A.name)]);return}if((F=l.insideColumns)!=null&&F.length){m(S,[l.name,...l.insideColumns.map(A=>A.name)]);return}m(S,[l.name])},[m,l]),E=(0,a.useCallback)(S=>{b(S,l.name)},[l.name]),w=(0,a.useCallback)(()=>({_ref:h,hasSorter:g!=="none",textStyle:l.style,handleMouseUp:x,handleCellResizeMouseDown:k,controlClasses:M,sorterClasses:P,isFixSize:l.isFixSize||!!l.sizes.fixedSize.length,title:l.hint||l.title,cellColor:l.cellColor,tabIndex:Ur(C),height:p(l.name)}),[]);if((0,a.useEffect)(()=>{h.current&&h.current.clientHeight>0&&f(l.name,h.current.clientHeight)},[(n=h.current)==null?void 0:n.clientHeight]),y){const S=bb(si({},t),{containerRef:h,className:o,headerCellData:l,sortDir:g,hasOnClick:C,hasLinkedColumns:O,style:c,getHeaderCellHeight:p,getWidthHeader:v,handleControlMouseUp:x,handleCellResizeMouseDown:k,handleContextMenu:E});return(0,s.jsx)(g3,si({},S))}return(0,s.jsxs)("div",{className:Fg,style:c,onContextMenu:E,"data-column-index":i,children:[(0,s.jsx)(LT,bb(si({},w()),{children:(r=l.title)!=null?r:""})),O&&(0,s.jsx)("div",{className:Ag,children:(0,s.jsx)(KT,si({},t))})]},l.name)};var yb=(0,a.memo)(x3),ld=yb,S3=Object.defineProperty,_b=Object.getOwnPropertySymbols,P3=Object.prototype.hasOwnProperty,I3=Object.prototype.propertyIsEnumerable,Cb=(t,e,n)=>e in t?S3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wb=(t,e)=>{for(var n in e||(e={}))P3.call(e,n)&&Cb(t,n,e[n]);if(_b)for(var n of _b(e))I3.call(e,n)&&Cb(t,n,e[n]);return t};const O3="draggable";function E3(t,e){const{innerRef:n,itemData:r,tableName:o,draggableColumns:l}=t,{order:i,mode:c,draggable:d,disableTableScroll:u,onOrderChange:m,onDropSuccess:f}=l;let p,v,b=[],y;const h=Math.max(...Object.values(i)),g=c==="reorder",C=(0,a.useRef)(null),O=(0,a.useRef)(null),M=(0,a.useRef)(null),P=(0,a.useRef)(null),x=(0,a.useRef)(null);let k=(0,a.useRef)(null);k=n||k,(0,a.useEffect)(()=>{E()},[l,r]);const E=()=>{var S;Array.from(((S=k.current)==null?void 0:S.children)||[]).forEach(A=>{A.setAttribute(O3,"true"),A.ondragstart=$=>{if($.stopPropagation(),d===!1)return!1;if(o&&(P.current=o,u)){const U=document.querySelector(`.${Qt}[data-name="${o}"]`);if(U){const V=U.getElementsByClassName(nT)[0];x.current=V,V.style.overflow="hidden"}}C.current=parseInt(A.dataset.columnIndex||"",10),O.current=gf(A),M.current=A},A.ondrag=$=>{$.stopPropagation()},A.ondragenter=$=>{$.stopPropagation(),$.preventDefault()},A.ondragover=$=>{if($.preventDefault(),!M.current||!k.current)return!1;const U=$.currentTarget;if(g){const[V,N]=U.getElementsByClassName("table__grid-header-drop-indicator");if(y&&(y==null?void 0:y.left)!==V&&(y==null?void 0:y.right)!==N&&(y.left.style.display="none",y.right.style.display="none"),y={left:V,right:N},O.current!==gf(U)){const j=hS(U).left+U.offsetWidth/2;$.pageX>j?(y.right.style.display="block",y.left.style.display="none",p=1):(y.left.style.display="block",y.right.style.display="none",p=-1)}}},A.ondragleave=$=>{$.preventDefault(),g&&y&&(y.left.style.display="none",y.right.style.display="none")},A.ondrop=$=>{if($.preventDefault(),P.current!==o)return!1;const U=$.currentTarget,V=C.current;let N=parseInt(U.dataset.columnIndex||"",10);if(V===null||N===null)return!1;if(v=V>N,g&&(v?p===1&&(N+=1):p===-1&&(N-=1)),N<0?N=0:N>h&&(N=h),V!==N&&i){const j=Object.keys(i),R=j.find(W=>i[W]===V),H=j.find(W=>i[W]===N);if(H&&R)g||b.push({name:H,index:V}),b.push({name:R,index:N});else return!1;f&&f(R,H,V,N)}P.current=null,g&&y&&(y.left.style.display="none",y.right.style.display="none",y=null)},A.ondragend=()=>{if(x.current&&(x.current.style.overflow="auto"),b.length&&i){const $=wb({},i);if(g){const U=Object.keys($).sort((V,N)=>$[V]-$[N]);b.forEach(({name:V,index:N})=>{const L=i[V];if(v)for(let j=N;j<=L;j++){const R=U[j];$[R]+=1}else for(let j=N;j>=L;j--){const R=U[j];$[R]-=1}$[V]=N})}else b.forEach(({name:U,index:V})=>{$[U]=V});m&&m($)}b=[]}})},w=()=>{E()};return(0,s.jsx)(Rn.S_,wb({ref:e,innerRef:k,onItemsRendered:w},t))}var k3=(0,a.forwardRef)(E3),xb=k3;const Sb=(0,B.ZP)("div")`
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  z-index: 0;
  overflow: auto;

  border: 1px solid ${()=>I("table-border-default")};
  border-radius: 8px;

  ${({isCardFile:t})=>!t&&B.iv`
      ${xa()}
    `}

  ${({isTableGroup:t})=>t&&B.iv`
      border-left: none;
      border-radius: 0 8px 8px 0;
      margin-left: 0 !important;
    `}
`,Pb=(0,B.ZP)("div")`
  box-sizing: border-box;
  width: max-content;

  ${Sb} & {
    .wrapper_button,
    .checkbox {
      margin: 0;
    }
  }

  ${({isTableGroup:t})=>t&&B.iv`
      border-left: none;
    `}
`,j3=(0,B.ZP)("div")`
  display: flex;
  color: ${()=>I("table-text-interactive")};
  font-weight: 400;
  font-size: 13px;
  border-bottom: 1px solid ${()=>I("table-border-default")};
  background-color: ${()=>I("table-header-background-default")};

  ${({isFreezed:t})=>t&&B.iv`
      position: sticky;
      top: 0;
      z-index: 11;
    `}
`,R3=(0,B.ZP)("div")`
  display: flex;
`,D3=(0,B.ZP)("div")`
  width: 16px;
  border-left: 1px solid ${()=>I("table-border-default")};
  background-color: ${()=>I("table-background-default","white")};
`,N3=(0,B.ZP)("div")`
  ${({show:t})=>t&&B.iv`
      height: 16px;
      border-top: 1px solid ${()=>I("table-border-default")};
      border-right: 1px solid ${()=>I("table-border-default")};
    `}
`,M3=(0,B.ZP)("div")`
  z-index: 10;
`,T3=(0,B.ZP)("div")`
  display: flex;

  &:focus {
    outline: none;
  }
`,Ib=(0,B.ZP)("div")`
  flex: 0 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  border-radius: 0 0 8px 8px;

  ${xa()}
`,F3=(0,B.ZP)("div")`
  ${({isCardFile:t})=>t&&B.iv`
      flex: 1 1 auto;
      overflow: hidden;
      border-radius: 3px;
      border-bottom: 1px solid ${()=>I("table-border-default")};

      ${Pb} {
        border-top: 0;
      }
    `}

  ${({isTableGroup:t})=>t&&B.iv`
      border-right: none;
    `}
`,A3=(0,B.ZP)("span")`
  color: ${()=>I("table-footer-text-default")};
  font-size: 10px;
`,B3=(0,B.ZP)(Rn.cd)`
  flex: 0 1 auto;
  will-change: initial !important;

  ${Vu()}

  &::-webkit-scrollbar {
    height: 16px;
    width: 16px;
    background-color: white;
    border-top: 1px solid ${()=>I("table-border-default")};

    &:vertical {
      border-top: none;
      border-left: 1px solid ${()=>I("table-border-default")};
    }

    &-track {
      height: 16px;
      width: 16px;
    }

    &-corner {
      border-left: 1px solid ${()=>I("table-border-default")};
      border-top: 1px solid ${()=>I("table-border-default")};
    }

    &-thumb {
      background-color: ${()=>I("table-scrollbar-thumb-background-default")};
      border: 6px solid transparent;

      &:hover,
      &:active {
        border: 5px solid transparent;
      }
    }
  }

  > div:only-child {
    min-height: 1px;
  }
`,$3=(0,B.ZP)(Rn.S_)`
  ${xa()}
`,z3=(0,B.ZP)(xb)`
  flex: 0 1 auto;
  ${xa()}
`,m6=(0,B.ZP)("div")`
  ${Fl()};
`,ad=(0,B.ZP)("div")`
  ${Fl({type:"service-header"})}
  .button {
    background: transparent;
    border: none;
    color: ${()=>I("table-text-interactive")};

    &:hover {
      background: transparent;
      border: none;
      color: ${()=>I("table-cell-marked-text-default")};
    }
  }
`,v6=(0,B.ZP)("div")`
  ${Fl({type:"service"})}
`,L3=(0,B.ZP)(ad)`
  width: 4px;
  border-right: none !important;
  flex: 0 0 auto;
`,H3=(0,B.ZP)(ad)`
  width: 32px;
  justify-content: initial;
  padding-left: 4px;
  flex: 0 0 auto;
`,W3=(0,B.ZP)(ld)`
  ${Fl({type:"header"})}

  padding: 0;
  flex-grow: 1;
  flex-shrink: 1;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  box-sizing: border-box;

  &_wrapper {
    width: inherit;
  }
`,V3=32,U3=16,G3="allRowsSelector",Al=30,Ra=16;var Z3=Object.defineProperty,Ob=Object.getOwnPropertySymbols,K3=Object.prototype.hasOwnProperty,q3=Object.prototype.propertyIsEnumerable,Eb=(t,e,n)=>e in t?Z3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y3=(t,e)=>{for(var n in e||(e={}))K3.call(e,n)&&Eb(t,n,e[n]);if(Ob)for(var n of Ob(e))q3.call(e,n)&&Eb(t,n,e[n]);return t};const kb=(t,e=0,n,r)=>{const o=Object.entries(t),l=e-(n?Ra:0);let i=0,c=0;const d={};o.forEach(([p,v])=>{d[p]=Y3({},v),v.isFixSize&&v.width?i+=v.width:v.width&&c++});const u=()=>l-i-r;let m=!0;const f=[];for(;m;)m=!1,o.forEach(([p,v])=>{const{width:b,minWidth:y,maxWidth:h,isFixSize:g}=v;if(g||f.includes(p)||!b)return;let C=Math.round(u()/c);const O=td(C,y,h);C!==O&&(f.push(p),i+=O,c--,C=O,m=!0),d[p].width=C});return d},jb=(t,e=[],n)=>{var r,o;const l=(r=e[t])==null?void 0:r.rowId;if(l){const i=Al-8;return(((o=n[l])==null?void 0:o.reduce((d,u)=>u>d?u:d,i))||i)+8}return Al},X3=({rowsData:t=[],columnsData:e,wrapperWidth:n,isCardFile:r,getWidthColumn:o,serviceListWidth:l,rowsHeights:i,headerHeight:c,hasScroll:d,isTableOptimisationNeeded:u})=>{const m=t.length||1,f=n||0;let p;r?p=f:p=e.reduce((h,{name:g})=>h+o({name:g}),l);let v,b=0;for(let y=0;y<m;y++){let h=jb(y,t,i);t.length||(h-=Al),b+=h}return v=b+c,d.horizontal&&(v+=Ra),d.vertical&&u&&(p+=Ra),{countedWidth:p,countedHeight:v}};var J3=Object.defineProperty,Q3=Object.defineProperties,eF=Object.getOwnPropertyDescriptors,Rb=Object.getOwnPropertySymbols,tF=Object.prototype.hasOwnProperty,nF=Object.prototype.propertyIsEnumerable,Db=(t,e,n)=>e in t?J3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bl=(t,e)=>{for(var n in e||(e={}))tF.call(e,n)&&Db(t,n,e[n]);if(Rb)for(var n of Rb(e))nF.call(e,n)&&Db(t,n,e[n]);return t},ii=(t,e)=>Q3(t,eF(e)),rF=t=>{const{tableWrapperRef:e,cellsGrid:n,serviceRowsList:r,columnHeadersList:o,cellsGridOuterContainer:l,cellsGridInnerContainer:i,innerColumnHeadersList:c,handleCellWidthGetter:d,handleCellsScroll:u,handleCellsGridRender:m,handleAllRowSelect:f,handleServiceRowsScroll:p,handleHeaderCellWidthGetter:v,handleColumnHeadersScroll:b,handleOrderChange:y,handleHierarchyButtonClick:h,handleTableCtxMenu:g,handleArrowKeys:C,handleEnter:O,handlePaginationClick:M,handleRowCounterClick:P,handleCloseHeaderCtxMenu:x,handleClickHeaderCtxMenu:k,handleMenuItemSelect:E,onContextMenu:w,isFixSize:S,isAdaptive:F,isDisabled:A,isCardFile:$,isFirstPage:U,isLastPage:V,isTableGroup:N,isFreezed:L,hasCaption:j,hasScroll:R,showFilter:H,showScroll:W,showIcon:K=!1,showSelectColumn:Z=!1,showHierarchyButton:G,showContextMenuColumn:re,checkScrollVisibility:ee,getWidthColumn:ce,setAutoSizerWidth:D,setHasScroll:z,setTableSizes:q,name:J,activeName:X,style:ue,cellItemData:de,headerItemData:ge,serviceCellsItemData:fe,rowsData:Ee,headersData:Pe,columnsData:Ce,columnsOrder:Se,draggableColumns:je,selectedRowIds:at,displayRowCount:Le,summaryRowCount:qe,headersDataOrdered:Ie,headerRows:Ye,tableSizes:He,rowsHeights:Ae,events:De,currentRowId:it,currentColumnId:ct,contextMenuElements:st,contextHeader:bt,autoSizerWidth:ft}=t,{columnsReorderMode:ht,disableTableScroll:Be}=je||{},ie=(0,a.useMemo)(()=>{const We=Bl({},ue);return j!==void 0&&(j?We.marginBottom="0":We.marginTop="0"),Hn({isFixSize:S,style:We,type:null})},[S,ue]),Ze=ue==null?void 0:ue.backgroundColor,tt=H,_t=W||qe,ve=Le>60,pe=Ee.length&&Ee.every(We=>at.includes(We.rowId)),ae=(0,a.useCallback)(We=>{var yt;let Nt=Al;const pt=(yt=Ye.current[We])!=null?yt:[];for(const Mt of pt){const mn=He[Mt];if(mn!=null&&mn.headerSize){let{height:tr}=mn.headerSize;const{rowspan:yn}=mn.headerSize;yn&&(tr/=yn),tr>Nt&&(Nt=tr)}}return Nt},[Ye.current,He]),te=(0,a.useCallback)(We=>jb(We,Ee,Ae),[Ae,Ee]),le=(0,a.useCallback)(()=>{const We=Object.keys(Ye.current),yt=We.length-1;return We.map(ae).reduce((Nt,pt)=>Nt+pt,yt)},[Ye.current,ae]),we=(0,a.useCallback)(We=>{const yt=He[We];if(yt&&yt.headerSize){const{row:Nt,rowspan:pt}=yt.headerSize;if(pt){let Mt=0;for(let mn=Nt;mn<Nt+pt;mn++)Mt+=ae(mn);return Mt}return ae(Nt)}return Al},[He,ae]),ze=(0,a.useCallback)(We=>Math.round(We!=null?We:0)-le(),[le]),Qe=(0,a.useCallback)(We=>{const yt=ze(We);return R.horizontal?yt-Ra:yt},[ze,R.horizontal]),gt=V3*(0+ +K+ +Z)+U3*+Z,{countedWidth:se,countedHeight:xe}=X3({rowsData:Ee,columnsData:Ce,wrapperWidth:ft,isCardFile:$,getWidthColumn:ce,serviceListWidth:gt,rowsHeights:Ae,headerHeight:le(),hasScroll:R,isTableOptimisationNeeded:ve}),me=se-gt,Me=me-Ra*+(R==null?void 0:R.vertical),Te=(0,a.useCallback)(({width:We})=>{D(We);const yt=ee();yt&&z(yt),e.current&&F&&Object.keys(He).length&&q(kb(He,We||0,(yt==null?void 0:yt.vertical)||R.vertical,gt))},[e,ee,He]);function et({data:We,index:yt,style:Nt}){let pt=Ie[yt];F&&(pt=Object.assign({},pt,{isFixSize:!0}));const Mt=ii(Bl({},We),{headerCellData:pt,columnIndex:Se[pt==null?void 0:pt.name]||yt,style:Nt});return(0,s.jsx)(W3,Bl({},Mt))}return(0,a.useLayoutEffect)(()=>{var We;const yt=Hg(Ce),Nt=zg(Pe,yt),{newHeaderRows:pt}=Nt;let{newTableSizes:Mt}=Nt;Ye.current=pt,F&&(Mt=kb(Mt,(We=e.current)==null?void 0:We.clientWidth,R.vertical,gt)),q(Mt)},[Ce,Pe]),(0,s.jsxs)(Sb,ii(Bl({},t),{style:ii(Bl({},ie),{height:ve?"100%":null,minWidth:!S||F||ve?null:se,width:$||F||ve?null:se-1}),isTableGroup:N,isCardFile:$,children:[tt&&(0,s.jsx)(Ib,{children:W&&(0,s.jsx)(jl,{isServerSide:!0,isDisabled:A,isPrevBtnDisabled:U,isNextBtnDisabled:V})}),(0,s.jsx)(F3,{ref:e,style:{height:xe,maxHeight:document.body.clientHeight,backgroundColor:Ze},isTableGroup:N,isCardFile:$,children:(0,s.jsx)(ti.Z,{onResize:Te,children:({height:We})=>(0,s.jsxs)(Pb,{isTableGroup:N,children:[j!==!1&&(0,s.jsxs)(j3,{style:{height:le()},onContextMenu:w,isFreezed:L,children:[(0,s.jsxs)(R3,{children:[Z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L3,{}),(0,s.jsx)(H3,{children:(0,s.jsx)(Zo,{isDisabled:A,value:pe,onChange:f,metaSet:{rowId:G3},tabIndex:-1,isParentTable:!0})})]}),K&&(0,s.jsx)(ad,{children:G&&(0,s.jsx)(qr,{isDisabled:A,iconName:"level-up",onClick:h,tabIndex:-1,isParentTable:!0})})]}),(0,s.jsx)(z3,{ref:o,innerRef:c,tableName:J,layout:"horizontal",height:le(),width:Me,itemCount:Pe.length,itemSize:v,onScroll:b,itemData:ii(Bl({},ge),{getHeaderCellHeight:we}),draggableColumns:{order:Se,draggable:!!$&&!X,mode:ht,disableTableScroll:Be,onOrderChange:y},children:(0,a.memo)(et,Rn.wy)}),(R==null?void 0:R.vertical)&&(0,s.jsx)(D3,{})]}),(0,s.jsxs)(T3,{tabIndex:-1,onContextMenu:g,onKeyDownCapture:C,onKeyUp:O,children:[(0,s.jsxs)(M3,{children:[(0,s.jsx)($3,{ref:r,height:Qe(We),width:gt,itemCount:Le,itemSize:te,onScroll:p,itemData:fe,style:{backgroundColor:Ze},children:rb}),(R==null?void 0:R.horizontal)&&(0,s.jsx)(N3,{show:K||Z})]}),(0,s.jsx)(B3,{ref:n,outerRef:l,innerRef:i,width:me,height:ze(We),columnCount:Ce.length,rowCount:Le,columnWidth:d,rowHeight:te,estimatedRowHeight:Al,onScroll:u,onItemsRendered:m,itemData:de,style:{backgroundColor:Ze},children:eb})]})]})})}),_t&&(0,s.jsxs)(Ib,{children:[W&&(0,s.jsx)(jl,{isServerSide:!0,isParentTable:!0,isDisabled:A,isPrevBtnDisabled:U,isNextBtnDisabled:V,onButtonClick:M}),qe&&(0,s.jsx)(A3,{onClick:P,children:qe})]}),re&&(0,s.jsx)(Tl,{events:De,cellData:{currentColumnId:ct,currentRowId:it},itemsContextMenu:hf(bt==null?void 0:bt.list),id:J+"-header",handleCloseContextMenu:x,handleClickContextMenu:k}),re&&(0,s.jsx)(Tl,{events:De,cellData:{currentColumnId:ct,currentRowId:it},itemsContextMenu:st,id:J,handleClickContextMenu:E})]}))},oF=Object.defineProperty,lF=Object.defineProperties,aF=Object.getOwnPropertyDescriptors,Nb=Object.getOwnPropertySymbols,sF=Object.prototype.hasOwnProperty,iF=Object.prototype.propertyIsEnumerable,Mb=(t,e,n)=>e in t?oF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gt=(t,e)=>{for(var n in e||(e={}))sF.call(e,n)&&Mb(t,n,e[n]);if(Nb)for(var n of Nb(e))iF.call(e,n)&&Mb(t,n,e[n]);return t},Cn=(t,e)=>lF(t,aF(e));const sd="allRowsSelector",cF="table";function id(t){var e,n,r,o;const{className:l,style:i,isFixSize:c,name:d,isDisabled:u,dataAttrs:m,events:f,metaSet:p,initialValue:v,isInPlaceEdit:b,isCardFile:y,showFilter:h,showScroll:g,isFirstPage:C,isLastPage:O,headersData:M,showIcon:P,showSelectColumn:x,showHierarchyButton:k,columnsData:E,columnsOrder:w,draggableColumns:S,rowsData:F,displayRowCount:A,currentRowId:$,currentColumnId:U,selectedRowIds:V,summaryRowCount:N,contextMenuElements:L,contextHeader:j,testId:R,onEnter:H,onHierarchyButtonClick:W,onRowsSelect:K,onRowsBlur:Z,onCellClick:G,onCellControlEvent:re,onNavigation:ee,onMove:ce,onDoubleClick:D,onRowCounterClick:z,onMenuItemSelect:q,onHeaderCtxMenuClick:J,onHeaderClick:X,onStartPageMove:ue,onEndPageMove:de,onPrevPageMove:ge,onNextPageMove:fe,onClickIcon:Ee,freezed:Pe,hasCaption:Ce,isActiveTab:Se,isAdaptive:je,isTableGroup:at}=t,{columnsReorderMode:Le,disableTableScroll:qe}=S||{},Ie=(0,a.useRef)(!1);(0,a.useEffect)(()=>{Ie.current&&(Ie.current=document.activeElement.dataset.tableId===d)},[(e=document.activeElement.dataset)==null?void 0:e.tableId]);const Ye=R||cF,He=be()(l,Qt,{[`${Qt}__cardfile`]:y}),Ae=be()(`${Qt}__grid`,`${Qt}__grid-wrapper`,{[`${Qt}__cardfile-wrapper`]:y}),De=be()(`${Qt}__grid-headers`,{[`${Qt}__grid-headers__freezed`]:Pe}),it=(0,a.useMemo)(()=>{const T=Gt({},i);return Ce!==void 0&&(Ce?T.marginBottom="0":T.marginTop="0"),Hn({isFixSize:c,style:T})},[c,i]),ct=(0,a.useRef)(null),st=(0,a.useRef)({}),bt=(0,a.useRef)(!1),ft=(0,a.useRef)(null),ht=(0,a.useRef)(null),Be=(0,a.useRef)(null),ie=(0,a.useRef)(null),Ze=(0,a.useRef)(null),tt=(0,a.useRef)(null),_t=(0,a.useRef)(null),ve=A>60,pe=tT*(0+!!P+!!x),ae=h,te=g||N,le=!!L,we=F.length&&F.every(T=>V.includes(T.rowId)),ze=(n=Ze.current)==null?void 0:n.scrollLeft,Qe=i.backgroundColor,[gt,se]=(0,a.useState)(!1),[xe,me]=(0,a.useState)(null),[Me,Te]=(0,a.useState)(null),[et,We]=(0,a.useState)((r=ct.current)==null?void 0:r.clientWidth),[yt,Nt]=(0,a.useState)(null),[pt,Mt]=(0,a.useState)({}),[mn,tr]=(0,a.useState)(null),[yn,un]=(0,a.useState)(!1),[dn,ln]=(0,a.useState)({}),[Jt,vn]=(0,a.useState)({vertical:!1,horizontal:!1}),[Bn,Rr]=(0,a.useState)(null),[sr,Pn]=(0,a.useState)(w),ye=(0,a.useCallback)(T=>{if(sr){const Q=Oe=>sr[Oe.name],oe=(Oe,mt)=>Q(Oe)-Q(mt);return structuredClone(T).sort(oe)}return T},[sr]),Re=ye(M),Ke=ye(E);if(Qe){const T=document.querySelector(".table__grid-cells");T==null||T.style.setProperty("--scrollbar-backgroundColor",`${Qe}`)}const Xe=(0,a.useCallback)(T=>{var Q;let oe=or;const Oe=(Q=st.current[T])!=null?Q:[];for(const mt of Oe){const dt=pt[mt];if(dt&&dt.headerSize){let{height:Wt,rowspan:En}=dt.headerSize;En&&(Wt/=En),Wt>oe&&(oe=Wt)}}return oe},[or,st.current,pt]),ut=(0,a.useCallback)(()=>{const T=Object.keys(st.current),Q=T.length-1;return T.map(Xe).reduce((oe,Oe)=>oe+Oe,Q)},[st.current,Xe]),Ne=(0,a.useCallback)(T=>{const Q=pt[T];if(Q&&Q.headerSize){const{row:oe,rowspan:Oe}=Q.headerSize;if(Oe){let mt=0;for(let dt=oe;dt<oe+Oe;dt++)mt+=Xe(dt);return mt}return Xe(oe)}return or},[pt,Xe]),Et=(0,a.useCallback)((T,Q)=>{const oe=pt[T];if(oe&&oe.headerSize&&oe.headerSize.height&&oe.headerSize.height!==Q){const Oe=Object.assign({},pt);Oe[T].headerSize.height=Q,Mt(Oe)}},[pt]),At=(0,a.useCallback)(T=>Math.round(T)-ut()-4,[ut]),nt=(0,a.useCallback)(T=>{const Q=At(T);return Jt.horizontal?Q-Ea:Q},[ut,Jt.horizontal]),Zt=(0,a.useCallback)(({event:T,rowId:Q,columnId:oe,isDisabledColumn:Oe})=>{if(u)return;const mt={rowId:Q,columnId:oe};Oe&&(mt.columnId=U),ke(Cn(Gt({specificEvent:G,nativeEvent:"onCellClick"},{event:T,metaSet:p,events:f}),{value:mt}))},[u,p,f,U,G]),Zn=(0,a.useCallback)(({event:T,rowId:Q})=>{let oe=!0;const Oe={rowId:Q};if(Ee&&(oe=G({event:T,metaSet:p,value:Oe})),oe&&(f!=null&&f.onClickIcon)){const{alias:mt,args:dt}=f.onClickIcon;he[mt]({event:T,args:dt,metaSet:p,value:Oe})}},[p,f]),$n=(0,a.useCallback)((T,Q)=>{let oe=[...T];return oe.includes(Q)?oe=oe.filter(Oe=>Oe!==Q):oe.push(Q),oe},[]),jt=(0,a.useCallback)(({event:T,value:Q,rowId:oe})=>{if(T.stopPropagation(),u)return;let Oe=!0;const mt={selectedRowIds:null};return oe===sd?mt.selectedRowIds=Q?F.map(Wt=>Wt.rowId):[]:mt.selectedRowIds=$n(V,oe),Oe=ke(Cn(Gt({specificEvent:K,nativeEvent:"onRowsSelect"},{event:T,metaSet:p,events:f}),{value:mt})),oe!==sd&&Zt({event:T,rowId:oe}),Oe},[u,F,V,Zt,p,f,K]),Fn=(0,a.useCallback)(({event:T,rowIds:Q})=>{if(T.stopPropagation(),u)return;let oe=!0;const mt={selectedRowIds:Q==null?void 0:Q.reduce((Wt,En)=>$n(Wt,En),[...V])};return oe=ke(Cn(Gt({specificEvent:K,nativeEvent:"onRowsSelect"},{event:T,metaSet:p,events:f}),{value:mt})),oe},[u,F,V,Zt,p,f,K]),In=(0,a.useCallback)(({event:T,value:Q,metaSet:{rowId:oe}})=>{jt({event:T,value:Q,rowId:oe})},[jt]),Bt=(0,a.useCallback)(({event:T,rowId:Q})=>{if(u)return;ke(Cn(Gt({specificEvent:D,nativeEvent:"onDoubleClick"},{event:T,metaSet:p,events:f}),{value:Q}))},[u,D,f,p]),It=(0,a.useCallback)(T=>{if(u)return;ke(Gt({specificEvent:z,nativeEvent:"onRowCounterClick"},{event:T,metaSet:p,events:f}))},[u,f,p,z]);(0,a.useEffect)(()=>{if(y&&!A&&tt.current&&Be.current){const T=tt.current.style,Q=Be.current.style;T.width!==Q.width&&(T.width=Q.width)}},[pt]);const wt=(0,a.useCallback)(T=>{var Q,oe;const{horizontalScrollDirection:Oe,verticalScrollDirection:mt,scrollLeft:dt,scrollTop:Wt}=T;mt&&(Rr(Wt),(Q=ft.current)==null||Q.scrollTo(Wt)),Oe&&((oe=ht.current)==null||oe.scrollTo(dt)),_t.current=dt},[ft,ht]),_r=(0,a.useCallback)(T=>{var Q;const{scrollOffset:oe,scrollUpdateWasRequested:Oe}=T;Oe||(Q=ie.current)==null||Q.scrollTo({scrollTop:oe})},[ie]);(0,a.useEffect)(()=>{var T;Bn&&((T=ie.current)==null||T.scrollTo({scrollTop:Bn+1}))},[(o=ct.current)==null?void 0:o.offsetLeft]),(0,a.useEffect)(()=>{let T={};F.map(({rowId:Q})=>{dn[Q]?T[Q]=dn[Q]:T[Q]=E.map(()=>15)}),ln(T),F.length===1&&F[0].rowId==="serviceRow"&&(bt.current=!1)},[F]);const ir=(0,a.useCallback)(T=>{var Q;const{scrollOffset:oe,scrollUpdateWasRequested:Oe}=T;Oe||(Q=ie.current)==null||Q.scrollTo({scrollLeft:oe})},[ie]),zn=(0,a.useCallback)(T=>{var Q;const oe=(Q=pt[T.name])==null?void 0:Q.width;return oe&&oe>=Oa?oe:Oa},[pt,sr]),cr=(0,a.useCallback)(T=>zn(Ke[T]),[E,zn]),Dr=(0,a.useCallback)(T=>{if(u)return;ke(Gt({specificEvent:W,nativeEvent:"onHierarchyButtonClick"},{event:T,metaSet:p,events:f}))},[u,W,p,f]),Kl=(0,a.useCallback)(({value:T,event:Q})=>{if(u)return;let oe=null,Oe=null;if(T===hr.start){if(C)return;ue&&(oe=ue),f!=null&&f.onStartPageMove&&(Oe=f.onStartPageMove)}else if(T===hr.end){if(O)return;de&&(oe=de),f!=null&&f.onEndPageMove&&(Oe=f.onEndPageMove)}else if(T===hr.prev){if(C)return;ge&&(oe=ge),f!=null&&f.onPrevPageMove&&(Oe=f.onPrevPageMove)}else if(T===hr.next){if(O)return;fe&&(oe=fe),f!=null&&f.onNextPageMove&&(Oe=f.onNextPageMove)}if(oe&&oe({event:Q,metaSet:p}),Oe){const{alias:mt,args:dt}=Oe;he[mt]({event:Q,args:dt,metaSet:p})}},[u,f,p,C,O,ue,de,ge,fe]),nl=(0,a.useCallback)(T=>{if(u||b||!rr(T.keyCode))return;const Q={rowId:$};ke(Cn(Gt({specificEvent:H,nativeEvent:"onEnter"},{event:T,metaSet:p,events:f}),{value:Q}))},[u,f,p,H,$,b]),rl=(0,a.useCallback)(T=>{$c(T.keyCode)&&(!b||fm(T.keyCode))&&T.preventDefault()},[b]),Kn=(0,a.useCallback)(({event:T,value:Q})=>{if(u)return;let oe=!0;return oe=ke(Cn(Gt({specificEvent:G,nativeEvent:y?"onCellClick":null},{event:T,metaSet:p,events:f}),{value:Q})),oe},[u,f,p,ee]),ro=(0,a.useCallback)(({event:T,value:Q})=>{if(u)return;let oe=!0;return oe=ke(Cn(Gt({specificEvent:ce,nativeEvent:"onMove"},{event:T,metaSet:p,events:f}),{value:Q})),oe},[u,f,p,ce]),ol=(0,a.useCallback)(({event:T,menuItem:Q})=>{if(u)return;const oe=!!M.find(dt=>dt.name===Q),Oe={menuItem:Q,hidden:oe};ke(Cn(Gt({specificEvent:J,nativeEvent:"onHeaderCtxMenuClick"},{event:T,metaSet:p,events:f}),{value:Oe}))},[u,f,p,J,M]),oo=(0,a.useCallback)(({event:T,rowId:Q,columnId:oe,menuItem:Oe})=>{if(u)return;const mt={menuItem:Oe,rowId:Q,columnId:oe};ke(Cn(Gt({specificEvent:q,nativeEvent:"onMenuItemSelect"},{event:T,metaSet:p,events:f}),{value:mt}))},[u,f,p,q]),ql=(0,a.useCallback)(({event:T,value:Q})=>{if(u)return;ke(Cn(Gt({nativeEvent:"onHeaderCtxMenu"},{event:T,events:f}),{value:Q}))},[u,f,p]),ll=(0,a.useCallback)(()=>{if(u)return;ke(Gt({nativeEvent:"onCloseHeaderCtxMenu"},{events:f}))},[u,f,p]),Yl=(0,a.useCallback)(({event:T,value:Q})=>{if(u)return;se(!0),ke(Cn(Gt({specificEvent:X,nativeEvent:"onHeaderClick"},{event:T,metaSet:p,events:f}),{value:Q}))},[u,f,p,X]),lo=(0,a.useCallback)(T=>{var Q,oe;let Oe=0;return(Q=T.linkedColumns)!=null&&Q.length?T.linkedColumns.forEach(mt=>{Oe+=lo(mt)}):((oe=T.insideColumns)==null?void 0:oe.length)>0?T.insideColumns.forEach(mt=>{Oe+=lo(mt)}):Oe+=zn(T),Oe},[zn]),Eo=(0,a.useCallback)(T=>lo(Re[T]),[M,lo]),Ha=(0,a.useCallback)(({event:T,eventType:Q,control:oe,cellData:Oe,value:mt,targetRowId:dt,targetColumnId:Wt})=>{if(u)return!1;let En=!0;const Jl={controlType:oe.type,controlId:oe.name,controlEvents:oe.events,eventType:Q,cellData:Oe,cellValue:mt,targetRowId:dt,targetColumnId:Wt};if(re&&(En=re({event:T,metaSet:p,value:Jl})),En&&(f!=null&&f.onCellControlEvent)){const{alias:tc,args:xU}=f.onCellControlEvent;he[tc]({event:T,args:xU,metaSet:p,value:Jl})}},[u,f,p,re]),ao=(0,a.useCallback)((T=0)=>{var Q,oe;(Q=ie.current)==null||Q.resetAfterRowIndex(T,!1),(oe=ft.current)==null||oe.resetAfterIndex(T,!1)},[]),Xl=(0,a.useCallback)(({rowId:T,rowIndex:Q,columnIndex:oe,height:Oe})=>{ln(mt=>{if(!mt[T])return ao(Q),mt;const dt=Gt({},mt);return dt[T][oe]=Oe,ao(Q),dt})},[ao]),qn=(0,a.useCallback)(({event:T,value:Q})=>{if(u)return!1;const oe=Cn(Gt({},Q),{rowId:null});ke(Cn(Gt({specificEvent:Z,nativeEvent:"onRowsBlur"},{event:T,metaSet:p,events:f}),{value:oe}))},[u,f,p,Z]),al={tableId:d,isDisabled:u,rows:F,currentRowId:$,selectedRowIds:V,showSelectColumn:x,showContextMenuColumn:le,showIcon:P,onRowsBlur:qn,onRowSelect:jt,onRowsSelect:Fn,onNavigation:Kn,onMove:ro,onMenuItemSelect:oo,onCellDoubleClick:Bt,onClickIcon:Zn,contextMenuElements:L,testId:Ye,isCardFile:y,tableWasFocused:Ie,wasServiceRowFocused:bt,isInPlaceEdit:b,cellsBackgroundColor:Qe},ko={cellsGrid:ie,tableId:d,isDisabled:u,selectedRowIds:V,columns:Ke,rows:F,currentColumnId:U,currentRowId:$,isCardFile:y,isInPlaceEdit:b,editableRowId:mn,onRowSelect:jt,onRowsSelect:Fn,onNavigation:Kn,onMove:ro,onCellDoubleClick:Bt,onCellControlEvent:Ha,onRowsBlur:qn,onRowHeightChange:Xl,showContextMenuColumn:le,setFocusedEditableCell:me,tableWasFocused:Ie,wasServiceRowFocused:bt,getWidthColumn:zn,cellsBackgroundColor:Qe};(0,a.useLayoutEffect)(()=>{Pn(w||M.reduce((T,Q,oe)=>(T[Q.name]=oe,T),{}))},[M,w]),(0,a.useEffect)(()=>{var T,Q,oe;if(Ie.current&&document.activeElement.dataset.rowId!==$&&(document.activeElement.dataset.tableId!==d||$===(v==null?void 0:v.currentRowId))){const Oe=U||((T=E==null?void 0:E[0])==null?void 0:T.name);(Q=document.getElementById(to(d,$,Oe)))==null||Q.focus()}(oe=ie.current)==null||oe.scrollToItem({rowIndex:F.findIndex(Oe=>(Oe==null?void 0:Oe.rowId)===$)})},[$]),(0,a.useEffect)(()=>{y&&b&&xe&&Se&&(xe.focus(),se(!1))},[Se,gt]),(0,a.useEffect)(()=>{tr(b?$:null)},[b]),(0,a.useEffect)(()=>{var T;_t.current!==ze&&((T=Ze.current)==null||T.scroll({left:_t.current}))},[ze]),(0,a.useEffect)(()=>{ie.current&&ie.current.resetAfterColumnIndex(0),ft.current&&ft.current.resetAfterIndex(0),ht.current&&ht.current.resetAfterIndex(0)},[ko,al]);const Nr=(0,a.useCallback)(T=>nd(T,F,dn),[dn,F]),Vr=(0,a.useCallback)(()=>{const T=tt.current,Q=Ze.current;if(Q&&T){const oe={vertical:T.clientHeight===1?!1:T.clientHeight>Q.clientHeight,horizontal:T.clientWidth>Q.clientWidth};if(!$T()(Jt,oe))return oe}},[Ze,tt,Jt]),jo=(0,a.useCallback)(()=>{const T=Vr();T&&vn(T)},[Vr]),sl=(0,a.useCallback)(()=>{const T={};if(Object.keys(pt))for(const Q in pt){if(!(Me!=null&&Me.includes(Q)))continue;const oe=pt[Q];oe.width&&!Number.isNaN(oe.width)&&(T[Q]=parseFloat((oe.width/3.8).toFixed(5)))}if(Object.keys(T).length){const{alias:Q,args:oe}=f.onControlResize;he[Q]({formId:oe==null?void 0:oe.formId,controlId:d,columns:T})}},[pt,f]),il=(0,a.useCallback)(T=>{Pn(T);const{alias:Q,args:oe}=f.onTableOrderChange;he[Q]({formId:oe==null?void 0:oe.formId,type:oe==null?void 0:oe.type,controlId:d,columnsOrder:T})},[f,d]);(0,a.useLayoutEffect)(()=>{var T;if(ul)return;const Q=Hg(E);let{newHeaderRows:oe,newTableSizes:Oe}=zg(M,Q);st.current=oe,je&&(Oe=Lg(Oe,(T=ct.current)==null?void 0:T.clientWidth,Jt.vertical,pe)),Mt(Oe)},[E,M]);const so=(0,a.useCallback)(()=>{var T,Q,oe;ie.current&&((T=ie.current)==null||T.resetAfterIndices({columnIndex:0,rowIndex:0})),ht.current&&((Q=ht.current)==null||Q.resetAfterIndex(0)),ft.current&&((oe=ft.current)==null||oe.resetAfterIndex(0))},[ie,ht,ft]),io=(0,a.useCallback)(T=>{if(Me!==null){T.preventDefault();const Q=yt-T.clientX,oe={},Oe=Object.keys(pt),mt=Me.reduce((dt,Wt)=>Oe.includes(Wt)?dt+1:dt,0);Me.forEach(dt=>{if(Oe.includes(dt)){const Wt=pt[dt],En=lT(Q/(mt||1),Wt);oe[dt]=Cn(Gt({},pt[dt]),{width:En})}}),Mt(Gt(Gt({},pt),oe)),so()}},[Me,so]),On=(0,a.useCallback)((T,Q)=>{un(!0),Nt(T.clientX),Te(Q)},[Nt,Te]),co=(0,a.useCallback)(()=>{sl(),un(!1),Te(null),window.removeEventListener("mousemove",io),window.removeEventListener("mouseup",co)},[pt,io]);(0,a.useEffect)(()=>(Me&&(window.addEventListener("mousemove",io),window.addEventListener("mouseup",co)),()=>{window.removeEventListener("mousemove",io),window.removeEventListener("mouseup",co)}),[Me,io,co]),(0,a.useEffect)(()=>{let T=0;F.forEach((Q,oe)=>{Q.rowId===$&&(T=oe)}),T!==0&&setTimeout(()=>{var Q,oe;(Q=ft.current)==null||Q.scrollToItem(T-1,"start"),(oe=ie.current)==null||oe.scrollToItem({rowIndex:T-1,align:"start"})},0)},[]);const cl=(0,a.useCallback)(({width:T})=>{We(T);const Q=Vr();Q&&vn(Q),ct.current&&je&&Object.keys(pt).length&&Mt(Lg(pt,T,(Q==null?void 0:Q.vertical)||Jt.vertical,pe))},[ct,Vr,pt]),{show:Y}=(0,mr.av)();(0,a.useEffect)(()=>{j!=null&&j.event&&(j!=null&&j.target)&&Y(j.event,{id:d+"-header"})},[j]);const{show:_e}=(0,mr.av)({id:d,props:{rowId:$}}),Ue=T=>{T.target.parentElement===T.currentTarget&&_e(T)},ot=(T,Q)=>{T.preventDefault(),T.stopPropagation(),T.persist(),ql({event:T,value:{columnName:Q,isCardFile:y}})},vt={columnsOrder:sr,isAdaptive:je,isResizedHeaderWidth:yn,handleHeaderClick:Yl,onMouseDownResizableWidthHed:On,onContextMenu:ot,getWidthHeader:lo,headersData:Re,setCellHeight:Et,getHeaderCellHeight:Ne,getWidthColumn:zn};function kt({data:T,index:Q,style:oe}){let Oe=Re[Q];je&&(Oe=Object.assign({},Oe,{isFixSize:!0}));const mt=Cn(Gt({},T),{headerCellData:Oe,columnIndex:sr[Oe==null?void 0:Oe.name]||Q,style:oe});return(0,s.jsx)(ld,Gt({},mt))}const{countedWidth:Rt,countedHeight:Ln}=iT({rowsData:F,columnsData:E,wrapperWidth:et,isCardFile:y,getWidthColumn:zn,getCellHeight:nd,serviceListWidth:pe,rowsHeights:dn,headerHeight:ut(),hasScroll:Jt,isTableOptimisationNeeded:ve}),Ro=Rt-pe-(1+!!y),Wa=Ro-Ea*(0+!!Jt.vertical);Js(document.body,()=>{if(!ct.current)return;const T=document.body.clientHeight;ct.current.style.maxHeight=T+"px"});const ul=Boolean((0,lt.v9)(Dt));if(ul){const T=Cn(Gt({},t),{tableWrapperRef:ct,cellsGrid:ie,serviceRowsList:ft,columnHeadersList:ht,cellsGridOuterContainer:Ze,cellsGridInnerContainer:tt,innerColumnHeadersList:Be,handleCellWidthGetter:cr,handleCellHeightGetter:Nr,handleCellsScroll:wt,handleCellsGridRender:jo,handleAllRowSelect:In,handleServiceRowsScroll:_r,handleHeaderCellWidthGetter:Eo,handleColumnHeadersScroll:ir,handleOrderChange:il,handleHierarchyButtonClick:Dr,handleAutoSizerResize:cl,handleTableCtxMenu:Ue,handleArrowKeys:rl,handleEnter:nl,handlePaginationClick:Kl,handleRowCounterClick:It,handleCloseHeaderCtxMenu:ll,handleClickHeaderCtxMenu:ol,handleMenuItemSelect:oo,onContextMenu:ot,isFixSize:c,isAdaptive:je,isDisabled:u,isCardFile:y,isFirstPage:C,isLastPage:O,isTableGroup:at,isFreezed:Pe,hasCaption:Ce,hasScroll:Jt,showFilter:h,showScroll:g,showIcon:P,showSelectColumn:x,showHierarchyButton:k,showContextMenuColumn:le,checkScrollVisibility:Vr,getWidthColumn:zn,setAutoSizerWidth:We,setHasScroll:vn,setTableSizes:Mt,name:d,activeName:Me,style:i,countedHeight:Ln,countedWidth:Rt,cellItemData:ko,headerItemData:vt,serviceCellsItemData:al,rowsData:F,headersData:M,columnsData:E,columnsOrder:sr,draggableColumns:S,selectedRowIds:V,displayRowCount:A,summaryRowCount:N,headersDataOrdered:Re,headerRows:st,tableSizes:pt,rowsHeights:dn,events:f,currentRowId:$,currentColumnId:U,contextMenuElements:L,contextHeader:j,autoSizerWidth:et});return(0,s.jsx)(rF,Gt(Cn(Gt({},T),{"data-name":d,"data-testid":Ye}),m))}return(0,s.jsxs)("div",Cn(Gt({"data-name":d,className:He,style:Cn(Gt({},it),{height:ve?"100%":null,minWidth:!c||je||ve?null:Rt,width:y||je||ve?null:Rt+2})},m),{"data-testid":Ye,children:[ae&&(0,s.jsx)("div",{className:"table__service-row table__service-row_top",children:g&&(0,s.jsx)(jl,{isServerSide:!0,className:"table__pagination",isDisabled:u,isPrevBtnDisabled:C,isNextBtnDisabled:O})}),(0,s.jsx)("div",{className:Ae,ref:ct,style:{padding:"1px",height:Ln,maxHeight:document.body.clientHeight,backgroundColor:Qe},children:(0,s.jsx)(ti.Z,{onResize:cl,className:`${Qt}__auto-sizer`,children:({width:T,height:Q})=>(0,s.jsxs)("div",{className:"table__grid-body",style:{width:T},children:[Ce!==!1&&(0,s.jsxs)("div",{className:De,style:{height:ut()},onContextMenu:ot,children:[(0,s.jsxs)("div",{className:"table__grid-service-headers",children:[x&&(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("div",{className:`table__grid-cell table__grid-cell_header\r
                        table__service-cell table__row-marker`}),(0,s.jsx)("div",{className:`table__grid-cell table__grid-cell_header\r
                            table__service-cell table__row-selector`,children:(0,s.jsx)(Zo,{isDisabled:u,value:we,onChange:In,metaSet:{rowId:sd},tabIndex:-1,isParentTable:!0})})]}),P&&(0,s.jsx)("div",{className:"table__grid-cell table__grid-cell_header table__service-cell",children:k&&(0,s.jsx)(qr,{className:"table__grid-cell-button_transparent",isDisabled:u,iconName:"level-up",onClick:Dr,tabIndex:-1,isParentTable:!0})})]}),(0,s.jsx)(xb,{ref:ht,innerRef:Be,tableName:d,className:`${Qt}__grid-column-headers`,layout:"horizontal",height:ut(),width:Wa,itemCount:M.length,itemSize:Eo,onScroll:ir,itemData:vt,draggableColumns:{order:sr,draggable:!!y&&!Me,mode:Le||"reorder",disableTableScroll:qe,onOrderChange:il},children:(0,a.memo)(kt,Rn.wy)}),Jt.vertical&&(0,s.jsx)("div",{className:"table__grid-column-headers-fake-scroll"})]}),(0,s.jsxs)("div",{tabIndex:-1,className:"table__grid-rows",onContextMenu:Ue,onKeyDownCapture:rl,onKeyUp:nl,children:[(0,s.jsxs)("div",{className:"table__grid-service-rows-container",children:[(0,s.jsx)(Rn.S_,{ref:ft,className:`${Qt}__grid-service-rows`,height:nt(Q),width:pe,itemCount:A,itemSize:Nr,onScroll:_r,itemData:al,style:{backgroundColor:Qe},children:rb}),Jt.horizontal&&y&&(0,s.jsx)("div",{className:"table__grid-service-rows-fake-scroll",style:{backgroundColor:Qe}})]}),(0,s.jsx)(Rn.cd,{ref:ie,outerRef:Ze,innerRef:tt,className:`${Qt}__grid-cells`,width:Ro,height:At(Q),columnCount:E.length,rowCount:A,columnWidth:cr,rowHeight:Nr,estimatedRowHeight:or,onScroll:wt,onItemsRendered:jo,itemData:ko,style:{backgroundColor:Qe},children:eb})]})]})})}),te&&(0,s.jsxs)("div",{className:"table__service-row table__service-row_bottom",children:[g&&(0,s.jsx)(jl,{isServerSide:!0,className:"table__pagination",isDisabled:u,isPrevBtnDisabled:C,isNextBtnDisabled:O,onButtonClick:Kl}),N&&(0,s.jsx)("div",{className:"table__row-counter",onClick:It,children:N})]}),le&&(0,s.jsx)(Tl,{events:f,cellData:{currentColumnId:U,currentRowId:$},itemsContextMenu:hf(j==null?void 0:j.list),id:d+"-header",handleCloseContextMenu:ll,handleClickContextMenu:ol}),le&&(0,s.jsx)(Tl,{events:f,cellData:{currentColumnId:U,currentRowId:$},itemsContextMenu:L,id:d,handleClickContextMenu:oo})]}))}id.propTypes={classNames:_().string,columnsData:_().array,contextMenuElements:_().array,currentColumnId:_().string,currentRowId:_().string,dataAttrs:_().object,displayRowCount:_().number,events:_().object,freezed:_().bool,hasCaption:_().bool,headersData:_().array,headerHeightMultiplier:_().number,isActiveTab:_().bool,isAdaptive:_().bool,isCardFile:_().bool,isFirstPage:_().bool,isFixSize:_().bool,isInPlaceEdit:_().bool,isLastPage:_().bool,metaSet:_().object,name:_().string,onCellClick:_().func,onCellControlEvent:_().func,onDoubleClick:_().func,onEndPageMove:_().func,onPrevPageMove:_().func,onNextPageMove:_().func,onEnter:_().func,onClickIcon:_().func,onControlResize:_().object,onHeaderClick:_().func,onHierarchyButtonClick:_().func,onNavigation:_().func,onMenuItemSelect:_().func,onMove:_().func,onRowsSelect:_().func,onRowsBlur:_().func,onRowCounterClick:_().func,onStartPageMove:_().func,rowsData:_().array,showFilter:_().bool,showScroll:_().bool,style:_().object,showIcon:_().bool,showSelectColumn:_().bool,showHierarchyButton:_().bool,selectedRowIds:_().array,summaryRowCount:_().string,testId:_().string},id.defaultProps={};var uF=(0,a.memo)(id),g6={popperIconSize:"18px",primaryColor:"#0bd688"},dF=Object.defineProperty,fF=Object.defineProperties,pF=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,Tb=Object.prototype.hasOwnProperty,Fb=Object.prototype.propertyIsEnumerable,Ab=(t,e,n)=>e in t?dF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ui=(t,e)=>{for(var n in e||(e={}))Tb.call(e,n)&&Ab(t,n,e[n]);if(ci)for(var n of ci(e))Fb.call(e,n)&&Ab(t,n,e[n]);return t},di=(t,e)=>fF(t,pF(e)),mF=(t,e)=>{var n={};for(var r in t)Tb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ci)for(var r of ci(t))e.indexOf(r)<0&&Fb.call(t,r)&&(n[r]=t[r]);return n};const Bb=26,vF=30,hF=20,$b=25,cd=8,Yo=10,fi=2,Kt="grid",ud=(t,e)=>dl(e,"id",t,1),dd=(t,e)=>dl(e,"id",t,-1),gF=(t,e,n)=>{const r=[];return t&&r.push(di(ui({},t),{priority:t.priority+.75})),e&&r.push(di(ui({},e),{priority:e.priority+.5})),n?r.push(di(ui({},n),{priority:e.priority+.25})):r.push({control:{},style:{},cellSettings:{},priority:.25}),r.sort((o,l)=>o.priority>l.priority?-1:o.priority<l.priority?1:0)},zb=t=>{var e,n;let r=1;return(e=t==null?void 0:t.nodes)!=null&&e.length&&(r=t.nodes.reduce((o,l)=>o+zb(l),0)),(n=t==null?void 0:t.branches)!=null&&n.length&&t.isExpanded&&(r+=t.branches.reduce((o,l)=>o+zb(l),0)),r},Lb=t=>{var e;let n=0;return(e=t.branches)!=null&&e.length&&(n=1+t.branches.reduce((r,o)=>{const l=Lb(o);return r<l?l:r},0)),n},bF=t=>t.reduce((e,n)=>{const r=Lb(n);return e<r?r:e},0),Hb=t=>{var e,n;let r=Bb,o=0,l=[];const i=c=>{o+=1,c.forEach(d=>{var u;const m=d,{nodes:f}=m,p=mF(m,["nodes"]);f&&(l=l.concat(f)),(u=p.branches)!=null&&u.length&&p.isExpanded&&i(p.branches)})};return(e=t.nodes)!=null&&e.length&&(l=l.concat(t.nodes)),(n=t.branches)!=null&&n.length&&t.isExpanded&&i(t.branches),r+=hF*o,l.length&&(r+=l.reduce((c,d)=>{const u=Hb(d);return c<=u?u:c},0)),r},yF=t=>t.reduce((e,n)=>{const r=Hb(n);return e<r?r:e},0),$l=(t,e=null,n=[])=>{const{isFixed:r,auto:o,min:l,value:i,max:c}=t||{};let d=i||vF;if(r)return d;if(o)if(e)d=e.length?e.length*2:2,l&&d<l&&(d=l),c&&c<d&&(d=c);else if(l&&c){const u=(l+c)/3;d=u<l?l:u}else if(l||c)d=l||c;else{const u=bF(n);d+=u*$b}return d},pi=t=>{var e,n,r,o;const{sizeValue:l,isAdaptiveCell:i}=Da(t.size);if(i&&!((e=t.nodes)!=null&&e.length)&&!((n=t.branches)!=null&&n.length))return $t($l(t.size,t.caption)+cd);let c=l||0;return(r=t.nodes)!=null&&r.length&&(c=t.nodes.reduce((d,u)=>d+pi(u),0)),(o=t.branches)!=null&&o.length&&t.isExpanded&&(c+=t.branches.reduce((d,u)=>d+pi(u),0)),c},b6=(t,e=null)=>{let n=t;const r=o=>{o!==e&&(n=n.reduce((l,i)=>i.nodes?l.concat(i.nodes):l,[]),r(o+1))};return r(0),n},zl=(t,e,n)=>`${t}-${e}-${n}`,Da=t=>!t||t.auto||!t.value?{isAdaptiveCell:!0,sizeValue:null}:{isAdaptiveCell:!1,sizeValue:$t(t.value)},Na=(t,e,n)=>{t&&e&&n&&(t[e]=n)},Wb=t=>{var e;if((e=t.nodes)!=null&&e.length)return t.nodes.reduce((n,r)=>n+pi(r),0);{const{isAdaptiveCell:n,sizeValue:r}=Da(t.size);return n?$t($l(t.size,t.caption)+cd):r}},_F=t=>{const e=di(ui({},t),{minHeight:"100%"});return e==null||delete e.height,e},CF=t=>t.map(e=>{const n=JSON.parse(JSON.stringify(e));return $e(n,"iconname")&&(n.iconName=n.iconname,delete n.iconname),n});var wF=Object.defineProperty,xF=Object.defineProperties,SF=Object.getOwnPropertyDescriptors,Vb=Object.getOwnPropertySymbols,PF=Object.prototype.hasOwnProperty,IF=Object.prototype.propertyIsEnumerable,Ub=(t,e,n)=>e in t?wF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fd=(t,e)=>{for(var n in e||(e={}))PF.call(e,n)&&Ub(t,n,e[n]);if(Vb)for(var n of Vb(e))IF.call(e,n)&&Ub(t,n,e[n]);return t},Gb=(t,e)=>xF(t,SF(e));const pd=t=>{var e,n,r,o,l,i;const{header:c,isRow:d,headerLevel:u,branchLevel:m,columns:f,levels:p,handleHeaderEvent:v,isDisabled:b,updateRowHeaderHeight:y,updateColumnHeaderSizes:h,columnHeaderSizes:g}=t,C=(0,a.useRef)(null),O=(0,a.useRef)(null),M=(0,a.useRef)(null),P=(e=c.events)==null?void 0:e.includes("onClick"),x=b,k=`${Kt}__header`,E=be()(k,{[`${k}_root`]:P,[`${k}_disabled`]:x});let w=null,S=null,F=null;const A=$t($l((n=p==null?void 0:p.rows[u])==null?void 0:n.size))-m*$b;if(d){const j=A;w=j,S=j;const{isAdaptiveCell:R,sizeValue:H}=Da(c.size);R||(F=H)}else w=Wb(c);const $=fd({},c.style);F&&Na($,"minHeight",`${F}px`),w&&Na($,"width",`${w}px`),S&&Na($,"minWidth",`${S}px`),w||(Na($,"flex","1 1"),Na($,"maxWidth","100%"));const U=P&&$.textAlign;U&&($.justifyContent=$.textAlign);const V=j=>{!x&&P&&v({event:j,isRow:d,header:c})};let N=null,L=null;return(r=c.branches)!=null&&r.length&&c.isExpanded&&(N=(0,s.jsxs)("div",{className:`${Kt}__header-branches-container`,children:[(0,s.jsx)("div",{className:`${Kt}__header-branches-padding`}),(0,s.jsx)("div",{className:`${Kt}__header-branches`,children:c.branches.map(j=>{const R={header:j,columns:f,levels:p,handleHeaderEvent:v,isRow:d,headerLevel:u,branchLevel:m+1,isDisabledGrid:b,updateRowHeaderHeight:y};return(0,a.createElement)(pd,Gb(fd({},R),{key:j.id}))})})]})),L=c.icon?(0,s.jsx)("img",{className:`${Kt}__header-img img`,alt:"",src:en(c.icon)}):null,(0,a.useEffect)(()=>{var j,R;C.current&&O.current&&y&&((j=c.nodes)!=null&&j.length||(R=c.branches)!=null&&R.length?y(c.id,C.current.clientHeight,O.current.clientHeight):y(c.id,O.current.clientHeight))},[(o=C.current)==null?void 0:o.clientHeight,(l=O.current)==null?void 0:l.clientHeight]),(0,a.useEffect)(()=>{var j,R;!d&&M.current&&C.current&&h&&((j=c.nodes)!=null&&j.length||(R=c.branches)!=null&&R.length?h(u,M.current.clientHeight):h(u,C.current.clientHeight))},[d,u,h]),(0,a.useEffect)(()=>{M.current&&(g!=null&&g[u])&&(M.current.style.minHeight=`${g[u]}px`)},[g]),(0,s.jsxs)(a.Fragment,{children:[c.expandDirection==="prev"&&N,(0,s.jsxs)("div",{ref:O,className:`${Kt}__header-cell`,children:[(0,s.jsxs)("div",{ref:M,"data-id":c.id,className:E,style:$,onClick:V,children:[L,(0,s.jsx)("span",{ref:C,className:`${Kt}__header-text`,title:c.caption,style:U&&{flexGrow:0},children:`${c.caption||""}`})]}),(i=c.nodes)!=null&&i.length?(0,s.jsx)("div",{className:`${Kt}__header-nodes`,children:c.nodes.map(j=>{const R={header:j,columns:f,levels:p,handleHeaderEvent:v,isRow:d,headerLevel:u+1,branchLevel:0,isDisabledGrid:b,updateRowHeaderHeight:y};return(0,a.createElement)(pd,Gb(fd({},R),{key:j.id}))})}):null]}),c.expandDirection==="next"&&N]},c.id)};var OF=(0,a.memo)(pd),Zb=OF,EF=Object.defineProperty,Kb=Object.getOwnPropertySymbols,kF=Object.prototype.hasOwnProperty,jF=Object.prototype.propertyIsEnumerable,qb=(t,e,n)=>e in t?EF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RF=(t,e)=>{for(var n in e||(e={}))kF.call(e,n)&&qb(t,n,e[n]);if(Kb)for(var n of Kb(e))jF.call(e,n)&&qb(t,n,e[n]);return t};const Yb=(0,a.memo)(({data:t,index:e,style:n})=>{var r;const o=(0,a.useRef)(null),{columns:l,levels:i,handleHeaderEvent:c,isDisabled:d,updateColumnHeaderHeight:u,updateColumnHeaderSizes:m,columnHeaderSizes:f}=t,p=l[e],v={isDisabled:d,header:p,columns:l,levels:i,handleHeaderEvent:c,isRow:!1,headerLevel:0,branchLevel:0,updateColumnHeaderSizes:m,columnHeaderSizes:f};return(0,a.useEffect)(()=>{o.current&&u(o.current.clientHeight)},[(r=o.current)==null?void 0:r.clientHeight]),(0,s.jsx)("div",{ref:o,className:`${Kt}__column-list-item`,style:_F(n),children:(0,s.jsx)(Zb,RF({},v))})},Rn.wy);Yb.displayName="Column";var DF=Object.defineProperty,Xb=Object.getOwnPropertySymbols,NF=Object.prototype.hasOwnProperty,MF=Object.prototype.propertyIsEnumerable,Jb=(t,e,n)=>e in t?DF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TF=(t,e)=>{for(var n in e||(e={}))NF.call(e,n)&&Jb(t,n,e[n]);if(Xb)for(var n of Xb(e))MF.call(e,n)&&Jb(t,n,e[n]);return t};const Qb=(0,a.memo)(({data:t,index:e,style:n})=>{const{rows:r,columns:o,levels:l,handleHeaderEvent:i,isDisabled:c,updateRowHeaderHeight:d}=t,u=r[e],m={isDisabled:c,header:u,columns:o,levels:l,handleHeaderEvent:i,isRow:!0,headerLevel:0,branchLevel:0,updateRowHeaderHeight:d};return(0,s.jsx)("div",{className:`${Kt}__row-list-item`,style:n,children:(0,s.jsx)(Zb,TF({},m))})},Rn.wy);Qb.displayName="Row";function Ll(t,e){var n;return(n=t==null?void 0:t.classList)==null?void 0:n.contains(e)}function ey(t,e){var n;(n=t==null?void 0:t.classList)==null||n.add(e)}function ty(t,e){var n;(n=t==null?void 0:t.classList)==null||n.remove(e)}const md=(t,e)=>{t&&(t.style.cursor=e)},FF=t=>["false","true"].includes(t.trim())?t==="true":t,ny=({items:t,bounds:e})=>{var n,r;const{start:o,end:l}=e;if(!(o&&l))return"";let i="";for(let c=o[0];c<=l[0];c++){const d=t==null?void 0:t[c];c!==o[0]&&(i+=`
`);for(let u=o[1];u<=l[1];u++){const m=d==null?void 0:d[u];let f=((n=m==null?void 0:m.value)==null?void 0:n.toString())||"";((r=f.match(/[.]/g))==null?void 0:r.length)===1&&(f=f.replace(".",",")),i+=f,u+1!==(d==null?void 0:d.length)&&(i+="	")}}return i},mi=(t,{items:e,bounds:n},r)=>{var o;const l=[],i=e,c=t.length===1&&t[0].length===1;for(let d=0;d<i.length;d++){const u=i[d];for(let m=0;m<(u==null?void 0:u.length);m++){const f=u[m];if(!f||r&&r(d,m))continue;const p=n.start||[0,0],v=c?t[0][0]:(o=t==null?void 0:t[d-p[0]])==null?void 0:o[m-p[1]];if(v!==void 0){const b=typeof v=="string"?FF(v):v;l.push({type:"string",rowId:f==null?void 0:f.row,columnId:f==null?void 0:f.column,value:b,index:[d,m]})}}}return l};function AF(){const[t,e]=(0,a.useReducer)(n=>n+1,0);return[t,e]}function ry(t,e,n){const r=(0,a.useRef)([]),o=(0,a.useRef)({start:null,end:null}),l=()=>{const u=[null,null],m=[0,0],f=r.current;for(const[p,v]of f.entries())if(v)for(const[b,y]of v.entries())y&&((u[0]===null||u[0]>p)&&(u[0]=p),(u[1]===null||u[1]>b)&&(u[1]=b),m[0]<p&&(m[0]=p),m[1]<b&&(m[1]=b));return{start:u,end:m}};return{get:()=>({items:r.current,bounds:o.current}),select:({start:u,end:m})=>{if(u&&m){const f=u[0]<m[0]?1:-1,p=u[1]<m[1]?1:-1;for(let v=u[0];v!==m[0]+f;v+=f)for(let b=u[1];b!==m[1]+p;b+=p){const y=t(v,b);if(n&&!n(y,v,b))return!1;e(r.current,y,v,b)}}return o.current=l(),r.current},clear:()=>{r.current=[],o.current={start:null,end:null}}}}function BF(t,e={edgeSize:25,scrollSpeed:12}){const n=(0,a.useRef)(null),{edgeSize:r,scrollSpeed:o}=e;return(0,a.useCallback)((i,c=!0)=>{if(!t)return!1;if(!c)return E(),!1;const d=t.getBoundingClientRect(),u=t,m=i.clientX-d.left,f=i.clientY-d.top,p=d.width,v=d.height,b=r,y=r,h=v-r,g=p-r,C=m<y,O=m>g,M=f<b,P=f>h;C||O||M||P?k():E();function x(){F()?(n.current=null,k()):E()}function k(){n.current||(n.current=window.requestAnimationFrame(x))}function E(){n.current&&(window.cancelAnimationFrame(n.current),n.current=null)}const w=u.scrollWidth-u.clientWidth,S=u.scrollHeight-u.clientHeight;function F(){const A=u.scrollLeft,$=u.scrollTop,U=$>0,V=$<S,N=A>0,L=A<w;let j=A,R=$;return C&&N?j-=o:O&&L&&(j+=o),M&&U?R-=o:P&&V&&(R+=o),j=Math.max(0,Math.min(w,j)),R=Math.max(0,Math.min(S,R)),j!==A||R!==$?(u.scrollTo(j,R),!0):!1}},[t,e])}function vi(t){const e=(0,a.useRef)(t);return(0,a.useEffect)(()=>{e.current=t},[t]),e}const $F="portal";function zF(t){let e=t,n=!1;for(;e&&(e==null?void 0:e.nodeName)!=="BODY";){if(Ll(e,$F)){n=!0;break}e=e==null?void 0:e.parentElement}return n}var LF=Object.defineProperty,HF=Object.defineProperties,WF=Object.getOwnPropertyDescriptors,hi=Object.getOwnPropertySymbols,oy=Object.prototype.hasOwnProperty,ly=Object.prototype.propertyIsEnumerable,ay=(t,e,n)=>e in t?LF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gi=(t,e)=>{for(var n in e||(e={}))oy.call(e,n)&&ay(t,n,e[n]);if(hi)for(var n of hi(e))ly.call(e,n)&&ay(t,n,e[n]);return t},vd=(t,e)=>HF(t,WF(e)),VF=(t,e)=>{var n={};for(var r in t)oy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&hi)for(var r of hi(t))e.indexOf(r)<0&&ly.call(t,r)&&(n[r]=t[r]);return n};const bi=(0,a.createContext)(null);function sy(t){const e=t.displayName||t.name||"VariableSizeGrid",n=r=>{const o=r,{forwardedRef:l,children:i,outerRef:c,innerRef:d,itemData:u,gridMatrix:m,onItemsRendered:f,onPaste:p,offset:v=[0,0],isSelectOnHeaderClick:b}=o,y=VF(o,["forwardedRef","children","outerRef","innerRef","itemData","gridMatrix","onItemsRendered","onPaste","offset","isSelectOnHeaderClick"]),{gridId:h,cellCssClass:g,columnTerminalNodes:C,rowTerminalNodes:O,cells:M,events:P,freezedCols:x=0,freezedRows:k=0}=u,E=g+"_select",[w,S]=AF(),F=og(c),A=BF(F.current),$=vi(m||M),U=vi(O),V=vi(C),N=vi(v),L=(0,a.useRef)(!1),j=(0,a.useRef)(!1),R=(0,a.useRef)(!1),W=(0,a.useRef)({start:null,end:null}).current,K=(0,a.useRef)(null),Z=(0,a.useRef)([0,0]),G=(0,a.useRef)([]),re=(0,a.useRef)([]),ee=(0,a.useCallback)((se,xe)=>{let me=!1,Me=!1;for(const Te of G.current)if(se>=Te[0]&&se<=Te[1]){me=!0;break}for(const Te of re.current)if(xe>=Te[0]&&xe<=Te[1]){Me=!0;break}return me&&Me},[G,re]),ce=(0,a.useCallback)((se,xe)=>{var me,Me;return((me=U.current[se])==null?void 0:me.isDisabled)||((Me=V.current[xe])==null?void 0:Me.isDisabled)},[U,V]),D=(0,a.useCallback)((se,xe)=>{var me,Me,Te,et;const We=(Me=(me=U.current)==null?void 0:me[se])==null?void 0:Me.id,yt=(et=(Te=V.current)==null?void 0:Te[xe])==null?void 0:et.id;return[We,yt]},[U,V]),z=(0,a.useCallback)((se,xe)=>document.getElementById(zl(h,se,xe)),[zl]),q=(0,a.useCallback)(se=>document.querySelector(`[data-id="${se}"]`),[]),J=(0,a.useCallback)(se=>{let xe=se;for(;!Ll(xe,g)&&(xe==null?void 0:xe.nodeName)!=="BODY";)xe=xe==null?void 0:xe.parentElement;return xe},[F]),X=(se,xe)=>{const[me,Me]=D(se,xe);return{element:z(me,Me),data:{row:me,column:Me}}},ue=(se,xe)=>{var me,Me,Te,et;return Array.isArray($.current)?(Me=(me=$.current)==null?void 0:me[Number(se)-N.current[0]])==null?void 0:Me[Number(xe)-N.current[1]]:(et=(Te=$.current)==null?void 0:Te[se])==null?void 0:et[xe]},de=(0,a.useCallback)(()=>{var se,xe,me,Me;const Te=Pe.get().bounds;if(!Te)return{rows:0,columns:0};const et=Math.abs((((se=Te.start)==null?void 0:se[0])||0)-(((xe=Te.end)==null?void 0:xe[0])||0))+1,We=Math.abs((((me=Te.start)==null?void 0:me[1])||0)-(((Me=Te.end)==null?void 0:Me[1])||0))+1;return{rows:et,columns:We}},[]),ge=(0,a.useCallback)((se,xe,me,Me)=>{var Te;let{row:et,column:We}=xe.data;Number(et)<0&&(et=0),Number(We)<0&&(We=0);const yt=ue(et,We),Nt=xe.element&&J(xe.element);if(yt)return R.current?((Te=se==null?void 0:se[me])==null||delete Te[Me],ty(Nt,E)):(se[me]||(se[me]=[]),se[me][Me]=vd(gi({},yt),{row:et,column:We}),ey(Nt,E)),se},[$,J]),fe=(se,xe,me)=>{const{row:Me,column:Te}=se.data;return ee(xe,me)||!(Me&&Te)},Ee=ry(X,ge,fe),Pe=ry(X,ge,fe),Ce=se=>{const{overscanColumnStartIndex:xe,overscanColumnStopIndex:me,overscanRowStartIndex:Me,overscanRowStopIndex:Te}=se;it([Me,Te,xe,me]);const et=N.current[0];G.current=Xa([...G.current,[Me,Te+k+et]]);const We=N.current[1];re.current=Xa([...re.current,[xe,me+x+We]]),f&&f(se),S()},Se=(0,a.useCallback)((se,xe)=>{const me=U.current.findIndex(Te=>{var et;return((et=Te.id)==null?void 0:et.toString())===se}),Me=V.current.findIndex(Te=>{var et;return((et=Te.id)==null?void 0:et.toString())===xe});return[me,Me]},[U,V]),je=(0,a.useCallback)(se=>se!=null&&se.children.length?je(se.firstChild):se,[]),at=(0,a.useCallback)(()=>Pe.get().items,[Pe]),Le=se=>L.current?Ee.select(se):Pe.select(se),qe=(0,a.useCallback)((se,xe,me)=>{me!==void 0&&(R.current=me),Le({start:se,end:xe})},[]),Ie=(0,a.useCallback)((se,xe)=>{if(L.current=!0,md(F.current,"crosshair"),xe&&Z.current)W.start=Z.current;else{R.current=Ll(se,E);const me=se;W.start=Se(me==null?void 0:me.dataset.rowId,me==null?void 0:me.dataset.columnId),W.start&&(Z.current=[W.start[0],W.start[1]])}},[]),Ye=(0,a.useCallback)(se=>{var xe,me,Me;K.current&&(W.end=Se((xe=K.current)==null?void 0:xe.dataset.rowId,(me=K.current)==null?void 0:me.dataset.columnId),(se||W.start&&W.end&&W.start.toString()!==W.end.toString())&&(Le(W),(Me=document.activeElement)==null||Me.blur()))},[]),He=(0,a.useCallback)(se=>{L.current=!1,md(F.current,"auto"),Ee.clear(),Ye(se)},[]),Ae=(0,a.useCallback)((se,xe)=>{const me=X(se,xe).element,Me=me&&J(me);Ll(Me,E)&&ty(Me,E)},[X,J]),De=(0,a.useCallback)(()=>{var se,xe,me;if(!F.current)return;const Me=Ee.get().items,Te=Pe.get().items;if(L.current||Me.length){for(let et=0;et<Me.length;et++)for(let We=0;We<((se=Me==null?void 0:Me[et])==null?void 0:se.length);We++)(xe=Te==null?void 0:Te[et])!=null&&xe[We]||Ae(et,We);Ee.clear()}else{for(let et=0;et<Te.length;et++)for(let We=0;We<((me=Te==null?void 0:Te[et])==null?void 0:me.length);We++)Ae(et,We);Pe.clear()}},[F,Ae]),it=(0,a.useCallback)(se=>{const[xe,me,Me,Te]=se,et=(We,yt)=>{var Nt,pt;if((pt=(Nt=at())==null?void 0:Nt[We])!=null&&pt[yt]){const Mt=X(We,yt).element,mn=Mt&&J(Mt);Ll(mn,E)||ey(mn,E)}};for(let We=xe;We<=me;We++)for(let yt=Me;yt<=Te;yt++)et(We,yt)},[$,z,J]),ct=(0,a.useCallback)(se=>{se.ctrlKey&&(se.preventDefault(),Ot(se))},[]),st=(0,a.useCallback)(se=>{se.detail===2||se.button!==0||(se.ctrlKey?se.stopPropagation():De(),Ie(se.currentTarget,se.shiftKey))},[Ie,De]),bt=(0,a.useCallback)(se=>{K.current=se.currentTarget,L.current&&(De(),Ye(se.ctrlKey))},[De,Ye]),ft=(0,a.useCallback)(()=>{j.current=!1},[]),ht=(0,a.useCallback)(()=>{j.current=!0},[]),Be=(0,a.useCallback)(se=>{const xe=se.target;xe===se.currentTarget&&!(se.offsetX>xe.clientWidth-Yo||se.offsetY>xe.clientHeight-Yo)&&De()},[De]),ie=(0,a.useCallback)(se=>{L.current&&He(se.ctrlKey)},[He]),Ze=(0,a.useCallback)(()=>{L.current&&(De(),L.current=!1,md(F.current,"auto"))},[De]),tt=(0,a.useCallback)(se=>{A(se,L.current)},[A]),_t=(0,a.useCallback)(se=>{!se.ctrlKey&&!zF(se.target)&&De()},[De]),ve=(0,a.useCallback)(se=>{var xe;if(at().length){se.preventDefault();const me=ny(Pe.get());(xe=se.clipboardData)==null||xe.setData("text/plain",me)}},[ny]),pe=(0,a.useCallback)((se,xe)=>{p&&p({event:se,changedCells:xe,events:P}),De()},[De,p]),ae=(0,a.useCallback)(se=>{const xe=at();if(!xe.length&&!j.current)return;se.preventDefault();const me=fl(se),Me=me?me.split(`
`).map(Te=>Te.split("	")):[[null]];if(j.current&&!xe.length&&Z.current){const[Te,et]=Z.current,We=Object.values(Me),yt=We==null?void 0:We.length,Nt=We.reduce((pt,Mt)=>(Mt==null?void 0:Mt.length)>pt?Mt==null?void 0:Mt.length:pt,-Number.MAX_VALUE);qe(Z.current,[Math.min(Te+yt,U.current.length)-1,Math.min(et+Nt,V.current.length)-1])}if(xe.length){const Te=mi(Me,Pe.get(),ce);pe(se,Te)}},[j,mi,pe,qe,getSelection]),te=(0,a.useCallback)(se=>{const xe=se.key;if((xe==="Delete"||xe==="Backspace")&&at().length){const Me=de(),Te=Array(Me.rows);Te.fill(Array(Me.columns).fill(null));const et=mi(Te,Pe.get(),ce);pe(se,et)}},[de,mi,pe]),le=(0,a.useMemo)(()=>({selOnCellMouseDown:st,selOnCellMouseEnter:bt,selOnCellCtrlClick:ct,selOnCellFocus:ht,selOnCellBlur:ft}),[st,bt,ct,ht,ft]);(0,a.useEffect)(()=>(F.current&&(Wo(F.current,{mousedown:Be,mouseup:ie,mouseleave:Ze,mousemove:tt}),Wo(document.body,{copy:ve,paste:ae,keydown:te})),()=>{F.current&&(Vo(F.current,{mousedown:Be,mouseup:ie,mouseleave:Ze,mousemove:tt}),Vo(document.body,{copy:ve,paste:ae,keydown:te}))}),[w]);const we=(0,a.useCallback)(se=>{var xe;const me=at(),Me=((xe=me==null?void 0:me[se])==null?void 0:xe.length)===V.current.length;if(!Me)return!1;let Te=!0;for(const et of me[se])if(!et){Te=!1;break}return Me&&Te},[]),ze=(0,a.useCallback)(se=>{const xe=at(),me=xe.reduce(Te=>Te+1,0)===U.current.length;if(!me)return!1;let Me=!0;for(const Te of xe)if(!Te[se]){Me=!1;break}return me&&Me},[]),Qe=(0,a.useCallback)(se=>{const xe=se.currentTarget;if(!xe)return;const me=U.current.findIndex(Me=>Me.id===xe.dataset.id);qe([me,0],[me,V.current.length-1],we(me))},[U,Le,we]),gt=(0,a.useCallback)(se=>{const xe=se.currentTarget;if(!xe)return;const me=V.current.findIndex(Me=>Me.id===xe.dataset.id);qe([0,me],[U.current.length-1,me],ze(me))},[V,Le,ze]);return(0,a.useEffect)(()=>{var se,xe;let me=[],Me=[];return b&&(me=(se=U.current)==null?void 0:se.reduce((Te,et)=>{const We=q(et==null?void 0:et.id);return We&&Te.push(We),Te},[]),Me=(xe=V.current)==null?void 0:xe.reduce((Te,et)=>{const We=q(et==null?void 0:et.id);return We&&Te.push(We),Te},[]),Wo(me,{click:Qe}),Wo(Me,{click:gt})),()=>{b&&(Vo(me,{click:Qe}),Vo(Me,{click:gt}))}},[U,V]),(0,s.jsx)(bi.Provider,{value:vd(gi({},le),{getSelection:Pe.get}),children:(0,s.jsx)(yo,{onClickOutside:_t,children:(0,s.jsx)(t,vd(gi({ref:l,outerRef:F,innerRef:d,itemData:u,onItemsRendered:Ce},y),{children:i}))})})};return n.displayName=`withGridSelection(${e})`,(0,a.forwardRef)((r,o)=>(0,s.jsx)(n,gi({forwardedRef:o},r)))}var UF=Ve(23279),hd=Ve.n(UF),GF=Object.defineProperty,ZF=Object.defineProperties,KF=Object.getOwnPropertyDescriptors,iy=Object.getOwnPropertySymbols,qF=Object.prototype.hasOwnProperty,YF=Object.prototype.propertyIsEnumerable,cy=(t,e,n)=>e in t?GF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qn=(t,e)=>{for(var n in e||(e={}))qF.call(e,n)&&cy(t,n,e[n]);if(iy)for(var n of iy(e))YF.call(e,n)&&cy(t,n,e[n]);return t},uy=(t,e)=>ZF(t,KF(e));const dy=(0,a.memo)(({data:t,columnIndex:e,rowIndex:n,style:r})=>{var o,l;const{gridId:i,isDisabled:c,columnTerminalNodes:d,rowTerminalNodes:u,currentColumnId:m,currentRowId:f,cells:p,globalCellSettings:v,onCellControlEvent:b,onNavigation:y,onCellsBlur:h,showContextMenuColumn:g,hasActiveMode:C,setCurrentCell:O,currentCell:M}=t,P=(0,a.useContext)(bi),x=(0,a.useRef)(null),k=["string","number","integer","enum","checkbox","date"],E=u[n],w=d[e],S=u[n].id,F=d[e].id,A=(o=p==null?void 0:p[S])==null?void 0:o[F],$=c||E.isDisabled||w.isDisabled||(A==null?void 0:A.isDisabled),U=E.isDivider||w.isDivider,V=U?`${Kt}__cell-divider`:`${Kt}__cell`,N={rowId:S,rowIndex:n,columnId:F,columnIndex:e},[L,j,R]=gF(w,E,v),H=m===F&&f===S,W=Qn(Qn(Qn({type:(A==null?void 0:A.type)||"number"},R.control),j.control),L.control),K=Qn(Qn(Qn({},R.cellSettings),j.cellSettings),L.cellSettings),Z=Qn(Qn({},K),r),G=W.type,re=(0,a.useRef)(null),ee=(0,a.useRef)(sn.active),ce=zl(i,S,F),D=(0,a.useCallback)((He,{event:Ae,value:De,rowId:it,columnId:ct})=>(b({event:Ae,eventType:He,controlType:G,cellData:N,value:De,rowId:it,columnId:ct}),!0),[G,N,b]),z=(He,Ae)=>{var De;(De=A==null?void 0:A.actions)!=null&&De.includes("onClick")&&D("onClickCell",{event:He,rowId:S,columnId:F,value:Ae})},q=()=>M&&$&&M.rowId===S&&M.columnId===F,J=hd()(z,200),X=(0,a.useCallback)(He=>{var Ae;const{detail:De}=He;!($||U)&&De===1&&((Ae=re.current)==null||Ae.focus()),!q()&&O({columnId:F,rowId:S}),J(He,De===1?"0":"1")},[$,U,re]),ue=(0,a.useCallback)(({event:He})=>{var Ae,De;Ot(He);const{keyCode:it}=He,ct=xr(it),st=Gr(it);if((ct||st)&&ee.current!==sn.editable){const ht=u.filter(ie=>!ie.isDisabled&&!ie.isDivider),Be=ct?dd(S,ht):ud(S,ht);return(Ae=document.getElementById(zl(i,Be!=null?Be:S,F)))==null||Ae.focus(),!1}const bt=um(it),ft=dm(it);if((bt||ft)&&ee.current!==sn.editable){const ht=d.filter(ie=>!ie.isDisabled&&!ie.isDivider),Be=bt?dd(F,ht):ud(F,ht);return(De=document.getElementById(zl(i,S,Be!=null?Be:F)))==null||De.focus(),!1}return!0},[i,S,F,u]),de=(0,a.useCallback)(({event:He})=>{const Ae={rowId:S,columnId:F};return S===f&&delete Ae.rowId,F===m&&delete Ae.columnId,(Ae.rowId||Ae.columnId)&&y({event:He,value:Ae}),!0},[y,S,f,F,m]),ge=(0,a.useCallback)(({event:He})=>{var Ae;const De=(Ae=He==null?void 0:He.relatedTarget)==null?void 0:Ae.dataset;return((De==null?void 0:De.gridId)!==i||!$e(De,"rowId"))&&h({event:He}),!0},[i,D,h,ee]),fe=(0,a.useCallback)(({event:He,value:Ae})=>(D("onImplicitChange",{event:He,value:Ae}),!0),[D]),Ee=(0,a.useCallback)(({event:He})=>{var Ae,De,it,ct,st;const{shiftKey:bt}=He,ft=d.filter(Be=>!Be.isDisabled&&!Be.isDivider);if((bt?dd(F,ft):ud(F,ft))===F){He.preventDefault();const Be=u.filter(tt=>!tt.isDisabled&&!tt.isDivider),ie=bt?(Ae=ft[ft.length-1])==null?void 0:Ae.id:(De=ft[0])==null?void 0:De.id,Ze=bt?(it=Be[n-1])==null?void 0:it.id:(ct=Be[n+1])==null?void 0:ct.id;(st=document.getElementById(zl(i,Ze,ie)))==null||st.focus()}return!1},[F,d]),Pe=(0,a.useCallback)(He=>{var Ae;return ee.current!==sn.editable?(Ae=He.event)!=null&&Ae.stopPropagation&&Ot(He.event):D("onEnter",He),!0},[D,ee]),Ce=(0,a.useCallback)(He=>{var Ae;return ee.current===sn.editable?(Ae=He.event)!=null&&Ae.stopPropagation&&Ot(He.event):D("onDelete",He),!0},[D,ee]),Se=(0,a.useCallback)(({value:He})=>{ee.current=He},[ee]),{show:je}=(0,mr.av)({id:i,props:{rowId:S,columnId:F,getSelection:P==null?void 0:P.getSelection}}),at=He=>{!q()&&O({columnId:F,rowId:S}),je(He)},Le=(0,a.useMemo)(()=>({["data-grid-id"]:i,["data-row-id"]:S,["data-column-id"]:F}),[i,S,F]),qe=be()(V,{[`${V}_select`]:Ll(x.current,`${V}_select`),[`${V}_column`]:w.isDivider,[`${V}_row`]:E.isDivider,[`${V}_disabled`]:$,[`${V}_current`]:q()});if(!A)return(0,s.jsx)("div",{className:qe,style:r,tabIndex:-1,children:(0,s.jsx)("div",{className:"indicator__loader"})});const Ie=A!=null&&A.iconName||A!=null&&A.icon?(0,s.jsx)("img",{className:`${Kt}__cell-img img`,alt:"",src:en(A.iconName||A.icon)}):null;let Ye=null;if(k.includes(G)){const He={style:K,className:`${Kt}__cell-control`||null,isDisabled:$,focusedElement:re,isStatic:$,tabIndex:Ur(!$),mode:H?sn.active:sn.default,hasActiveMode:C,isSpellCheck:A==null?void 0:A.isSpellCheck,isParentTable:!0},Ae={onTab:Ee,onFocus:de,onBlur:ge,onDelete:Ce,onKeyDown:ue,onModeChange:Se,onAutolock:D.bind(void 0,"onAutolock")};switch(G){case"checkbox":{Ae.onChange=D.bind(void 0,"onChange"),He.isStatic=!1;break}case"date":{Ae.onEnter=D.bind(void 0,"onEnter");break}case"enum":{Ae.onEnter=D.bind(void 0,"onEnter"),Ae.onSelect=D.bind(void 0,"onEnter");break}case"string":case"number":case"integer":{Ae.onEnter=Pe,(l=W.action)!=null&&l.includes("onLookup")&&(Ae.onLookup=D.bind(void 0,"onLookup"));break}default:break}He.dataAttrs=Le,He.value=A==null?void 0:A.value,ni(G)&&(He.formattedValue=A==null?void 0:A.staticValue,Ae.onImplicitChange=fe),Ye=Xo(uy(Qn(Qn(Qn({GUID:ce,initialValue:A==null?void 0:A.initialValue},W),He),Ae),{style:(A==null?void 0:A.style)||{}}))}return U?(0,s.jsx)("div",{className:qe,style:Z}):(0,s.jsx)(bi.Consumer,{children:He=>{const{selOnCellMouseDown:Ae,selOnCellMouseEnter:De,selOnCellCtrlClick:it,selOnCellFocus:ct,selOnCellBlur:st}=He||{};return(0,s.jsxs)("div",uy(Qn({ref:x,className:qe,style:Qn(Qn({},Z),A==null?void 0:A.style),tabIndex:-1,onMouseDown:Ae,onMouseEnter:De,onClick:bt=>{X(bt),it&&it(bt)},onFocus:ct,onBlur:st,onContextMenu:g?at:void 0},Le),{children:[Ie,Ye]}))}})},Rn.wy);dy.displayName="Cell";var XF=Object.defineProperty,JF=Object.defineProperties,QF=Object.getOwnPropertyDescriptors,fy=Object.getOwnPropertySymbols,eA=Object.prototype.hasOwnProperty,tA=Object.prototype.propertyIsEnumerable,py=(t,e,n)=>e in t?XF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hl=(t,e)=>{for(var n in e||(e={}))eA.call(e,n)&&py(t,n,e[n]);if(fy)for(var n of fy(e))tA.call(e,n)&&py(t,n,e[n]);return t},gd=(t,e)=>JF(t,QF(e));const nA=`${Kt}__cell`,rA=sy(Rn.cd);function bd(t){const{className:e,style:n,name:r,isDisabled:o,dataAttrs:l,events:i,metaSet:c,columns:d,cells:u,levels:m,rows:f,cellSettings:p,currentRowId:v,currentColumnId:b,onCellControlEvent:y,onCellsPaste:h,onNavigation:g,onCellsBlur:C,onHeaderEvent:O,onLoadData:M,rowThreshold:P=15,columnThreshold:x=15,loadedRowCount:k=60,loadedColumnCount:E=60,popupMenu:w,selfWidthByContent:S,hasActiveMode:F,_autoSize:A}=t,$=CF(w),U=be()(e,Kt),V=(0,a.useRef)(null),N=(0,a.useRef)(null),L=(0,a.useRef)(null),j=(0,a.useRef)(null),R=(0,a.useRef)(null),H=(0,a.useRef)(null),W=(0,a.useRef)([]),K=(0,a.useRef)([]),Z=(0,a.useRef)({}),G=(0,a.useRef)({}),re=(0,a.useRef)({}),[ee,ce]=(0,a.useState)(null),[D,z]=(0,a.useState)(null),q=!!$,{show:J}=(0,mr.av)({id:r,props:{rowId:v,columnId:b}}),X=ye=>{ye.target.parentElement===ye.currentTarget&&J(ye)},ue=(0,a.useCallback)(ye=>{const{event:Re,rowId:Ke,menuItem:Xe,columnId:ut,getSelection:Ne}=ye,Et=(0,zt.flatten)(Ne().items).filter(Zt=>Boolean(Zt));if(o)return;const At={menuItem:Xe,rowId:Ke,columnId:ut,selectedCells:Et};ke(gd(Hl({specificEvent:null,nativeEvent:"onMenuItemSelect"},{event:Re,metaSet:c,events:i}),{value:At}))},[o,i,c]),[de,ge]=(0,a.useState)({overscanColumnStartIndex:0,overscanColumnStopIndex:0,overscanRowStartIndex:0,overscanRowStopIndex:0,visibleColumnStartIndex:0,visibleColumnStopIndex:0,visibleRowStartIndex:0,visibleRowStopIndex:0}),[fe,Ee]=(0,a.useState)({vertical:!1,horizontal:!1}),Pe=(0,a.useRef)(null),Ce=(0,a.useRef)([]),Se=(0,a.useRef)([]),[je,at]=(0,a.useState)(yF(d)),Le=(0,a.useCallback)(ye=>{je<ye&&ye>=or&&at(ye)},[]),[qe,Ie]=(0,a.useState)({}),Ye=(ye,Re)=>{((qe==null?void 0:qe[ye])<Re||!(qe!=null&&qe[ye]))&&Ie(Ke=>{const Xe=Hl({},Ke);return(Xe[ye]<Re||!Xe[ye])&&(Xe[ye]=Re),Xe})},He=(0,a.useRef)({}),Ae=(0,a.useCallback)((ye,Re,Ke)=>{const Xe=Ke?1:0,ut={height:Re+Xe>or?Re+Xe:or};Ke&&(ut.heightWithNodes=Ke>or?Ke:or),He.current[ye]=ut},[He]),De=sc(d);(0,zt.isEqual)(W.current,De)||(W.current=De);const it=sc(f);(0,zt.isEqual)(K.current,it)||(K.current=it),(0,zt.isEqual)(Z.current,u)||(Z.current=u),(0,zt.isEqual)(G.current,p)||(G.current=p);const ct=W.current,st=K.current,bt=Z.current,ft=G.current,ht=(0,a.useCallback)((ye,Re,Ke,Xe)=>{var ut,Ne,Et,At,nt;const Zt={},Zn=Object.keys(re.current),$n=Object.keys(bt),jt=(0,zt.intersection)($n,Zn),Fn=Zn.length&&jt.length<Zn.length;for(let In=ye;In<=Re;In++){const Bt=(ut=ct[In])==null?void 0:ut.id;for(let It=Ke;It<=Xe;It++){const wt=(Ne=st[It])==null?void 0:Ne.id;(!((Et=bt[wt])!=null&&Et[Bt])&&wt&&Bt&&!((At=re.current[wt])!=null&&At[Bt])||!((nt=bt[wt])!=null&&nt[Bt])&&Fn)&&(Zt[wt]||(Zt[wt]=[]),Zt[wt].push(Bt),re.current[wt]||(re.current[wt]={}),re.current[wt][Bt]=!0)}}return Zt},[ct,st,bt,re]),Be=(0,a.useCallback)(ye=>{const{overscanColumnStartIndex:Re,overscanColumnStopIndex:Ke,overscanRowStartIndex:Xe,overscanRowStopIndex:ut,visibleColumnStartIndex:Ne,visibleColumnStopIndex:Et,visibleRowStartIndex:At,visibleRowStopIndex:nt}=ye,Zt=At<de.visibleRowStartIndex||nt<de.visibleRowStopIndex,Zn=At>de.visibleRowStartIndex||nt>de.visibleRowStopIndex,$n=Ne<de.visibleColumnStartIndex||Et<de.visibleColumnStopIndex,jt=Ne>de.visibleColumnStartIndex||Ne>de.visibleColumnStopIndex;ge(ye),Ce.current=Xa([...Ce.current,[Xe,ut]]),Se.current=Xa([...Se.current,[Re,Ke]]);const Fn={start:0,stop:ct.length-1},In={start:0,stop:st.length-1};let Bt;if(jt){let It=Ne,wt=Et+x+E;wt>Fn.stop&&(wt=Fn.stop),Bt=ht(It,wt,Xe,ut)}else if($n){let It=Ne-x-E,wt=Et;It<Fn.start&&(It=Fn.start),Bt=ht(It,wt,Xe,ut)}else if(Zn){let It=At,wt=nt+P+k;wt>In.stop&&(wt=In.stop),Bt=ht(Re,Ke,It,wt)}else if(Zt){let It=At-P-k,wt=nt;It<In.start&&(It=In.start),Bt=ht(Re,Ke,It,wt)}else Bt=ht(Re,Ke,Xe,ut);if(Bt&&Object.keys(Bt).length){const It=Bt;let wt=!0;if(M&&(wt=M({metaSet:c,value:It})),wt&&i.onLoadData){const{alias:_r,args:ir}=i.onLoadData;he[_r]({metaSet:c,args:ir,value:It})}}},[st,ct,de,ht,i,c,M,P,x,k,E]),ie=$t(m==null?void 0:m.rows.reduce((ye,Re)=>ye+$l(Re==null?void 0:Re.size,null,f),0)),Ze=(0,a.useCallback)(ye=>{var Re,Ke;const{isAdaptiveCell:Xe,sizeValue:ut}=Da(ye.size),{height:Ne,heightWithNodes:Et}=(Re=He.current[ye.id])!=null?Re:{};let At=ye.isExpanded?Et:Ne;return(Ke=ye==null?void 0:ye.nodes)!=null&&Ke.length&&(At=ye.nodes.reduce((nt,Zt)=>nt+tt(Zt),0)),!Xe&&At<ut?ut:At>=ut?At:Bb},[He]),tt=(0,a.useCallback)(ye=>{var Re,Ke;let Xe=Ze(ye);return(Re=ye==null?void 0:ye.nodes)!=null&&Re.length&&ye.isExpanded&&(Xe=ye.nodes.reduce((ut,Ne)=>ut+tt(Ne),0)),(Ke=ye==null?void 0:ye.branches)!=null&&Ke.length&&ye.isExpanded&&(Xe+=ye.branches.reduce((ut,Ne)=>ut+tt(Ne),0)),Xe},[Ze]),_t=(0,a.useCallback)(ye=>{const Re=f[ye];return tt(Re)},[f,tt]),ve=(0,a.useCallback)(ye=>{const Re=ct[ye]||{},{isAdaptiveCell:Ke,sizeValue:Xe}=Da(Re.size);if(!Ke)return Xe;const{size:ut,caption:Ne}=Re,Et=$l(ut,Ne);return $t(Et+cd)},[ct,x]),pe=(0,a.useCallback)(ye=>{const Re=st[ye];return Ze(Re)},[st,Ze]),ae=(0,a.useCallback)(ye=>ye-ie-fi,[ie]),te=(0,a.useCallback)(ye=>{const Re=ae(ye);return fe.vertical?Re-Yo:Re},[ae,fe]),le=(0,a.useCallback)(ye=>ye-je-fi,[je]),we=(0,a.useCallback)(ye=>{const Re=le(ye);return fe.horizontal?Re-Yo:Re},[le,fe]),ze=(0,a.useCallback)(({event:ye,isRow:Re,header:Ke})=>{if(o)return;const Xe={event:"onClick",isRow:Re,headerId:Ke.id};let ut=!0;if(O&&(ut=O({event:ye,metaSet:c,value:Xe})),ut&&i.onHeaderEvent){const{alias:Ne,args:Et}=i.onHeaderEvent;he[Ne]({event:ye,metaSet:c,args:Et,value:Xe})}},[o,i,c,O]),Qe=(0,a.useCallback)(ye=>{var Re,Ke;const{horizontalScrollDirection:Xe,verticalScrollDirection:ut,scrollLeft:Ne,scrollTop:Et}=ye;ut&&((Re=V.current)==null||Re.scrollTo(Et)),Xe&&((Ke=N.current)==null||Ke.scrollTo(Ne))},[V,N]),gt=(0,a.useCallback)(ye=>{const{scrollOffset:Re,scrollUpdateWasRequested:Ke}=ye;Ke||ee==null||ee.scrollTo({scrollTop:Re})},[ee]),se=(0,a.useCallback)(ye=>{const{scrollOffset:Re,scrollUpdateWasRequested:Ke}=ye;Ke||ee==null||ee.scrollTo({scrollLeft:Re})},[ee]),xe=(0,zt.debounce)(Be,200),me=(0,a.useCallback)(ye=>{if(ye&&xe(ye),!R.current||!H.current)return;const{clientWidth:Re,clientHeight:Ke}=R.current,{clientWidth:Xe,clientHeight:ut}=H.current,Ne=ut>Ke!==fe.vertical,Et=Xe>Re!==fe.horizontal;(Ne||Et)&&Ee({vertical:ut>Ke,horizontal:Xe>Re})},[R,H,fe.vertical,fe.horizontal,Be]),Me=(0,a.useCallback)(()=>{var ye,Re;ee&&(ee==null||ee.resetAfterIndices({columnIndex:0,rowIndex:0})),N.current&&((ye=N.current)==null||ye.resetAfterIndex(0)),V.current&&((Re=V.current)==null||Re.resetAfterIndex(0))},[ee,N,V]),Te=(0,a.useCallback)(()=>{Me()},[Me]),et=(0,a.useCallback)(({event:ye,value:Re})=>{if(o)return;let Ke=!0;if(g&&(Ke=g({event:ye,metaSet:c,value:Re})),Ke&&(i!=null&&i.onNavigation)){const{alias:Xe,args:ut}=i.onNavigation;Ke=he[Xe]({event:ye,args:ut,metaSet:c,value:Re})}return Ke},[o,i,c,g]),We=(0,a.useCallback)(ye=>{const Re=d[ye];return pi(Re)},[d]),yt=(0,a.useCallback)(({data:ye,columnIndex:Re,rowIndex:Ke})=>{const{columnTerminalNodes:Xe,rowTerminalNodes:ut}=ye,Ne=ut[Ke].id,Et=Xe[Re].id;return`${Ne}:${Et}`},[]),Nt=(0,a.useCallback)(({event:ye,eventType:Re,controlType:Ke,cellData:Xe,value:ut,rowId:Ne,columnId:Et})=>{if(o)return!1;let At=!0;if(y&&(At=y(ye)),At&&(i!=null&&i.onCellControlEvent)){const{alias:nt,args:Zt}=i.onCellControlEvent;he[nt]({event:ye,args:Zt,metaSet:c,value:{controlType:Ke,eventType:Re,cellData:Xe,cellValue:ut===""?null:ut,rowId:Ne,columnId:Et}})}},[o,i,c,y]),pt=(0,a.useCallback)(({event:ye,changedCells:Re})=>{const Ke="onPasteCells",Xe=Re.map(({type:Ne,rowId:Et,columnId:At,value:nt,index:Zt})=>{const Zn=Zt==null?void 0:Zt[0],$n=Zt==null?void 0:Zt[1];return{cellData:{columnId:At,columnIndex:$n,rowId:Et,rowIndex:Zn},cellValue:nt,columnId:At,rowId:Et,controlType:Ne,eventType:Ke}});if(o)return!1;let ut=!0;if(h&&(ut=h(ye)),ut&&(i!=null&&i.onPasteEvent)){const{alias:Ne,args:Et}=i.onPasteEvent;he[Ne]({event:ye,args:Et,metaSet:c,value:{eventType:Ke,cellsData:Xe}})}},[o,i,c,h]),Mt=(0,a.useCallback)(({event:ye})=>{if(o)return!1;let Re=!0;const Ke={rowId:null,columnId:null};if(C&&(Re=C({event:ye,metaSet:c,value:Ke})),Re&&(i!=null&&i.onCellsBlur)){const{alias:Xe,args:ut}=i.onCellsBlur;he[Xe]({event:ye,args:ut,metaSet:c,value:Ke})}},[o,i,c,C]),mn=(0,a.useMemo)(()=>({rows:f,columns:d,levels:m,columnHeaderSizes:qe,handleHeaderEvent:ze,updateColumnHeaderSizes:Ye,updateColumnHeaderHeight:Le,updateRowHeaderHeight:Ae}),[f,d,m,qe,Ye,ze,Le,Ae]),tr=(0,a.useMemo)(()=>({isDisabled:o,gridId:r,columnTerminalNodes:ct,rowTerminalNodes:st,currentColumnId:b,currentRowId:v,globalCellSettings:ft,cells:bt,cellCssClass:nA,onCellsBlur:Mt,onCellControlEvent:Nt,onNavigation:et,showContextMenuColumn:q,hasActiveMode:F,currentCell:D,setCurrentCell:z}),[r,ct,st,b,v,ft,bt,Nt,et,Mt,D,z]),yn=!!Object.keys(tr.cells||{}).length,un=ee,dn=ct.length,ln=N.current;(0,a.useEffect)(()=>{ln==null||ln.resetAfterIndex(0),un==null||un.resetAfterColumnIndex(0)},[ln,un,dn]);const Jt=st.length,vn=V.current;(0,a.useEffect)(()=>{vn==null||vn.resetAfterIndex(0),un==null||un.resetAfterRowIndex(0)},[vn,un,Jt]);const Bn=(0,a.useCallback)(()=>{let ye=1+ie+fi+d.reduce((Ke,Xe)=>Ke+Wb(Xe),0),Re;return A?(Re="100%",fe.horizontal&&(Re=`calc(${Re}+${Yo})`)):(Re=1+je+fi+f.reduce((Ke,Xe,ut)=>Ke+_t(ut),0),fe.horizontal&&(Re+=Yo)),fe.vertical&&(ye+=Yo),{width:ye,height:Re}},[d,ie,f,je,fe.vertical,fe.horizontal]),Rr=(0,a.useMemo)(()=>{const ye=`${Kt}__row-list`;return be()(ye,{[`${ye}_scrollable`]:fe.horizontal})},[fe]),sr=(0,a.useMemo)(()=>{const ye=`${Kt}__column-list`;return be()(ye,{[`${ye}_scrollable`]:fe.vertical})},[fe]);let Pn=Hl({},n);if(Pn.width&&!Pn.width.toString().includes("px")&&(Pn.width=$t(Pn.width)),S){const{width:ye,height:Re}=Bn();Pn=gd(Hl({},Pn),{minWidth:ye,minHeight:Re})}return(0,s.jsx)("div",{style:{minHeight:"inherit",display:"flex",boxSizing:"border-box"},children:(0,s.jsxs)("div",gd(Hl({"data-name":r,className:U,style:Pn},l),{tabIndex:0,children:[(0,s.jsx)(ti.Z,{className:`${Kt}__auto-sizer`,onResize:Te,children:({height:ye,width:Re})=>(0,s.jsxs)("div",{style:{height:ye,width:Re},ref:Pe,children:[(d==null?void 0:d.length)>0&&(0,s.jsxs)("div",{className:`${Kt}__columns`,children:[(0,s.jsx)("div",{className:`${Kt}__row-levels`,style:{width:ie,height:je},children:m==null?void 0:m.rows.map((Ke,Xe)=>(0,s.jsx)("div",{className:`${Kt}__header`,style:{width:$t($l(Ke==null?void 0:Ke.size))+10},children:(0,s.jsx)("span",{className:`${Kt}__header-text text-ellipsis`,title:Ke.caption,children:`${Ke.caption||""}`})},Ke.caption||Xe))}),(0,s.jsx)(Rn.S_,{ref:N,innerRef:j,className:sr,layout:"horizontal",height:je,width:te(Re),itemCount:d.length,itemSize:We,onScroll:se,itemData:mn,children:Yb})]}),(0,s.jsxs)("div",{className:`${Kt}__body`,onContextMenu:X,children:[(0,s.jsx)("div",{className:`${Kt}__rows`,children:(0,s.jsx)(Rn.S_,{ref:V,innerRef:L,className:Rr,height:we(ye),width:ie,itemCount:f.length,itemSize:_t,onScroll:gt,itemData:mn,children:Qb})}),yn&&(0,s.jsx)(rA,{ref:ce,outerRef:R,innerRef:H,className:`${Kt}__cells`,width:ae(Re),height:le(ye),columnCount:ct.length,rowCount:st.length,columnWidth:ve,rowHeight:pe,onScroll:Qe,onItemsRendered:me,onPaste:pt,itemData:tr,itemKey:yt,overscanColumnCount:x,overscanRowCount:P,isSelectOnHeaderClick:!0,children:dy})]})]})}),q&&(0,s.jsx)(Tl,{onShowContextMenuValue:Hl({},D),events:i,itemsContextMenu:$,id:r,handleClickContextMenu:ue})]}))})}bd.propTypes={GUID:_().string,actions:_().array,cellSettings:_().object,cells:_().object,children:_().array,columns:_().array,currentColumnId:_().string,currentRowId:_().string,dataAttrs:_().object,events:_().object,hasActiveMode:_().bool,hint:_().string,id:_().string,isDisabled:_().bool,isExcluded:_().bool,isFixSize:_().bool,isStatic:_().bool,levels:_().object,metaSet:_().object,name:_().string,rows:_().array,adaptiveBigDataGrid:_().bool,selfWidthByContent:_().bool,style:_().object,testId:_().string,type:_().string},bd.defaultProps={isDisabled:!1,isExcluded:!1};var oA=bd,y6={popperIconSize:"18px",primaryColor:"#0bd688"},lA=Object.defineProperty,aA=Object.defineProperties,sA=Object.getOwnPropertyDescriptors,yi=Object.getOwnPropertySymbols,my=Object.prototype.hasOwnProperty,vy=Object.prototype.propertyIsEnumerable,hy=(t,e,n)=>e in t?lA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zr=(t,e)=>{for(var n in e||(e={}))my.call(e,n)&&hy(t,n,e[n]);if(yi)for(var n of yi(e))vy.call(e,n)&&hy(t,n,e[n]);return t},Ma=(t,e)=>aA(t,sA(e)),gy=(t,e)=>{var n={};for(var r in t)my.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yi)for(var r of yi(t))e.indexOf(r)<0&&vy.call(t,r)&&(n[r]=t[r]);return n};const iA=(t,e,n)=>{var r;const o=(r=n[e])==null?void 0:r[t];return o===void 0?{isLoading:!0}:o===!0?{X:t+1,Y:e+1,value:""}:o==="isHidden"?!1:o},cA=(t,e)=>t.style&&$e(e,t.style)?e[t.style]:{},uA=(t,e)=>{if(t.control&&$e(e,t.control))return e[t.control]},by=(t,e,n=[],r)=>{let o=new Array(e).fill($t(t));const l=[];if(n.forEach(i=>{$e(i,"size")&&(o[i.index-1]=$t(i.size)),$e(i,"hidden")&&i.hidden===!0&&(o[i.index-1]=0)}),r){for(let i=0;i<r;i++)l[i]=o[i];o=o.slice(r)}return[o,l]},_6={overscanColumnStartIndex:0,overscanColumnStopIndex:0,overscanRowStartIndex:0,overscanRowStopIndex:0,visibleColumnStartIndex:0,visibleColumnStopIndex:0,visibleRowStartIndex:0,visibleRowStopIndex:0},C6=(t,e)=>{var n;const r=[];for(let o=t[0];o<=t[2];o+=1)for(let l=t[1];l<=t[3];l+=1)((n=e[l])==null?void 0:n[o])===void 0&&(r.length?(r[0]=Math.min(o,r[0]),r[1]=Math.min(l,r[1])):(r[0]=o,r[1]=l));if(r.length)return r},dA=(t,e)=>{const n=[...t],r=e[2]-e[0],o=e[3]-e[1];return t[2]-t[0]<r&&(n[2]=t[0]+r),t[3]-t[1]<o&&(n[3]=t[1]+o),n},fA=t=>{const e=[...t];for(let n=0;n<t.length;n+=1)e[n]+=1;return e},pA=t=>{const{renderedCells:e,events:n,viewBox:r,freezedRows:o,freezedCols:l}=t,{visibleColumnStartIndex:i,visibleRowStartIndex:c,visibleColumnStopIndex:d,visibleRowStopIndex:u}=e;let m=[i,c,d+l,u+o];m=dA(fA(m),r),JSON.stringify(m)!==JSON.stringify(r)&&ke({specificEvent:null,nativeEvent:"onLoadData",value:m,events:n})},yy={center:"center",middle:"center",left:"flex-start",right:"flex-end",top:"flex-start",bottom:"flex-end"},mA=t=>{const e={enumType:"enum"},{listValues:n,value:r,formattedValue:o,isAutocomplete:l}=t;if(!l&&(n!=null&&n.length)&&r){const i=n.find(c=>c.key===r);i&&(e.value=i.value)}return n&&n.length&&(e.listValues=n),r!==void 0&&(o===void 0&&(e.formattedValue=e.value),e.initialValue=e.value,e.initialFormattedValue=e.value),e},vA=t=>{const{control:e,cellData:n,cellStyleData:r={},events:o,gridName:l,eventProps:i,wrapperStyle:c,focusRef:d}=t,u=r,{fontColor:m,color:f,horzAlign:p,vertAlign:v,border:b=["none"]}=u,y=gy(u,["fontColor","color","horzAlign","vertAlign","border"]),h=e==null?void 0:e.disabled,g=e==null?void 0:e.hasButton,C=zr({},y);C.backgroundColor=f,C.color=m,C.textAlign=p;const O=e==null?void 0:e.type;if(O==="checkbox"&&(C.justifyContent=p?yy[p]:"center"),C.verticalAlign=v?yy[v]:"center",C.borderRadius=0,C.margin=0,C.width=c.width,C.height=c.height,r!=null&&r.border){if(b.length===1)b[0]==="none"?C.border="none":(C.borderWidth=b[0],C.borderStyle="solid");else if(b.length===4)for(let U=0;U<4;U+=1)if(b[U]==="none")switch(U){case 0:C.borderLeft="none";break;case 1:C.borderTop="none";break;case 2:C.borderRight="none";break;default:C.borderBottom="none";break}else switch(U){case 0:C.borderLeftWidth=b[0],C.borderLeftStyle="solid";break;case 1:C.borderTopWidth=b[1],C.borderTopStyle="solid";break;case 2:C.borderRightWidth=b[2],C.borderRightStyle="solid";break;default:C.borderBottomWidth=b[3],C.borderBottomStyle="solid";break}}const[M,P]=hA(i,o,h,n.value,e==null?void 0:e.type),x=to(l,n.Y,n.X);let k=n.value,E=n.value,w,S=n.value,F,A,$;if(ni(O)&&O!=="enum")n.staticValue&&(k=n.staticValue);else if((O==="enum"||O==="shortlist")&&e){const{value:U,formattedValue:V,initialFormattedValue:N,initialValue:L,listValues:j,enumType:R}=mA(zr(zr({},n),e));S=U,E=L,F=N,k=V,A=R,w=j,O==="shortlist"&&($=!0)}return Ma(zr(zr({GUID:x,isWrapped:r==null?void 0:r.wrap,isAutocomplete:$,isParentTable:!0,isDisabled:h,initialValue:E,initialFormattedValue:F,focusedElement:d,formattedValue:k,value:S,listValues:w},M),e),{type:A||(e==null?void 0:e.type),showButton:g,events:P,style:C})},_y=(t,e,n)=>{function r(o){const{value:l}=o,i=["onEnter","onAutocomplete"].includes(t)?Ma(zr({},n),{value:l}):n;ke({specificEvent:null,nativeEvent:t,events:e,value:i})}return r},hA=(t,e,n,r,o)=>{const l=t,{actionList:i}=l,c=gy(l,["actionList"]),d={},u={};return i&&i.length&&i.forEach(m=>{const f=m==="onDblClick"?"onDoubleClick":m;d[f]=_y(f,e,c),e[f]&&(u[f]=e[f])}),n||(d.onEnter=_y("onEnter",e,c),ni(o)&&(d.onImplicitChange=m=>{(m==null?void 0:m.value)!==r&&ke({specificEvent:null,nativeEvent:"onEnter",events:e,value:Ma(zr({},c),{value:m.value})})})),o==="checkbox"&&(d.onChange=m=>{ke({specificEvent:null,nativeEvent:"onEnter",events:e,value:Ma(zr({},c),{value:m.value})})}),(o==="enum"||o==="shortlist")&&(d.onSelect=m=>{const{value:f}=m;return ke({specificEvent:null,nativeEvent:"onEnter",events:e,value:Ma(zr({},c),{value:typeof f=="object"&&(f==null?void 0:f.keyValue)!==void 0?f==null?void 0:f.keyValue:f})}),!0}),o==="shortlist"&&(d.onImmediatelyAutoComplete=m=>(ke({specificEvent:null,nativeEvent:"onCellAutoComplete",events:e,state:c,value:m.value}),!1),d.onChange=m=>(ke({specificEvent:null,nativeEvent:"onCellAutoComplete",events:e,state:c,value:m.value}),!0)),[d,u]},gA=({colSpan:t,rowSpan:e,wrapperStyle:n,columnWidths:r,rowHeights:o,rowIndex:l,columnIndex:i})=>{const c=zr({},n);if(t){let d=0;for(let u=0;u<=t;u++)d+=r[i+u];c.width=d,c.position="absolute",c.left="0",c.zIndex=t+(e||0)}if(e){let d=0;for(let u=0;u<=e;u++)d+=o[l+u];c.height=d,c.position="absolute",c.top="0",c.zIndex=e+(t||0)}return c},bA=t=>{const e=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];return t.reduce((n,{props:{columnIndex:r,rowIndex:o}})=>{let[l,i,c,d]=n;return o<l&&(l=o),o>i&&(i=o),r<c&&(c=r),r>d&&(d=r),[l,i,c,d]},e)},yA=(t=0,e=0,n)=>{var r;let o=n;if(o=o.slice(e),t)for(let l=0;l<o.length;l++)o[l]=(r=o[l])==null?void 0:r.slice(t);return{gridMatrixWoFreezedCells:o,freezedCols:t,freezedRows:e}},_A=(t,e)=>{const{focusedCellCoords:n,setFocusedCellCoords:r,rowsCount:o,colsCount:l}=e;if(n.length)switch(t.key){case"ArrowUp":n[1]>=1&&r([n[0],n[1]-1]);break;case"ArrowDown":n[1]<o&&r([n[0],n[1]+1]);break;case"ArrowLeft":n[0]>=1&&r([n[0]-1,n[1]]);break;case"ArrowRight":n[0]<l&&r([n[0]+1,n[1]]);break;default:}},CA=t=>{const e=t[0][0];return typeof e=="object"?[e.X||1,e.Y||1]:[1,1]},wA=({changedCells:t,events:e})=>{const n="onPasteCells",r=t.map(({rowId:o,columnId:l,value:i})=>({value:i,col:Number(l),row:Number(o)}));ke({specificEvent:null,nativeEvent:"onPasteEvent",value:{eventType:n,cells:r},events:e})};var xA=Object.defineProperty,SA=Object.defineProperties,PA=Object.getOwnPropertyDescriptors,Cy=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable,wy=(t,e,n)=>e in t?xA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,no=(t,e)=>{for(var n in e||(e={}))IA.call(e,n)&&wy(t,n,e[n]);if(Cy)for(var n of Cy(e))OA.call(e,n)&&wy(t,n,e[n]);return t},xy=(t,e)=>SA(t,PA(e));const EA=t=>{const{columnIndex:e,rowIndex:n,isFreezed:r,style:o,data:{styles:l,defaultStyle:i,defaultControl:c,controls:d,currentRow:u,currentCol:m,events:f,freezedCols:p=0,freezedRows:v=0,columnWidths:b,rowHeights:y,focusedCellCoords:h,setFocusedCellCoords:g,handleNavigation:C,cells:O,gridId:M}}=t,P=`${yd}__cell`,x=iA(e,n,O),k={X:e+1+(r?0:p),Y:n+1+(r?0:v)},E=(0,a.useRef)(null),w=()=>{(h[0]!==k.X||h[1]!==k.Y)&&g([k.X,k.Y])};if((0,a.useEffect)(()=>{E.current&&h.length===2&&k.X===h[0]&&k.Y===h[1]&&document.activeElement!==E.current&&E.current.focus()},[h,E.current]),x===!1||o.height===0)return null;const S=uA(x,d)||d[c],F={actionList:S==null?void 0:S.actionList,currentRow:k.Y,currentCol:k.X},A=x.colSpan||x.rowSpan,$=u===F.currentRow&&m===F.currentCol,U=no(no(no({},l[i]),cA(x,l)),$&&{color:I("canvas-grid-cell-active")||"#E3E4E8"});let V={width:o.width||"100%",height:o.height||"100%"};if(A){const{colSpan:j,rowSpan:R}=x;V=gA({colSpan:j,rowSpan:R,wrapperStyle:V,columnWidths:b,rowHeights:y,rowIndex:n,columnIndex:e})}const N={["data-grid-id"]:M,["data-row-id"]:x.Y,["data-column-id"]:x.X},L=Xo(no(no({dataAttrs:N},{iconName:U==null?void 0:U.iconname,iconSize:U==null?void 0:U.iconsize}),vA({control:S,cellStyleData:U,cellData:x,eventProps:F,gridName:M,events:f,wrapperStyle:V,focusRef:E})));return(0,s.jsx)(bi.Consumer,{children:j=>{const{selOnCellMouseDown:R,selOnCellMouseEnter:H,selOnCellCtrlClick:W,selOnCellFocus:K,selOnCellBlur:Z}=j||{};return(0,s.jsx)("div",xy(no({"data-log":n},N),{onMouseDown:R,onMouseEnter:H,onClick:G=>{w(),W&&W(G)},onFocus:G=>{K&&K(G),C({event:G,value:no(no({},x),k)})},onBlur:Z,style:xy(no({},o),{overflow:A?"initial":void 0}),className:P,children:(0,s.jsx)("div",{style:V,children:x.isLoading?(0,s.jsx)("div",{className:"indicator__loader"}):L})}))}})};var _i=(0,a.memo)(EA,Rn.wy),Sy=(0,a.createContext)(null);const Py=1;var kA=Object.defineProperty,jA=Object.defineProperties,RA=Object.getOwnPropertyDescriptors,Ci=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,Oy=Object.prototype.propertyIsEnumerable,Ey=(t,e,n)=>e in t?kA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ir=(t,e)=>{for(var n in e||(e={}))Iy.call(e,n)&&Ey(t,n,e[n]);if(Ci)for(var n of Ci(e))Oy.call(e,n)&&Ey(t,n,e[n]);return t},Ta=(t,e)=>jA(t,RA(e)),DA=(t,e)=>{var n={};for(var r in t)Iy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ci)for(var r of Ci(t))e.indexOf(r)<0&&Oy.call(t,r)&&(n[r]=t[r]);return n};const Or=(t,e)=>t+e,NA=(t,e,n,r,o,l,i)=>{const c=[],d=o.slice(0,i).reduce(Or,0);for(let u=e+i;u<=n+i;u++){const m={left:o.slice(i,u).reduce(Or,0)+d};for(let f=0;f<l;f++){const p={height:r[f],width:o[u],top:r.slice(0,f).reduce(Or,0)};c.push((0,s.jsx)("div",{className:"frozen-columns-cell",style:Ir(Ir({},p),m),children:(0,s.jsx)(_i,{isFreezed:!0,columnIndex:u,rowIndex:f,data:t,style:p})},`${u}${f}`))}}return c},MA=(t,e,n,r,o,l,i)=>{const c=[];for(let d=e+l;d<=n+l;d++){const u={top:r.slice(0,d-l).reduce(Or,0)};for(let m=0;m<i;m++){const f={height:r[d],width:o[m],left:o.slice(0,m).reduce(Or,0)};c.push((0,s.jsx)("div",{className:"frozen-rows-cell",style:Ir(Ir({},f),u),children:(0,s.jsx)(_i,{isFreezed:!0,columnIndex:m,rowIndex:d,style:f,data:t})},`${d}${m}`))}}return c},TA=(t,e,n,r,o)=>{const l=[];for(let i=0;i<r;i++){const c={top:e.slice(0,i).reduce(Or,0),left:0};for(let d=0;d<o;d++){c.left=n.slice(0,d).reduce(Or,0);const u={height:e[i],width:n[d]};l.push((0,s.jsx)("div",{className:"frozen-corner-cell",style:Ir(Ir({},u),c),children:(0,s.jsx)(_i,{isFreezed:!0,columnIndex:d,rowIndex:i,style:u,data:t})},`${i}${d}`))}}return l},ky=(0,a.forwardRef)((t,e)=>{var n=t,{children:r}=n,o=DA(n,["children"]);return(0,s.jsx)(Sy.Consumer,{children:l=>{const{freezedData:i,itemData:c,initialGridMatrix:d}=l||{};if(i&&c){const{freezedRowsSizes:u,freezedColsSizes:m,freezedCols:f,freezedRows:p}=i,v=u.reduce(Or,0),b=m.reduce(Or,0),[y,h,g,C]=bA(r),O=[...m,...c.columnWidths],M=[...u,...c.rowHeights],P=NA(Ta(Ir({},c),{cells:d||c.cells,columnWidths:O,rowHeights:M}),g,C,M,O,p,f),x=MA(Ta(Ir({},c),{cells:d||c.cells,columnWidths:O,rowHeights:M}),y,h,M,O,p,f),k=TA(Ta(Ir({},c),{cells:d||c.cells,columnWidths:O,rowHeights:M}),M,O,p,f),E={width:`${c.columnWidths.reduce(Or,0)}px`,height:`${c.rowHeights.reduce(Or,0)}px`},w={top:v,width:b,height:`calc(100% - ${v}px)`},S={width:`calc(100% + ${b}px)`,height:v-Py},F={height:v-Py,width:b},A=Ta(Ir({},o),{style:E}),$={top:v,left:b};return(0,s.jsxs)("div",Ta(Ir({className:"grid-container",ref:e},A),{children:[(Boolean(f)||Boolean(p))&&(0,s.jsx)("div",{className:"frozen-corner",style:F,children:k}),(0,s.jsxs)("div",{className:"grid-wrapper",style:E,children:[Boolean(p)&&(0,s.jsx)("div",{className:"frozen-columns",style:S,children:P}),Boolean(f)&&(0,s.jsx)("div",{className:"frozen-rows",style:w,children:x}),(0,s.jsx)("div",{className:"grid-container",style:$,children:r})]})]}))}}})});ky.displayName="FrozenItems";var FA=ky,x6={popperIconSize:"18px",primaryColor:"#0bd688"},AA=Object.defineProperty,BA=Object.defineProperties,$A=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,jy=Object.prototype.hasOwnProperty,Ry=Object.prototype.propertyIsEnumerable,Dy=(t,e,n)=>e in t?AA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zA=(t,e)=>{for(var n in e||(e={}))jy.call(e,n)&&Dy(t,n,e[n]);if(wi)for(var n of wi(e))Ry.call(e,n)&&Dy(t,n,e[n]);return t},LA=(t,e)=>BA(t,$A(e)),HA=(t,e)=>{var n={};for(var r in t)jy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wi)for(var r of wi(t))e.indexOf(r)<0&&Ry.call(t,r)&&(n[r]=t[r]);return n};const WA=sy(Rn.cd);var VA=t=>{var e=t,{freezedData:n,initialGridMatrix:r,columnWidth:o,rowHeight:l,children:i,cols:c,rows:d,itemData:u,offset:m}=e,f=HA(e,["freezedData","initialGridMatrix","columnWidth","rowHeight","children","cols","rows","itemData","offset"]);const p=v(c,d);function v(b,y){const h=(0,a.useRef)(null);return a.useEffect(()=>{h.current&&h.current.resetAfterIndices({columnIndex:0,rowIndex:0,shouldForceUpdate:!0})},[b,y]),h}return(0,s.jsx)(Sy.Provider,{value:{freezedData:n,initialGridMatrix:r,itemData:u},children:(0,s.jsx)(WA,LA(zA({columnWidth:o,rowHeight:l,innerElementType:FA,ref:p,itemData:u,onPaste:wA,offset:m,gridMatrix:r},f),{children:i}))})},UA=Object.defineProperty,xi=Object.getOwnPropertySymbols,Ny=Object.prototype.hasOwnProperty,My=Object.prototype.propertyIsEnumerable,Ty=(t,e,n)=>e in t?UA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GA=(t,e)=>{for(var n in e||(e={}))Ny.call(e,n)&&Ty(t,n,e[n]);if(xi)for(var n of xi(e))My.call(e,n)&&Ty(t,n,e[n]);return t},ZA=(t,e)=>{var n={};for(var r in t)Ny.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xi)for(var r of xi(t))e.indexOf(r)<0&&My.call(t,r)&&(n[r]=t[r]);return n};const Fy=0,yd="canvas-grid";var KA=t=>{const{name:e,freezedCols:n=0,freezedRows:r=0,colsCount:o,currentRow:l,currentCol:i,rowsCount:c,rows:d,cols:u,styles:m,controls:f,defaultControl:p,defaultStyle:v,defaultCol:b,defaultRow:y,events:h,gridMatrix:g,maxColSpan:C,maxRowSpan:O,selfWidthByContent:M,viewBox:P,metaSet:x}=t,[k,E]=by(y.size||Fy,c,d,r),[w,S]=by(b.size||Fy,o,u,n),F=GA({freezedRowsSizes:E,freezedColsSizes:S},yA(n,r,g)),{gridMatrixWoFreezedCells:A}=F,$=ZA(F,["gridMatrixWoFreezedCells"]),U=de=>w[de],V=de=>k[de],N=(0,a.useRef)(null),L=(0,a.useRef)(null),j=`${yd}__cell`,R=c-r,H=o-n,[W,K]=(0,a.useState)([]),Z={focusedCellCoords:W,setFocusedCellCoords:K,rowsCount:c,colsCount:o},G=de=>_A(de,Z),re=hd()(pA,350),ee=(0,a.useCallback)(de=>{de&&re({renderedCells:de,events:h,viewBox:P,freezedRows:r,freezedCols:n})},[P,h]),ce=(0,a.useCallback)(({event:de,value:ge})=>{ke({specificEvent:null,nativeEvent:"onNavigation",event:de,metaSet:x,events:h,value:ge})},[h,x]),D=(0,a.useMemo)(()=>CA(g),[g]),z=(0,a.useMemo)(()=>Object.keys(g).map(de=>({id:+de+D[0]})),[g]),q=(0,a.useMemo)(()=>Object.keys(g[0]).map(de=>({id:+de+D[1]})),[g]),J=(0,a.useRef)(null),X=Ja(w)+Ja(S),ue=Ja(k)+Ja(E);return Js(document.body,()=>{const de=J==null?void 0:J.current;if(!de||!M)return;const ge=document.body.clientWidth,fe=document.body.clientHeight;de.style.minWidth=Math.min(X,ge)+"px",de.style.minHeight=Math.min(ue,fe)+"px"}),(0,s.jsx)("div",{ref:J,"data-name":e,style:{height:"100%",width:"100%"},onKeyDown:G,children:(0,s.jsx)(ti.Z,{children:({height:de,width:ge})=>(0,s.jsx)(VA,{height:de||0,width:ge||0,initialGridMatrix:g,columnCount:H,rowCount:R,rowHeight:V,columnWidth:U,outerRef:L,innerRef:N,freezedData:$,className:yd,cols:u,rows:d,offset:D,overscanColumnCount:C||1,overscanRowCount:O||1,itemData:{styles:m,defaultStyle:v,defaultControl:p,controls:f,events:h,freezedCols:n,freezedRows:r,columnWidths:w,rowHeights:k,gridId:e,cellCssClass:j,rowTerminalNodes:z,columnTerminalNodes:q,focusedCellCoords:W,setFocusedCellCoords:K,handleNavigation:ce,cells:A,currentRow:l,currentCol:i},onItemsRendered:ee,children:_i})})})},qA=KA,YA=Ve(97762),Ay=Ve(73042),I6={popperIconSize:"18px",primaryColor:"#0bd688"},XA={labelInvalidField:"\u041D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0444\u0430\u0439\u043B\u044B",labelFileWaitingForSize:"\u0412 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438 \u0440\u0430\u0437\u043C\u0435\u0440\u0430",labelFileSizeNotAvailable:"\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D",labelFileLoading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",labelFileLoadError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",labelFileProcessing:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",labelFileProcessingComplete:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",labelFileProcessingAborted:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430",labelFileProcessingError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",labelFileProcessingRevertError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043C\u0435\u043D\u0435",labelFileRemoveError:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438",labelTapToCancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",labelTapToRetry:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443",labelTapToUndo:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",labelButtonRemoveItem:"\u0423\u0434\u0430\u043B\u044F\u0442\u044C",labelButtonAbortItemLoad:"\u041F\u0440\u0435\u0440\u0432\u0430\u0442\u044C",labelButtonRetryItemLoad:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",labelButtonAbortItemProcessing:"\u041E\u0442\u043C\u0435\u043D\u0430",labelButtonUndoItemProcessing:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",labelButtonRetryItemProcessing:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",labelButtonProcessItem:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",imageValidateSizeLabelFormatError:"\u0422\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F",imageValidateSizeLabelImageSizeTooSmall:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435",imageValidateSizeLabelImageSizeTooBig:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435",imageValidateSizeLabelExpectedMinSize:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {minWidth} \xD7 {minHeight}",imageValidateSizeLabelExpectedMaxSize:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {maxWidth} \xD7 {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043D\u0438\u0437\u043A\u043E\u0435",imageValidateSizeLabelImageResolutionTooHigh:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u044B\u0441\u043E\u043A\u043E\u0435",imageValidateSizeLabelExpectedMinResolution:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {maxResolution}",labelFileTypeNotAllowed:"\u0424\u0430\u0439\u043B \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430",fileValidateTypeLabelExpectedTypes:"\u041E\u0436\u0438\u0434\u0430\u0435\u0442 {allButLastType} \u0438\u043B\u0438 {lastType}",labelMaxFileSizeExceeded:"\u0424\u0430\u0439\u043B \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0439",labelMaxFileSize:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 {filesize}",labelMaxTotalFileSizeExceeded:"\u041F\u0440\u0435\u0432\u044B\u0448\u0435\u043D \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440",labelMaxTotalFileSize:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 {filesize}"},JA={labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Waiting for size",labelFileSizeNotAvailable:"Size not available",labelFileLoading:"Loading",labelFileLoadError:"Error during load",labelFileProcessing:"Uploading",labelFileProcessingComplete:"Upload complete",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelFileRemoveError:"Error during remove",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Remove",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Cancel",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload",imageValidateSizeLabelFormatError:"Image type not supported",imageValidateSizeLabelImageSizeTooSmall:"Image is too small",imageValidateSizeLabelImageSizeTooBig:"Image is too big",imageValidateSizeLabelExpectedMinSize:"Minimum size is {minWidth} \xD7 {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Maximum size is {maxWidth} \xD7 {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Resolution is too low",imageValidateSizeLabelImageResolutionTooHigh:"Resolution is too high",imageValidateSizeLabelExpectedMinResolution:"Minimum resolution is {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Maximum resolution is {maxResolution}",labelFileTypeNotAllowed:"File of invalid type",fileValidateTypeLabelExpectedTypes:"Expects {allButLastType} or {lastType}",labelMaxFileSizeExceeded:"File is too large",labelMaxFileSize:"Maximum file size is {filesize}",labelMaxTotalFileSizeExceeded:"Maximum total size exceeded",labelMaxTotalFileSize:"Maximum total file size is {filesize}"},QA=Object.defineProperty,eB=Object.defineProperties,tB=Object.getOwnPropertyDescriptors,Si=Object.getOwnPropertySymbols,By=Object.prototype.hasOwnProperty,$y=Object.prototype.propertyIsEnumerable,zy=(t,e,n)=>e in t?QA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pi=(t,e)=>{for(var n in e||(e={}))By.call(e,n)&&zy(t,n,e[n]);if(Si)for(var n of Si(e))$y.call(e,n)&&zy(t,n,e[n]);return t},_d=(t,e)=>eB(t,tB(e)),nB=(t,e)=>{var n={};for(var r in t)By.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Si)for(var r of Si(t))e.indexOf(r)<0&&$y.call(t,r)&&(n[r]=t[r]);return n};if(Ka()){const t=Ve(18236);(0,Ay.fo)(t)}const Ly={ru:XA,en:JA},Fa="upload",Cd=({_ref:t,className:e,style:n,id:r,isDisabled:o,isExcluded:l,hasActiveMode:i,mode:c,modeSwitch:d,hasError:u,hint:m,dataAttrs:f,value:p,testId:v,events:b,metaSet:y,multiple:h,onFocus:g,onBlur:C,onLoadSuccess:O,onLoadError:M,fileMaxSize:P=10*1024*1024,fileExtMask:x,server:k,onRemoveFile:E})=>{const w=(0,a.useRef)(null),S=t||w,[,F]=Lo(c,d),[A,$]=(0,a.useState)([]),U=(0,a.useMemo)(()=>r||Cr().generate(),[r]),V=be()(e,Fa,{[`${Fa}_error`]:u,[`${Fa}_disabled`]:o,[`${Fa}_active`]:!o&&F.checkActiveMode()});function N(){return Ly[rt.language]||Ly.ru}const L=()=>(0,YA.Dq)((0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(fn(),{style:{fontSize:"2em",color:"#000"},name:"upload"}),(0,s.jsxs)("p",{children:[" \u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438 ",(0,s.jsx)("span",{className:"filepond--label-action",children:" \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 "})]})]})),j=(0,a.useCallback)(Z=>{if(o)return;let G=!0;if(g&&(G=g({event:Z,metaSet:y})),G&&(b!=null&&b.onFocus)){const{alias:re,args:ee}=b.onFocus;he[re]({event:Z,metaSet:y,args:ee})}G&&S.current.className!=="upload"&&(i?F.setActiveMode():F.setEditableMode())},[o,F,y,b,g,i]),R=(0,a.useCallback)(()=>{let Z=!0;if(C&&(Z=C({metaSet:y,value:p})),Z&&(b!=null&&b.onBlur)){const{alias:G,args:re}=b.onBlur;he[G]({metaSet:y,args:re,value:p})}},[y,b,C,p]),H=(0,a.useCallback)(Z=>{o||!Ho(Z.keyCode)||(F.setDefaultMode(),R())},[F,o,R]),W=(0,a.useCallback)((Z,G)=>{if(o)return;let re=!0;if(Z){const ee=Z;if(M&&(re=M({metaSet:y,value:ee})),re&&(b!=null&&b.onLoadError)){const{alias:ce,args:D}=b.onLoadError;re=he[ce]({metaSet:y,args:D,value:ee})}}else{const ee=G;if(O&&(re=O({metaSet:y,value:ee})),re&&(b!=null&&b.onLoadSuccess)){const{alias:ce,args:D}=b.onLoadSuccess;re=he[ce]({metaSet:y,args:D,value:ee})}}return re},[o,b,y,M,O]),K=(0,a.useCallback)(()=>{if(!S.current)return;const Z=S.current.querySelector('input[type="file"]');Z&&(Z.setAttribute("tabIndex","-1"),x!==void 0&&Z.setAttribute("accept",`${x}`))},[S]);return(0,a.useEffect)(()=>{p&&$(p.map(Z=>{var G=Z,{url:re}=G,ee=nB(G,["url"]);return{source:re,options:{type:"limbo",file:_d(Pi({},ee),{url:re})}}}))},[]),l?null:(0,s.jsx)("div",{className:Fa,children:(0,s.jsx)("div",_d(Pi({ref:S},f),{id:U,className:V,style:n,title:m,"aria-disabled":o,"data-testid":v,onFocus:j,onKeyDown:H,children:(0,s.jsx)(Ay.Q9,Pi({name:"file",instantUpload:!0,allowMultiple:h,maxFileSize:P,allowFileSizeValidation:!0,allowFileTypeValidation:!1,server:k,files:A,onremovefile:(Z,G)=>E(G),oninit:K,onprocessfile:W,labelIdle:L()},N()))}))})};Cd.propTypes={_ref:_().object,className:_().string,style:_().object,id:_().string,isDisabled:_().bool,isExcluded:_().bool,isStatic:_().bool,hasActiveMode:_().bool,mode:_().string,modeSwitch:_().object,hasError:_().bool,hint:_().string,dataAttrs:_().object,value:_().bool,testId:_().string,tabIndex:_().oneOfType([_().number,_().string]),events:_().object,metaSet:_().object,onClick:_().func,onChange:_().func,onFocus:_().func,onBlur:_().func,multiple:_().bool,fileMaxSize:_().number,server:_().object,onRemoveFile:_().func},Cd.defaultProps={events:null};const rB=(t,e)=>(0,s.jsx)(Cd,_d(Pi({},t),{_ref:e}));var Hy=(0,a.memo)((0,a.forwardRef)(rB)),oB=Object.defineProperty,lB=Object.defineProperties,aB=Object.getOwnPropertyDescriptors,Wy=Object.getOwnPropertySymbols,sB=Object.prototype.hasOwnProperty,iB=Object.prototype.propertyIsEnumerable,Vy=(t,e,n)=>e in t?oB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cB=(t,e)=>{for(var n in e||(e={}))sB.call(e,n)&&Vy(t,n,e[n]);if(Wy)for(var n of Wy(e))iB.call(e,n)&&Vy(t,n,e[n]);return t},uB=(t,e)=>lB(t,aB(e));const dB="simple-html";function wd(t){const{className:e,id:n,dataAttrs:r,isExcluded:o,value:l,style:i,name:c,GUID:d,isFixSize:u}=t,m=(0,a.useMemo)(()=>Hn({isFixSize:u,style:i}),[u,i]);if(o)return null;const f=n||d||c||Cr().generate(),p=be()(e,dB);return(0,s.jsx)("div",uB(cB({style:m,className:p,id:f},r),{children:(0,nr.ZP)(l)}))}wd.defaultProps={value:"",style:null},wd.propTypes={className:_().string,id:_().string,value:_().string.isRequired,dataAttrs:_().object,style:_().object,name:_().string,GUID:_().string};var fB=(0,a.memo)(wd);const pB=B.ZP.div`
  box-sizing: border-box;
  display: flex;
  border-radius: 8px;
  border: 1px solid ${()=>I("button-set-border-default")};
  button {
    min-height: 30px;
    min-width: 30px;
  }
`;var mB=({children:t,style:e})=>!t||t!=null&&t.every(zt.isNull)?null:(0,s.jsx)(pB,{style:e,className:"button-set",children:t}),vB=Object.defineProperty,hB=Object.defineProperties,gB=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,bB=Object.prototype.hasOwnProperty,yB=Object.prototype.propertyIsEnumerable,Gy=(t,e,n)=>e in t?vB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zy=(t,e)=>{for(var n in e||(e={}))bB.call(e,n)&&Gy(t,n,e[n]);if(Uy)for(var n of Uy(e))yB.call(e,n)&&Gy(t,n,e[n]);return t},_B=(t,e)=>hB(t,gB(e));const CB=B.ZP.div(({paddings:t,needUnderline:e})=>_B(Zy(Zy({position:"sticky",top:0,display:"grid",gridTemplateColumns:"auto min-content",alignItems:"center",justifyContent:"space-between",columnGap:"10px"},t),e&&{borderBottom:`1px solid ${I("menubar-underline-default")}`}),{"& .wrapper_button":{margin:0}})),wB=B.ZP.span`
  font-size: ${t=>t.fontSize};
  line-height: 32px;
  font-weight: 500;
  color: ${()=>I("menubar-text-default")};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,xB=B.ZP.i`
  font-size: 16px;
  line-height: 1;
  position: absolute;
  top: 8px;
  right: 8px;
  color: ${()=>I("menubar-close-button-default")};
  cursor: pointer;
  transition: color .15s ease;
  &&:hover {
    color: ${()=>I("menubar-close-button-hover")};
  }
`,SB=B.ZP.div`
  display: flex;
  column-gap: 8px;
  
  & .button-set {
    margin-right: 8px;
  }
`,PB="ri-close-line",Ky="menu-bar";var IB=Object.defineProperty,OB=Object.defineProperties,EB=Object.getOwnPropertyDescriptors,qy=Object.getOwnPropertySymbols,kB=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,Yy=(t,e,n)=>e in t?IB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RB=(t,e)=>{for(var n in e||(e={}))kB.call(e,n)&&Yy(t,n,e[n]);if(qy)for(var n of qy(e))jB.call(e,n)&&Yy(t,n,e[n]);return t},DB=(t,e)=>OB(t,EB(e));function NB(t,e=!0){return t?Object.keys(t).filter(n=>n.includes("padding")).reduce((n,r)=>{const o=t[r];return DB(RB({},n),{[r]:(e?$t(o):o)+"px"})},{}):{}}function MB(t){(0,a.useEffect)(()=>{var e;const n=(e=t.current)==null?void 0:e.parentElement;n&&n.classList.contains("frame")&&n.childNodes.length===1&&(n.style.zIndex="1",n.style.position="sticky",n.style.top="0")},[t.current])}function TB({title:t,testId:e,isExcluded:n,children:r,style:o,isNested:l=!1}){var i,c,d;const u=(0,a.useRef)(null);MB(u);const{formId:m,fixed:f}=(0,a.useContext)(Yu),p=()=>{Ge.onFormClose&&Ge.onFormClose({formId:m})},v=NB(o,!1),b=(c=(i=o==null?void 0:o.fontSize)==null?void 0:i.toString())!=null?c:"24px";return n?null:(0,s.jsxs)(CB,{ref:u,needUnderline:!l,"data-testid":e!=null?e:Ky,paddings:v,children:[!l&&!f?(0,s.jsx)(xB,{className:PB,onClick:p}):null,(0,s.jsx)(wB,{fontSize:b,title:t.value,children:(d=t.value)!=null?d:""}),(0,s.jsx)(SB,{children:r})]})}var FB=TB,j6={popperIconSize:"18px",primaryColor:"#0bd688"},AB=Object.defineProperty,BB=Object.defineProperties,$B=Object.getOwnPropertyDescriptors,Xy=Object.getOwnPropertySymbols,zB=Object.prototype.hasOwnProperty,LB=Object.prototype.propertyIsEnumerable,Jy=(t,e,n)=>e in t?AB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qy=(t,e)=>{for(var n in e||(e={}))zB.call(e,n)&&Jy(t,n,e[n]);if(Xy)for(var n of Xy(e))LB.call(e,n)&&Jy(t,n,e[n]);return t},HB=(t,e)=>BB(t,$B(e));function WB(t){var e;const{className:n,style:r,title:o,subTitle:l,isDisabled:i,isExcluded:c,children:d,isFixSize:u,testId:m,iconName:f,iconSize:p}=t,v=o&&typeof o!="string"?o:null,b=v?v.iconname:f,y=v?v.iconsize:p,h=(0,a.useRef)(null),g=(0,a.useMemo)(()=>Hn({isFixSize:u,style:r}),[u,r]),C=HB(Qy({},g),{backgroundColor:v==null?void 0:v.cellColor});let O={};const M=m||Ky,P=be()(n,"menu-bar",{disabled:i});let x=null;if(d!=null&&d.length){const k=d==null?void 0:d.filter(w=>w&&!!w.props.isCollapsible&&!w.props.isExcluded),E=d==null?void 0:d.filter(w=>w&&!w.props.isCollapsible&&!w.props.isExcluded);if(k!=null&&k.length){const w=E[E.length-1];let S={width:"40px"};E!=null&&E.length&&!((e=w==null?void 0:w.props)!=null&&e.caption)&&(S=w.props.style),E.push((0,s.jsx)(wl,{name:"CollapsibleButtons",iconName:"angle-down",isFixSize:!0,isDisabled:!1,style:S,testId:`${M}_collapsible-buttons`,hint:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u043E",children:k},"CollapsibleButtons"))}x=E.map(w=>(0,a.cloneElement)(w,{className:"menu-bar__button"}))}return x!=null&&x.length&&(O.gridTemplateColumns=`repeat(${x==null?void 0:x.length}, min-content)`),(0,a.useEffect)(()=>{const k=h.current;if(k){const E=k.clientWidth;k.scrollWidth>E&&(k.title=k.innerText)}}),c?null:(0,s.jsxs)("div",{className:P,style:C,"data-testid":M,children:[(0,s.jsxs)("div",{ref:h,className:"menu-bar__title-container text-ellipsis",children:[b&&(0,s.jsx)("img",{className:"menu-bar__img",style:{height:`${y}px`},alt:b,src:en(b)}),!v&&(0,s.jsx)("span",{className:"menu-bar__title",children:o}),v&&(0,s.jsx)(fa,Qy({},v)),l&&(0,s.jsx)("span",{className:"menu-bar__sub-title",children:l})]}),(0,s.jsx)("div",{className:"menu-bar__buttons",style:O,children:x})]})}var VB=(0,a.memo)(WB),UB=Object.defineProperty,GB=Object.defineProperties,ZB=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,e_=Object.prototype.hasOwnProperty,t_=Object.prototype.propertyIsEnumerable,n_=(t,e,n)=>e in t?UB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r_=(t,e)=>{for(var n in e||(e={}))e_.call(e,n)&&n_(t,n,e[n]);if(Ii)for(var n of Ii(e))t_.call(e,n)&&n_(t,n,e[n]);return t},o_=(t,e)=>GB(t,ZB(e)),KB=(t,e)=>{var n={};for(var r in t)e_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ii)for(var r of Ii(t))e.indexOf(r)<0&&t_.call(t,r)&&(n[r]=t[r]);return n};function qB(t){var e=t,{children:n}=e,r=KB(e,["children"]);return(0,lt.v9)(Dt)?(0,s.jsx)(FB,o_(r_({},r),{children:n})):(0,s.jsx)(VB,o_(r_({},r),{children:n}))}var YB=qB;const XB=(0,B.ZP)("div")`
    border-radius: 8px;
    direction: rtl;
    overflow: hidden;
`,JB=(0,B.ZP)("div")`
    white-space: 'nowrap';
    direction: 'ltr';
    display: 'inline-block';
    width: '100%';
`,QB=(0,B.ZP)(An)`
    &, & div {
        background-color: ${()=>I("navigation-background-default")};
        border-color: ${()=>I("navigation-border-default")};
    }
`;function e$(t){return/^\\\\(.*>)*.*$/g.test(t)}const t$=16,n$=12;var r$=Object.defineProperty,o$=Object.defineProperties,l$=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertySymbols,l_=Object.prototype.hasOwnProperty,a_=Object.prototype.propertyIsEnumerable,s_=(t,e,n)=>e in t?r$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a$=(t,e)=>{for(var n in e||(e={}))l_.call(e,n)&&s_(t,n,e[n]);if(Oi)for(var n of Oi(e))a_.call(e,n)&&s_(t,n,e[n]);return t},s$=(t,e)=>o$(t,l$(e)),i$=(t,e)=>{var n={};for(var r in t)l_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Oi)for(var r of Oi(t))e.indexOf(r)<0&&a_.call(t,r)&&(n[r]=t[r]);return n};function c$(t){e$(t)||console.warn("\u0412 Navigation \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u043D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0441\u0442\u0440\u043E\u043A\u0438");const e=[],[,n]=t.split("\\\\");return e.push((0,s.jsx)(Ct,{name:"folder-upload",type:"fill",size:t$},"navigation-icon-"+(0,zt.uniqueId)())),n&&n.split(">").forEach(o=>{e.push((0,s.jsx)(Ct,{name:"arrow-right-s",type:"line",size:n$,outerStyle:{padding:"0 4px"}},"navigation-path-"+(0,zt.uniqueId)())),e.push(o)}),e}function u$(t){const e=t,{name:n,value:r}=e,o=i$(e,["name","value"]),l=c$(r!=null?r:"");return(0,s.jsx)(XB,{children:(0,s.jsx)(JB,{children:(0,s.jsx)(QB,s$(a$({},o),{name:n,value:r,formattedValue:l.map(i=>i)}))})})}var d$=u$,f$=d$,p$=Object.defineProperty,m$=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,c_=Object.prototype.propertyIsEnumerable,u_=(t,e,n)=>e in t?p$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xd=(t,e)=>{for(var n in e||(e={}))i_.call(e,n)&&u_(t,n,e[n]);if(Ei)for(var n of Ei(e))c_.call(e,n)&&u_(t,n,e[n]);return t},d_=(t,e)=>m$(t,v$(e)),h$=(t,e)=>{var n={};for(var r in t)i_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ei)for(var r of Ei(t))e.indexOf(r)<0&&c_.call(t,r)&&(n[r]=t[r]);return n};function g$(t){const e=t.displayName||t.name||"Component",n=r=>{const o=r,{startIcon:l,endIcon:i,testId:c,selfTestId:d,dataAttrs:u}=o,m=h$(o,["startIcon","endIcon","testId","selfTestId","dataAttrs"]),f=Boolean(Dt(Je.getState())),v=`${c||d}_icon-`,b=f?Zr.Remix:Zr.FontAwesome;return(0,s.jsx)(t,xd({testId:c,selfTestId:d,dataAttrs:u,startIcon:l&&(0,s.jsx)(Ct,d_(xd({name:l.iconName,size:l==null?void 0:l.iconSize,type:l==null?void 0:l.iconType,color:l==null?void 0:l.iconColor,hoverColor:l==null?void 0:l.iconHoverColor,set:b},u),{"data-testid":v+"start"})),endIcon:i&&(0,s.jsx)(Ct,d_(xd({name:i.iconName,size:i==null?void 0:i.iconSize,type:i==null?void 0:i.iconType,color:i==null?void 0:i.iconColor,hoverColor:i==null?void 0:i.iconHoverColor,set:b},u),{"data-testid":v+"end"}))},m))};return n.displayName=`withIcons(${e})`,n}var b$=g$,y$=Object.defineProperty,f_=Object.getOwnPropertySymbols,_$=Object.prototype.hasOwnProperty,C$=Object.prototype.propertyIsEnumerable,p_=(t,e,n)=>e in t?y$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m_=(t,e)=>{for(var n in e||(e={}))_$.call(e,n)&&p_(t,n,e[n]);if(f_)for(var n of f_(e))C$.call(e,n)&&p_(t,n,e[n]);return t};const w$=(0,B.ZP)("li")(({styledState:t})=>{const{disabled:e}=t;return m_(m_({position:"relative",display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",padding:"4px 12px",gap:12,cursor:"pointer",">*":{zIndex:1}},!e&&{":hover:before":{content:"''",display:"block",position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#F7F7F8",opacity:"0.5",zIndex:0}}),e&&{cursor:"default",backgroundColor:"#ccc"})});var x$=Object.defineProperty,v_=Object.getOwnPropertySymbols,S$=Object.prototype.hasOwnProperty,P$=Object.prototype.propertyIsEnumerable,h_=(t,e,n)=>e in t?x$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I$=(t,e)=>{for(var n in e||(e={}))S$.call(e,n)&&h_(t,n,e[n]);if(v_)for(var n of v_(e))P$.call(e,n)&&h_(t,n,e[n]);return t};const O$=(0,B.ZP)("p")(({styledState:t})=>{const{disabled:e}=t;return I$({whiteSpace:"nowrap",overflow:"hidden",fontSize:14,color:"#17181C",textOverflow:"ellipsis"},e&&{color:"#ccc"})}),E$=function(t){const{onMouseDown:e,onMouseEnter:n,onMouseLeave:r,onMouseUp:o,label:l,onClick:i,checked:c=!1,disabled:d=!1}=t,u={checked:c,disabled:d},m=f=>{f.stopPropagation(),d||i==null||i(f)};return(0,s.jsxs)(w$,{styledState:u,onClick:m,onMouseDown:e,onMouseEnter:n,onMouseLeave:r,onMouseUp:o,children:[(0,s.jsx)(Zo,{value:c,isDisabled:d}),(0,s.jsx)(O$,{styledState:u,children:l})]})},k$=(0,B.ZP)("div")({marginTop:4,padding:2,overflowY:"hidden",borderRadius:8,backgroundColor:"#fff",boxShadow:"0px 4px 8px -2px rgba(147, 147, 163, 0.24), 0px 1px 4px -1px rgba(147, 147, 163, 0.08)"}),j$=(0,B.ZP)(vl.LW)({display:"flex",flexDirection:"column",justifyContent:"center",padding:0});var R$=Object.defineProperty,D$=Object.defineProperties,N$=Object.getOwnPropertyDescriptors,g_=Object.getOwnPropertySymbols,M$=Object.prototype.hasOwnProperty,T$=Object.prototype.propertyIsEnumerable,b_=(t,e,n)=>e in t?R$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F$=(t,e)=>{for(var n in e||(e={}))M$.call(e,n)&&b_(t,n,e[n]);if(g_)for(var n of g_(e))T$.call(e,n)&&b_(t,n,e[n]);return t},A$=(t,e)=>D$(t,N$(e));const B$=function(t){const{options:e,onOptionClick:n}=t,r=28*e.length,o={backgroundColor:"#1D223D"};return(0,s.jsx)(k$,{children:(0,s.jsx)(j$,{style:{height:r,maxHeight:150},noDefaultStyles:!0,noScrollX:!0,thumbYProps:{style:o},children:e.map((l,i)=>{const{label:c,value:d,checked:u,disabled:m,onClick:f,onMouseDown:p,onMouseEnter:v,onMouseLeave:b,onMouseUp:y}=l,h=g=>{n(A$(F$({},l),{checked:!u})),f==null||f(g)};return(0,s.jsx)(E$,{label:c,value:d,disabled:m,checked:u,onClick:h,onMouseDown:p,onMouseEnter:v,onMouseLeave:b,onMouseUp:y},i)})})})},$$=(0,B.ZP)("button")(()=>({position:"relative",cursor:"pointer",width:10,height:10,background:"#8F93A3",border:"none",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",transition:"background-color 0.1s","&:hover":{backgroundColor:"#aaa"},"&:active":{backgroundColor:"#bbb"},"&::before, &::after":{content:"''",position:"absolute",width:6,height:1,backgroundColor:"#fff"},"&::before":{transform:"rotate(45deg)"},"&::after":{transform:"rotate(-45deg)"},"&:disabled":{backgroundColor:"#aaa",cursor:"default"}})),z$=(0,B.ZP)("div")({display:"flex",alignItems:"center",background:"#EEEFF1",borderRadius:4,padding:"0 4px 0 4px",gap:4,fontSize:12,minHeight:14}),y_=(0,a.forwardRef)((t,e)=>{const{label:n,handleChipRemove:r,disabled:o}=t;return(0,s.jsxs)(z$,{ref:e,children:[n,(0,s.jsx)($$,{disabled:o,onClick:()=>r(n)})]})});y_.displayName="Chip";var L$=Object.defineProperty,H$=Object.defineProperties,W$=Object.getOwnPropertyDescriptors,__=Object.getOwnPropertySymbols,V$=Object.prototype.hasOwnProperty,U$=Object.prototype.propertyIsEnumerable,C_=(t,e,n)=>e in t?L$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sd=(t,e)=>{for(var n in e||(e={}))V$.call(e,n)&&C_(t,n,e[n]);if(__)for(var n of __(e))U$.call(e,n)&&C_(t,n,e[n]);return t},G$=(t,e)=>H$(t,W$(e));const Z$=(0,B.ZP)("div")(({styledState:t})=>{const{isDisabled:e,textColor:n,wrapperStyle:r,hasCaption:o}=t;return Sd(Sd(G$(Sd({display:"flex",gap:4,wordBreak:"break-all",height:16,alignSelf:"flex-end"},!(r!=null&&r.paddingBottom)&&{paddingBottom:o?7:0}),{minHeight:10,width:"100%",fontSize:14,whiteSpace:"nowrap",overflow:"hidden",color:n||I("input-text"),cursor:"inherit"}),e&&{color:I("input-text-disabled"),background:I("input-background-disable")}),!o&&{alignSelf:"center"})}),K$=(0,B.ZP)("div")({fontSize:"12px",display:"flex",alignItems:"center"}),q$=t=>{const{options:e,styledState:n,handleChipRemove:r,disabled:o}=t,l=(0,a.useRef)(null),[i,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]);return(0,a.useEffect)(()=>{var m;const f=(m=l.current)==null?void 0:m.offsetWidth;let p=0;const v=[],b=[];e.forEach(y=>{p+=40,p<=f?v.push(y):b.push(y)}),c(v),u(b)},[e]),(0,s.jsxs)(Z$,{styledState:n,ref:l,children:[i==null?void 0:i.map((m,f)=>(0,s.jsx)(y_,{disabled:o,label:m,handleChipRemove:r},f)),d.length>0&&(0,s.jsxs)(K$,{children:["+",d.length]})]})},Y$=(0,B.ZP)("button")(({styledState:t})=>{const{isDisabled:e}=t;return{position:"relative",cursor:"pointer",width:16,"& span":{color:I(e?"input-icon-disabled":"input-icon")}}}),w_={UP:"ri-arrow-up-s-line",DOWN:"ri-arrow-down-s-line"};var X$=Object.defineProperty,x_=Object.getOwnPropertySymbols,J$=Object.prototype.hasOwnProperty,Q$=Object.prototype.propertyIsEnumerable,S_=(t,e,n)=>e in t?X$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pd=(t,e)=>{for(var n in e||(e={}))J$.call(e,n)&&S_(t,n,e[n]);if(x_)for(var n of x_(e))Q$.call(e,n)&&S_(t,n,e[n]);return t};const ez=(0,B.ZP)("div")(({styledState:t})=>{const{isDisabled:e,hasCurrentValue:n,focused:r,wrapperStyle:o}=t;return Pd(Pd({position:"absolute",top:"50%",transform:"translate(0, -50%)",color:I("input-label"),fontSize:14,lineHeight:1,transition:"font-size .2s, top .2s, color .2s",transitionDelay:".3s"},(r||n)&&{color:I("input-label-disabled"),fontSize:12,transitionDelay:"0s",transition:"font-size .2s, top .2s, color .2s",top:o!=null&&o.paddingTop?o.paddingTop:14}),e&&Pd({color:I("input-label-disabled"),transition:"none",top:"50%",fontSize:14},n&&{top:o!=null&&o.paddingTop?o.paddingTop:14,fontSize:12}))});var tz=Object.defineProperty,P_=Object.getOwnPropertySymbols,nz=Object.prototype.hasOwnProperty,rz=Object.prototype.propertyIsEnumerable,I_=(t,e,n)=>e in t?tz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oz=(t,e)=>{for(var n in e||(e={}))nz.call(e,n)&&I_(t,n,e[n]);if(P_)for(var n of P_(e))rz.call(e,n)&&I_(t,n,e[n]);return t};const lz=(0,B.ZP)("div")(({styledState:t})=>{const{hasCaption:e,wrapperStyle:n}=t;return oz({position:"relative",display:"flex",justifyContent:"space-between",flex:1,height:e?"100%":"initial",overflow:"hidden"},(n==null?void 0:n.textAlign)==="right"&&{display:"flex",justifyContent:"end"})}),az=(0,B.ZP)("div")({position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",gap:3});var sz=Object.defineProperty,O_=Object.getOwnPropertySymbols,iz=Object.prototype.hasOwnProperty,cz=Object.prototype.propertyIsEnumerable,E_=(t,e,n)=>e in t?sz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Aa=(t,e)=>{for(var n in e||(e={}))iz.call(e,n)&&E_(t,n,e[n]);if(O_)for(var n of O_(e))cz.call(e,n)&&E_(t,n,e[n]);return t};const uz=(0,B.ZP)("div")(({styledState:t})=>{const{focused:e,hovered:n,isDisabled:r,wrapperStyle:o,hasCaption:l}=t;return Aa(Aa({margin:2,":focus":{outline:"none"},position:"relative",boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",height:l?48:32,backgroundColor:I(r?"input-background-disable":"input-background"),cursor:r?"default":"pointer",borderRadius:8,border:`1px solid ${I("input-border")}`},!r&&Aa(Aa(Aa({},e&&{border:`1px solid ${I("input-border-active")}`}),n&&{border:`1px solid ${I("input-border-hover")}`}),n&&e&&{border:`1px solid ${I("input-border-active")}`})),o)}),Lr={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},dz=[Lr.BOTTOM,Lr.TOP],fz=(t,e,n)=>{const r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),l=e.getBoundingClientRect();return{[Lr.TOP]:l.top>r.height,[Lr.LEFT]:l.left>r.width,[Lr.RIGHT]:o.width-l.right>r.width,[Lr.BOTTOM]:o.height-l.bottom>r.height}};var pz=Object.defineProperty,k_=Object.getOwnPropertySymbols,mz=Object.prototype.hasOwnProperty,vz=Object.prototype.propertyIsEnumerable,j_=(t,e,n)=>e in t?pz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ba=(t,e)=>{for(var n in e||(e={}))mz.call(e,n)&&j_(t,n,e[n]);if(k_)for(var n of k_(e))vz.call(e,n)&&j_(t,n,e[n]);return t};const hz=(0,B.ZP)("div")(({styledState:t})=>{const{currentPosition:e,visible:n}=t;return Ba(Ba(Ba(Ba(Ba({position:"absolute",visibility:"hidden"},n&&{visibility:"visible"}),e===Lr.TOP&&{bottom:"100%"}),e===Lr.BOTTOM&&{top:"100%"}),e===Lr.LEFT&&{top:"0",right:"100%"}),e===Lr.RIGHT&&{top:"0",left:"100%"})}),gz=t=>{const{children:e,parentRef:n,className:r,positions:o=dz,onChangePosition:l}=t,i=o[0],c=(0,a.useRef)(null),[d,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(i),[p,v]=(0,a.useState)(!0);(0,a.useLayoutEffect)(()=>{const y=(0,zt.debounce)(()=>{v(!0)},200);return window.addEventListener("scroll",y),window.addEventListener("resize",y),u(!0),()=>{window.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[]),(0,a.useEffect)(()=>{if(p&&n.current){const y=fz(c.current,n.current,document.body),g=o.find(C=>y[C])||i;f(g),v(!1),g!==m&&(l==null||l(g))}},[p]);const b={currentPosition:m,visible:d};return(0,s.jsx)(hz,{ref:c,className:r,styledState:b,children:e})},bz=(0,B.ZP)(gz)({left:0,width:"100%",zIndex:666});var yz=Object.defineProperty,R_=Object.getOwnPropertySymbols,_z=Object.prototype.hasOwnProperty,Cz=Object.prototype.propertyIsEnumerable,D_=(t,e,n)=>e in t?yz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wz=(t,e)=>{for(var n in e||(e={}))_z.call(e,n)&&D_(t,n,e[n]);if(R_)for(var n of R_(e))Cz.call(e,n)&&D_(t,n,e[n]);return t};const R6=(0,B.ZP)("div")(({styledState:t})=>{const{disabled:e}=t;return wz({display:"flex",justifyContent:"end",border:"none",cursor:"pointer",width:"100%"},e&&{cursor:"default"})});var xz=Object.defineProperty,Sz=Object.defineProperties,Pz=Object.getOwnPropertyDescriptors,N_=Object.getOwnPropertySymbols,Iz=Object.prototype.hasOwnProperty,Oz=Object.prototype.propertyIsEnumerable,M_=(t,e,n)=>e in t?xz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ez=(t,e)=>{for(var n in e||(e={}))Iz.call(e,n)&&M_(t,n,e[n]);if(N_)for(var n of N_(e))Oz.call(e,n)&&M_(t,n,e[n]);return t},kz=(t,e)=>Sz(t,Pz(e));const jz=(0,B.ZP)("div")(({styledState:t})=>{const{isRequiredIndicator:e}=t;return kz(Ez({width:14,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:1,transition:".2s",transitionDelay:".3s"},!e&&{opacity:0,width:0,transition:".2s",transitionDelay:"0s"}),{"& span, div":{color:I("input-icon-required")}})});var Rz=Object.defineProperty,Dz=Object.defineProperties,Nz=Object.getOwnPropertyDescriptors,T_=Object.getOwnPropertySymbols,Mz=Object.prototype.hasOwnProperty,Tz=Object.prototype.propertyIsEnumerable,F_=(t,e,n)=>e in t?Rz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fz=(t,e)=>{for(var n in e||(e={}))Mz.call(e,n)&&F_(t,n,e[n]);if(T_)for(var n of T_(e))Tz.call(e,n)&&F_(t,n,e[n]);return t},Az=(t,e)=>Dz(t,Nz(e));const Bz=t=>{const{listValues:e,style:n,value:r,isDisabled:o=!1,className:l,onFocus:i,caption:c,onBlur:d,onMouseEnter:u,events:m,metaSet:f,testId:p,isRequired:v=!1}=t,[b,y]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]),[C,O]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),x=Boolean(h.length),k=(C||M)&&x&&!o,E=(0,a.useRef)(null),w=!o&&b,S=Boolean(c),F=b?w_.UP:w_.DOWN,A=v&&!o&&!h.length&&!C,U=(()=>{const{paddingLeft:ee,paddingRight:ce,paddingBottom:D,paddingTop:z}=n,q={paddingLeft:ee,paddingRight:ce,paddingBottom:D,paddingTop:z};return q.paddingLeft=Vt(ee),q.paddingRight=Vt(ce),q.paddingBottom=Vt(D),q.paddingTop=Vt(z),Object.assign(q)})(),V={isDisabled:o,hasCaption:S,hasCurrentValue:x,focused:C,hovered:M,wrapperStyle:U,isRequiredIndicator:A},N=(0,a.useMemo)(()=>e==null?void 0:e.map(({value:ee})=>({value:ee,checked:h.some(ce=>ce===ee),label:ee})),[e,r,h]);(0,a.useEffect)(()=>{const ee=ce=>{E.current&&!E.current.contains(ce.target)&&H(ce),ce.target.tagName==="BUTTON"&&y(!1)};return document.addEventListener("click",ee),()=>{document.removeEventListener("click",ee)}},[]),(0,a.useEffect)(()=>{const ee=h.join(", ");ke(Az(Fz({specificEvent:null,nativeEvent:"onEnter"},{metaSet:f,events:m}),{value:ee}))},[h]);const L=ee=>{P(!0),u==null||u(ee)},j=()=>{P(!1)},R=ee=>{o||(O(!0),i==null||i(ee))},H=ee=>{!ee.currentTarget.contains(ee.relatedTarget)&&(y(!1),O(!1),d==null||d(ee))},W=()=>{y(!1)},K=ee=>{ee.preventDefault(),!o&&y(!b)},Z=ee=>{h.includes(ee.value)?g(h.filter(ce=>ce!==ee.value)):g([...h,ee.value])},G=ee=>{ee.stopPropagation(),o||g([])},re=ee=>{o||g(h.filter(ce=>ce!==ee))};return(0,s.jsxs)(uz,{styledState:V,className:l,onFocus:R,onBlur:H,onMouseEnter:L,onMouseLeave:j,ref:E,tabIndex:0,onClick:K,"data-testid":p,children:[(0,s.jsxs)(lz,{styledState:V,children:[S&&(0,s.jsx)(ez,{styledState:V,children:c}),(0,s.jsx)(q$,{disabled:o,options:h,styledState:V,handleChipRemove:re}),(0,s.jsxs)(az,{children:[k&&(0,s.jsx)(Y$,{styledState:V,onClick:G,children:(0,s.jsx)(Ct,{name:"close"})}),v&&(0,s.jsx)(jz,{styledState:V,children:(0,s.jsx)("div",{className:"fa fa-asterisk",style:{fontSize:"8px"},"aria-hidden":"true"})}),(0,s.jsx)("i",{className:F,style:{color:o?"#C7C9D1":"#8F93A3"}})]})]}),w&&(0,s.jsx)(bz,{parentRef:E,positions:["bottom","top"],children:(0,s.jsx)(B$,{options:N,onClose:W,onOptionClick:Z})})]})};var $z=Object.defineProperty,zz=Object.defineProperties,Lz=Object.getOwnPropertyDescriptors,A_=Object.getOwnPropertySymbols,Hz=Object.prototype.hasOwnProperty,Wz=Object.prototype.propertyIsEnumerable,B_=(t,e,n)=>e in t?$z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ft=(t,e)=>{for(var n in e||(e={}))Hz.call(e,n)&&B_(t,n,e[n]);if(A_)for(var n of A_(e))Wz.call(e,n)&&B_(t,n,e[n]);return t},Er=(t,e)=>zz(t,Lz(e));function Xo(t,e,n=null){const{GUID:r,type:o,typeEdit:l,isDisabled:i,isExcluded:c,isStatic:d,hint:u,name:m,style:f,events:p,title:v,metaSet:b,dataAttrs:y,onEdit:h}=t;if(c)return null;const g=r||m||Cr().generate(),C=Er(Ft({},t),{id:r==null?void 0:r.replace(/\s/g,"_"),style:f,hint:u||v,isDisabled:i,isStatic:d,dataAttrs:Ft({"data-guid":r||null,"data-type":o||null,"data-name":m||null},y),metaSet:b,events:p});return $e(C,"hasActiveMode")||(o!=="grid"?C.hasActiveMode=!!(p!=null&&p.onEdit||h):C.hasActiveMode=!0),o==="frame"?(C.orientation=t.orientation,(0,s.jsx)(yu,Er(Ft({isFixSize:!1,autoSize:!1},C),{children:n}),g)):o==="tabs"?(0,s.jsx)(bv,Er(Ft({},C),{children:n}),g):o==="box"?(0,s.jsx)(Xj,Er(Ft({},C),{children:n}),g):o==="group"?(0,s.jsx)(kj,Er(Ft({autoSize:!0},C),{children:n}),g):o==="table"?(0,s.jsx)(uF,Er(Ft({},C),{children:n}),g):o==="grid"?(0,s.jsx)(oA,Er(Ft({},C),{children:n}),g):o==="canvasGrid"?(0,s.jsx)(qA,Er(Ft({},C),{children:n}),g):o==="simpleHtml"?(0,s.jsx)(fB,Ft({},C),g):o==="string"&&l!=="multiselect"?(0,s.jsx)(An,Ft({},C),g):o==="button"?b$(Ut)(Ft({key:g},C)):["checkbox","switch"].includes(o)?(0,s.jsx)(Zo,Ft({},C),g):o==="number"?(0,s.jsx)(An,Ft({},C),g):o==="integer"?(0,s.jsx)(lR,Ft({},C),g):o==="date"?(0,s.jsx)(RD,Ft({},C),g):o==="label"?(0,s.jsx)(fa,Ft({},C),g):o==="enum"?(0,s.jsx)($D,Ft({},C),g):o==="menuBar"?(0,s.jsx)(YB,Er(Ft({},C),{children:n}),g):o==="report"?(0,s.jsx)(j1,Ft({},C),g):o==="listButton"?(0,s.jsx)(L0,Er(Ft({},C),{children:n}),g):o==="radio"?(0,s.jsx)(K1,Ft({},C),g):o==="tree"?(0,s.jsx)(GN,Ft({},C),g):o==="pdf"?(0,s.jsx)(JN,Ft({},C),g):o==="img"?(0,s.jsx)(sM,Ft({},C),g):o==="html"?(0,s.jsx)(pM,Ft({},C),g):o==="roleCenter"?(0,s.jsx)(OM,Ft({},C),g):o==="chart"?(0,s.jsx)(FM,Ft({},C),g):o==="upload"?(0,s.jsx)(Hy,Ft({},C),g):o==="buttonSet"?(0,s.jsx)(mB,Er(Ft({},C),{children:n}),g):o==="pagination"?(0,s.jsx)(jl,Ft({isServerSide:!0},C),g):o==="navigation"?(0,s.jsx)(f$,Ft({},C),g):l==="multiselect"?(0,s.jsx)(Bz,Ft({},C),g):null}var Vz=Object.defineProperty,$_=Object.getOwnPropertySymbols,Uz=Object.prototype.hasOwnProperty,Gz=Object.prototype.propertyIsEnumerable,z_=(t,e,n)=>e in t?Vz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L_=(t,e)=>{for(var n in e||(e={}))Uz.call(e,n)&&z_(t,n,e[n]);if($_)for(var n of $_(e))Gz.call(e,n)&&z_(t,n,e[n]);return t};function Zz(t,e){function n(r,o){const{type:l,name:i}=r,c=e[l][i]||{},d=o||c.isDisabled,u=r.elements?r.elements.map(m=>n(m,d)):[];return Xo(L_(L_({},r),c),d,u)}return n(t,!1)}var D6={popperIconSize:"18px",primaryColor:"#0bd688"};function Kz(t){const{className:e,formId:n,schema:r,entities:o,fixed:l}=t,i=be()(e,"form");return(0,s.jsx)("div",{id:n,className:i,children:(0,s.jsx)(Yu.Provider,{value:{formId:n,fixed:l},children:(0,s.jsx)(Ds,{children:Zz(r,o)})})})}var Id=(0,a.memo)(Kz),N6={popperIconSize:"18px",primaryColor:"#0bd688"};const H_=16,W_=B.ZP.div`
position: relative;
display: flex;
align-items: center;
justify-content: left;
overflow: hidden;
background-color:${t=>t.isActiveTab?I("tabpage-active-background-default"):I("tabpage-unactive-background-default")};
cursor: pointer;
user-select: none;
${({isRoleCenterTab:t})=>t?B.iv`
                justify-content: center;
                flex: 1 0 auto;
                width: 40px;
                height: 40px;
            `:B.iv`
            width: 100%;
            height: 20px;
            min-width: 72px;
            max-width: 180px;
            padding: 10px;
            `}

&:hover {
    background-color:${t=>t.isActiveTab?I("tabpage-active-background-hover"):I("tabpage-unactive-background-hover")};
}
`,qz=B.ZP.div`
position: absolute;
right: 0;
top: 0;
width: 1px ;
height: 40px;
background-color: ${()=>I("tabpage-unactive-background-hover")};
`,Yz=B.ZP.span`
font-size: 14px;
line-height: 16px;
vertical-align: bottom;
padding: 0 20px 0 10px;
display: inline-block;
overflow: hidden;
max-width: 100px;
min-width: ${({title:t})=>t?"48px":"auto"};
white-space: nowrap;
color: ${()=>I("text-primary")};
`,V_=B.ZP.span`
display: inline-flex;
align-items: center;
height: 100%; 
vertical-align: top;
`,U_=B.iv`
    padding-left: 25px;
    background: linear-gradient(to right, transparent, ${()=>I("tabpage-unactive-background-hover")} 45%);
`,Xz=(0,B.ZP)(V_)`
    position: absolute;
    right: 0;
    top: 0;
    padding-right: 10px;
    background: linear-gradient(to right, transparent, ${()=>I("tabpage-unactive-background-default")} 45%);

    ${t=>t.isActiveTab&&U_}

    ${W_}:hover & {
        ${U_}
    }
    
    
`;var Jz=t=>{const{isActiveTab:e,isRoleCenterTab:n,handleContextMenu:r,handleSlideClick:o,palette:l,slide:i,testId:c}=t,[d,u]=(0,a.useState)(!1),m=e||d,f=(0,a.useCallback)(()=>I(e?"tabpage-active-icon-default":d?"tabpage-unactive-icon-hover":"tabpage-unactive-icon-default"),[l,d,e]);return(0,s.jsxs)(W_,{isActiveTab:e,isRoleCenterTab:n||i.fixed,onContextMenu:r,onClick:o,"data-slide-id":i.id,"data-testid":`${c}__tab`,"data-fixed":i.fixed?i.fixed:null,onMouseOver:()=>u(!0),onMouseOut:()=>u(!1),title:i.name,children:[(0,s.jsx)(V_,{children:(0,s.jsx)(Ct,{name:n?"home-2":i.icon||"folder-3",size:H_,color:f()})}),!n&&!i.fixed?(0,s.jsx)(Yz,{isActiveTab:e,"data-testid":`${c}__tab-title`,children:i.name}):null,!n&&!i.fixed?(0,s.jsx)(Xz,{isActiveTab:e,children:(0,s.jsx)(Ct,{name:"close",hoverColor:I("tabpage-unactive-icon-hover"),color:m?I("tabpage-unactive-icon-default"):"transparent",dataAttrs:{"data-close":i.id,"data-testid":n?`${c}__tab-icon_role-center`:`${c}__tab-icon`}})}):null,(0,s.jsx)(qz,{})]})},Qz=Object.defineProperty,G_=Object.getOwnPropertySymbols,eL=Object.prototype.hasOwnProperty,tL=Object.prototype.propertyIsEnumerable,Z_=(t,e,n)=>e in t?Qz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nL=(t,e)=>{for(var n in e||(e={}))eL.call(e,n)&&Z_(t,n,e[n]);if(G_)for(var n of G_(e))tL.call(e,n)&&Z_(t,n,e[n]);return t};const rL=({slide:t,handleSlideClick:e,activeSlidesIds:n,testId:r})=>{const o=(0,lt.v9)(Dt),l=t.id==="0",i=l?"caret-down":"times-circle",c={backgroundImage:`url(${en(t.icon)})`,backgroundSize:"contain"},d=n===t.id,u=be()("tab-bar__tab-icon",{"tab-bar__tab-icon_close":!l,"tab-bar__tab-icon_role-center":l}),m=be()("tab-bar__tab",{"tab-bar__tab_role-center":l,"tab-bar__tab_active":d}),{show:f}=(0,mr.av)({id:r,props:{formId:t.id}}),p=v=>{v.preventDefault(),!t.fixed&&f(v)};if(o){const v={isActiveTab:d,isRoleCenterTab:l,handleContextMenu:p,handleSlideClick:e,palette:o,slide:t,testId:r};return(0,s.jsx)(Jz,nL({},v))}return(0,s.jsxs)("div",{className:m,onClick:e,"data-slide-id":t.id,"data-testid":`${r}__tab`,onContextMenu:p,children:[!l&&t.icon&&(0,s.jsx)("span",{className:"tab-bar__tab-slide-icon",style:c}),!t.fixed||l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"tab-bar__tab-title text-ellipsis",title:t.name,"data-testid":`${r}__tab-title`,children:t.name}),(0,s.jsx)(fn(),{name:i,className:u,"data-close":l?null:t.id,"data-testid":l?`${r}__tab-icon_role-center`:`${r}__tab-icon`})]}):null]})};var K_=(0,a.memo)(rL);const oL=B.ZP.button`
height: 100%;
cursor: pointer;
background-color: ${()=>I("tabpage-arrow-background-default")};
&:hover{
    background-color: ${()=>I("tabpage-arrow-background-hover")};
};
&:active{
    background-color: ${()=>I("tabpage-arrow-background-click")};
};
`;var q_=t=>{const{navName:e,handleNavClick:n}=t;return(0,s.jsx)("div",{style:{height:"40px"},children:(0,s.jsx)(oL,{type:"button","data-nav":e,onClick:n,children:(0,s.jsx)(Ct,{color:"white",name:e==="next"?"arrow-drop-right":"arrow-drop-left",type:"line",size:"22px",outerStyle:{padding:"9px 1px "}})})})};const lL=B.ZP.div`
    position: relative;
    min-width: 40px;
    height: 40px;

    margin: 0 16px;

    border-radius: 4px;
    background-color: ${()=>I("tabpage-unactive-background-default")};
    cursor: pointer;
`,aL=B.ZP.div`
    width: 228px;
    padding: 8px;

    display: flex;
    flex-direction: column;
    row-gap: 8px;

    background:${()=>I("tabpage-unactive-background-default")};
    color:${()=>I("text-primary")};

    font-size: 12px;
    line-height: 16px;
`,sL=B.ZP.ul`
    list-style-type: none;
`,iL=B.ZP.button`
    &:hover {
        background:${()=>I("tabpage-unactive-background-hover")};
    };
    border-radius: 8px;
    padding: 8px 22px 8px 8px;
    width: 196px;
    display: block;
`,cL=B.ZP.span`
    display: inline-flex;
    justify-content: center;
    align-items: center;
    white-space:nowrap;
    padding: 12px;
`,ki=B.ZP.span`
    ${({small:t})=>t?B.iv`
                font-size: 10px;
                line-height: 10px;
            `:B.iv`
                font-size: 12px;
                line-height: 16px;
                `}
`,uL=B.ZP.div`
    display: flex;
    flex-direction: column;
`;var dL=t=>{const{userName:e,roleName:n,version:r}=t,o=(0,lt.v9)(Dt)||{},[l,i]=(0,a.useState)(!1),c=()=>{i(p=>!p)},d=p=>{var v,b;p.target instanceof HTMLElement&&((b=(v=p.target)==null?void 0:v.dataset)==null?void 0:b.name)==="user-button"||l&&i(!1)},u=(0,a.useCallback)(()=>{Ge.onLogOut&&Ge.onLogOut()},[Ge]),m={paddingRight:"6px"},f=(0,s.jsx)(cL,{onClick:c,"data-name":"user-button",children:(0,s.jsx)(Ct,{name:"user-3",size:H_,color:o["neutral-0"],type:"line",dataAttrs:{"data-name":"user-button"}})});return(0,s.jsx)(lL,{children:(0,s.jsx)(_l,{needToRender:l,targetComponent:f,className:"tabbar_menu",children:(0,s.jsx)(yo,{onClickOutside:d,children:(0,s.jsxs)(aL,{children:[(0,s.jsxs)(uL,{children:[e&&(0,s.jsx)(ki,{children:e}),n&&(0,s.jsx)(ki,{small:!0,children:n})]}),(0,s.jsx)(sL,{children:(0,s.jsx)("li",{children:(0,s.jsxs)(iL,{style:{cursor:"pointer"},type:"button",onClick:u,children:[(0,s.jsx)(Ct,{name:"logout-box-r",size:"14px",type:"line",outerStyle:m}),(0,s.jsx)(ki,{children:rt.t("workspace_exit")})]})})}),r&&(0,s.jsx)(ki,{small:!0,children:r})]})})})})};const Y_=72,X_=3,J_={prev:"prev",next:"next"},fL=(0,B.ZP)("div")`
    scroll-behavior: smooth;

    width: 100%;
    height: 40px;

    display: grid;
    grid-template-columns: 1fr auto;

    background:${()=>I("tabpage-unactive-background-default")};
    box-shadow: none;
`,pL=(0,B.ZP)("div")`
    display: grid;
    grid-template-columns: auto 1fr auto;

    border-left: 1px solid ${()=>I("tabpage-unactive-background-hover")};
`,mL=(0,B.ZP)("div")`
    display: flex;
    width: 100%;

    overflow-x: scroll;
    ${xa()}
`,vL=(0,B.ZP)("div")`
    border-left: 1px solid ${()=>I("tabpage-unactive-background-hover")};
`;var hL=t=>{var e;const{tabs:n,activeTabId:r,onTabClick:o,testId:l,userName:i,roleName:c,version:d,contextMenu:u,handleClickContextMenu:m}=t,f=(0,a.useRef)(null),p=(0,a.useRef)(null),v={showPrevButton:!1,showNextButton:!0},[b,y]=(0,a.useState)(!1),[h,g]=(0,a.useState)(v),C=(0,a.useCallback)(()=>{var E,w;const S=p.current;if(!S)return;const F=(E=S==null?void 0:S.clientWidth)!=null?E:0,A=Array.from(S==null?void 0:S.children).reduce((U,V)=>U+(V==null?void 0:V.clientWidth),0),$=(w=S==null?void 0:S.children.length)!=null?w:0;y(F<A-$)},[y,(e=p.current)==null?void 0:e.children.length]),O=(0,a.useCallback)((E=0)=>{var w,S,F;const A=p.current,$=(w=A==null?void 0:A.scrollLeft)!=null?w:0,U=(S=A==null?void 0:A.scrollWidth)!=null?S:0,V=(F=A==null?void 0:A.clientWidth)!=null?F:0,N=$+E>0,L=$+E<U-V;g({showPrevButton:N,showNextButton:L})},[b,p.current]);function M(E){const w=p.current,S=E==="next"?Y_:-Y_;E!=="none"&&(w==null||w.scrollBy({left:S*X_,behavior:"smooth"})),O(S*X_)}const P=E=>{E.preventDefault();const{dataset:{nav:w}}=E.currentTarget;M(w!=null?w:"none")},x=E=>{E.preventDefault();const{shiftKey:w}=E,{dataset:{close:S}}=E.target,{dataset:{slideId:F,name:A,fixed:$}}=E.currentTarget;o({id:F!=null?F:A,close:$?!1:w?!0:Boolean(S)})},k=(0,a.useCallback)(E=>{var w;E.preventDefault();const{deltaY:S}=E;(w=p.current)==null||w.scrollBy({left:S,behavior:"smooth"}),O(S)},[p,b]);return(0,a.useEffect)(()=>{const E=p.current;return E&&(E.addEventListener("wheel",k),C()),()=>{E==null||E.removeEventListener("wheel",k)}},[p.current]),(0,a.useEffect)(()=>{C(),O()},[n]),(0,a.useEffect)(()=>{const E=p.current;if(r&&E){const w=n.find(F=>F.id===r),S=E.querySelector(`[data-slide-id="${w==null?void 0:w.id}"]`);S==null||S.scrollIntoView(),O()}},[r]),Js(f,()=>{C(),O()}),(0,s.jsxs)(fL,{children:[(0,s.jsxs)(pL,{ref:f,children:[b&&h.showPrevButton&&(0,s.jsx)(q_,{handleNavClick:P,navName:J_.prev}),(0,s.jsx)(mL,{ref:p,children:n.map((E,w)=>(0,s.jsx)(K_,{slide:E,handleSlideClick:x,activeSlidesIds:r,testId:l},(E==null?void 0:E.GUID)||w))}),b&&h.showNextButton&&(0,s.jsx)(q_,{handleNavClick:P,navName:J_.next})]}),(0,s.jsx)(vL,{children:(0,s.jsx)(dL,{userName:i,roleName:c,version:d})}),(0,s.jsx)(Tl,{itemsContextMenu:u,id:l,handleClickContextMenu:m})]})},gL=Object.defineProperty,bL=Object.defineProperties,yL=Object.getOwnPropertyDescriptors,Q_=Object.getOwnPropertySymbols,_L=Object.prototype.hasOwnProperty,CL=Object.prototype.propertyIsEnumerable,eC=(t,e,n)=>e in t?gL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tC=(t,e)=>{for(var n in e||(e={}))_L.call(e,n)&&eC(t,n,e[n]);if(Q_)for(var n of Q_(e))CL.call(e,n)&&eC(t,n,e[n]);return t},wL=(t,e)=>bL(t,yL(e));const xL="tab-bar",SL=[{type:"button",name:"close-form-button",caption:rt.t("close"),iconName:"times-circle"},{type:"button",name:"all-close-form-button",caption:rt.t("close_all"),iconName:"times-circle"},{type:"button",name:"others-close-form-button",caption:rt.t("others_close"),iconName:"times-circle"}],nC=({formId:t,menuItem:e})=>{switch(e){case"close-form-button":Ge.onFormClose({formId:t});break;case"all-close-form-button":Ge.onAllFormClose();break;case"others-close-form-button":Ge.onOthersFormClose({formId:t});break;default:break}};function rC(t){const{className:e,isExcluded:n,tabs:r,activeTabId:o,onTabClick:l,contextMenuTab:i,testId:c,userName:d,roleName:u,version:m}=t,f=c||xL,p=i||SL,v=Boolean((0,lt.v9)(Dt)),b=(0,a.useCallback)(({slide:h,handleSlideClick:g,activeSlidesIds:C})=>(0,s.jsx)(K_,{slide:h,handleSlideClick:g,activeSlidesIds:C,testId:f}),[]);if(n)return null;const y=be()(e,"tab-bar");if(v){const h=wL(tC({},t),{testId:f,contextMenu:p,renderTab:b,handleClickContextMenu:nC});return(0,s.jsx)(hL,tC({},h))}return(0,s.jsx)("div",{className:`${y}__wrapper`,children:(0,s.jsxs)("div",{className:y,children:[(0,s.jsx)(Sl,{type:"header",className:"tab-bar__slide-bar",slides:r,activeSlidesIds:o,onSlideClick:l,onSlideRender:b,testId:"tab-bar",userName:d,roleName:u,version:m}),(0,s.jsx)(Dg,{itemsContextMenu:p,id:f,handleClickContextMenu:nC})]})})}rC.propTypes={className:_().string,tabs:_().arrayOf(_().object).isRequired,activeTabId:_().string,onTabClick:_().func};var PL=(0,a.memo)(rC),IL=PL,B6={popperIconSize:"18px",primaryColor:"#0bd688"},$6={popperIconSize:"18px",primaryColor:"#0bd688"};const OL="bread-crumbs";function oC(t){const{className:e,activeCrumbsIds:n,children:r}=t,o=({slide:d,activeSlidesIds:u,isLast:m})=>{const{id:f}=d,p=u.includes(f);let v="all";const b=[],y=r==null?void 0:r.find(h=>h.props.id===f);return u.length===2&&u.includes(f)&&(u[0]===f?v="left":v="right"),y&&b.push(a.cloneElement(y,{activePosition:v,isActive:p})),!m&&y&&u.length!==2&&b.push((0,s.jsx)(Ct,{name:"arrow-right-s",type:"line",size:12,outerStyle:{marginRight:"12px"}},y.id+"_separator")),b.length?b:null},l=(0,lt.v9)(Dt),i=be()(e,OL),c=a.Children.map(r,({props:d})=>d);return(0,s.jsx)(Sl,{style:l?{background:"none",height:"42px",margin:0,paddingLeft:"32px",borderBottom:"1px solid "+I("navbar-underline-default")}:null,className:i,slides:c,activeSlidesIds:n,onSlideRender:o})}oC.propTypes={className:_().string,isFormsExpanded:_().bool.isRequired,activeCrumbsIds:_().oneOfType([_().array,_().string]).isRequired};var EL=oC,kL=EL;const jL="bread-crumb",ji="bread-crumbs__bread-crumb-options-toggler",RL=B.ZP.div`
  ${t=>t.isStyled&&B.iv`
    padding: 0;
    ${!t.isLeft&&B.iv`
      &&:not(:last-child) {
        margin-right: 12px;
      }
    `}
  `}
`,lC=B.ZP.span`
  font-size: 12px;
  line-height: 16px;
  ${t=>t.isStyled&&B.iv`
    color: ${e=>e.isActive?I("navbar-text-active"):I("navbar-text-default")};
    transition: color .15s ease;
  `}
`,DL=B.ZP.div`
  ${t=>t.isStyled&&B.iv`
    display: flex;
    align-items: center;
    padding: 4px 8px;
    column-gap: 8px;
    height: 24px;
    box-sizing: border-box;
    position: relative;
    border: 1px solid ${t.isActive?I("navbar-border-active"):I("navbar-border-default")};
    border-radius: ${t.position==="left"?"12px 0 0 12px":t.position==="right"?"0 12px 12px 0":"12px"};
    margin: 0;
    margin-right: ${t.position==="left"?"-1px":0};
    transition: border-color .15s ease;
    cursor: pointer;
    &&:hover {
      border-color: ${()=>I("navbar-border-hover")};
      z-index: 1;
      && ${lC} {
        color: ${I("navbar-text-hover")};
      }
      
      && .${ji} {
        color: ${I("navbar-icon-hover")};
      }
    }
    
    && .wrapper_button {
      display: flex;
      align-items: center;
    }
    
    && .${ji} {
      padding: 0;
      width: 12px;
      height: 12px;
      color: ${t.isActive?I("navbar-icon-active"):I("navbar-icon-default")};
      span {
        width: 12px;
        height: 12px;
      }
    }
    
  `}
`;function Od(t){const{isActive:e,id:n,name:r,activePosition:o,metaSet:l,onClick:i,events:c,children:d,onDoubleClick:u,testId:m,icon:f}=t,p=m||jL,v=(0,lt.v9)(Dt),b=(0,a.useRef)(null),y=(0,a.useRef)(null),h=(0,a.useCallback)(P=>{let x=!0;const k=n;if(P.detail===1){if(i&&(x=i({event:P,metaSet:l,value:k})),x&&(c!=null&&c.onClick)){const{alias:E,args:w}=c.onClick;he[E]({event:P,metaSet:l,args:w,value:k})}}else if(P.detail===2&&(u&&(x=u({event:P,metaSet:l,value:k})),x&&(c!=null&&c.onDoubleClick))){const{alias:E,args:w}=c.onDoubleClick;he[E]({event:P,metaSet:l,args:w,value:k})}},[n,l,c,i]),g=(0,a.useCallback)(({event:P})=>{P!=null&&P.stopPropagation&&Ot(P)},[]),C=be()("bread-crumbs__bread-crumb-wrapper",{"bread-crumbs__bread-crumb-wrapper_active":e,[`bread-crumbs__bread-crumb-wrapper_${o}`]:o!=="all"}),O=be()(ji,{[`${ji}_active`]:e}),M=be()("bread-crumbs__bread-crumb");return(0,s.jsx)(RL,{className:!v&&"bread-crumbs__bread-crumb-external-wrapper",onClick:h,"data-slide-id":n,isStyled:!!v,isLeft:o==="left",ref:b,children:(0,s.jsxs)(DL,{ref:y,className:!v&&C,"data-testid":`${p}`,isStyled:!!v,isActive:e,position:o,children:[v&&f&&(0,s.jsx)(Ct,{name:f,size:12,color:I(e?"navbar-icon-active":"navbar-icon-default"),hoverColor:I("navbar-icon-hover"),parentRef:y,outerStyle:{width:"12px"}}),(0,s.jsx)(lC,{className:!v&&M,title:r,"data-testid":`${p}_caption`,isStyled:!!v,isActive:e,children:r}),(0,s.jsx)(wl,{className:O,dropDownClassName:"bread-crumbs__drop-down",iconName:"caret-down",onClick:g,testId:`${p}_options-button`,children:d})]})})}Od.propTypes={isActive:_().bool,onSelect:_().func,id:_().string,name:_().string,options:_().array,activePosition:_().oneOf(["all","left","right"])},Od.defaultProps={isActive:!1,id:"",name:"",options:[],activePosition:"all"};var NL=Od;const ML=(0,B.ZP)("div")({display:"flex",overflow:"hidden"}),TL=(0,B.ZP)("div")({cursor:"col-resize",boxSizing:"border-box",width:4,borderLeft:"1px solid #e2e4e6",borderRight:"1px solid #e2e4e6"});var FL=Object.defineProperty,aC=Object.getOwnPropertySymbols,AL=Object.prototype.hasOwnProperty,BL=Object.prototype.propertyIsEnumerable,sC=(t,e,n)=>e in t?FL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$L=(t,e)=>{for(var n in e||(e={}))AL.call(e,n)&&sC(t,n,e[n]);if(aC)for(var n of aC(e))BL.call(e,n)&&sC(t,n,e[n]);return t};const zL=(0,B.ZP)("div")(({styledState:t})=>{const{isDoubleWindow:e,leftWidth:n}=t;return $L({display:"grid"},e&&{width:`calc(100% - ${n}px)`})});var LL=Object.defineProperty,iC=Object.getOwnPropertySymbols,HL=Object.prototype.hasOwnProperty,WL=Object.prototype.propertyIsEnumerable,cC=(t,e,n)=>e in t?LL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VL=(t,e)=>{for(var n in e||(e={}))HL.call(e,n)&&cC(t,n,e[n]);if(iC)for(var n of iC(e))WL.call(e,n)&&cC(t,n,e[n]);return t};const UL=(0,B.ZP)("div")(({styledState:t})=>{const{isDoubleWindow:e,leftWidth:n}=t;return VL({display:"grid",width:"100%"},e&&{width:n})}),GL=t=>{const{children:e}=t,n=e.length>1,r=(0,a.useRef)(null),o=(0,a.useRef)(null),[l,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),u={isDoubleWindow:n,leftWidth:c};(0,a.useEffect)(()=>{var b;o.current&&d(((b=o.current)==null?void 0:b.clientWidth)/2)},[n]);const m=b=>{b.preventDefault(),r.current===b.target&&i(!0)},f=()=>{i(!1)},p=b=>{if(l&&o.current){b.preventDefault(),Ot(b);const y=o.current.getBoundingClientRect(),h=b.clientX-y.left;d(h)}else document.body.style.removeProperty("cursor")},v=()=>{var b;o.current&&d(((b=o.current)==null?void 0:b.clientWidth)/2)};return(0,a.useEffect)(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",f),window.addEventListener("resize",v),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",f),window.removeEventListener("resize",v)}),[]),(0,s.jsxs)(ML,{ref:o,onMouseMove:p,children:[(0,s.jsx)(UL,{styledState:u,children:e[0]}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(TL,{ref:r,onMouseDown:m}),(0,s.jsx)(zL,{styledState:u,children:e[1]})]})]})};var ZL=Object.defineProperty,uC=Object.getOwnPropertySymbols,KL=Object.prototype.hasOwnProperty,qL=Object.prototype.propertyIsEnumerable,dC=(t,e,n)=>e in t?ZL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fC=(t,e)=>{for(var n in e||(e={}))KL.call(e,n)&&dC(t,n,e[n]);if(uC)for(var n of uC(e))qL.call(e,n)&&dC(t,n,e[n]);return t};function pC(t,e,n){const r=e.find(({formId:o})=>o===t);n.push(r),r.childFormId&&pC(r.childFormId,e,n)}function YL(t,e,n){let r=[];if(e.length===1||n)r.push(t);else if(e.length>1)if(e.length===2)r.push(e[0].formId),r.push(e[1].formId);else{const o=e.find(({formId:l})=>l===t);r.push(t),o.parentFormId?r.unshift(o.parentFormId):r.push(o.childFormId)}return r}const XL=({activeFormStackId:t,mainForm:e,forms:n,mainCssClass:r,contentClasses:o,handleFormClose:l,handleFormExpansion:i,handleRaiseForm:c,handleFormActive:d})=>{const u=(0,lt.v9)(Dt);let m=null;const f=[],p=e.keepMounted&&e.formId!==t,v=e.hideBreadcrumbs;pC(e.formId,n,f);const b=(f==null?void 0:f.length)<2?!1:e.isWideScreenMode,{showedFormId:y}=e,h=YL(y,f,b),g=h.map(O=>{const M=f.find(({formId:P})=>P===O);return M?(0,s.jsx)(Id,fC({className:`${r}__form`},M),M.formId):(0,s.jsx)(Id,fC({className:`${r}__form ${r}__form_without-bread-crumbs`},e),e.formId)}),C=!(v||t==="0")&&(f==null?void 0:f.length)>1;return m=(0,s.jsxs)(s.Fragment,{children:[C?(0,s.jsx)("div",{children:(0,s.jsx)(kL,{className:`${r}__bread-crumbs`,isFormsExpanded:b,activeCrumbsIds:h,children:f==null?void 0:f.map((O,M)=>{const{formId:P,formName:x,formIcon:k}=O;return(0,s.jsxs)(NL,{id:P,name:x,metaSet:{isShowed:h.includes(P),isWideScreenMode:b,formId:P,isSingleForm:f.length===1},onClick:d,onDoubleClick:i,testId:Za([x,"bread-crumb"]),icon:k,children:[M!==0&&(0,s.jsx)(Ut,{type:"button",name:"raise-form-button",caption:rt.t("raise_form"),metaSet:{formId:P},onClick:c,iconName:"external-link-square"},"raise-form-button"),f.length>1&&(0,s.jsx)(Ut,{type:"button",name:"expand-form-button",testId:Za([x,"bread-crumb-options","wide-screen-mode-button"]),caption:b?rt.t("roll_up"):rt.t("expand"),iconName:b?"compress":"arrows-alt",metaSet:{isWideScreenMode:b,formId:P},onClick:i},"expand-form-button"),M!==0&&(0,s.jsx)(Ut,{type:"button",name:"close-form-button",testId:Za([x,"bread-crumb-options","close-button"]),caption:rt.t("close"),iconName:"times-circle",metaSet:{formId:P},onClick:l},"close-form-button")]},P)})})}):u?(0,s.jsx)("div",{}):null,(0,s.jsx)(GL,{mainCssClass:r,children:g})]}),(0,s.jsx)("div",{className:be()(o,{hidden:p,withoutBreadCrumbs:!C&&!u||u&&t==="0"}),children:m},e.formName)};var JL=(0,a.memo)(XL);function mC(t){var e,n;return(n=(e=t.mainAppParams)==null?void 0:e.toolbar)==null?void 0:n.showAppToolbar}const Wl="form-stack",QL=Wl+"__empty";function vC(t){const{className:e,forms:n=[],activeFormStackId:r,onFormStackClick:o,webUiLanguage:l,userName:i,roleName:c,version:d}=t,u=n[0].entities===void 0,m=!(n.length===1&&u),f=(0,lt.v9)(mC),p=(0,lt.v9)(Dt),v=be()(e,m?Wl:QL,{"with-toolbar":f,themed:!!p}),b=n.filter(({openMode:k,formId:E})=>k==="new"&&!(u&&E==="0")).map(({formId:k,formName:E,formIcon:w,fixed:S})=>({id:k,name:E,icon:w,fixed:S})),y=n.filter(({formId:k,keepMounted:E})=>k===r||E===!0),h=`${Wl}__content`;let g=h;const C=(0,a.useCallback)(({metaSet:{isShowed:k},value:E})=>{!k&&Ge.onFormActive&&Ge.onFormActive({formStackId:r,formId:E})},[r]),O=(0,a.useCallback)(({event:k,metaSet:E})=>{Ot(k);const{formId:w}=E;Ge.onFormClose&&Ge.onFormClose({formStackId:r,formId:w})},[r]),M=(0,a.useCallback)(({event:k,metaSet:E})=>{Ot(k);const{isWideScreenMode:w,formId:S,isSingleForm:F}=E;F||Ge.onWideScreenModeToggle&&Ge.onWideScreenModeToggle({formId:S,formStackId:r,isWideScreenMode:!w})},[r]),P=(0,a.useCallback)(({event:k,metaSet:E})=>{Ot(k);const{formId:w}=E;Ge.onFormRaise&&Ge.onFormRaise({formId:w})},[]),x=y.length>0&&y.every(k=>k.schema&&k.entities);return(0,s.jsxs)("div",{className:v,children:[m&&(0,s.jsx)(IL,{tabs:b,activeTabId:r,onTabClick:o,userName:i,roleName:c,version:d}),(0,s.jsxs)(Ds,{children:[x&&y.map(k=>(0,s.jsx)(JL,{activeFormStackId:r,mainForm:k,forms:n,contentClasses:g,mainCssClass:Wl,handleFormClose:O,handleFormExpansion:M,handleRaiseForm:P,handleFormActive:C},k.formName)),!x&&(0,s.jsx)("div",{className:be()(h,"empty"),children:(0,s.jsx)("div",{className:`${Wl}__logo ${Wl}__logo_${l}`})})]})]})}vC.propTypes={className:_().string,data:_().object};var e2=(0,a.memo)(vC);function z6({singleClick:t,doubleClick:e,delay:n=200}){let r=null;const o=useCallback((...i)=>{const{event:c}=i[0];c.persist(),c.detail===1&&(r=setTimeout(()=>{t(...i)},n))},[t,n]),l=useCallback((...i)=>{clearTimeout(r),e(...i)},[e,n,r]);return[o,l]}const hC=lt.I0,t2=lt.v9;var n2=Ve(29119);function Ed(t){if(t&&typeof t=="string"){const e=t.replace(/\D/g,"");return parseInt(e,10)}}var r2=t=>{const{mainCssClass:e,initialStyle:n,canResize:r,children:o,id:l,caption:i,palette:c}=t,d={width:Ed(n==null?void 0:n.width)||"auto",height:Ed(n==null?void 0:n.height)!==void 0?Ed(n.height)||0+18:"auto"},[u,m]=(0,a.useState)(d);(0,a.useEffect)(()=>{r&&m(d)},[n]);const f=(v,b,y)=>{(y.offsetHeight!==u.height||y.offsetWidth!==u.width)&&m({width:y.offsetWidth,height:y.offsetHeight})};if((0,a.useEffect)(()=>{if(r&&(u.height!==d.height||u.width!==d.width)){const v={height:Math.round(Number(u.height)/3.8),width:Math.round(Number(u.width)/3.8)};he.onFormResize({formId:l,formName:i,state:v})}},[u]),r)return(0,s.jsx)(n2.e,{maxWidth:"75%",minWidth:c?"640px":"300px",size:{width:u.width,height:u.height},className:c?`${e}__form_palette`:`${e}__form`,onResizeStop:f,children:o});const p=n!=null&&n.width?{}:{maxWidth:"75%",minWidth:"300px"};return(0,s.jsx)("div",{className:c?`${e}__form_palette`:`${e}__form`,style:p,children:o})};const o2=(0,B.ZP)("div")({display:"flex",width:"100%",flex:1,gap:16,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),l2=(0,B.ZP)("div")({fontSize:24,fontWeight:500,gap:10,display:"flex",alignItems:"center",flexWrap:"nowrap"});var H6={popperIconSize:"18px",primaryColor:"#0bd688"},a2=Object.defineProperty,gC=Object.getOwnPropertySymbols,s2=Object.prototype.hasOwnProperty,i2=Object.prototype.propertyIsEnumerable,bC=(t,e,n)=>e in t?a2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c2=(t,e)=>{for(var n in e||(e={}))s2.call(e,n)&&bC(t,n,e[n]);if(gC)for(var n of gC(e))i2.call(e,n)&&bC(t,n,e[n]);return t};const Hr="modal-form",yC=document.getElementById("modal-form"),u2=({className:t,id:e,caption:n,icon:r,onClose:o,isDisabled:l,events:i,metaSet:c,children:d,winCanResize:u,style:m})=>{const f=(0,lt.v9)(Dt),p=be()(t,Hr),v=hC(),{temporaryFormId:b}=t2(C=>C.mainAppParams),y=c2({},m);delete y.height,delete y.width,(0,a.useEffect)(()=>()=>{e===b&&v(ds(void 0))},[]);const h={backgroundImage:`url(${en(r)})`},g=(0,a.useCallback)(C=>{l||ke({specificEvent:o,nativeEvent:"onClose",event:C,metaSet:c,events:i,value:e})},[i,c,e,l,o]);return yC&&(0,Jr.createPortal)((0,s.jsxs)("div",{id:e,className:p,children:[(0,s.jsxs)(r2,{mainCssClass:Hr,initialStyle:m,canResize:u,id:e,caption:n,palette:f,children:[f?(0,s.jsx)("div",{className:`${Hr}__title_palette`,children:(0,s.jsxs)(o2,{children:[(0,s.jsx)(l2,{children:n}),(0,s.jsx)(Ut,{fashion:"Ghost",iconName:"close",onClick:g})]})}):(0,s.jsxs)("div",{className:`${Hr}__title`,children:[(0,s.jsx)("span",{className:`${Hr}__icon`,style:h}),(0,s.jsx)("span",{className:`${Hr}__caption text-ellipsis`,children:n}),(0,s.jsx)(Ut,{name:"closeButton",iconName:"times",className:`${Hr}__close-button`,onClick:g})]}),(0,s.jsx)("div",{className:f?`${Hr}__content_palette`:`${Hr}__content`,style:u?y:m,children:d})]}),(0,s.jsx)("div",{className:`${Hr}__overlay`})]}),yC)};var d2=(0,a.memo)(u2),W6={popperIconSize:"18px",primaryColor:"#0bd688"};const Po="upload-form",f2=document.getElementById("upload-form"),p2=({className:t,formId:e,multiple:n,serverConfig:r,fileExtMask:o,fileMaxSize:l,style:i,metaSet:c,isDisabled:d,events:u,onLoadFileSuccess:m,onLoadFileError:f,onUploadApprove:p,onUploadAbort:v})=>{const b=(0,a.useRef)([]),y=be()(t,Po),h=(0,a.useCallback)(({event:P})=>{if(d)return;let x=!0;const k=b.current.map(E=>E.filename);if(p&&(x=p({event:P,metaSet:c,value:k})),x&&(u!=null&&u.onUploadApprove)){const{alias:E,args:w}=u.onUploadApprove;he[E]({event:P,metaSet:c,args:w,value:k})}return x},[d,u,c,p]),g=(0,a.useCallback)(({event:P})=>{if(d)return;let x=!0;const k=b.current.map(E=>E.filename);if(v&&(x=v({event:P,metaSet:c,value:k})),x&&(u!=null&&u.onUploadAbort)){const{alias:E,args:w}=u.onUploadAbort;he[E]({event:P,metaSet:c,args:w,value:k})}return x},[d,u,c,v]),C=(0,a.useCallback)(({value:P})=>{if(d)return;let x=!0;if(b.current.push({filename:P.filename,id:P.id}),m&&(x=m({metaSet:c,value:P})),x&&(u!=null&&u.onLoadFileSuccess)){const{alias:k,args:E}=u.onLoadFileSuccess;he[k]({metaSet:c,args:E,value:P})}return x},[d,u,c,m]),O=P=>{b.current=b.current.filter(x=>x.id!==P.id)},M=(0,a.useCallback)(({value:P})=>{if(d)return;let x=!0;if(f&&(x=f({metaSet:c,value:P})),x&&(u!=null&&u.onLoadFileError)){const{alias:k,args:E}=u.onLoadFileError;he[k]({metaSet:c,args:E,value:P})}return x},[d,u,c,f]);return(0,Jr.createPortal)((0,s.jsxs)("div",{id:e,className:y,children:[(0,s.jsxs)("div",{className:`${Po}__upload-window`,children:[(0,s.jsx)("p",{className:`${Po}__title`,children:rt.t("file_upload")}),(0,s.jsxs)("div",{className:`${Po}__content`,style:i,children:[(0,s.jsx)(Hy,{onRemoveFile:O,name:"UploadControl",style:{flexGrow:null,width:null,minWidth:null,maxWidth:null},isFixSize:!1,isExcluded:!1,isDisabled:!1,multiple:n,fileExtMask:o,fileMaxSize:l,server:r,onLoadSuccess:C,onLoadError:M}),(0,s.jsxs)("div",{className:`${Po}__buttons-container`,children:[(0,s.jsx)(qr,{fashion:"Primary",name:"OKButton",hint:"",caption:rt.t("ok"),iconName:"",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:h,className:`${Po}__button`}),(0,s.jsx)(qr,{fashion:"Secondary",name:"CancelButton",hint:"",caption:rt.t("cancel"),iconName:"",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:g,className:`${Po}__button`})]})]})]}),(0,s.jsx)("div",{className:`${Po}__overlay`})]}),f2)};var m2=(0,a.memo)(p2),kd=Ve(1150),V6={popperIconSize:"18px",primaryColor:"#0bd688"},v2=Object.defineProperty,_C=Object.getOwnPropertySymbols,h2=Object.prototype.hasOwnProperty,g2=Object.prototype.propertyIsEnumerable,CC=(t,e,n)=>e in t?v2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jd=(t,e)=>{for(var n in e||(e={}))h2.call(e,n)&&CC(t,n,e[n]);if(_C)for(var n of _C(e))g2.call(e,n)&&CC(t,n,e[n]);return t};const xt="color-picker-form",Vl=`${xt}__pointer`,b2=document.getElementById("color-picker-form"),y2=()=>(0,s.jsx)("div",{className:`${Vl} ${Vl}_saturation`}),_2=()=>(0,s.jsx)("div",{className:`${Vl} ${Vl}_hue`}),C2=()=>(0,s.jsx)("div",{className:`${Vl} ${Vl}_alpha`}),w2=({isDisabled:t,metaSet:e,onApprove:n,onAbort:r,onError:o,events:l,className:i,id:c,withAlphaChannel:d=!1,value:u})=>{const m=be()(i,xt),f=be()(`${xt}__color-settings`,{[`${xt}__color-settings_w-alpha`]:d}),[p,v]=(0,a.useState)(()=>qa(u)),b=(0,lt.v9)(Dt),y=(0,a.useCallback)(x=>{const k=qa(x);v(k)},[]),h=(0,a.useCallback)(({value:x})=>{if(x.trim().length===0||x.trim().length%3!==0)v(k=>{const E=jd({},k);return E.hex=x,E});else{const k=qa(x);v(k)}},[]),g=(0,a.useCallback)(({metaSet:x,value:k})=>{const E=jd({},p.rgb);if(k.trim()==="")v(w=>{const S=jd({},w);return S[x.rgb]="",S});else{E[x.rgb]=k;const w=qa(E);v(w)}},[p]),C=(0,a.useCallback)((x,k)=>{if(t)return;let E=!0;if(o&&(E=o({event:x,metaSet:e,value:k})),E&&(l!=null&&l.onError)){const{alias:w,args:S}=l.onError;he[w]({event:x,metaSet:e,args:S,value:k})}},[t,o,l,e]),O=(0,a.useCallback)(({event:x})=>{if(t)return;let k=null;if(p.hex.length===3?k=`#${fS(p.hex)}`:k=`#${p.hex}`,!/^#[0-9A-F]{6}$/i.test(k)){C(x,"invalid_color");return}let w=!0;if(n&&(w=n({event:x,metaSet:e,value:k})),w&&(l!=null&&l.onApprove)){const{alias:S,args:F}=l.onApprove;he[S]({event:x,metaSet:e,args:F,value:k})}},[t,l,e,n,p]),M=(0,a.useCallback)(({event:x})=>{if(t)return;let k=!0;if(r&&(k=r({event:x,metaSet:e})),k&&(l!=null&&l.onAbort)){const{alias:E,args:w}=l.onAbort;he[E]({event:x,metaSet:e,args:w})}},[t,l,e,r]),P=be()(`${xt}__controls`,{themed:!!b});return(0,Jr.createPortal)((0,s.jsxs)("div",{id:c,className:m,children:[(0,s.jsx)(Gp(),{children:(0,s.jsxs)("div",{className:`${xt}__color-picker`,children:[(0,s.jsx)("div",{className:`${xt}__title`,children:rt.t("color_selection")}),(0,s.jsxs)("div",{className:`${xt}__content`,children:[(0,s.jsxs)("div",{className:f,children:[(0,s.jsx)("div",{className:`${xt}__saturation`,children:(0,s.jsx)(kd.OQ,{pointer:y2,direction:"vertical",color:p.hex,hsl:p.hsl,hsv:p.hsv,onChange:y})}),(0,s.jsx)("div",{className:`${xt}__slider`,children:(0,s.jsx)(kd.PS,{pointer:_2,direction:"vertical",onChange:y,hsl:p.hsl})}),d&&(0,s.jsx)("div",{className:`${xt}__slider`,children:(0,s.jsx)(kd.xV,{pointer:C2,direction:"vertical",rgb:p.rgb,hsl:p.hsl,onChange:y})})]}),(0,s.jsxs)("div",{className:`${xt}__details`,children:[(0,s.jsxs)("div",{className:`${xt}__preview ${xt}__item`,children:[(0,s.jsx)("label",{className:`${xt}__label`,children:"Preview"}),(0,s.jsx)("div",{style:{backgroundColor:`rgba(${p.rgb.r}, ${p.rgb.g}, ${p.rgb.b}, ${p.rgb.a})`},className:`${xt}__current-color`})]}),!d&&(0,s.jsx)("div",{}),(0,s.jsxs)("div",{className:`${xt}__input-container ${xt}__item`,children:[(0,s.jsx)("label",{className:`${xt}__label`,children:"HEX"}),(0,s.jsx)(An,{className:`${xt}__input`,onChange:h,value:p.hex,isControlledValue:!0,controlRegExp:/\s|^[0-9A-F]{0,6}$/i})]}),d&&(0,s.jsxs)("div",{className:`${xt}__input-container ${xt}__item`,children:[(0,s.jsx)("label",{className:`${xt}__label`,children:"Alpha"}),(0,s.jsx)(An,{metaSet:{rgb:"a"},className:`${xt}__input`,value:p.rgb.a,onChange:g,isControlledValue:!0})]}),(0,s.jsxs)("div",{className:`${xt}__input-container ${xt}__item`,children:[(0,s.jsx)("label",{className:`${xt}__label`,children:"Red"}),(0,s.jsx)(An,{metaSet:{rgb:"r"},className:`${xt}__input`,value:p.rgb.r,onChange:g,isControlledValue:!0,controlRegExp:/\s|^(\d{0,3})?$/})]}),(0,s.jsxs)("div",{className:`${xt}__input-container ${xt}__item`,children:[(0,s.jsx)("label",{className:`${xt}__label`,children:"Green"}),(0,s.jsx)(An,{metaSet:{rgb:"g"},className:`${xt}__input`,value:p.rgb.g,onChange:g,isControlledValue:!0,controlRegExp:/\s|^(\d{0,3})?$/})]}),(0,s.jsxs)("div",{className:`${xt}__input-container ${xt}__item`,children:[(0,s.jsx)("label",{className:`${xt}__label`,children:"Blue"}),(0,s.jsx)(An,{metaSet:{rgb:"b"},className:`${xt}__input`,value:p.rgb.b,onChange:g,isControlledValue:!0,controlRegExp:/\s|^(\d{0,3})?$/})]})]}),(0,s.jsxs)("div",{className:P,children:[(0,s.jsx)(qr,{fashion:"Primary",name:"OKButton",caption:"OK",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:O,className:`${xt}__button`}),(0,s.jsx)(qr,{fashion:"Secondary",name:"CancelButton",caption:"\u041E\u0442\u043C\u0435\u043D\u0430",isFixSize:!0,isExcluded:!1,isDisabled:!1,onClick:M,className:`${xt}__button`})]})]})]})}),(0,s.jsx)("div",{className:`${xt}__overlay`})]}),b2)};var x2=(0,a.memo)(w2),U6={popperIconSize:"18px",primaryColor:"#0bd688"};const S2=(t="transparent",e="rgba(0, 0, 0, 0.4)",n="#777777",r=!1)=>B.iv`
    @supports(scrollbar-width: thin) {
        scrollbar-width: thin;
        scrollbar-color: ${e} ${t};
    }

    &::-webkit-scrollbar {
        height: 10px;
        width: 10px;
        background-color: var(--scrollbar-backgroundColor, ${t});

        &-thumb {
            background-color: ${e};
            border: 3px solid transparent;
            border-radius: 20px;
            background-clip: content-box;
            min-height: 30px;
            min-width: 30px;

            &:hover,
            &:active {
                border: 0;
            }
        }

        &-corner {
            background-color: ${t};
        }

        ${r&&B.iv`
            // stylelint-disable-next-line selector-pseudo-class-no-unknown
            &-button:single-button {
                background-color: ${t};
                display: block;
                border-style: solid;
                height: 5px;
                width: 5px;

                /* Up */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical {
                    border-width: 0px 4px 6px 4px;
                    border-color: transparent transparent ${e} transparent;

                    &:hover {
                        border-color: transparent transparent ${n} transparent;
                    }
                }

                /* Down */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:vertical:increment {
                    border-width: 6px 4px 0 4px;
                    border-color: ${e} transparent transparent transparent;

                    &:hover {
                        border-color: ${n} transparent transparent transparent;
                    }
                }

                /* Left */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal {
                    border-width: 4px 6px 4px 0;
                    border-color: transparent ${e} transparent transparent;

                    &:hover {
                        border-color: transparent ${n} transparent transparent;
                    }
                }

                /* Right */
                // stylelint-disable-next-line selector-pseudo-class-no-unknown
                &:horizontal:increment {
                    border-width: 4px 0 4px 6px;
                    border-color: transparent transparent transparent ${e};

                    &:hover {
                        border-color: transparent transparent transparent ${n};
                    }
                }
            }
        `}
    }
`,Dn={width:{open:"240px",folded:"56px"},leftBar:{width:"56px",borderRadius:"0 16px 0 0",paddingTop:"100px"},menuItems:{button:{fontSize:"14px",lineHeight:"16px"},separator:{fontSize:"14px",lineHeight:"16px"}},toggleIcon:{size:"16px"}},wC=B.ZP.div`
  & * {
    box-sizing: border-box;
  }
  height: 100%;
  width: fit-content;
  display: grid;
  grid-template-rows: 40px 1fr;
  grid-template-columns: ${t=>t.withLeftBar?Dn.leftBar.width+" auto":"auto"};
  background: ${()=>I("sidebar-background-default")};
  color: ${()=>I("sidebar-text")};
`,P2=B.ZP.div`
  background: ${()=>I("sidebar-left-bar-background-default")};
  border-radius: ${Dn.leftBar.borderRadius};
  padding-top: ${Dn.leftBar.paddingTop};
`,I2=B.ZP.div`
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: ${t=>t.leftBarHide?"28px 72px 1fr":"28px 72px 40px 1fr"};
  width: ${t=>t.isOpened?Dn.width.open:Dn.width.folded};
  height: 100%;
`,O2=B.ZP.i`
  box-sizing: content-box;
  opacity: 0;
  justify-self: ${t=>t.isOpened?"end":"center"};
  margin: 4px ${t=>t.isOpened?"4px":"0"} 0 0;
  display: flex;
  align-items: center;
  border-radius: 4px;
  padding: 4px;
  width: ${Dn.toggleIcon.size};
  height: ${Dn.toggleIcon.size};
  font-size: ${Dn.toggleIcon.size};
  background: ${()=>I("sidebar-open-button-background-default")};
  color: ${()=>I("sidebar-open-button-icon-default")};
  line-height: 1;
  transition: all .15s ease;
  cursor: pointer;
  &&:hover {
    background: ${()=>I("sidebar-open-button-background-hover")};
    color: ${()=>I("sidebar-open-button-icon-hover")};
  }
  ${wC}:hover && {
    opacity: 1;
  }
`,E2=B.ZP.div`
  height: 100%;
`,k2=B.ZP.ul`
  width: ${Dn.width.open};
`,j2=B.ZP.div`
  position: fixed;
  width: ${Dn.width.open};
`,R2=B.ZP.div`
  height: fit-content;
  width: ${Dn.width.open};
  background: ${()=>I("sidebar-background-default")};
`,xC=B.ZP.li`
  display: flex;
  align-items: center;
  {/* - 10 нужно для первого уровня */}
  padding: 12px 16px 12px ${t=>(t.depth+1)*26-10}px;
  color: ${()=>I("sidebar-text")};
  ${t=>t.isSelected&&!t.isDisabled&&B.iv`
    background: ${()=>I("sidebar-background-active")};
  `}
`,D2=B.ZP.div`
  display: flex;
  align-items: center;
  padding: 12px 16px;
  font-size: ${Dn.menuItems.button.fontSize};
  line-height: ${Dn.menuItems.button.lineHeight};
  font-weight: 500;
  cursor: default;
`,N2=(0,B.ZP)(xC)`
  font-size: ${Dn.menuItems.separator.fontSize};
  line-height: ${Dn.menuItems.separator.lineHeight};
  color: ${()=>I("sidebar-separator-default")};
`,M2=(0,B.ZP)(xC)`
  justify-content: space-between;
  transition: background .15s ease;
  ${t=>!t.isDisabled&&B.iv`
    cursor: pointer;
    &&:hover {
      background: ${()=>I("sidebar-background-hover")};
    }`}`,T2=B.ZP.div`
  display: grid;
  grid-template-columns: 16px auto;
  align-items: center;
  column-gap: 10px;
`,F2=B.ZP.div`
  font-size: ${Dn.menuItems.button.fontSize};
  line-height: ${Dn.menuItems.button.lineHeight};
  font-weight: ${t=>t.depth?400:500};
  grid-column: 2;
`,A2=B.ZP.span`
  font-size: 10px;
  line-height: 1;
  padding: 16px;
  opacity: ${t=>t.isOpened?1:0};
  display: ${t=>t.isOpened?"inline":"none"};
  transition: opacity .15s ease;
  color: ${()=>I("sidebar-turbo-text-default")};
`,B2=B.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${t=>I(t.bg.color.default)};
  padding: 12px 0;
  transition: background .15s ease;
  ${t=>!t.isDisabled&&B.iv`
    cursor: pointer;
    &&:hover {
      background: ${()=>I(t.bg.color.hover)};
    }`}
`,$2=B.ZP.div`
  display: ${t=>t.hide?"none":"block"};
  border-radius: 5px;
  background: ${()=>I("sidebar-scrollbar-default")};
  transition: bacground .15s ease;
  width: 6px !important;
  &&:hover {
    background: ${()=>I("sidebar-scrollbar-hover")};
  }
  &&:active { 
    background: ${()=>I("sidebar-scrollbar-active")};
  }
`,z2=B.ZP.div`
  grid-column: ${t=>t.leftBarHide?"1":"1/ span 2"};
  display: flex;
  align-items: center;
  justify-content: ${t=>t.leftBarHide&&!t.isOpened?"center":"flex-start"};
  padding: 12px 16px;
  cursor: pointer;
`,L2=B.ZP.div`
  padding: 16px ${t=>t.isOpened?"16px":"0"} 24px;
  display: flex;
  align-items: ${t=>t.isOpened?"center":"stretch"};
  flex-direction: column;
`,H2=B.ZP.label`
  position: relative;
  padding: 7px 11px;
  border-radius: 8px;
  border: 1px solid ${()=>I("sidebar-search-border-default")};
  background: ${()=>I("sidebar-search-background-default")};
  display: flex;
  column-gap: 12px;
`,W2=B.ZP.input`
  outline: none;
  font-size: 14px;
  line-height: 16px;
  color: ${()=>I("sidebar-search-text-default")};
  background: none;
  border: none;
  width: 100%;
  &::placeholder {
    color: ${()=>I("sidebar-search-placeholder-default")};
  }
`,V2=B.ZP.div`
  z-index: 1;
  position: absolute;
  left: -1px;
  top: calc(100% + 1px);
  width: calc(100% + 2px);
  padding: 12px;
  border-radius: 12px;
  background: ${()=>I("sidebar-search-background-default")};
  box-shadow: 0 1px 4px -1px rgba(23, 24, 28, 0.08), 0px 4px 8px -2px rgba(23, 24, 28, 0.48);
  display: flex;
  flex-direction: column;
  row-gap: 8px;
  overflow: auto;
  max-height: 208px;
  ${()=>S2("transparent",I("sidebar-scrollbar-default"),I("sidebar-scrollbar-hover"),!1)}
`,U2=B.ZP.div`
  display: flex;
  flex-direction: column;
  cursor: pointer;
`,SC=B.ZP.span`
  font-size: 14px;
  line-height: 16px;
  color: ${()=>I("sidebar-search-text-default")};
`,G2=B.ZP.span`
  color: ${()=>I("sidebar-search-text-path-default")};
  font-size: 12px;
  font-weight: 400;
  line-height: 14px;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
`,Z2=B.ZP.span`
  color: ${()=>I("sidebar-search-text-search-occurrence-default")};
`;var K2=Object.defineProperty,q2=Object.defineProperties,Y2=Object.getOwnPropertyDescriptors,PC=Object.getOwnPropertySymbols,X2=Object.prototype.hasOwnProperty,J2=Object.prototype.propertyIsEnumerable,IC=(t,e,n)=>e in t?K2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OC=(t,e)=>{for(var n in e||(e={}))X2.call(e,n)&&IC(t,n,e[n]);if(PC)for(var n of PC(e))J2.call(e,n)&&IC(t,n,e[n]);return t},Q2=(t,e)=>q2(t,Y2(e));const eH=t=>{var e,n;(n=(e=Ge).onMainMenuOpen)==null||n.call(e,t)},EC=(t,e)=>{var n,r,o,l;const i={id:t,controlId:"mainMenu"};e&&(i.advanced=!0),(r=(n=Ge).saveSelectedMainMenuItemId)==null||r.call(n,t),(l=(o=Ge).onMainMenuCommandSend)==null||l.call(o,i)},kC=(0,a.createContext)({entities:{},isOpened:!0,toggleOpenedSubMenu:()=>{},isOpenedSubMenu:()=>!1,isSelectedItem:()=>!1,addOpenedSubMenuIds:()=>{},scrollToItem:()=>{},currentPanelName:null}),tH=t=>({emitToggleMenu:(0,a.useCallback)(()=>{eH(!t)},[t])}),$a=()=>(0,a.useContext)(kC),nH=(t,e,n,r)=>{var o;const[l,i]=(0,a.useState)({}),c=(0,a.useCallback)(g=>l[g],[l]),d=(0,a.useCallback)(g=>{c(g)||i(C=>Q2(OC({},C),{[g]:!0}))},[c]),u=(0,a.useCallback)(g=>{i(C=>{const O=OC({},C);return delete O[g],O})},[]),m=(0,a.useCallback)(g=>{g.forEach(d)},[d]),f=(0,a.useCallback)(g=>{c(g)&&u(g),d(g)},[d,c,u]),p=(0,a.useCallback)(g=>!!(n&&n===g),[n]),v=(0,a.useRef)(null),b=g=>{setTimeout(()=>{var C,O;if(v.current&&v.current.contentElement&&v.current.wrapperElement){const M=v.current.contentElement,P=v.current.wrapperElement,x=M.querySelector(`[data-id="${g}"]`),k=P.clientHeight,w=M.clientHeight-k;let S=((O=(C=x==null?void 0:x.parentElement)==null?void 0:C.offsetTop)!=null?O:0)-k/2;S>w&&(S=w),S<0&&(S=0),v.current.scrollTop=S}})},y=r?(o=t[r])==null?void 0:o.caption:null;return(0,a.useMemo)(()=>({entities:t,isOpened:e,toggleOpenedSubMenu:f,isOpenedSubMenu:c,isSelectedItem:p,addOpenedSubMenuIds:m,scrollToItem:b,menuScrollBarRef:v,currentPanelName:y}),[t,e,f,c,p,m,b,v,y])},Rd=(t,e=0)=>{var n;return t&&t.length===1&&((n=t[0].elements)!=null&&n.length)&&e<2?Rd(t[0].elements,e+1):t},rH=(t,e)=>{const[n,r]=(0,a.useState)(null),o=(0,a.useMemo)(()=>!e&&Ul(t)&&t.length<2?!0:!!e,[e,t]);(0,a.useEffect)(()=>{var d;(!o&&!n&&Ul(t)||Ul(t)&&!t.filter(u=>u.GUID===n).length)&&r((d=t[0].GUID)!=null?d:null)},[o,n,t]);const l=(0,a.useCallback)(d=>d===n,[n]),i=(0,a.useCallback)(d=>{n!==d&&r(d)},[n]);return{menuSchema:(0,a.useMemo)(()=>{var d,u;if(Ul(t)&&!o&&n){const m=(u=(d=t.filter(f=>f.GUID===n)[0])==null?void 0:d.elements)!=null?u:[];return Rd(m)}return Rd(t)},[o,t,n]),leftBarHide:o,togglePanel:i,isActivePanel:l,activePanelGuid:n}};function Ul(t){return Boolean(Array.isArray(t)&&t.length)}const oH=(t,e,n)=>{const[r,o]=(0,a.useState)({}),[l,i]=(0,a.useState)(!1),c=(0,a.useCallback)(()=>{t&&!n&&i(!1)},[t]),d=(0,a.useCallback)(m=>{if(t&&!n){i(!0);return}e&&e(m)},[e,t,n]);return{setupChildrenPosition:(0,a.useCallback)(m=>{if(m&&(0,zt.isEmpty)(r)){const{top:f,right:p}=m.getBoundingClientRect(),v=document.body.offsetHeight;o({top:f,left:p,maxHeight:v-f+"px"})}},[r]),handleCloseChildren:c,showChildren:l,childrenFloatingStyle:r,handleClick:d}};var lH=Ve(92728);const jC=(0,a.forwardRef)(({icon:{size:t=16,name:e,color:n,type:r="line"},bg:o,onClick:l,title:i,isDisabled:c,testId:d,id:u},m)=>{const f=(0,a.useRef)(null);return(0,s.jsx)(B2,{ref:(0,lH.l)([m,f]),onClick:l,bg:o,title:i,isDisabled:c,"data-testid":d,"data-id":u,children:(0,s.jsx)(Ct,{name:e,type:r,size:t,color:I(n.default),hoverColor:I(n.hover),parentRef:f,outerStyle:{width:t+"px",objectFit:"contain"}})})});jC.displayName="IconButton";var Dd=(0,a.memo)(jC);const aH=({onClick:t,iconName:e,isActive:n,isDisabled:r,testId:o,title:l})=>{const i=(0,a.useCallback)(()=>{!r&&t&&t()},[t,r]),c=n&&!r;return(0,s.jsx)(Dd,{title:l,testId:o,isDisabled:r,onClick:i,icon:{name:e!=null?e:"bug",color:{default:c?"sidebar-left-bar-icon-active":"sidebar-left-bar-icon-default",hover:"sidebar-left-bar-icon-hover"}},bg:{color:{default:c?"sidebar-left-bar-background-active":"sidebar-left-bar-background-default",hover:"sidebar-left-bar-background-hover"}}})};var sH=(0,a.memo)(aH),iH=Object.defineProperty,cH=Object.defineProperties,uH=Object.getOwnPropertyDescriptors,Ri=Object.getOwnPropertySymbols,RC=Object.prototype.hasOwnProperty,DC=Object.prototype.propertyIsEnumerable,NC=(t,e,n)=>e in t?iH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MC=(t,e)=>{for(var n in e||(e={}))RC.call(e,n)&&NC(t,n,e[n]);if(Ri)for(var n of Ri(e))DC.call(e,n)&&NC(t,n,e[n]);return t},dH=(t,e)=>cH(t,uH(e)),TC=(t,e)=>{var n={};for(var r in t)RC.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ri)for(var r of Ri(t))e.indexOf(r)<0&&DC.call(t,r)&&(n[r]=t[r]);return n};const FC=(0,a.forwardRef)(({children:t},e)=>{const n=Lc(),{isHover:r}=n,o=TC(n,["isHover"]);return(0,s.jsx)(vl.ZP,dH(MC({ref:e},o),{noDefaultStyles:!0,noScrollX:!0,maximalThumbSize:50,trackYProps:{style:{justifyContent:"center"}},thumbYProps:{renderer:l=>{const i=l,{elementRef:c}=i,d=TC(i,["elementRef"]);return(0,s.jsx)($2,MC({hide:!r,ref:c},d))}},children:t}))});FC.displayName="Scrollbar";var AC=FC;const fH=({children:t,style:e,onClick:n,onClickOutside:r})=>{const o=(0,a.useRef)(null),l=(0,a.useRef)(null),i=()=>{o.current&&l.current&&(l.current.style.height=o.current.offsetHeight+"px")};(0,a.useEffect)(()=>{if(l.current&&o.current){const d=new ResizeObserver(i);return d.observe(o.current),()=>{o.current&&d.unobserve(o.current)}}},[]);const c=document.getElementById("menu-list");return c&&(0,Jr.createPortal)((0,s.jsx)(yo,{onClickOutside:r,children:(0,s.jsx)(j2,{onClick:n,ref:l,style:e,children:(0,s.jsx)(AC,{children:(0,s.jsx)(R2,{ref:o,children:t})})})}),c)};var pH=(0,a.memo)(fH),mH=({children:t,onClick:e,iconName:n,hasChildren:r,title:o,isSelected:l,isDisabled:i,id:c})=>{const{handleCloseChildren:d,showChildren:u,setupChildrenPosition:m,childrenFloatingStyle:f,handleClick:p}=oH(r,e,i),v=(u||l)&&!i;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Dd,{ref:m,onClick:p,icon:{name:n!=null?n:"",color:{default:v?"sidebar-icon-active":"sidebar-icon-default",hover:"sidebar-icon-hover"}},bg:{color:{default:v?"sidebar-background-active":"sidebar-background-default",hover:"sidebar-background-hover"}},title:o,isDisabled:i,id:c}),u?(0,s.jsx)(pH,{onClick:d,onClickOutside:d,style:f,children:t}):null]})},vH=({caption:t,depth:e})=>(0,s.jsx)(N2,{depth:e,title:t,children:t}),hH=Object.defineProperty,gH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,Di=Object.getOwnPropertySymbols,BC=Object.prototype.hasOwnProperty,$C=Object.prototype.propertyIsEnumerable,zC=(t,e,n)=>e in t?hH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yH=(t,e)=>{for(var n in e||(e={}))BC.call(e,n)&&zC(t,n,e[n]);if(Di)for(var n of Di(e))$C.call(e,n)&&zC(t,n,e[n]);return t},_H=(t,e)=>gH(t,bH(e)),CH=(t,e)=>{var n={};for(var r in t)BC.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Di)for(var r of Di(t))e.indexOf(r)<0&&$C.call(t,r)&&(n[r]=t[r]);return n};const wH=t=>{var e,n;const{depth:r,schema:o,children:l}=t,i=Lc(),{isHover:c}=i,d=CH(i,["isHover"]),{isOpened:u,entities:m,toggleOpenedSubMenu:f,isOpenedSubMenu:p,isSelectedItem:v}=$a(),{isExcluded:b,isSeparator:y,iconName:h,hint:g,caption:C,renderStyle:O,isDisabled:M}=(0,a.useMemo)(()=>m[o.GUID],[m,o]),P=(0,a.useMemo)(()=>v(o.id),[v,o]),x=(O==null?void 0:O.isHelp)||(O==null?void 0:O.isNewAvailable),k=(0,a.useCallback)(S=>{var F;if((F=o.elements)!=null&&F.length&&(u||!u&&r)){Ot(S),f(o.GUID);return}EC(o.id)},[o.elements,u,f]),E=(0,a.useCallback)(S=>{c&&!M&&(Ot(S),EC(o.id,!0))},[o,c]),w=(0,a.useRef)(null);return b||!u&&y&&!r?null:y?(0,s.jsx)(vH,{caption:C,depth:r,"data-id":o.id},o.GUID):!u&&!r?(0,s.jsx)(mH,{onClick:k,iconName:h!=null?h:"bug",hasChildren:!!((e=o.elements)!=null&&e.length),title:g||C,isSelected:P,isDisabled:!!M,id:o.id,children:l},o.GUID):(0,s.jsxs)(k2,{children:[(0,s.jsxs)(M2,_H(yH({"data-testid":o.id,depth:u?r:r-1,onClick:k},d),{title:g||C,isSelected:P,ref:w,isDisabled:M,children:[(0,s.jsxs)(T2,{children:[h?(0,s.jsx)(Ct,{parentRef:w,name:h,size:16,color:I(P?"sidebar-icon-active":"sidebar-icon-default"),hoverColor:I("sidebar-icon-hover"),outerStyle:{width:16}}):null,(0,s.jsx)(F2,{depth:r,children:C})]}),(n=o.elements)!=null&&n.length?(0,s.jsx)(Ct,{parentRef:w,name:"arrow-down-s",type:"line",size:10,color:I("sidebar-icon-default"),hoverColor:M?I("sidebar-icon-hover"):"",outerStyle:{marginLeft:"10px",transition:"transform .3s ease",transform:p(o.GUID)?"rotate(-180deg)":""}}):x?(0,s.jsx)(Ct,{name:O!=null&&O.isNewAvailable?"add":"question",type:"line",size:13,color:I(M?"sidebar-icon-default":"sidebar-icon-hover"),onClick:E,outerStyle:{marginLeft:"10px",opacity:c?1:0}}):null]})),p(o.GUID)?l:null]},o.GUID)};var xH=(0,a.memo)(wH),SH=Object.defineProperty,LC=Object.getOwnPropertySymbols,PH=Object.prototype.hasOwnProperty,IH=Object.prototype.propertyIsEnumerable,HC=(t,e,n)=>e in t?SH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OH=(t,e)=>{for(var n in e||(e={}))PH.call(e,n)&&HC(t,n,e[n]);if(LC)for(var n of LC(e))IH.call(e,n)&&HC(t,n,e[n]);return t};const EH="side-bar__menu",kH=({schema:t})=>{const{menuScrollBarRef:e}=$a();return(0,s.jsx)(E2,{children:(0,s.jsx)(AC,{ref:e,children:(0,s.jsx)(Ps,{schema:t,testId:EH,renderElement:n=>(0,s.jsx)(xH,OH({},n),n.schema.GUID)})})})};var jH=(0,a.memo)(kH);const WC=(0,a.createContext)({getCaption:()=>null,schema:[],leftBarHide:!1,togglePanel:()=>{}}),RH=WC.Provider,DH=()=>(0,a.useContext)(WC),NH=(t,e)=>{const n=r=>{var o,l;return(l=(o=t[r])==null?void 0:o.caption)!=null?l:null};return{schema:e!=null?e:[],getCaption:n}},VC=(t,e,n,r=[],o=[])=>{const l=[];return t.forEach(i=>{const{elements:c,GUID:d,id:u}=i,m=n(d);Ul(c)?l.push(...VC(c,e,n,m?[...r,m]:r,[...o,{id:u,GUID:d}])):m&&m.toLowerCase().trim().includes(e.toLowerCase().trim())&&l.push({id:u,caption:m,pathCaptions:r,pathIds:o})}),l},MH=()=>{const[t,e]=(0,a.useState)(""),[n,r]=(0,a.useState)(!1),{scrollToItem:o}=$a(),l=t!=="",{getCaption:i,schema:c,leftBarHide:d,togglePanel:u}=DH(),{addOpenedSubMenuIds:m}=$a(),f=()=>r(!0),p=()=>r(!1),v=()=>e(""),b=()=>t,y=O=>{e(O.target.value)},h=hd()(y,200),g=(0,a.useMemo)(()=>VC(c,t,i),[t,c]);return{hasSearchValue:l,debounceHandleInputChange:h,clearSearchValue:v,getSearchValue:b,handleInputChange:y,resultItems:g,handleResultItemClick:(O,M,P=!0)=>{var x;const k=[...O];!d&&k.length&&u((x=k.shift())==null?void 0:x.GUID),k.length&&m(k.map(w=>w.GUID));const E=M||k[k.length-1].id;M&&(Ge.saveSelectedMainMenuItemId(M),P&&Ge.onMainMenuCommandSend({id:M,controlId:"mainMenu"})),o(E),p()},isOpenResults:n,showResults:f,closeResults:p}},UC=t=>t.toLowerCase().trim();var TH=({items:t,searchValue:e,onItemClick:n})=>(0,s.jsx)(V2,{children:t.length?t.map(r=>{const{caption:o}=r,l=UC(o).indexOf(UC(e)),i=l+e.length,c=u=>{u.preventDefault(),n(r.pathIds,r.id)},d=u=>{u.preventDefault(),n(r.pathIds,r.id,!1)};return(0,s.jsxs)(U2,{children:[(0,s.jsx)(SC,{onClick:c,children:l<0?o:(0,s.jsxs)(s.Fragment,{children:[o.substring(0,l),(0,s.jsx)(Z2,{children:o.substring(l,i)}),o.substring(i)]})}),(0,s.jsx)(G2,{onClick:d,children:r.pathCaptions.join(" - ")})]},r.id)}):(0,s.jsx)(SC,{style:{cursor:"default"},children:"\u041D\u0435\u0442 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432"})}),FH=Object.defineProperty,GC=Object.getOwnPropertySymbols,AH=Object.prototype.hasOwnProperty,BH=Object.prototype.propertyIsEnumerable,ZC=(t,e,n)=>e in t?FH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$H=(t,e)=>{for(var n in e||(e={}))AH.call(e,n)&&ZC(t,n,e[n]);if(GC)for(var n of GC(e))BH.call(e,n)&&ZC(t,n,e[n]);return t},zH=()=>{const{hasSearchValue:t,clearSearchValue:e,getSearchValue:n,handleInputChange:r,resultItems:o,handleResultItemClick:l,isOpenResults:i,showResults:c,closeResults:d}=MH();return(0,s.jsx)(yo,{onClickOutside:d,children:(0,s.jsxs)(H2,{children:[(0,s.jsx)(W2,{placeholder:"\u041F\u043E\u0438\u0441\u043A",value:n(),onChange:r,onFocus:c}),(0,s.jsx)(Ct,$H({name:t?"close":"search",size:16,color:I("sidebar-search-icon-default"),type:"line",outerStyle:{cursor:"pointer"}},t?{onClick:e}:{})),t&&i?(0,s.jsx)(TH,{items:o,searchValue:n(),onItemClick:l}):null]})})};const LH="ri-layout-right-line ri-fw",HH="SidebarSearchIcon",WH="SidebarToggleOpenButton",VH=({menuSchema:t,turboVersion:e,leftBarHide:n})=>{const{isOpened:r,currentPanelName:o}=$a(),{emitToggleMenu:l}=tH(r);return(0,s.jsxs)(I2,{isOpened:r,leftBarHide:n,children:[(0,s.jsx)(O2,{className:LH,isOpened:r,onClick:l,"data-testid":WH}),(0,s.jsx)(L2,{isOpened:r,children:r?(0,s.jsx)(zH,{}):(0,s.jsx)(Dd,{onClick:l,icon:{name:"search",color:{default:"sidebar-search-icon-search-default",hover:"sidebar-search-icon-search-hover"}},bg:{color:{default:"sidebar-background-default",hover:"sidebar-background-hover"}},testId:HH})}),n?null:(0,s.jsx)(D2,{children:o&&r?o:null}),t?(0,s.jsx)(jH,{schema:t}):null,(0,s.jsx)(A2,{isOpened:r,children:e})]})};var UH=(0,a.memo)(VH);const GH=({appLogo:t,appLogoSmall:e,isOpened:n,leftBarHide:r,onLogoClick:o})=>{const l=(0,a.useMemo)(()=>(n?t:e)||"",[n,e,t]),i=(0,a.useCallback)(()=>{o&&o({id:"0"})},[o]);return(0,s.jsx)(z2,{leftBarHide:r,isOpened:n,onClick:i,children:(0,s.jsx)("img",{src:en(l),alt:"Logo"})})},ZH=({mainAppParams:{app:{appLogo:t,appLogoSmall:e},menu:{isOpened:n}}})=>({appLogo:t,appLogoSmall:e,isOpened:n});var KH=(0,lt.$j)(ZH)(GH),qH=Object.defineProperty,YH=Object.defineProperties,XH=Object.getOwnPropertyDescriptors,KC=Object.getOwnPropertySymbols,JH=Object.prototype.hasOwnProperty,QH=Object.prototype.propertyIsEnumerable,qC=(t,e,n)=>e in t?qH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eW=(t,e)=>{for(var n in e||(e={}))JH.call(e,n)&&qC(t,n,e[n]);if(KC)for(var n of KC(e))QH.call(e,n)&&qC(t,n,e[n]);return t},tW=(t,e)=>YH(t,XH(e));const nW="side-bar",rW=({isOpened:t,turboVersion:e,entities:n={},testId:r=nW,className:o,schema:l,leftBarHide:i,onLogoClick:c,selectedItemId:d})=>{const{menuSchema:u,leftBarHide:m,togglePanel:f,isActivePanel:p,activePanelGuid:v}=rH(l,i),b=nH(n,t,d,v),y=NH(n,l);return Ul(l)?(0,s.jsx)(RH,{value:tW(eW({},y),{leftBarHide:m,togglePanel:f}),children:(0,s.jsx)(kC.Provider,{value:b,children:(0,s.jsxs)(wC,{className:o,"data-testid":r,withLeftBar:!m,children:[(0,s.jsx)(KH,{leftBarHide:m,onLogoClick:c}),m?null:(0,s.jsx)(P2,{children:l.map(h=>(0,s.jsx)(sH,{isActive:p(h.GUID),onClick:()=>f(h.GUID),iconName:n[h.GUID].iconName,isDisabled:n[h.GUID].isDisabled,testId:h.id,title:n[h.GUID].caption},h.GUID))}),(0,s.jsx)(UH,{menuSchema:u,turboVersion:e,leftBarHide:m})]})})}):null},oW=({mainAppParams:{menu:{isOpened:t,leftBarHide:e,schema:n,entities:r,selectedItemId:o},version:l}})=>({isOpened:t,turboVersion:l,leftBarHide:!!e,schema:n,entities:r,selectedItemId:o});var lW=(0,lt.$j)(oW)(rW);const aW=B.ZP.div`
  background: ${()=>I("toolbar-background-default")};
  display: flex;
  align-items: stretch;
  padding: 0 16px;
  & .list-button {
    display: flex;
    align-items: center;
    padding: 8px;
    &:hover {
      background: ${()=>I("toolbar-background-hover")};
    }
    
    button {
      width: 24px;
      min-width: 24px;
      max-width: 24px;
      height: 24px;
      background: transparent;
      border: none;
      filter: invert(100%);
      
    }
  }
`,sW=B.ZP.div`
  display: flex;
  align-items: center;
  padding: 8px;
  cursor: pointer;
  &:hover, &.clicked {
    background: ${()=>I("toolbar-background-hover")};
  }
`;var YC=({iconName:t,title:e,name:n,onClick:r,className:o})=>{const l=(0,a.useRef)(null);return(0,s.jsx)(sW,{ref:l,onClick:()=>r(n),title:e,"data-testid":"toolbarButton_"+n,className:o,children:(0,s.jsx)(Ct,{name:t,color:I("toolbar-icon-default"),hoverColor:I("toolbar-icon-hover"),size:24,parentRef:l})})};const iW=24;var cW=Object.defineProperty,XC=Object.getOwnPropertySymbols,uW=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,JC=(t,e,n)=>e in t?cW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fW=(t,e)=>{for(var n in e||(e={}))uW.call(e,n)&&JC(t,n,e[n]);if(XC)for(var n of XC(e))dW.call(e,n)&&JC(t,n,e[n]);return t},pW=({iconName:t,getEntity:e,name:n,elements:r,onClick:o})=>(0,s.jsx)(wl,{name:n,testId:n,iconName:t,iconSize:iW,children:r.map(l=>{const{type:i,name:c}=l,d=e(i,c);return(0,s.jsx)(Ut,fW({onClick:()=>o(c)},d),c)})},n);const mW=({schema:t,entities:e,isOpenedMenu:n})=>{const r=(i,c)=>{var d;return(d=e[i][c])!=null?d:{}},o=i=>{i&&Ge.onToolbarCommandSend&&Ge.onToolbarCommandSend({id:i,mode:"toolbarClick",controlId:"toolBar"})},l=()=>{Ge.onMainMenuOpen&&Ge.onMainMenuOpen(!n)};return!t.length&&(0,zt.isEmpty)(e)?null:(0,s.jsxs)(aW,{children:[(0,s.jsx)(YC,{title:n?"\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E":"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043C\u0435\u043D\u044E",name:"burger",iconName:"menu",onClick:l,className:n?"clicked":""}),t.map(i=>{const{type:c,name:d,elements:u}=i,{caption:m,iconName:f}=r(c,d);return c==="button"?(0,s.jsx)(YC,{name:d,title:m,iconName:f,onClick:o},d):c==="listButton"&&u&&u.length?(0,s.jsx)(pW,{name:d,iconName:f,elements:u,getEntity:r,onClick:o},d):null})]})},vW=({mainAppParams:{menu:{isOpened:t}}})=>({isOpenedMenu:t});var hW=(0,lt.$j)(vW)(mW),gW=Object.defineProperty,bW=Object.defineProperties,yW=Object.getOwnPropertyDescriptors,QC=Object.getOwnPropertySymbols,_W=Object.prototype.hasOwnProperty,CW=Object.prototype.propertyIsEnumerable,ew=(t,e,n)=>e in t?gW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ni=(t,e)=>{for(var n in e||(e={}))_W.call(e,n)&&ew(t,n,e[n]);if(QC)for(var n of QC(e))CW.call(e,n)&&ew(t,n,e[n]);return t},tw=(t,e)=>bW(t,yW(e));const Jo="base-layout";function wW(t){const{className:e,isMainMenuPinned:n,isMainMenuOpened:r,isMainMenuExcluded:o,webUiLanguage:l,forms:i,uploadForm:c,colorPickerForm:d,activeFormStackId:u,toolbarData:m,userName:f,roleName:p,version:v}=t,b=[],y=[],h=hC();for(const N in i)if($e(i,N)){const L=i[N];switch(L.openMode){case"modal":b.unshift(L);break;default:y.push(L);break}}const g=b[0],C=(0,lt.v9)(Dt),O=(0,lt.v9)(mC),M=(0,a.useCallback)(N=>{vs(N)&&pm(N)&&h(Dc({commandName:"Calculator",controlId:"toolBar",id:"Calculator"}))},[]),P=(0,a.useCallback)(()=>{var N,L;C||(N=Ge)!=null&&N.onMainMenuOpen&&!n&&r&&((L=Ge)==null||L.onMainMenuOpen(!1))},[n,r,C]),x=(0,a.useCallback)(N=>{var L,j;const{id:R,close:H}=N;H?(j=Ge)==null||j.onFormStackClose({formId:R}):(L=Ge)==null||L.onFormStackActive({formId:R})},[]),k=(0,a.useCallback)(({value:N})=>{var L;const{formId:j}=c;(L=Ge)==null||L.onUploadApprove({formId:j,fileList:N})},[c]),E=(0,a.useCallback)(({value:N})=>{var L;const{formId:j}=c;(L=Ge)==null||L.onUploadAbort({formId:j,fileList:N})},[c]),w=(0,a.useCallback)(({value:N,metaSet:L})=>{var j;const{formId:R}=L;(j=Ge)==null||j.onChooseColorApprove({formId:R,value:N})},[]),S=(0,a.useCallback)(({metaSet:N})=>{var L;const{formId:j}=N;(L=Ge)==null||L.onChooseColorAbort({formId:j})},[]),F=(0,a.useCallback)(({value:N,metaSet:{formId:L,controlId:j}})=>{var R;(R=Ge)==null||R.onClientError({message:N,formId:L,controlId:j})},[]),A=(0,a.useCallback)(({value:N})=>{var L;(L=Ge)==null||L.onModalFormClose({formId:N})},[]),$=be()(e,Jo),U=be()(`${Jo}__main-menu-wrapper`,{excluded:!r&&!C}),V=be()(`${Jo}__side-bar`,{themed:!!C});return(0,s.jsxs)("div",{className:$,tabIndex:-1,onKeyDown:M,children:[(0,s.jsx)("div",{className:`${Jo}__top-area`,children:O?C&&!(0,zt.isEmpty)(C)?(0,s.jsx)(hW,Ni({},m)):(0,s.jsx)(wk,{isMainMenuOpen:r,isMainMenuExcluded:o,toolbarData:m,userName:f,roleName:p,version:v}):null}),(0,s.jsxs)("div",{className:`${Jo}__main-area`,children:[(0,s.jsx)("div",{className:V,children:(0,s.jsx)(yo,{className:U,eventTypes:["click","touchend"],onClickOutside:P,outsideClickIgnoreClass:"header__main-menu-button",children:C?(0,s.jsx)(lW,{onLogoClick:x}):(0,s.jsx)(PE,{testId:"main-menu"})})}),(0,s.jsx)("div",{className:`${Jo}__desc-top`,children:(0,s.jsx)(e2,{className:`${Jo}__form-stack`,activeFormStackId:u,forms:y,onFormStackClick:x,webUiLanguage:l,userName:f,roleName:p,version:v})})]}),g&&(0,s.jsx)(d2,{onClose:A,caption:g==null?void 0:g.formName,icon:g==null?void 0:g.formIcon,id:g==null?void 0:g.formId,style:g==null?void 0:g.style,winCanResize:g==null?void 0:g.winCanResize,children:(0,s.jsx)(Id,Ni({},g))}),c&&(0,s.jsx)(m2,tw(Ni({},c),{onUploadApprove:k,onUploadAbort:E})),d&&(0,s.jsx)(x2,tw(Ni({},d),{onApprove:w,onAbort:S,onError:F}))]})}var xW=(0,a.memo)(wW);function Nd(t){return t.formStackQueue.length?t.formStackQueue[0]:null}const SW="workspace-page";function PW(t){const{isMainMenuPinned:e,isMainMenuOpened:n,isMainMenuExcluded:r,webUiLanguage:o,forms:l,uploadForm:i,colorPickerForm:c,activeFormStackId:d,toolbarData:u,userName:m,roleName:f,version:p,initAppState:v,getForm:b,isFirstRender:y,workspaceSetFirstRender:h}=t,{formType:g,recordId:C}=(0,nn.UO)(),{search:O}=(0,nn.TH)(),M=(0,nn.s0)();return(0,a.useEffect)(()=>{uc()||dc(m),window.onstorage=function(P){if(P.newValue==="test")return;let x;try{switch(x=JSON.parse(P.newValue),P.key){case Do.URL_PARAMS:if(uc()===m){const{formType:k,recordId:E,search:w}=x;let S=[];k&&(S.push(k),E&&S.push(E),M("/workspace/"+S.join("/")+w),bS(),alert("\u0421\u0441\u044B\u043B\u043A\u0430 \u043E\u0442\u043A\u0440\u044B\u0442\u0430"))}break;case Do.AUTHORIZED:x||dc(m);break;default:break}}catch(k){return!1}}},[]),(0,a.useEffect)(()=>{let P;g&&(P={formType:g},C&&(P.recordId=C),O&&(P.params=O.slice(1))),y?(h(!1),v(P)):P&&b(P)},[g,C,O]),(0,s.jsx)(xW,{className:SW,isMainMenuPinned:e,isMainMenuOpened:n,isMainMenuExcluded:r,webUiLanguage:o,forms:l,uploadForm:i,colorPickerForm:c,activeFormStackId:d,toolbarData:u,userName:m,roleName:f,version:p})}function IW(t){const{authorize:e,mainAppParams:n,forms:r,uploadForm:o,colorPickerForm:l}=t,{version:i,languages:{webUiLanguage:c},toolbar:d,menu:{isOpened:u,isPinned:m,schema:f},workspace:{isFirstRender:p}}=n;return{userName:e.userName,roleName:e.roleName,version:i,webUiLanguage:c,isMainMenuPinned:m,isMainMenuOpened:u,isMainMenuExcluded:!(f!=null&&f.length),toolbarData:d,activeFormStackId:Nd(t),forms:r,uploadForm:o,colorPickerForm:l,isFirstRender:p}}var Md=(0,lt.$j)(IW,{initAppState:bc,getForm:Kf,workspaceSetFirstRender:fp})((0,a.memo)(PW)),J6={popperIconSize:"18px",primaryColor:"#0bd688"};const qt="login-layout",nw=t=>{const{webUiLanguage:e,setLanguagesRequest:n,className:r,serverLanguages:o,isSessionExist:l,isError:i,errorMessage:c,isDisabled:d,onLoginFocus:u,onLoginChange:m,onPasswordChange:f,onLoginSelect:p,onSubmit:v,loginValue:b,passwordValue:y,metaSet:h,events:g,loginList:C,version:O,onSso:M}=t,[P,x]=(0,a.useState)(!1),[k,E]=(0,a.useState)(""),w=(0,a.useRef)(null),S=(0,a.useRef)(null),F=be()(r,qt),A=(0,a.useCallback)(({value:K})=>x(K),[]),$=(0,a.useCallback)(({event:K})=>{if(d)return;const Z={user:Ss((w.current.innerText||w.current.value||"").trim()),password:Ss(S.current.innerText||S.current.value||""),forceLogin:P,language:e,obf:!0};let G=!0;if(v&&(G=v({event:K,metaSet:h,value:Z})),G&&(g!=null&&g.onSubmit)){const{alias:re,args:ee}=g.onSubmit;G=he[re]({event:K,metaSet:h,args:ee,value:Z})}return G},[P,e,h,v,g,d]),U=(0,a.useCallback)(()=>{M&&M({forceLogin:P})},[M,P]),V=K=>K.icon?(0,s.jsx)("img",{className:`${qt}__language-container-icon`,title:K.name,src:en(K.icon),alt:K.name}):"",N=(0,a.useCallback)(K=>{const Z=K.currentTarget.dataset.lngCode;n({webUiLanguage:Z.toLowerCase()})},[n]),L=(K,Z)=>{const G=`${qt}__language-container-code`,re=K?K.map(ee=>(0,s.jsxs)("div",{onClick:N,className:`${qt}__language-container`,"data-lng-code":ee.code,children:[(0,s.jsx)("button",{className:be()(G,{[`${G}_active`]:Z===ee.code.toLowerCase()}),children:ee.code.toUpperCase()}),V(ee)]},"language-container-code"+ee.code)):"";return(0,s.jsx)("div",{className:`${qt}__language`,children:re})},j=(0,a.useCallback)(({event:K})=>{if(d)return;const{value:Z}=K.currentTarget;let G=!0;if(u&&(G=u({event:K,metaSet:h,value:Z})),G&&(g!=null&&g.onLoginFocus)){const{alias:re,args:ee}=g.onLoginFocus;G=he[re]({event:K,metaSet:h,args:ee,value:Z})}return G},[d,h,g,u]),R=(0,a.useCallback)(({event:K,value:{root:Z}})=>{if(d)return;let G=!0;if(p&&(G=p({event:K,metaSet:h,value:Z})),G&&(g!=null&&g.onLoginSelect)){const{alias:re,args:ee}=g.onLoginSelect;G=he[re]({event:K,metaSet:h,args:ee,value:Z})}return G},[d,h,g,p]),H=(0,a.useCallback)(({event:K,value:Z})=>{if(E("user"),d)return;let G=!0;if(m&&(G=m({event:K,metaSet:h,value:Z})),G&&(g!=null&&g.onLoginChange)){const{alias:re,args:ee}=g.onLoginChange;G=he[re]({event:K,metaSet:h,args:ee,value:Z})}return G},[d,h,g,m]),W=(0,a.useCallback)(({event:K,value:Z})=>{if(E("password"),d)return;let G=!0;if(f&&(G=f({event:K,metaSet:h,value:Z})),G&&(g!=null&&g.onPasswordChange)){const{alias:re,args:ee}=g.onPasswordChange;G=he[re]({event:K,metaSet:h,args:ee,value:Z})}return G},[d,h,g,f]);return(0,s.jsxs)("div",{className:F,children:[L(o,e),(0,s.jsxs)("div",{className:`${qt}__form`,children:[(0,s.jsx)("div",{className:be()(`${qt}__logo`,{[`${qt}__logo_ru`]:e==="ru",[`${qt}__logo_en`]:e==="en"})}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{className:`${qt}__input-container`,children:[(0,s.jsx)("label",{className:`${qt}__label`,children:rt.t("login_username")}),(0,s.jsx)(An,{name:"username",focusedElement:w,className:`${qt}__input`,isAutocomplete:!0,listValues:C,onFocus:j,onSelect:R,hasActiveMode:!1,isNameField:!0,isControlledValue:!0,value:b,onChange:H,currentFieldName:k,onEnter:$,testId:"user",metaSet:{stayOnEditableMode:!0}})]}),(0,s.jsxs)("div",{className:`${qt}__input-container`,children:[(0,s.jsx)("label",{className:`${qt}__label`,children:rt.t("login_password")}),(0,s.jsx)(An,{focusedElement:S,className:`${qt}__input`,isPassword:!0,testId:"password",onEnter:$,isControlledValue:!0,hasActiveMode:!1,onChange:W,currentFieldName:k,value:y})]}),l?(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:`${qt}__force-login-container`,children:[(0,s.jsx)(Zo,{onChange:A,value:P,className:`${qt}__force-login-checkbox`}),(0,s.jsx)("div",{className:`${qt}__force-login-caption`,children:rt.t("login_disable")})]})}):"",(0,s.jsxs)("div",{className:`${qt}__button-container`,children:[(0,s.jsx)(Ut,{onClick:$,className:`${qt}__login-button ${qt}__login-button_default`,caption:rt.t("login_enter")}),(0,s.jsx)(Ut,{onClick:U,className:`${qt}__login-button ${qt}__login-button_sso`,caption:rt.t("login_enter_sso")})]})]}),i?(0,s.jsxs)("div",{className:`${qt}__error`,children:[(0,s.jsx)(fn(),{name:"exclamation-triangle",className:`${qt}__error-icon`}),c?(0,nr.ZP)(c):rt.t("login_session_exist")]}):""]}),O&&(0,s.jsx)("div",{className:`${qt}__version`,children:O})]})};nw.defaultProps={isDisabled:!1};var OW=nw,Q6={popperIconSize:"18px",primaryColor:"#0bd688"},EW=Object.defineProperty,rw=Object.getOwnPropertySymbols,kW=Object.prototype.hasOwnProperty,jW=Object.prototype.propertyIsEnumerable,ow=(t,e,n)=>e in t?EW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RW=(t,e)=>{for(var n in e||(e={}))kW.call(e,n)&&ow(t,n,e[n]);if(rw)for(var n of rw(e))jW.call(e,n)&&ow(t,n,e[n]);return t};const DW="login-page";function NW(t){const{version:e,serverLanguages:n,webUiLanguage:r,isSessionExist:o,isError:l,errorMessage:i,loginRequest:c,setLanguagesRequest:d,addClientError:u}=t,{formType:m,recordId:f}=(0,nn.UO)(),{search:p}=(0,nn.TH)(),v=(0,nn.s0)();(0,a.useEffect)(()=>{dc(!1),window.onstorage=S=>{S.key===Do.AUTHORIZED&&m&&JSON.parse(S.newValue)&&confirm(`\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0432\u043E \u0432\u043A\u043B\u0430\u0434\u043A\u0435 \u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u043C ${uc()}?`)&&(yS({formType:m,recordId:f,search:p}),alert("\u041C\u043E\u0436\u0435\u0442\u0435 \u0437\u0430\u043A\u0440\u044B\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0432\u043A\u043B\u0430\u0434\u043A\u0443"),v("/login"))}},[]);const[b,y]=(0,a.useState)([]),[h,g]=(0,a.useState)(""),[C,O]=(0,a.useState)(""),M=(0,a.useCallback)(()=>{const S=df();return y(S),!0},[]),P=(0,a.useCallback)(({value:S})=>(g(S),!1),[]),x=(0,a.useCallback)(({value:S})=>{g(S);const A=df().filter(({value:$})=>S===$.slice(0,S.length));return y(A),!0},[]),k=(0,a.useCallback)(({value:S})=>{O(S)},[]),E=(0,a.useCallback)(({value:S})=>S.user===""?(u({message:"error_invalid_username_password"}),!1):(c(S),!0),[c]),w=(0,a.useCallback)(S=>{c(RW({sso:!0},S))},[c]);return(0,s.jsx)(OW,{className:DW,serverLanguages:n,webUiLanguage:r,isSessionExist:o,isError:l,errorMessage:i,loginRequest:c,setLanguagesRequest:d,version:e,onSubmit:E,onLoginFocus:M,onLoginSelect:P,onLoginChange:x,onPasswordChange:k,onSso:w,loginList:b,loginValue:h,passwordValue:C})}function MW({authorize:t,mainAppParams:e}){const{version:n,languages:{serverLanguages:r,webUiLanguage:o}}=e,{isSessionExist:l,isError:i,errorMessage:c}=t;return{version:n,serverLanguages:r,webUiLanguage:o,isSessionExist:l,isError:i,errorMessage:c}}var Td=(0,lt.$j)(MW,{loginRequest:Pp,setLanguagesRequest:Mc,addClientError:is})((0,a.memo)(NW)),TW=Ve(23493),FW=Ve.n(TW),e9={popperIconSize:"18px",primaryColor:"#0bd688"};const lw="sc-",AW=B.vJ`
  *[class^='${lw}'], *[class*=' ${lw}'] {
    font-family: Ubuntu;
  }
`,BW=()=>{const t=(0,lt.v9)(e=>e.authorize.clientMaxIdlePeriod);(0,a.useEffect)(()=>(Wo(window,Ao.getEvents()),()=>Vo(window,Ao.getEvents())),[]),(0,a.useEffect)(()=>{t?(Ao.setTime(t),Ao.start()):Ao.stop()},[t]),(0,a.useEffect)(()=>{var e;(e=Ge)!=null&&e.onLogOut&&Ao.whenTimeEnds(Ge.onLogOut)},[Ge.onLogOut])};function $W(t){const{isUserIntoTab:e,modalPopUp:n,removeModalPopUp:r,setPageZoom:o,appIcon:l,palette:i}=t,c=(0,a.useCallback)(FW()(o,500,{trailing:!0}),[o]),{pageZoom:d}=(0,lt.v9)(f=>f.mainAppParams);BW(),(0,a.useEffect)(()=>{fo(l?en(l):js);const f=()=>{document.activeElement.blur()};return Wo([window],{blur:f}),()=>{Vo([window],{blur:f})}},[]),(0,EE.usePinch)(f=>{const p=f.offset[0];if(d===p)return null;p<1?(c(p),document.body.style.touchAction="none",document.body.style.height=`${100/p}%`,document.body.style.width=`${100/p}%`,document.body.style.scale=p):d!==1&&(c(1),document.body.style.touchAction=null,document.body.style.height=null,document.body.style.width=null,document.body.style.scale=null)},{scaleBounds:{min:.25,max:1},pinchOnWheel:!1,target:document.body});const u=(0,a.useCallback)(({id:f})=>{const p=new Event("focus");r({id:f});const{formId:v,controlId:b,rowId:y,rowControlId:h,tableControlId:g}=(n==null?void 0:n[f])||{};if(v&&b){const C=cf({rowId:y,rowControlId:h,tableControlId:g,controlId:b,formId:v});C&&C.dispatchEvent(p)}},[r,n]);if(!Ka())return(0,s.jsx)(AE,{});let m=null;return e?m=(0,s.jsxs)(nn.Z5,{children:[(0,s.jsx)(nn.AW,{path:"/login/:formType/:recordId",element:(0,s.jsx)(Co,{to:"/workspace/:formType/:recordId"})}),(0,s.jsx)(nn.AW,{path:"/login/:formType",element:(0,s.jsx)(Co,{to:"/workspace/:formType"})}),(0,s.jsx)(nn.AW,{path:"/login",element:(0,s.jsx)(Co,{to:"/workspace"})}),(0,s.jsx)(nn.AW,{path:"/",element:(0,s.jsx)(Co,{to:"/workspace"})}),(0,s.jsx)(nn.AW,{path:"/workspace/:formType/:recordId",element:(0,s.jsx)(Md,{})}),(0,s.jsx)(nn.AW,{path:"/workspace/:formType",element:(0,s.jsx)(Md,{})}),(0,s.jsx)(nn.AW,{path:"/workspace",element:(0,s.jsx)(Md,{})})]}):m=(0,s.jsxs)(nn.Z5,{children:[(0,s.jsx)(nn.AW,{path:"/workspace/:formType/:recordId",element:(0,s.jsx)(Co,{to:"/login/:formType/:recordId"})}),(0,s.jsx)(nn.AW,{path:"/workspace/:formType",element:(0,s.jsx)(Co,{to:"/login/:formType"})}),(0,s.jsx)(nn.AW,{path:"/workspace",element:(0,s.jsx)(Co,{to:"/login"})}),(0,s.jsx)(nn.AW,{path:"/",element:(0,s.jsx)(Co,{to:"/login"})}),(0,s.jsx)(nn.AW,{path:"/login/:formType/:recordId",element:(0,s.jsx)(Td,{})}),(0,s.jsx)(nn.AW,{path:"/login/:formType",element:(0,s.jsx)(Td,{})}),(0,s.jsx)(nn.AW,{path:"/login",element:(0,s.jsx)(Td,{})})]}),(0,s.jsxs)(B.f6,{theme:i,children:[(0,s.jsx)(AW,{}),(0,s.jsx)(KE,{}),(0,s.jsx)(tk,{modalPopUp:n,onPopUpClose:u}),(0,s.jsx)(QE,{}),m]})}function zW(t){var e;const{mainAppParams:{app:{appIcon:n,appSkin:r}},authorize:{isUserIntoTab:o},modalPopUp:l}=t,i=(e=r==null?void 0:r.colors.palette)!=null?e:{};return{isUserIntoTab:o,modalPopUp:l,appIcon:n,palette:i}}var LW=(0,lt.$j)(zW,{removeModalPopUp:np,setPageZoom:pp})($W),ne=Ve(34857);function aw(t){return t.authorize}var HW=Object.defineProperty,WW=Object.defineProperties,VW=Object.getOwnPropertyDescriptors,Mi=Object.getOwnPropertySymbols,sw=Object.prototype.hasOwnProperty,iw=Object.prototype.propertyIsEnumerable,cw=(t,e,n)=>e in t?HW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UW=(t,e)=>{for(var n in e||(e={}))sw.call(e,n)&&cw(t,n,e[n]);if(Mi)for(var n of Mi(e))iw.call(e,n)&&cw(t,n,e[n]);return t},GW=(t,e)=>WW(t,VW(e)),ZW=(t,e)=>{var n={};for(var r in t)sw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Mi)for(var r of Mi(t))e.indexOf(r)<0&&iw.call(t,r)&&(n[r]=t[r]);return n};function Fd(t){const e={schema:[],entities:{}};$e(t,"ShowAppToolbar")&&(e.showAppToolbar=t.ShowAppToolbar);function n(r){return r==null?void 0:r.map(o=>{const l=o,{type:i,name:c,elements:d}=l,u=ZW(l,["type","name","elements"]),m={type:i,name:c};return e.entities[i]||(e.entities[i]={}),e.entities[i][c]=GW(UW({},u),{name:c,type:i}),d!=null&&d.length&&(m.elements=n(o.elements)),m})}return e.schema=n(t.elements),e}var KW=Ve(30236),Ad=Ve.n(KW),qW=Ve(82492),uw=Ve.n(qW),YW=Object.defineProperty,Ti=Object.getOwnPropertySymbols,dw=Object.prototype.hasOwnProperty,fw=Object.prototype.propertyIsEnumerable,pw=(t,e,n)=>e in t?YW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kr=(t,e)=>{for(var n in e||(e={}))dw.call(e,n)&&pw(t,n,e[n]);if(Ti)for(var n of Ti(e))fw.call(e,n)&&pw(t,n,e[n]);return t},Fi=(t,e)=>{var n={};for(var r in t)dw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ti)for(var r of Ti(t))e.indexOf(r)<0&&fw.call(t,r)&&(n[r]=t[r]);return n};function XW({source:t,expandedNodeId:e,insert:n}){var r;if(!t)return n;const o=Mo({source:t,iterationKey:"children",searchValue:e,searchKey:"nodeId"});if(!o||!n)return t;if((r=o.children)!=null&&r.length){let l=[...No(n)];const i=o.children.map(function(c){const d=l.find(m=>m.nodeId===c.nodeId);let u;if(d){const m=d,{GUID:f}=m,p=Fi(m,["GUID"]);u=kr(kr({},c),p),l=l.filter(v=>v.nodeId!==d.nodeId)}return u});o.children=[...i,...l]}else o.children=No(n);return t}function JW(...t){if(t.length===0)return null;if(t.length===1)return t[0];const[e,...n]=t;let r=e;return n.forEach(function(o){const{expandedNodeId:l,currentNodeId:i,forceUpdate:c}=o;i&&(r.currentNodeId=i),c&&(r.nodes=o.nodes),l&&!c&&(r.nodes=XW({source:r.nodes,expandedNodeId:l,insert:o.nodes}),delete o.nodes),o.updates&&(o.updates.forEach(d=>{const u=Mo({source:r.nodes,iterationKey:"children",searchValue:d.nodeId,searchKey:"nodeId"});u&&Object.assign(u,d)}),delete o.updates),r=uw()(r,o)}),r}function QW(...t){if(t.length===0)return null;if(t.length===1){const o=t[0];return delete o.needForceUpdate,delete o.expandedNodeId,o}let[e,...n]=t,r=e;return n.forEach(function(o){const l=o,{expandedNodeId:i,currentNodeId:c,entities:d,bindings:u,openNodesIds:m,needForceUpdate:f}=l,p=Fi(l,["expandedNodeId","currentNodeId","entities","bindings","openNodesIds","needForceUpdate"]);if(f){r=o,delete r.needForceUpdate,delete r.expandedNodeId;return}c&&(r.currentNodeId=c),i?o.schema?(r.entities=kr(kr({},r.entities),o.entities),r.bindings=kr(kr({},r.bindings),o.bindings),r.openNodesIds=[...Array.from(new Set([...r.openNodesIds||[],...o.openNodesIds||[],i]))]):r.entities[i].isExpansible=!1:(r.schema=kr({},o.schema),r.entities=kr({},o.entities),r.bindings=kr({},o.bindings),o.openNodesIds&&(r.openNodesIds=[...o.openNodesIds])),r=uw()(r,p)}),r}function eV(t,e){const n=t,{expandedNodeId:r,elements:o,currentNodeId:l,name:i,type:c}=n,d=Fi(n,["expandedNodeId","elements","currentNodeId","name","type"]),u={},m={},f=[];let p;function v(y){if(!y)return null;const h=y,{nodeId:g,elements:C,toggled:O}=h,M=Fi(h,["nodeId","elements","toggled"]),P=Ua({nodeId:g});return m[g]=P.GUID,u[g]=kr({},M),O&&f.push(g),C!=null&&C.length&&(P.elements=C.map(v)),P}const b=o==null?void 0:o.length;return b&&(b===1?p=v(o[0]):p=o.map(v)),kr({schema:p,entities:u,bindings:m,openNodesIds:f,expandedNodeId:r,currentNodeId:l,name:i,type:c,events:er({stateElement:t,type:c,formData:e})},d)}var tV=Object.defineProperty,nV=Object.defineProperties,rV=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,oV=Object.prototype.hasOwnProperty,lV=Object.prototype.propertyIsEnumerable,vw=(t,e,n)=>e in t?tV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e)=>{for(var n in e||(e={}))oV.call(e,n)&&vw(t,n,e[n]);if(mw)for(var n of mw(e))lV.call(e,n)&&vw(t,n,e[n]);return t},gn=(t,e)=>nV(t,rV(e));function aV(...t){if(t.length===0)return null;if(t.length===1)return t[0];const[e,n,...r]=t,o=r.flat();let l=e;const i=l.rows.flat(),c=i.length&&i.reduce((u,m)=>{var f;const p=m.elements;return p!=null&&p.name&&(u[p.name]=m.elements,p.type==="listButton"&&((f=u[p.name].elements)==null||f.forEach(v=>{const b=o.find(y=>y.name===v.name);b&&Object.assign(v,b)}))),u},{}),d=Object.keys(c).reduce((u,m)=>{var f,p;let v=o.find(g=>g.name===m);v===void 0&&(v=(f=l==null?void 0:l.columnsData)==null?void 0:f[m]);const b=(p=(0,zt.flatten)(n==null?void 0:n.headersData))==null?void 0:p.find(g=>g.name===m);let y={};b&&(y={width:b==null?void 0:b.width});const h=c[m];return h&&(u[m]=St(St(St({},h),v),y)),u},{});if(n.isDifferenceUpdate){const u=n.rowsData,m=l.rowsData;u!=null&&u.length&&u.forEach(f=>{const p=m.findIndex(v=>v.rowId===f.rowId);p!==-1?m[p]=f:m.push(f)}),n.rowsData=m}return delete n.isDifferenceUpdate,gn(St(St({},l),n),{columnsData:d})}function sV(t,e,n){if(!t&&!e)return null;let r=e?JSON.parse(JSON.stringify(e)):t;return e&&t.currentColumnId&&(r.currentColumnId=t.currentColumnId),e&&Object.keys(t).length&&(r.columnsData.forEach((o,l)=>{o.style.width||(o.style.width=t.columnsData[l].style.width)}),r.rowsData.forEach((o,l)=>{Object.keys(o).forEach(i=>{var c,d,u;const m=o[i];typeof m=="object"&&m.isDisabledByAutolock===void 0&&(n!==!1?m.isDisabledByAutolock=(u=(d=(c=t.rowsData)==null?void 0:c[l])==null?void 0:d[i])==null?void 0:u.isDisabledByAutolock:m.isDisabledByAutolock=!1)})})),r}function iV(t,e,n=null){var r,o,l;const i=St({},t),{name:c,isCardFile:d,isInPlaceEdit:u,headersEntities:m,actions:f,initialValue:p,rowsData:v,selectedRowIds:b,currentRowId:y,showServiceRow:h,columnsData:g}=i;if(m!=null&&m.length){const L=i.headersEntities.flat(1).map(j=>(0,ur.qC)(R=>(R.isFixSize=!!R.isFixSize,R),R=>hn(R))(j));i.headersEntities=cS(L,"name")}p||(i.initialValue={currentRowId:null,selectedRowIds:null}),v!=null&&v.length&&(i.rowsData=v.map(hn));const C=St({type:"table",controlId:c},e),O=d&&u;i.events={onEnter:(f==null?void 0:f.includes("onEnter"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onEnter"})},onShowContextMenu:(f==null?void 0:f.includes("showPopupMenu"))&&{alias:"onShowContextMenu",args:gn(St({},C),{action:"onShowContextMenu"})},onHierarchyButtonClick:(f==null?void 0:f.includes("hierarchyUp"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"hierarchyUp"})},onClickIcon:(f==null?void 0:f.includes("clickIcon"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"clickIcon"})},onRowsSelect:d&&{alias:"onFormControlEvent",args:C},onCellClick:{alias:"onFormControlEvent",args:C},onCellControlEvent:{alias:"onTableCellControlAction",args:C},onNavigation:{alias:"onFormControlEvent",args:gn(St({},C),{isEditableCardFile:O,action:"onNavigation"})},onMove:(f==null?void 0:f.includes("onMove"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onMove",isEditableCardFile:O})},onControlResize:{alias:"onTableHeaderResize",args:St({},C)},onRowsBlur:{alias:"onFormControlEvent",args:gn(St({},C),{isEditableCardFile:O,action:"onRowsBlur"})},onRowCounterClick:i.summaryRowCount&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onSummaryClick"})},onDoubleClick:(f==null?void 0:f.includes("onDblClick"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onDblClick"})},onStartPageMove:(f==null?void 0:f.includes("onTop"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onTop"})},onEndPageMove:(f==null?void 0:f.includes("onBottom"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onBottom"})},onPrevPageMove:(f==null?void 0:f.includes("onPgUp"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onPgUp"})},onNextPageMove:(f==null?void 0:f.includes("onPgDn"))&&{alias:"onFormControlEvent",args:gn(St({},C),{action:"onPgDn"})},onMenuItemSelect:{alias:"onFormControlEvent",args:gn(St({},C),{action:"onMenuItemSelect"})},onHeaderClick:{alias:"onFormControlEvent",args:gn(St({},C),{action:"onHeaderClick"})},onTableOrderChange:{alias:"onTableOrderChange",args:St({},C)},onHeaderCtxMenu:{alias:"onHeaderCtxMenu",args:gn(St({},C),{action:"onHeaderCtxMenu"})},onCloseHeaderCtxMenu:{alias:"onCloseHeaderCtxMenu",args:gn(St({},C),{action:"onCloseHeaderCtxMenu"})},onHeaderCtxMenuClick:{alias:"onFormControlEvent",args:gn(St({},C),{action:"onHeaderCtxMenuClick"})}};const M=i.headersSchema.map(N=>i.headersEntities?N.filter(j=>{var R;return!((R=i.headersEntities[j.name])!=null&&R.isExcluded)}).map(j=>{const R=St(St({},j),i.headersEntities[j.name]);return St({},R)}):[]),P=M.map(N=>({isZeroHeightRow:N.every(j=>j.invisibleBorders)}));function x(){return P.filter(N=>!N.isZeroHeightRow).length}function k(N){var L;let j=0,R=N.rowspan||1;const H=(L=N==null?void 0:N.linkedColumns)==null?void 0:L.filter(W=>W!==N.name);if(H!=null&&H.length&&M.forEach(W=>{const K=W.filter(Z=>H.includes(Z.name)&&Z.invisibleBorders);K!=null&&K.length?++R:R===x()&&--R}),N.linkedColumns=H,!N.invisibleBorders)for(let W=0;W<R;W++)P[W].isZeroHeightRow||++j;return j}const E=M.map((N,L)=>N.map(j=>{const R=k(j);return St({rowIndex:L,heightMultiplier:R},j)})),w=[...E].flat();function S(N){N.forEach(L=>{var j;const R=L.control;(j=R==null?void 0:R.actions)!=null&&j.length&&(R.events=er({type:R.type,stateElement:R,simplePair:!0,formData:e}),delete R.actions)})}function F({headerSchema:N,entities:L,rows:j,columnsInState:R}){const H=[];function W(Z){return pl(Z)}function K(Z){L.filter(re=>Z.includes(re.name)).forEach(({style:re,name:ee,isDisabled:ce,isFixSize:D,linkedColumns:z,showReferenceButton:q})=>{let J={},X=null;const ue=j.find(fe=>fe.elements.name===ee);if(ue){const{style:fe,elements:Ee}=ue;J=fe||{},X=Ee||{}}let de=R[ee];de&&(X=St(St({},X),de)),q&&X&&(X.showReferenceButton=q);const ge=z==null?void 0:z.filter(fe=>L.some(({name:Ee})=>Ee===fe));if(ge!=null&&ge.length)K(z);else{const fe={name:ee,isDisabled:ce,isFixSize:D,control:W(X),style:St(St({},J),re)};H.push(fe)}})}return K(N),H}function A(N,L){function j(R){return L.filter(W=>R.includes(W.name)).map(W=>{var K,Z;const[G,re]=iS(W.style);if(W.style=re,W.events=W.actions,delete W.actions,W.sizes={fixedSize:[],proportionalSize:[]},(K=W==null?void 0:W.linkedColumns)!=null&&K.length&&(W.linkedColumns=W.linkedColumns.filter(ee=>L.some(({name:ce})=>ce===ee))),(Z=W==null?void 0:W.linkedColumns)!=null&&Z.length){const ee=j(W.linkedColumns);ee.reduce((ce,D)=>(ce.fixedSize=ce.fixedSize.concat(D.sizes.fixedSize),ce.proportionalSize=ce.proportionalSize.concat(D.sizes.proportionalSize),ce),W.sizes),W.linkedColumns=ee.filter(ce=>!ce.invisibleBorders),W.insideColumns=ee.filter(ce=>ce.invisibleBorders)}else W.isFixSize?W.sizes.fixedSize=[parseFloat(G.width)]:W.sizes.proportionalSize=[parseFloat(G.width)];return W})}return j(N)}function $(N,L){return N&&L?N.map((j,R)=>{const H={};return L.forEach(W=>{var K;let Z=j[W.name];if(W.name.includes("rowIndex"))Z={value:j.rowIndex||R};else switch(typeof Z){case"object":if(((K=W.control)==null?void 0:K.type)==="enum"){!Z.listValues&&W.control.listValues&&(Z.listValues=W.control.listValues);const G=Wd(St(St({},W.control),Z),e,!1);Z=hn(G)}else Z=hn(gn(St({},Z),{initialValue:Z.value}));break;case"boolean":Z={value:!!Z,initialValue:!!Z};break;default:Z={}}H[W.name]=Z}),H.rowId=j.rowId,H.iconName=j.iconName,H}):[]}const U=(r=E[0])==null?void 0:r.map(N=>N.name),V=F({headerSchema:U,entities:w,rows:i.rows,columnsInState:g});if(S(V),i.columnsData=V,i.headersData=A(U,w),i.rowsData=$(i.rowsData,i.columnsData),i.headerHeightMultiplier=P.filter(N=>!N.isZeroHeightRow).length,h&&!((o=i.rowsData)!=null&&o.length)){const N={rowId:"serviceRow"};i.columnsData.map(L=>{const j=n==null?void 0:n.find(R=>R.name===L.name);N[L.name]={value:"",initialValue:"",style:j==null?void 0:j.style}}),i.rowsData.push(N),i.displayRowCount+=1}return b!=null&&b.length?i.initialValue.selectedRowIds=[...i.selectedRowIds]:(i.selectedRowIds=[],i.initialValue.selectedRowIds=[]),!y&&i.rowsData.length?i.currentRowId=i.rowsData[0].rowId:i.currentRowId=((l=i.currentRowId)==null?void 0:l.toString())||null,i.initialValue.currentRowId||(i.initialValue.currentRowId=i.currentRowId),d&&(i.currentColumnId=V!=null&&V.length?V[0].name:null),delete i.actions,delete i.rows,delete i.headersSchema,delete i.headersEntities,i}var cV=Object.defineProperty,uV=Object.defineProperties,dV=Object.getOwnPropertyDescriptors,hw=Object.getOwnPropertySymbols,fV=Object.prototype.hasOwnProperty,pV=Object.prototype.propertyIsEnumerable,gw=(t,e,n)=>e in t?cV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lr=(t,e)=>{for(var n in e||(e={}))fV.call(e,n)&&gw(t,n,e[n]);if(hw)for(var n of hw(e))pV.call(e,n)&&gw(t,n,e[n]);return t},Io=(t,e)=>uV(t,dV(e));function mV(...t){var e;if(t.length===0)return null;if(t.length===1)return t[0];const[n,r]=t;if(r.isDifferenceUpdate){const o=r.cells,l=n.cells;if(o&&((e=Object.keys(o))!=null&&e.length))for(const i in o)$e(o,i)&&(l[i]||(l[i]={}),Ad()(l[i],o[i]));r.cells=l}if(r.columns&&Array.isArray(n.columns)&&n.columns.length!==0){const o=n.columns;r.columns.forEach(l=>{const i=o.findIndex(c=>c.id===l.id);i>=0&&(o[i]=l)}),r.columns=o}return delete r.isDifferenceUpdate,lr(lr({},n),r)}function vV(t,e){if(!t&&!e)return null;let n=e||t;return e&&(n.currentColumnId=t.currentColumnId||null,n.currentRowId=t.currentRowId||null),n}function hV(t,e,n){const r=Object.keys(t),o={},l=sc(e);return r.forEach(i=>{l.forEach(c=>{var d;let u=t[i][c.id];switch(typeof u){case"object":if(((d=c.control)==null?void 0:d.type)==="enum"){!u.listValues&&c.control.listValues&&(u.listValues=c.control.listValues);const m=Wd(lr(lr({},c.control),u),n,!1);u=hn(m)}else u=hn(Io(lr({},u),{initialValue:u.value}));break;case"boolean":u={value:!!u,initialValue:!!u};break;default:u={}}o[i]=Io(lr({},o[i]),{[c.id]:u})})}),o}function gV(t,e){const n=Io(lr({},t),{currentColumnId:null,currentRowId:null}),{name:r,actions:o}=n,l=lr({type:"grid",controlId:r},e);return n.events={onHeaderEvent:{alias:"onFormControlEvent",args:Io(lr({},l),{action:"onHeaderEvent"})},onPasteEvent:{alias:"onFormControlEvent",args:Io(lr({},l),{action:"onPasteCells"})},onCellControlEvent:{alias:"onGridCellEvent",args:l},onNavigation:{alias:"onFormControlEvent",args:l},onLoadData:{alias:"onFormControlEvent",args:Io(lr({},l),{action:"onLoadData",showIndicator:!1})},onMenuItemSelect:{alias:"onFormControlEvent",args:Io(lr({},l),{action:"onMenuItemSelect"})},onShowContextMenu:(o==null?void 0:o.includes("showPopupMenu"))&&{alias:"onShowContextMenu",args:Io(lr({},l),{action:"onShowContextMenu"})}},!n.isExcluded&&n.cells&&(n.cells=hV(n.cells,n.columns,e)),n}var bV=Object.defineProperty,yV=Object.defineProperties,_V=Object.getOwnPropertyDescriptors,bw=Object.getOwnPropertySymbols,CV=Object.prototype.hasOwnProperty,wV=Object.prototype.propertyIsEnumerable,yw=(t,e,n)=>e in t?bV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nn=(t,e)=>{for(var n in e||(e={}))CV.call(e,n)&&yw(t,n,e[n]);if(bw)for(var n of bw(e))wV.call(e,n)&&yw(t,n,e[n]);return t},Wr=(t,e)=>yV(t,_V(e));const Gl=(t,e,n)=>{if(!t&&!e)return[];if(!t&&e)return e;if(t&&!e)return t;if(t&&e&&Array.isArray(t)&&Array.isArray(e)){const r=[...t];return e.forEach(o=>{let l=n==="cells"?t.findIndex(i=>o.X===i.X&&o.Y===i.Y):t.findIndex(i=>o.index===i.index);l!==-1?r[l]=o:r.push(o)}),r}};function xV(t,e){var n,r,o,l;if(!t&&!e)return null;let i=e||t;const c=t.gridMatrix||[],d=e.gridMatrix||[],u=[];if(e.isDifferenceUpdate===!1)return delete e.isDifferenceUpdate,e;if(e){const m=Math.max(c.length,d.length);for(let f=0;f<m;f++)if(d[f]===void 0&&c[f]!==void 0)u[f]=c[f];else if(d[f]&&c[f]){u[f]=[];const p=Math.max(c[f].length,d[f].length);for(let v=0;v<p;v++)u[f][v]=d[f][v]===!0&&typeof c[f][v]=="object"?c[f][v]:d[f][v]||c[f][v]}else d[f]!==void 0&&c[f]===void 0&&(u[f]=d[f]);i.gridMatrix=u,i.rowsCount=(n=i.rowsCount)!=null?n:t.rowsCount,i.colsCount=(r=i.colsCount)!=null?r:t.colsCount,i.cells=Gl(t.cells,i.cells),i.cols=Gl(t.cols,i.cols),i.rows=Gl(t.rows,i.rows),Object.assign((o=i.controls)!=null?o:{},t.controls),Object.assign((l=i.styles)!=null?l:{},t.styles)}return i}function SV(...t){if(t.length===0)return null;if(t.length===1)return t[0];const[e,n]=t;let r=e;if(n.isDifferenceUpdate!==!1){n.isDifferenceUpdate=!0;const o=n.cells,l=r.cells,i=n.styles,c=r.styles,d=n.controls,u=r.controls;n.cells=Gl(l,o,"cells"),n.cols=Gl(r.cols,n.cols),n.rows=Gl(r.rows,n.rows),n.styles=Nn(Nn({},c),i),n.controls=Nn(Nn({},u),d)}else delete r.cols,delete r.rows;return r=Nn(Nn({},r),n),r}function PV(t,e){const{cells:n,viewBox:r,freezedCols:o,freezedRows:l}=t;let i;if(r){i=new Array(r[3]-1);for(let p=r[1]-1;p<r[3];p++)i[p]=new Array(r[2]),i[p].fill(!0,r[0]-1,r[2]),l&&r[0]-1>0&&i[p].fill(!0,0,l);if(o&&r[1]-1>0)for(let p=0;p<o;p++)i[p]||(i[p]=new Array(r[2])),i[p].fill(!0,r[0]-1,r[2]),l&&r[0]-1>0&&i[p].fill(!0,0,l);const f=[];n&&n.length&&n.forEach(p=>{i[p.Y-1]||(i[p.Y-1]=[]),i[p.Y-1][p.X-1]=p,(p.rowSpan||p.colSpan)&&f.push(p)}),f.length&&(t.maxColSpan=0,t.maxRowSpan=0,f.forEach(p=>{p.rowSpan>t.maxRowSpan&&(t.maxRowSpan=p.rowSpan),p.colSpan>t.maxColSpan&&(t.maxColSpan=p.colSpan);const v=[p.X-1,p.Y-1,p.X-1+(p.colSpan||0),p.Y-1+(p.rowSpan||0)];for(let b=v[1];b<=v[3];b++)for(let y=v[0];y<=v[2];y++)b===p.Y-1&&y===p.X-1||(i[b]||(i[b]=[]),i[b][y]="isHidden")}))}$e(t,"cells")&&delete t.cells;const c=Wr(Nn({},t),{gridMatrix:i}),{name:d,type:u}=c,m=Nn({type:u,controlId:d},e);return c.events={onPasteEvent:{alias:"onFormControlEvent",args:Wr(Nn({},m),{action:"onPasteCells"})},onEnter:{alias:"onCanvasGridCellEvent",args:Wr(Nn({},m),{action:"onEnter"})},onEdit:{alias:"onCanvasGridCellEvent",args:Wr(Nn({},m),{action:"onEdit"})},onClick:{alias:"onCanvasGridCellEvent",args:Wr(Nn({},m),{action:"onClick"})},onDoubleClick:{alias:"onCanvasGridCellEvent",args:Wr(Nn({},m),{action:"onDblClick"})},onLookup:{alias:"onCanvasGridCellEvent",args:Wr(Nn({},m),{action:"onLookup"})},onNavigation:{alias:"onCanvasGridCellEvent",args:Wr(Nn({},m),{action:"onNavigation"})},onLoadData:{alias:"onFormControlEvent",args:Wr(Nn({},m),{action:"onLoadData",showIndicator:!1})},onCellAutoComplete:{alias:"onAutoComplete",args:Wr(Nn({},m),{action:"onAutoComplete",showIndicator:!1})}},c}var IV=Object.defineProperty,OV=Object.defineProperties,EV=Object.getOwnPropertyDescriptors,_w=Object.getOwnPropertySymbols,kV=Object.prototype.hasOwnProperty,jV=Object.prototype.propertyIsEnumerable,Cw=(t,e,n)=>e in t?IV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ai=(t,e)=>{for(var n in e||(e={}))kV.call(e,n)&&Cw(t,n,e[n]);if(_w)for(var n of _w(e))jV.call(e,n)&&Cw(t,n,e[n]);return t},Bi=(t,e)=>OV(t,EV(e));function er({type:t,stateElement:e,formData:n={},simplePair:r=!1,parentTabs:o}){var l,i;let c=(l=e.actions)!=null&&l.length?[...e.actions]:[];return["checkbox","radio","switch"].includes(t)&&!c.includes("onChange")&&c.push("onChange"),["string","number","integer","enum","date","checkbox","radio","switch"].includes(t)&&(c.push("onImplicitChange"),c.push("onEnter")),["string","date","enum","number"].includes(t)&&c.push("onAutolock"),(t==="enum"||t==="string"&&((i=e.actions)!=null&&i.includes("onLookup"))&&e.isAutocomplete)&&(c.push("onSelect"),c.push("onChange"),e.isAutocomplete&&!e.isInteger&&(c.push("onResetAutocompleteValues"),c.push("onImmediatelyAutoComplete"))),["string","number","integer","enum","date"].includes(t)&&c.push("onDelete"),t==="box"&&c.push("onToggle"),t==="tabs"&&c.push("onClick"),t==="tree"&&c.push("onClickAdd"),t==="report"&&(c=["onClick","onDblClick","onCellSelect","onExpand","onCollapse"]),["html","frame","report"].includes(t)&&c.push("saveContent"),c.reduce((u,m)=>{let f=m,p=m,v=m,b=Bi(Ai({type:t,controlId:e.name},n),{action:v});if(m==="onChange")switch(t){case"checkbox":case"switch":case"radio":p="onFormControlEvent",v="onChange";break;case"enum":case"string":case"number":case"integer":p="onAutoComplete",v="autoComplete";break;case"tree":p="onFormControlEvent",f="onSelect",v=Fo(e,m);break;case"tabs":p="onFormControlEvent",f="onChange",v=Fo(e,m),b.skipDiffs=!1,b.parentType=o;break;default:break}else if(m==="onClick")switch(t){case"listButton":case"label":case"img":case"button":p="onFormControlEvent";break;case"tabs":p="onFormControlEvent",v=null,b.skipDiffs=!1,b.parentType=o;break;case"report":p="onFormControlEvent",f="onClick";break;default:break}else if(m==="onDblClick")switch(t){case"tree":p="onFormControlEvent",f="onDoubleClick",v=Fo(e,m);break;case"report":case"img":p="onFormControlEvent",f="onDoubleClick";break;default:p="onFormControlEvent",f="onDoubleClick";break}else if(m==="onSelect")switch(t){case"string":case"number":case"integer":case"enum":p="onFormControlEvent",v="onEnter";break;default:break}else if(m==="onImplicitChange")switch(t){case"string":case"number":case"integer":case"enum":case"date":case"checkbox":case"switch":case"radio":p="onFormControlEvent",v="onEnter",b.checkResponse=t==="string"&&e.showButton;break;default:break}else if(m==="onEnter")switch(t){case"string":case"number":case"integer":case"enum":case"date":p="onFormControlEvent",v="onEnter",b.checkResponse=t==="string"&&e.showButton;break;default:break}else if(m==="onClickAdd")p="onFormControlEvent";else if(m==="onLookup")p="onFormControlEvent";else if(m==="onImmediatelyAutoComplete")v="autoComplete";else if(m==="onDelete")p="onFormControlEvent",b.skipDiffs=!0;else if(m==="onCopy")p="onClipboardEvent";else if(m==="onPaste")p="onClipboardEvent";else if(m==="onCut")p="onClipboardEvent";else if(m==="onToggle")t==="box"&&(p="onFormControlEvent",v="changeSpoiler");else if(m==="loadData")switch(t){case"frame":case"box":p="onFormControlEvent",f="onLoadData",v=Fo(e,m);break;default:break}else if(m==="onExpand")switch(t){case"tree":p="onFormControlEvent",f="onToggle",v=Fo(e,m);break;case"report":p="onReportHierarchyClick";break;default:break}else if(m==="onCollapse")switch(t){case"report":p="onReportHierarchyClick";break;default:break}else if(m==="onCellSelect")switch(t){case"report":p="onReportCellSelect",v=null;break;default:break}else if(m==="saveContent")switch(t){case"html":p="onSaveContentIframe",v=null;break;case"report":p="onSaveDataReport",v=null;break;case"frame":p="onSaveDataFrame",v=null;break;default:break}else m==="onEdit"?(p="checkEditableValidation",v=Fo(e,m)):m==="onHint"&&(p="onHintControl",v=Fo(e,m));return r?Bi(Ai({},u),{[f]:v}):Bi(Ai({},u),{[f]:{alias:p,args:Bi(Ai({},b),{action:v})}})},{})}var RV=Object.defineProperty,$i=Object.getOwnPropertySymbols,ww=Object.prototype.hasOwnProperty,xw=Object.prototype.propertyIsEnumerable,Sw=(t,e,n)=>e in t?RV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bd=(t,e)=>{for(var n in e||(e={}))ww.call(e,n)&&Sw(t,n,e[n]);if($i)for(var n of $i(e))xw.call(e,n)&&Sw(t,n,e[n]);return t},Pw=(t,e)=>{var n={};for(var r in t)ww.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$i)for(var r of $i(t))e.indexOf(r)<0&&xw.call(t,r)&&(n[r]=t[r]);return n};function DV(t){let e={};function n(o){const l=o,{GUID:i,name:c,elements:d}=l,u=Pw(l,["GUID","name","elements"]),m={name:c,GUID:i},f=Bd({GUID:i,name:c},u);return e[c]=f,d&&(m.elements=d.map(n)),m}return{schema:t.map(n),entities:e}}function NV(t,e){const n=t,{elements:r,buttonsAfter:o,buttonsBefore:l}=n,i=Pw(n,["elements","buttonsAfter","buttonsBefore"]);if(!(r!=null&&r.length))return Bd({},t);const{schema:c,entities:d}=DV(r),u=m=>{const f=hn(m);return f!=null&&f.elements?f.elements=f.elements.map(p=>{let v=hn(p);return v.events=er({stateElement:v,type:v.type,formData:{formId:"0",formName:e.formName,roleCenterFormId:e.formId}}),v}):f.events=er({stateElement:f,type:f.type,formData:{formId:"0",formName:e.formName,roleCenterFormId:e.formId}}),f};if(l!=null&&l.length)for(let m=0;m<l.length;m++)l[m]=u(l[m],e.formId);if(o!=null&&o.length)for(let m=0;m<o.length;m++)o[m]=u(o[m],e.formId);return Bd({schema:c,entities:d,buttonsAfter:o,buttonsBefore:l},i)}var MV=Object.defineProperty,TV=Object.defineProperties,FV=Object.getOwnPropertyDescriptors,zi=Object.getOwnPropertySymbols,Iw=Object.prototype.hasOwnProperty,Ow=Object.prototype.propertyIsEnumerable,Ew=(t,e,n)=>e in t?MV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kw=(t,e)=>{for(var n in e||(e={}))Iw.call(e,n)&&Ew(t,n,e[n]);if(zi)for(var n of zi(e))Ow.call(e,n)&&Ew(t,n,e[n]);return t},AV=(t,e)=>TV(t,FV(e)),BV=(t,e)=>{var n={};for(var r in t)Iw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&zi)for(var r of zi(t))e.indexOf(r)<0&&Ow.call(t,r)&&(n[r]=t[r]);return n};function $V(t,e){const n=BV(t,[]);n.events||(n.events={});const r=er({stateElement:t,type:t.type,formData:e});return AV(kw(kw({},n),e),{events:r})}function zV(t,e){const n=e.reservedRow||t.reservedRow;return e.value&&e.value.search(/<!DOCTYPE HTML>/gi)===-1&&(e.value=VD({whereReplace:t.value,whatToReplace:e.value,reservedRow:n})),Ad()(t,e)}var LV=Object.defineProperty,HV=Object.defineProperties,WV=Object.getOwnPropertyDescriptors,Li=Object.getOwnPropertySymbols,jw=Object.prototype.hasOwnProperty,Rw=Object.prototype.propertyIsEnumerable,Dw=(t,e,n)=>e in t?LV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hi=(t,e)=>{for(var n in e||(e={}))jw.call(e,n)&&Dw(t,n,e[n]);if(Li)for(var n of Li(e))Rw.call(e,n)&&Dw(t,n,e[n]);return t},$d=(t,e)=>HV(t,WV(e)),Nw=(t,e)=>{var n={};for(var r in t)jw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Li)for(var r of Li(t))e.indexOf(r)<0&&Rw.call(t,r)&&(n[r]=t[r]);return n};function VV(t,e){var n;const r=t.style||{},o=t,{actions:l,chart:i}=o,c=Nw(o,["actions","chart"]),d=i,{series:u}=d,m=Nw(d,["series"]),f=(n=m.chart)==null?void 0:n.type,p={},v=Hi({type:"chart",controlId:c.name},e);return l!=null&&l.includes("onDblClick")&&(p.onDataPointSelect={alias:"onDataPointSelect",args:$d(Hi({},v),{action:"onDblClick"})}),l!=null&&l.includes("onClick")&&(p.onClick={alias:"onFormControlEvent",args:$d(Hi({},v),{action:"onClick"})}),$d(Hi({chartType:f,series:u,options:m},c),{style:r,events:p})}var UV=Object.defineProperty,Mw=Object.getOwnPropertySymbols,GV=Object.prototype.hasOwnProperty,ZV=Object.prototype.propertyIsEnumerable,Tw=(t,e,n)=>e in t?UV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KV=(t,e)=>{for(var n in e||(e={}))GV.call(e,n)&&Tw(t,n,e[n]);if(Mw)for(var n of Mw(e))ZV.call(e,n)&&Tw(t,n,e[n]);return t},Fw=(t,e)=>{const n=KV({},t);return n.events=er({stateElement:n,type:n.type,formData:e}),n.orientation==="tabs"&&(n.eventsTabs=er({stateElement:n,type:"tabs",formData:e,parentTabs:n.type})),delete n.elements,n},qV=Object.defineProperty,YV=Object.defineProperties,XV=Object.getOwnPropertyDescriptors,Wi=Object.getOwnPropertySymbols,Aw=Object.prototype.hasOwnProperty,Bw=Object.prototype.propertyIsEnumerable,$w=(t,e,n)=>e in t?qV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ar=(t,e)=>{for(var n in e||(e={}))Aw.call(e,n)&&$w(t,n,e[n]);if(Wi)for(var n of Wi(e))Bw.call(e,n)&&$w(t,n,e[n]);return t},Zl=(t,e)=>YV(t,XV(e)),JV=(t,e)=>{var n={};for(var r in t)Aw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wi)for(var r of Wi(t))e.indexOf(r)<0&&Bw.call(t,r)&&(n[r]=t[r]);return n};function zd(t){const e=No(t);function n(r){const{type:o}=r,l=ar({},r);return o==="tree"&&l.forceUpdate&&(delete l.forceUpdate,delete l.expandedNodeId),l.elements&&(l.elements=l.elements.map(n)),l}return e.map(n)[0]}function Ld(t,e){const n=No(t),r=No(e);function o(l){var i;let c=ar({},l);const d=c.name?r.find(u=>(u==null?void 0:u.name)===(l==null?void 0:l.name)):null;if($e(l,"popupMenu")&&(c.popupMenu=l.popupMenu.map(u=>{const m=r.find(f=>u.name===f.name)||{};return ar(ar({},u),m)})),d)switch(l.type){case"canvasGrid":c=SV(c,d);break;case"tree":c=JW(c,d);break;case"table":c=aV(c,d,r);break;case"grid":c=mV(c,d);break;default:$e(d,"cellColor")||delete c.cellColor,Object.assign(c,d)}return(i=c==null?void 0:c.elements)!=null&&i.length&&(c.elements=c.elements.map(u=>o(u,r))),c}return n.map(o)[0]}function QV(t,e){if(Array.isArray(e))return e}function Vi(t,e,n){const r=t;return Object.entries(e).forEach(([o,l])=>{r[o]||(r[o]={});const i=r[o];Object.entries(l).forEach(function([c,d]){let u;switch(i[c]||(i[c]={}),o){case"tree":{u=QW(i[c],d);break}case"table":{u=sV(i[c],d,n);break}case"grid":{u=vV(i[c],d);break}case"canvasGrid":{u=xV(i[c],d);break}case"chart":{u=d;break}case"report":{u=zV(i[c],d);break}default:u=Ad()(i[c],d,QV),d.events&&(u.events=d.events),d.style&&(u.style=d.style),d.cellColor||delete u.cellColor}i[c]=ar({},u)})}),r}function Ui({state:t,defaultState:e,bindings:n,formData:r={}}){const o={current:{}};if(!t)return null;function l(i,c={}){var d,u;const{name:m}=i,{type:f}=n[m]||c;let p;if(!f)return null;switch(f){case"tree":{p=eV(i,r);break}case"report":{p=$V(i,r);break}case"roleCenter":{p=NV(i,r);break}case"table":{p=iV(i,r,e);break}case"grid":{p=gV(i,r);break}case"canvasGrid":{p=PV(i,r);break}case"img":{p=Zl(ar({},i),{value:oc(i.value),events:er({stateElement:i,type:f,formData:r})});break}case"chart":{p=VV(i,r);break}case"button":case"listButton":case"pdf":{p=Zl(ar({},i),{value:oc(i.value),events:er({stateElement:i,type:f,formData:r})});break}case"html":{p=Zl(ar({},i),{value:oc(i.value),events:er({stateElement:i,type:f,formData:r}),dataAttrs:{"data-form-id":r.formId}});break}case"box":p=Fw(i,r),(d=p.title)!=null&&d.element&&(p.title.element=l(p.title.element,{type:p.title.element.type}));break;case"frame":{p=Fw(i,r);break}case"label":p=Zl(ar({},i),{events:er({stateElement:i,type:f,formData:r})}),(u=p.events)!=null&&u.onClick&&(p.isStatic=!1),$e(p,"value")&&(p.initialValue=p.value);break;case"enum":p=Wd(i,r);break;case"string":case"number":case"integer":case"date":p=Zl(ar({},i),{events:er({stateElement:i,type:f,formData:r}),dataAttrs:{"data-form-id":r.formId,"data-form-name":r.formName}}),$e(p,"value")&&($e(p,"formattedValue")||(p.formattedValue=p.value),p.initialValue=p.value,p.initialFormattedValue=p.formattedValue);break;default:p=Zl(ar({},i),{events:er({stateElement:i,type:f,formData:r})}),$e(p,"value")&&(p.initialValue=p.value)}return o.current[f]||(o.current[f]={}),o.current[f][m]=Ua(p,"testId"),p}return t.forEach(i=>{var c;i.isExcluded&&i.type==="frame"&&((c=i.elements)!=null&&c.length)&&i.elements.forEach(d=>{if(["grid","table"].includes(d.type)){const u=t.findIndex(m=>m.name===d.name);t[u].isExcluded=!0}})}),t.forEach(l),o.current}function Gi(t,{formName:e,formId:n}){const r=[],o={};function l(d){switch(d){case"table":case"tree":case"roleCenter":return!1;default:return!0}}function i(d){if(!d)return;const u=d,{name:m=`GENERATED_NAME_${Cr().generate()}`,type:f,elements:p}=u,v=JV(u,["name","type","elements"]);let b=Ua({name:m,type:f},"GUID",[n,e]);return p&&l(f)?(b.elements=p.map(i),v.elements=b.elements.map(y=>{const h=ar({},y);return delete h.elements,h})):p&&(v.elements=Ga(p,"elements","GUID",[e])),o[m]={type:f},r.push(ar({name:m,type:f},v)),b}return{schema:i(t),extractedState:r,bindings:o}}function e5(t){const e={};if(t)return t.width&&(e.width=Vt(t.width)),t.height&&(e.height=Vt(t.height)),e}function t5(t){const{formId:e,formName:n,openMode:r,view:o,state:l}=t,i={formId:e,formName:n,isModal:r==="modal"},c=e5(o==null?void 0:o.style),d=Ld(o,l),u=pl(d),m=zd(d),{schema:f,extractedState:p,bindings:v}=Gi(u,{formName:n,formId:e}),b=Vi({},Ui({state:p,defaultState:l,bindings:v,formData:i,schema:f}));return{raw:m,schema:f,entities:b,bindings:v,formId:e,formName:n,diffs:{},style:c}}var n5=Object.defineProperty,Zi=Object.getOwnPropertySymbols,zw=Object.prototype.hasOwnProperty,Lw=Object.prototype.propertyIsEnumerable,Hw=(t,e,n)=>e in t?n5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ww=(t,e)=>{for(var n in e||(e={}))zw.call(e,n)&&Hw(t,n,e[n]);if(Zi)for(var n of Zi(e))Lw.call(e,n)&&Hw(t,n,e[n]);return t},r5=(t,e)=>{var n={};for(var r in t)zw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zi)for(var r of Zi(t))e.indexOf(r)<0&&Lw.call(t,r)&&(n[r]=t[r]);return n};function Hd(t){const e=Ww({},t),n={};function r(o){return o==null?void 0:o.map(l=>{const i=l,{elements:c}=i,d=r5(i,["elements"]);let u=`${l.GUID}_${Cr().generate()}`;const m={GUID:u,id:d.id};return n[u]=Ww({},d),c!=null&&c.length&&(m.elements=r(l.elements)),m})}return e.schema=r(e.elements),e.entities=n,delete e.elements,e}function o5({resultAction:t,view:e}){const{formId:n,formName:r}=t,o={formId:n,formName:r},l=pl(e),{schema:i,extractedState:c,bindings:d}=Gi(l,o),u=Vi({},Ui({state:c,bindings:d,formData:o,schema:i}));return{schema:i,entities:u}}var l5=Object.defineProperty,a5=Object.defineProperties,s5=Object.getOwnPropertyDescriptors,Vw=Object.getOwnPropertySymbols,i5=Object.prototype.hasOwnProperty,c5=Object.prototype.propertyIsEnumerable,Uw=(t,e,n)=>e in t?l5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gw=(t,e)=>{for(var n in e||(e={}))i5.call(e,n)&&Uw(t,n,e[n]);if(Vw)for(var n of Vw(e))c5.call(e,n)&&Uw(t,n,e[n]);return t},Zw=(t,e)=>a5(t,s5(e)),Wd=(t,e,n=!0)=>{const{isAutocomplete:r,isSwitchedToEnum:o,isInteger:l,listValues:i,value:c,formattedValue:d}=t,u=l&&!o?!1:!!r,m=n?er({type:"enum",stateElement:Zw(Gw({},t),{isAutocomplete:u}),formData:e}):{},f=Zw(Gw({},t),{events:m,isAutocomplete:u,dataAttrs:{"data-form-id":e.formId,"data-form-name":e.formName}});if(delete f.autocomplete,f.value=c,!u&&(i!=null&&i.length)&&c){const p=i.find(v=>v.key===c);p&&(f.value=p.value)}return c!==void 0&&(d===void 0&&(f.formattedValue=f.value),f.initialValue=f.value,f.initialFormattedValue=f.value),f},u5=t5;function*d5(){yield(0,ne.gw)(100),(yield(0,ne.Ys)(Gc))&&(yield(0,ne.xN)(yc()))}function*f5(){(yield(0,ne.Ys)(Gc))||(yield(0,ne.xN)(_c()))}function*Yt(){yield(0,ne.xN)(Gf()),yield(0,ne.rM)(d5)}function*Xt(){yield(0,ne.xN)(Zf()),yield(0,ne.RE)(f5)}function*Kw(){let{menuData:t,toolbarData:e}=yield(0,ne.RE)(Tf);t=Hd(t);const n=Fd(e);yield(0,ne.xN)(os({menu:t})),yield(0,ne.xN)(ss(n))}function*p5(t){t.payload===null&&(yield Yt(),yield(0,ne.RE)(Kw),yield Xt())}function*m5(){yield(0,ne.ib)(ds,p5)}function qw(t){return t.mainAppParams}function*Pt(t){ml(t)||ts(t)&&(yield(0,ne.gz)(oa({message:po(t)}))),console.error(t)}function*v5(t){try{for(let e=0;e<t.length;e++){const n=t[e],{serviceURL:r}=(n==null?void 0:n.resultAction)||{};r&&(yield(0,ne.xN)(as({serviceURL:r,needToPrint:!0})),yield(0,ne.qn)(as))}}catch(e){yield Pt(e)}}function*Mn(t,e){let n=!1;try{const{data:r}=yield(0,ne.RE)(t,e);n=r||!0}catch(r){yield Pt(r)}return n}function*h5(){try{yield Yt();let t=yield Mn(Mf);if(t=Hd(t),!t)return;yield(0,ne.xN)(os({menu:t}))}catch(t){yield Pt(t)}finally{yield Xt()}}function*g5(){try{yield Yt();const t=yield Mn(Nf),e=Fd(t);if(!t)return;yield(0,ne.xN)(ss(e))}catch(t){yield Pt(t)}finally{yield Xt()}}function pn(t,e){return e?t.forms[e]:null}function Yw(t){var e;const n=[];for(const r in t.forms)r!=="0"&&((e=t.forms[r])!=null&&e.fixed||n.push(r));return n}function b5(t,e){if(!e)return null;const n=[];let r=t.forms[e];for(;r.childFormId&&r.childFormId!==0;)n.push(r.childFormId),r=t.forms[r.childFormId];return n}function*y5(){return(yield(0,ne.Ys)(y4))>0}var _5=Object.defineProperty,Ki=Object.getOwnPropertySymbols,Xw=Object.prototype.hasOwnProperty,Jw=Object.prototype.propertyIsEnumerable,Qw=(t,e,n)=>e in t?_5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C5=(t,e)=>{for(var n in e||(e={}))Xw.call(e,n)&&Qw(t,n,e[n]);if(Ki)for(var n of Ki(e))Jw.call(e,n)&&Qw(t,n,e[n]);return t},w5=(t,e)=>{var n={};for(var r in t)Xw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ki)for(var r of Ki(t))e.indexOf(r)<0&&Jw.call(t,r)&&(n[r]=t[r]);return n};function*jr(t){const e=t,{formId:n,roleCenterFormId:r}=e,o=w5(e,["formId","roleCenterFormId"]),l=yield(0,ne.Ys)(pn,n);if(!n)throw new Error("sendActionTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const{formName:i,diffs:c}=l===void 0?{}:l,d=C5({formId:n,formName:i,state:c},o);if(r&&(d.roleCenterFormId=r),!(yield y5()))return yield Mn(mc,d)}function x5(t,e){if(!e)return null;let n=null;const r=t.forms;for(const o in r)if($e(r,o)){const l=r[o];if(l.formStackId===e&&l.childFormId===null){n=l;break}}return n}var S5=Object.defineProperty,P5=Object.defineProperties,I5=Object.getOwnPropertyDescriptors,qi=Object.getOwnPropertySymbols,ex=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable,nx=(t,e,n)=>e in t?S5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,br=(t,e)=>{for(var n in e||(e={}))ex.call(e,n)&&nx(t,n,e[n]);if(qi)for(var n of qi(e))tx.call(e,n)&&nx(t,n,e[n]);return t},Oo=(t,e)=>P5(t,I5(e)),rx=(t,e)=>{var n={};for(var r in t)ex.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qi)for(var r of qi(t))e.indexOf(r)<0&&tx.call(t,r)&&(n[r]=t[r]);return n};let Gn=[],Qo=null;const ox={grid:"popupMenu",table:"contextMenuElements"};function O5({state:t,entities:e,formDraft:n}){const r=t.reduce((o,l)=>{var i,c;const d=(i=n.bindings[l.name])==null?void 0:i.type,u=(c=e==null?void 0:e[d])==null?void 0:c[l.name];return u&&(o[d]||(o[d]={}),o[d][l.name]=u),o},{});for(const o in ox){const l=e[o];l&&Object.assign(r,E5({entity:l,refreshedEntities:r,formDraft:n,entityType:o,propsKey:ox[o]}))}return r}function E5({entity:t,refreshedEntities:e,formDraft:n,entityType:r,propsKey:o}){var l;return(l=Object.entries(t))==null?void 0:l.reduce((i,[c,d])=>{var u,m,f;if(!((u=e==null?void 0:e[r])!=null&&u[c])){const p=(f=(m=n.entities)==null?void 0:m[r])==null?void 0:f[c];JSON.stringify(p==null?void 0:p[o])!==JSON.stringify(d==null?void 0:d[o])&&(i[r]||(i[r]={}),i[r][c]=Oo(br({},p),{[o]:(d==null?void 0:d[o])||[]}))}return i},{})}function k5({state:t,entities:e}){const n=Object.entries(e.grid);return n==null?void 0:n.reduce((o,[l,i])=>(t==null||t.forEach(c=>{var d,u;if(!(c!=null&&c.size))return o;const m=((d=i==null?void 0:i.columns)==null?void 0:d.findIndex(p=>(p==null?void 0:p.id)===(c==null?void 0:c.id)))!==-1,f=((u=i==null?void 0:i.rows)==null?void 0:u.findIndex(p=>(p==null?void 0:p.id)===(c==null?void 0:c.id)))!==-1;if((m||f)&&!o.grid&&(o.grid={}),m){const p=i==null?void 0:i.columns.map(v=>v.id===c.id?c:v);return o.grid[l]=Oo(br({},i),{columns:p}),o}if(f){const p=i==null?void 0:i.rows.map(v=>v.id===c.id?c:v);return o.grid[l]=Oo(br({},i),{rows:p}),o}}),o),{})}function*rn(t){var e,n;const r=t,{formId:o,formName:l,view:i,state:c,isAutoLock:d,fixed:u}=r,m=rx(r,["formId","formName","view","state","isAutoLock","fixed"]);if(!o)throw new Error("updateFormTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const f=yield(0,ne.Ys)(pn,o);let p={};if(i){const b=(e=f==null?void 0:f.entities)==null?void 0:e.html;if(b){const y={};Object.entries(b).forEach(([h,g])=>{g.content&&(y[h]=g.content)}),Object.keys(y).length&&((n=t.state)==null||n.forEach((h,g)=>{y[h.name]&&(t.state[g]=br({content:y[h.name]},c[g]))}))}p=u5(t)}else c&&f&&(p=(0,fr.ZP)(f,b=>{const y={formId:o,formName:l,isModal:m.openMode==="modal"},h=Ld(b.raw,c),g=pl(h);b.raw=zd(h);const{extractedState:C}=Gi(g,y),O=Ui({state:C,bindings:b.bindings,formData:y}),M=O5({state:c,entities:O,formDraft:b});if(O!=null&&O.grid){const P=c.filter(k=>Boolean(k==null?void 0:k.id)),x=k5({state:P,entities:O});Object.assign(M,x)}b.entities=Vi(b.entities,M,d),b.diffs={},b.isAutoLock=d!==void 0?d:f.isAutoLock}));const v=br(br(br({formId:o,formName:l,fixed:u},f),m),p);yield(0,ne.xN)($o(v))}function*j5(t){(yield(0,ne.Ys)(pn,t.formId))&&(yield rn(t))}function*lx({formId:t}){if(!t)throw new Error("cleanFormDiffTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const e=yield(0,ne.Ys)(pn,t);if(!e)throw new Error(`cleanFormDiffTask: \u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B \u0441 formId=${t}`);let n=Oo(br({},e),{diffs:{}});yield(0,ne.xN)($o(n))}function*R5({formId:t,controlId:e}){var n;if(!t)throw new Error("resetControlValuesTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const r=yield(0,ne.Ys)(pn,t);if(!r)throw new Error(`resetControlValuesTask: \u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B \u0441 formId=${t}`);if(e&&r){const o=(n=r.bindings[e])==null?void 0:n.type;if(YM(o)&&o!=="string"&&o!=="date"){const l=r.entities[o][e],i={type:o,name:e,value:l.initialValue};o!=="enum"&&(i.formattedValue=l.initialFormattedValue),yield rn({formId:t,state:[i]})}}}function*D5(t){const{formId:e}=t;if(!e)throw new Error("deleteFormTask: \u041D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u043D \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 formId");const{parentFormId:n,formStackId:r,openMode:o}=yield(0,ne.Ys)(pn,e);o!=="modal"&&n&&(yield rn({formId:r,showedFormId:n}),yield rn({formId:n,childFormId:null})),yield(0,ne.xN)(Oc(e)),Gn.includes(e)&&(Gn=Gn.filter(l=>l!==e),Gn.length?yield(0,ne.Cs)(za):Qo&&(yield ax(Qo)))}function*ax(t){const{resultAction:{formId:e,formName:n,openMode:r,commandName:o,formIcon:l,referrerFormId:i,autoLock:c,fixed:d},view:u,state:m,parentFormId:f=null,skipFormStackQueue:p=!1}=t,{keepMounted:v=!1,winCanResize:b=!0,hideBreadcrumbs:y=!1}=u||{};if(r==="new")yield rn({formId:e,formName:n,view:u,state:m,openMode:r,commandName:o,formStackId:e,parentFormId:null,childFormId:null,isWideScreenMode:!1,keepMounted:v,showedFormId:e,isAutoLock:c,formIcon:l,hideBreadcrumbs:y,fixed:d}),p||(yield(0,ne.xN)(Bo(e)));else if(r==="modal")yield rn({formId:e,formName:n,view:u,state:m,openMode:r,commandName:o,formIcon:l,isAutoLock:c,winCanResize:b});else{const h=yield(0,ne.Ys)(Nd);let g=null;if((f||i)&&(g=yield(0,ne.Ys)(pn,f||i)),g||(g=yield(0,ne.Ys)(x5,h)),g){const C=g.formId,{childFormId:O}=g;O?(Qo=t,yield za({formId:O})):(yield rn({formId:e,formName:n,view:u,state:m,openMode:r,formStackId:h,formIcon:l,isAutoLock:c,parentFormId:C,childFormId:null}),yield rn({formId:C,childFormId:e}),yield rn({formId:h,showedFormId:e}),Qo=null)}else yield rn({formId:e,formName:n,view:u,state:m,openMode:"new",commandName:o,formStackId:e,parentFormId:null,childFormId:null,isWideScreenMode:!1,keepMounted:v,showedFormId:e,formIcon:l,isAutoLock:c,hideBreadcrumbs:y}),p||(yield(0,ne.xN)(Bo(e)))}}function*sx(t){const e=t,{resultAction:{formId:n,formName:r},view:o,state:l}=e,i=rx(e,["resultAction","view","state"]),c=yield(0,ne.Ys)(pn,n),d=(0,fr.ZP)(c,u=>{var m;const f=o==null?void 0:o.name,p=Ld(o,l),v=Mo({source:u.raw,iterationKey:"elements",searchKey:"name",searchValue:f});v&&Object.assign(v,p);const b=pl(p);u.raw=zd(u.raw);const{schema:y,extractedState:h,bindings:g}=Gi(b,{formName:r,formId:n});Object.assign(u.bindings,g);const C=Mo({source:u.schema,iterationKey:"elements",searchKey:"name",searchValue:f});if(C&&Object.assign(C,y),h!=null&&h.length){const M=h.find(x=>x.name===f),P=!!((m=C.elements)!=null&&m.length);M?M.isLoaded=P:h.push({name:f,isLoaded:P})}const O=Ui({state:h,bindings:u.bindings,schema:u.schema,formData:{formId:n,formName:r,isModal:i.openMode==="modal"}});u.entities=Vi(u.entities,O)});yield(0,ne.xN)($o(Oo(br({},d),{diffs:{}})))}function*ix(t){const{formId:e}=t,n=yield(0,ne.Ys)(pn,e);if(t.value&&(yield(0,ne.xN)(kc(t))),n){const{parentFormId:r,formStackId:o,openMode:l,keepMounted:i}=n;!r&&l!=="modal"&&(i&&t.action==="execScript"||(yield ux(o)),yield rn({formId:o,showedFormId:e}))}}function*Vd(t,e){if(t==="0")return;e.unshift(t);const{childFormId:n}=yield(0,ne.Ys)(pn,t);n&&(yield Vd(n,e))}function*Ud(){const t=yield jr({formId:Gn[0],action:"close"}),e=yield bn({response:t});e!=null&&e.errorActions.length&&(yield cx())}function*za(t){try{if(yield Yt(),!Gn.length&&t){const e=t.payload||t,{formId:n}=e;(yield(0,ne.Ys)(pn,n))&&(yield Vd(n,Gn))}Gn[0]&&(yield Ud())}catch(e){yield Pt(e)}finally{yield Xt()}}function*N5(){try{yield Yt(),Gn.length||(Gn=yield(0,ne.Ys)(Yw)),Gn[0]&&(yield Ud())}catch(t){yield Pt(t)}finally{yield Xt()}}function*M5(t){try{if(yield Yt(),!Gn.length&&t){const e=[],n=t.payload||t,{formId:r}=n;yield Vd(r,e),Gn=(yield(0,ne.Ys)(Yw)).filter(l=>!e.includes(l))}Gn[0]&&(yield Ud())}catch(e){yield Pt(e)}finally{yield Xt()}}function*T5(t){try{yield Yt();const{formId:e}=t.payload,n=yield jr({formId:e,action:"close"});yield bn({response:n})}catch(e){yield Pt(e)}finally{yield Xt()}}const cx=()=>{Gn=[],Qo=null};function*F5(){if(Qo){const{formId:t,formName:e}=Qo.resultAction;yield jr({formId:t,formName:e,action:"breakOpen",state:{}}),yield cx()}}function*A5(t){try{yield Yt();const e=yield Mn(hP,t.payload);yield bn({response:e})}catch(e){yield Pt(e)}finally{yield Xt()}}function*B5(t){try{const{formId:e,formStackId:n,isWideScreenMode:r}=t.payload,o={formId:n,isWideScreenMode:r};e&&(o.showedFormId=e),yield rn(o)}catch(e){yield Pt(e)}}function*$5(t){try{const{formStackId:e,formId:n}=t.payload;yield rn({formId:e,showedFormId:n})}catch(e){yield Pt(e)}}function*ux(t){if((yield(0,ne.Ys)(Nd))!==t){yield(0,ne.xN)(Bo(t));const{commandName:n}=yield(0,ne.Ys)(pn,t);yield(0,ne.xN)(ls(n)),yield Mn(Of,{formId:t})}}function*z5(t){try{const{formId:e}=t.payload;yield ux(e)}catch(e){yield Pt(e)}}function*L5(t){try{const{formId:e}=t.payload,n=yield(0,ne.Ys)(pn,e),{parentFormId:r,formStackId:o}=n;if(e===o)return;const l=yield(0,ne.Ys)(b5,e),i=l[l.length-1]||e;yield rn({formId:e,showedFormId:i,openMode:"new",parentFormId:null,formStackId:e});for(const c of l)yield rn({formId:c,formStackId:e});o===r?yield rn({formId:o,childFormId:null,showedFormId:o}):(yield rn({formId:r,childFormId:null}),yield rn({formId:o,showedFormId:r})),yield(0,ne.xN)(Bo(e)),yield Mn(Of,{formId:e})}catch(e){yield Pt(e)}}function*H5(t){try{const e=yield jr(Oo(br({},t.payload),{action:"resize"}));yield bn({response:e})}catch(e){yield Pt(e)}}function*W5(t){try{const e=yield jr(Oo(br({},t.payload),{action:"resizeColumns"}));yield bn({response:e})}catch(e){yield Pt(e)}}function*V5(t){try{const e=yield jr(Oo(br({},t.payload),{action:"changeOrder"}));yield bn({response:e})}catch(e){yield Pt(e)}}function*U5(){yield(0,ne.A7)(Nc,za),yield(0,ne.A7)(yp,N5),yield(0,ne.A7)(_p,M5),yield(0,ne.A7)(Cp,T5),yield(0,ne.P2)(1e3,Sp,B5),yield(0,ne.P2)(1e3,wp,$5),yield(0,ne.P2)(1e3,jp,L5),yield(0,ne.P2)(1e3,xp,z5),yield(0,ne.ib)(Kf,A5),yield(0,ne.ib)(qf,H5),yield(0,ne.ib)(Yf,W5),yield(0,ne.ib)(Xf,V5)}function*G5(t){const e=o5(t);e.formId="0",yield rn(e),yield(0,ne.xN)(Bo(e.formId))}var Z5=Object.defineProperty,K5=Object.defineProperties,q5=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertySymbols,dx=Object.prototype.hasOwnProperty,fx=Object.prototype.propertyIsEnumerable,px=(t,e,n)=>e in t?Z5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gd=(t,e)=>{for(var n in e||(e={}))dx.call(e,n)&&px(t,n,e[n]);if(Yi)for(var n of Yi(e))fx.call(e,n)&&px(t,n,e[n]);return t},mx=(t,e)=>K5(t,q5(e)),Y5=(t,e)=>{var n={};for(var r in t)dx.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Yi)for(var r of Yi(t))e.indexOf(r)<0&&fx.call(t,r)&&(n[r]=t[r]);return n};function*X5(t){const e=t,{caption:n}=e,r=Y5(e,["caption"]);yield(0,ne.xN)(Jf(Gd({formName:n},r)))}function*vx(){yield(0,ne.xN)(Qf())}function*hx(t){const{formId:e,status:n=!1,fileList:r=[]}=t,l=yield Mn(mc,{approveUpload:n,formId:e,fileList:r});yield bn({response:l})}function*J5(t){try{yield Yt();const{fileList:e}=t.payload;e.length&&(yield hx(mx(Gd({},t.payload),{status:!0})))}catch(e){yield Pt(e)}finally{yield vx(),yield Xt()}}function*Q5(t){try{yield Yt();const{fileList:e}=t.payload;e.length&&(yield hx(mx(Gd({},t.payload),{status:!1})))}catch(e){yield Pt(e)}finally{yield vx(),yield Xt()}}function*e8(){yield(0,ne.P2)(1e3,Ip,J5),yield(0,ne.P2)(1e3,Op,Q5)}function*t8(t){const{formId:e,value:n}=t,o={metaSet:{formId:e},value:n,id:e};yield(0,ne.xN)(ep(o))}function*gx(){yield(0,ne.xN)(tp())}function*bx(t){const{formId:e,value:n}=t,r={formId:e};n&&(r.value=n);const o=yield Mn(tP,r);yield bn({response:o})}function*n8(t){try{yield Yt(),yield bx(t.payload)}catch(e){yield Pt(e)}finally{yield gx(),yield Xt()}}function*r8(t){try{yield Yt(),yield bx(t.payload)}catch(e){yield Pt(e)}finally{yield gx(),yield Xt()}}function*o8(){yield(0,ne.P2)(1e3,Ep,n8),yield(0,ne.P2)(1e3,kp,r8)}var l8=Object.defineProperty,a8=Object.defineProperties,s8=Object.getOwnPropertyDescriptors,Xi=Object.getOwnPropertySymbols,yx=Object.prototype.hasOwnProperty,_x=Object.prototype.propertyIsEnumerable,Cx=(t,e,n)=>e in t?l8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,el=(t,e)=>{for(var n in e||(e={}))yx.call(e,n)&&Cx(t,n,e[n]);if(Xi)for(var n of Xi(e))_x.call(e,n)&&Cx(t,n,e[n]);return t},La=(t,e)=>a8(t,s8(e)),wx=(t,e)=>{var n={};for(var r in t)yx.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xi)for(var r of Xi(t))e.indexOf(r)<0&&_x.call(t,r)&&(n[r]=t[r]);return n};function i8(t){return t.reduce((e,n)=>{var r;const o=n!=null&&n.error?"error":(r=n==null?void 0:n.resultAction)==null?void 0:r.action;if(!o)return e;let l;switch(o){case"loadData":l="loadDataActions";break;case"loadTabData":l="loadTabDataActions";break;case"breakClose":l="breakCloseActions";break;case"closeRequest":l="closeRequestActions";break;case"open":l="openActions";break;case"close":l="closeActions";break;case"refresh":l="refreshActions";break;case"error":l="errorActions";break;case"help":l="helpActions";break;case"download":l="downloadActions";break;case"print":l="printActions";break;case"upload":l="uploadActions";break;case"link":l="linkActions";break;case"updateRoleCenter":l="updateRoleCenterActions";break;case"chooseColor":l="chooseColorActions";break;case"execScript":l="execScriptActions";break;case"activate":l="activateActions";break;default:l="otherActions"}return e[l].push(n),e},{breakCloseActions:[],openActions:[],closeActions:[],closeRequestActions:[],refreshActions:[],loadDataActions:[],errorActions:[],helpActions:[],downloadActions:[],printActions:[],uploadActions:[],linkActions:[],updateRoleCenterActions:[],chooseColorActions:[],otherActions:[],execScriptActions:[],activateActions:[],loadTabDataActions:[]})}function*bn(t){var e;const{response:n,parentFormId:r,skipFormStackQueue:o=!1}=t,l=(n==null?void 0:n.result)||[];if(n!=null&&n.app&&(yield(0,ne.gz)(gc({app:n.app}))),n!=null&&n.refreshMenu&&(yield h5()),n!=null&&n.refreshToolbar&&(yield g5()),!l.length&&!(n!=null&&n.interval))return;const i=i8(l),{breakCloseActions:c,closeActions:d,closeRequestActions:u,openActions:m,refreshActions:f,loadDataActions:p,errorActions:v,helpActions:b,downloadActions:y,printActions:h,uploadActions:g,linkActions:C,updateRoleCenterActions:O,chooseColorActions:M,execScriptActions:P,loadTabDataActions:x,activateActions:k,otherActions:E}=i;if(d.length)for(const A of d)yield D5({formId:A.resultAction.formId});if(c.length)for(const A of c)yield F5({formId:A.resultAction.formId});if(m.length){if(u.length){const A=l.findIndex(U=>U.resultAction.formId===r&&U.resultAction.action==="closeRequest"),$=l.findIndex(U=>U.resultAction.action==="open");if(A<$){const U=u.findIndex(V=>V.resultAction.formId===r);if(U!==-1){const V=u.splice(U,1)[0];yield za({formId:V.resultAction.formId})}}}for(const A of m)A.parentFormId=r,yield ax(La(el({},A),{skipFormStackQueue:o}))}if(u.length)for(const A of u)yield za({formId:A.resultAction.formId});if(f.length)for(const A of f){const $=A,{resultAction:{formId:U,formName:V,autoLock:N}}=$,L=wx($,["resultAction"]);yield j5(el({formId:U,formName:V,isAutoLock:N},L))}if(p.length)for(const A of p)yield sx(A);if(x.length)for(const A of x){const{resultAction:{formId:$,formName:U},state:V}=A;yield sx(A),yield rn({formId:$,formName:U,state:V})}if(O.length)for(const A of O)yield G5(A);if(P.length){const A={};P.forEach($=>{const{controlId:U,value:V}=$.resultAction;$e(A,U)?A[U].value.push(V):A[U]=La(el({},$.resultAction),{value:[V]})});for(const $ in A)yield ix(A[$])}if(g.length)for(const A of g){const $=A.resultAction.uploadOptions,U=La(el({},A.resultAction.uploadOptions),{serverConfig:{url:`../api/xcom/files/upload/${$.formId}`,process:{headers:{sessionUploadId:ac()}}}});yield X5(U)}if(M.length)for(const A of M){const $=A.resultAction;yield t8($)}if(v.length)for(const A of v){const $=A.error||{},{formId:U,controlId:V,message:N="error",context:L=!1}=$,j=wx($,["formId","controlId","message","context"]);yield(0,ne.gz)(rp(el({formId:U,controlId:V,message:N,context:L},j))),yield lx({formId:U}),yield R5({formId:U,controlId:V})}if(b.length)for(const A of b){const{serviceURL:$}=(A==null?void 0:A.resultAction)||{},U=!Ka(["safari"]);if($)if(U){const V="location=yes,resizable=yes,scrollbars=yes,status=yes, top=100, left=100, width=400, height=500";setTimeout(()=>{window.open($,"_blank",V)})}else{let V=document.createElement("a");document.body.appendChild(V),V.style="display: none",V.target="_blank",V.href=$,V.click(),document.body.removeChild(V)}}if(y.length)for(const A of y){const{serviceURL:$}=(A==null?void 0:A.resultAction)||{};$&&window.open($,"_blank")}if(C.length)for(const A of C){const{serviceURL:$}=(A==null?void 0:A.resultAction)||{};$&&window.open($,"_blank")}if(h.length&&(yield(0,ne.Cs)(v5,h)),k.length)for(const A of k){const $=A.resultAction;yield ix($)}if(E.length)for(const A of E)console.warn(`Unknown action: '${(e=A==null?void 0:A.resultAction)==null?void 0:e.action}'!`,A);const w=l.find(A=>A.reminders!==void 0);yield(0,ne.gz)(dp(w==null?void 0:w.reminders));const S=l.find(A=>A.Workers!==void 0),F=n==null?void 0:n.interval;if(S||F!==void 0)if(S)yield(0,ne.gz)(la(La(el({},S.Workers),{interval:F})));else{const{workers:A}=yield(0,ne.Ys)(qw),$=A==null?void 0:A.interval;F!==$&&(yield(0,ne.gz)(la(La(el({},A),{interval:F}))))}return i}var c8=Object.defineProperty,u8=Object.defineProperties,d8=Object.getOwnPropertyDescriptors,xx=Object.getOwnPropertySymbols,f8=Object.prototype.hasOwnProperty,p8=Object.prototype.propertyIsEnumerable,Sx=(t,e,n)=>e in t?c8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m8=(t,e)=>{for(var n in e||(e={}))f8.call(e,n)&&Sx(t,n,e[n]);if(xx)for(var n of xx(e))p8.call(e,n)&&Sx(t,n,e[n]);return t},v8=(t,e)=>u8(t,d8(e));function*Px({loginRequestPayload:t,optionalData:e}){const{data:n}=t,r=n.sessionID;r&&af(r);let o=!0;if($e(n,"roles")){yield(0,ne.gz)(cs({caption:"choose_role_form",component:"ChooseRoleForm",componentProps:{roles:n.roles}})),yield Xt();const{payload:l}=yield(0,ne.qn)(us);if(yield Yt(),l){const{forceLogin:i}=e,c={role:l};i&&(c.forceLogin=i);const{data:d}=yield(0,ne.RE)(KS,c);d.sessionID&&af(d.sessionID)}else o=!1,yield(0,ne.gz)(aa())}if(o){const l=yield(0,ne.RE)(Ef),i=c=>{var d;return((d=c.resultAction)==null?void 0:d.openMode)==="modal"};l.data.result&&l.data.result.some(i)?(yield bn({response:l.data}),yield(0,ne.gz)(ds(l.data.result.find(i).resultAction.formId))):yield(0,ne.RE)(Kw),yield(0,ne.xN)(Cc(v8(m8({},l.data),{isUserIntoTab:!0}))),uS(t.user),yield(0,ne.xN)(xc()),yield(0,ne.xN)(la())}}function*h8(t){try{yield Yt();let e;const{sso:n,forceLogin:r}=t;n?e=yield(0,ne.RE)(TS,{forceLogin:r}):e=yield(0,ne.RE)(FS,t),yield Px({loginRequestPayload:e,optionalData:{forceLogin:r}})}catch(e){if(ml(e)){if(ns(e)===na[3]&&(yield(0,ne.xN)(mo({isError:!0,isSessionExist:!0,errorMessage:po(e)}))),ns(e)===na[1]&&(yield(0,ne.xN)(mo({isError:!1,isSessionExist:!1,errorMessage:""})),yield(0,ne.gz)(oa({message:po(e)}))),ns(e)===na[6]){yield(0,ne.gz)(cs({caption:"change_password_dialog",component:"PasswordChangeForm"})),yield Xt();const{payload:n}=yield(0,ne.qn)(us);if(yield Yt(),n)try{const r=yield(0,ne.RE)(qS,n);yield Px({loginRequestPayload:r,optionalData:{forceLogin:!0}})}catch(r){ml(r)&&(yield(0,ne.xN)(mo({isError:!1,isSessionExist:!1,errorMessage:""}))),ts(r)&&(yield(0,ne.gz)(oa({message:po(r)})))}else yield(0,ne.xN)(mo({isError:!1,isSessionExist:!1,errorMessage:""}))}ns(e)===na[4]&&(yield(0,ne.xN)(mo({isError:!1,isSessionExist:!1,errorMessage:""})))}else yield(0,ne.xN)(mo({isError:!1,isSessionExist:!1,errorMessage:""})),yield Pt(e)}finally{yield Xt()}}function*Ix(t=!1){lf(),yield(0,ne.xN)(wc()),yield(0,ne.xN)(hl({savePreloadingData:t}))}function*g8(){try{yield Yt(),yield(0,ne.xN)(Uf()),(yield(0,ne.RE)(AS)).request.responseURL&&(yield Ix())}catch(t){if(Ff(t)){yield Ix(!0);return}yield(0,ne.xN)(xc()),ml(t)?yield(0,ne.xN)(SP({isError:!0,errorMessage:po(t)})):yield Pt(t)}finally{yield Xt()}}function*b8(){for(;;)try{const{isUserIntoTab:t}=yield(0,ne.Ys)(aw);let e=null;if(!t){const{payload:r}=yield(0,ne.qn)(Pp);e=yield(0,ne.rM)(h8,r)}(yield(0,ne.qn)([mo,aa])).type===aa.toString()&&(e&&(yield(0,ne.al)(e)),yield g8())}catch(t){yield Pt(t)}}function*y8(t){try{const{payload:e}=t;yield x0.change(e.webUiLanguage)}catch(e){yield Pt(e)}}function*_8(){yield(0,ne.ib)(Mc,y8)}const Ox=60;let Ji=Ox;const C8=(t={})=>{const{interval:e,Progress:n}=t,r=n&&n.length;return e||(r?1:Ox)};function*w8(){const{workers:t}=yield(0,ne.Ys)(qw);return Ji=C8(t),yield(0,ne.gw)(Ji*1e3),yield(0,ne.rM)(x8)}function*x8(){var t,e;try{for(;;){const n=yield(0,ne.RE)(zS),r=((t=n.data)==null?void 0:t.interval)&&n.data.interval!==Ji;((e=n.data)!=null&&e.result||r)&&(yield bn({response:n.data})),yield(0,ne.gw)(Ji*1e3)}}catch(n){ml(n)||ts(n)||Ff(n)?(yield(0,ne.gz)(aa()),yield(0,ne.gz)(op({message:po(n)||"error_lost_session"}))):console.error(n)}}function*S8(){const{isUserIntoTab:t}=yield(0,ne.Ys)(aw);for(;;)try{t||(yield(0,ne.qn)(xc));const e=yield(0,ne.Fm)([bc,la],w8);yield(0,ne.qn)(Uf),yield(0,ne.al)(e)}catch(e){yield Pt(e)}}function P8(t,e){var n,r,o,l,i,c;const{formId:d,type:u,controlId:m,subControlId:f,value:p}=e,v=(o=(r=(n=t.forms[d])==null?void 0:n.entities)==null?void 0:r[u])==null?void 0:o[m];if(u==="table"){const b=v==null?void 0:v.columnsData.find(y=>{var h;return((h=y==null?void 0:y.control)==null?void 0:h.name)===f});return(i=(l=b==null?void 0:b.control)==null?void 0:l.cacheValues)==null?void 0:i[p]}else return(c=v==null?void 0:v.cacheValues)==null?void 0:c[p]}var I8=Object.defineProperty,Ex=Object.getOwnPropertySymbols,O8=Object.prototype.hasOwnProperty,E8=Object.prototype.propertyIsEnumerable,kx=(t,e,n)=>e in t?I8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jx=(t,e)=>{for(var n in e||(e={}))O8.call(e,n)&&kx(t,n,e[n]);if(Ex)for(var n of Ex(e))E8.call(e,n)&&kx(t,n,e[n]);return t};function*k8(t){var e,n,r;const o=yield Mn(US,uf(t));return(r=(n=(e=o.data)==null?void 0:e.result)==null?void 0:n[0])!=null&&r.error?null:o.result[0].resultAction}function*Rx(t){const{formId:e,controlId:n,value:r,type:o}=t;let l=null;const i=yield(0,ne.Ys)(pn,e),c=(0,fr.ZP)(i.entities,d=>{var u,m;if(o==="table"){const f=n;if(r!=null&&r.cellData){const{cellData:p}=r,{columnIndex:v}=p;l=(u=d[o][f].columnsData[v])==null?void 0:u.control}}else if(o==="canvasGrid"){const f=n,{currentRow:p,currentCol:v}=t.state;l=d[o][f].gridMatrix[p-1][v-1]}else["string","integer","number","enum"].includes(o)&&(l=d[o][n]);if(l){const{reset:f,listValues:p,cashedValue:v}=r;if(f)l.cacheValues={},l.listValues=[];else{if(v&&o!=="enum"){const{cashedKey:b,cashedListValues:y}=v;(m=l.cacheValues)!=null&&m[b]||(l.cacheValues||(l.cacheValues={}),l.cacheValues[b]=y)}l.listValues=p||[]}}});yield rn({formId:e,entities:c})}function*Dx({formId:t,controlId:e,type:n}){var r;const o=yield(0,ne.Ys)(pn,t);if(!o)throw new Error(`\u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B ${t}`);const l=o.entities,i=(r=l==null?void 0:l[n])==null?void 0:r[e];if(!i)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${e}`);return{formId:t,controlId:e,type:n,value:{},entities:l,element:i}}function*Nx({payload:t}){try{yield(0,ne.RE)(Yt);const{formId:e,formName:n,controlId:r,type:o,value:l,state:i}=t,c=(0,zt.get)(l,"cellData.rowId"),d={formId:e,formName:n,controlId:r,rowId:c,action:"autoComplete",value:l,state:i},u=yield Dx({formId:e,controlId:r,type:o}),{element:m}=u;if(o==="table"&&(d.value=l.cellValue,d.controlId=l.controlId),o==="canvasGrid"&&(d.type=o),d.value!==""){const f={cashedValue:null,listValues:null},p=m.initialValue===l;let v=yield(0,ne.Ys)(P8,t);if(v)f.listValues=v;else if(!p){const b=yield k8(d);b!=null&&b.listValues&&(f.cashedValue={cashedKey:d.value,cashedListValues:b.listValues},f.listValues=b.listValues,o==="canvasGrid"&&(u.state=i))}o==="table"?u.value=jx({cellData:l.cellData},f):u.value=f}yield Rx(u)}catch(e){yield Pt(e)}finally{yield Xt()}}function*j8({payload:t}){try{yield Yt();const{formId:e,controlId:n,type:r,value:o}=t,l=yield Dx({formId:e,controlId:n,type:r}),i={reset:!0};r==="table"?l.value=jx({cellData:o.cellData},i):l.value=i,yield Rx(l)}catch(e){yield Pt(e)}finally{yield Xt()}}function*R8(){yield(0,ne.Ds)(500,Sc,Nx),yield(0,ne.P2)(1e3,Pc,Nx),yield(0,ne.ib)(Ic,j8)}var D8=Object.defineProperty,N8=Object.defineProperties,M8=Object.getOwnPropertyDescriptors,Mx=Object.getOwnPropertySymbols,T8=Object.prototype.hasOwnProperty,F8=Object.prototype.propertyIsEnumerable,Tx=(t,e,n)=>e in t?D8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tn=(t,e)=>{for(var n in e||(e={}))T8.call(e,n)&&Tx(t,n,e[n]);if(Mx)for(var n of Mx(e))F8.call(e,n)&&Tx(t,n,e[n]);return t},tl=(t,e)=>N8(t,M8(e));function*Zd({response:t,action:e}){var n,r;const{payload:{formId:o,controlId:l,type:i,checkResponse:c}}=e;if(c){const d=((n=t==null?void 0:t.result)==null?void 0:n.length)&&t.result.find(m=>{var f;return((f=m.resultAction)==null?void 0:f.formId)===o});if(((r=d==null?void 0:d.state)==null?void 0:r.length)===0){const m=yield(0,ne.Ys)(pn,o),f=(0,fr.ZP)(m,p=>{var v,b;const y=(b=(v=p.entities)==null?void 0:v[i])==null?void 0:b[l];if(!y)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${l}`);y.value=y.initialValue,y.formattedValue=y.initialFormattedValue});yield(0,ne.xN)($o(f))}}}function*yr({payload:t}){const{formId:e,controlId:n,value:r,type:o,parentType:l,skipDiffs:i,notValidValue:c}=t,d=yield(0,ne.Ys)(pn,e);let u=!1;if(d&&r.eventType!=="onAutolock"){const m=(0,fr.ZP)(d,f=>{var p,v,b,y,h,g,C,O,M;const P=(v=(p=f.entities)==null?void 0:p[l||o])==null?void 0:v[n];if(!P)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${n}`);if(o==="table"){const x=P,k=n,{selectedRowIds:E,currentRowId:w}=x.initialValue;f.diffs[k]||(f.diffs[k]={currentRowId:((b=r.cellData)==null?void 0:b.rowId)||r.rowId||r.lastSelectedRowId||w||x.currentRowId,currentColumnId:((y=r.cellData)==null?void 0:y.columnId)||r.columnId||x.currentColumnId});const S=f.diffs[k];if(r&&(f.entities[o][k]=Tn({},x)),r!=null&&r.selectedRowIds&&(f.entities[o][k].selectedRowIds=r.selectedRowIds,r.selectedRowIds&&!(0,zt.isEqual)(r.selectedRowIds,E)?S.selectedRows=r.selectedRowIds:S==null||delete S.selectedRows),$e(r,"rowId")&&r.rowId){const F=f.entities[o][k],A=r.rowId,$=A==="serviceRow"&&((g=(h=F.rowsData)==null?void 0:h[0])==null?void 0:g.rowId)!=="serviceRow";S.currentRowId=$?w:A,A&&!$&&(F.currentRowId=A)}if($e(r,"columnId")){const F=f.entities[o][k];F.currentColumnId=r.columnId,S.currentColumnId=r.columnId}if($e(r,"eventType")){const{cellData:F,cellValue:A}=r,{rowId:$,rowIndex:U,columnId:V}=F,N=f.entities[o][k].rowsData[U][V];let L=A,j=A;L instanceof Object&&A.root&&(L=A.root,j=A.keyValue),u=[void 0,null,""].includes(L)?!!(N!=null&&N.initialValue)!=!!L:(N==null?void 0:N.initialValue)!==L;let R=(S==null?void 0:S.rowsData)||[];const H=R.findIndex(W=>W.rowId===$);u&&!i?H!==-1?R[H]=tl(Tn({},R[H]),{[V]:j}):R.push({rowId:$,[V]:j}):H!==-1&&R.splice(H,1),S.rowsData=R,N.value=u?L:N.initialValue}(0,zt.isEqual)(S,{selectedRowIds:E,currentRowId:w})&&delete f.diffs[k],(0,zt.isEqual)(S,{rowsData:[]})&&delete f.diffs[k]}else if(o==="grid"){const x=P,k=n;f.diffs[k]||(f.diffs[k]={});const E=f.diffs[k];r&&(f.entities[o][k]=Tn({},x)),r.cellsData||(r.cellsData=[r]),r.cellsData.forEach(w=>{if($e(w,"rowId")&&(f.entities[o][k].currentRowId=w.rowId),$e(w,"columnId")&&(f.entities[o][k].currentColumnId=w.columnId),$e(w,"eventType")){const{cellData:S,cellValue:F}=w,{rowId:A,columnId:$}=S,U=f.entities[o][k].cells[A][$],V=(U==null?void 0:U.initialValue)!==F;u=u||V,E.cells||(E.cells={});const N=Tn({},E.cells);N[A]?N[A]=Tn({},N[A]):N[A]={},V?N[A][$]=(F==null?void 0:F.keyValue)||F:(delete N[A][$],Object.keys(N[A]).length||delete N[A]),E.cells=N,U.value=V?(F==null?void 0:F.root)||F:U.initialValue}}),(0,zt.isEqual)(E,{cells:{}})&&delete f.diffs[k]}else if(o==="tree"){const x=f.entities[o][n],k=r,E=x.entities[k],w=Mo({source:x.schema,searchKey:"nodeId",searchValue:k,iterationKey:"elements"});if(!E||!w)throw new Error("setElementValueSaga: \u041D\u0435\u0442 nodeEntity \u0438\u043B\u0438 nodeSchema");const{openNodesIds:S}=x;!!(S&&S.includes(k))?x.openNodesIds=S.filter(A=>A!==k):(C=w.elements)!=null&&C.length?x.openNodesIds=[...S,k]:u=!0}else if(["string","integer","number","enum","date"].includes(o)){const x=f.entities[o][n];let k=r,E=r;r instanceof Object&&r.root&&(k=r.root,E=r.keyValue),u=x.initialValue!==k,o==="string"&&x.formattedValue!==k&&(u=!0),(u||c)&&(x.value=k,x.formattedValue=k),u&&!i?f.diffs[n]=E:$e(f.diffs,n)&&delete f.diffs[n]}else if(o==="chart")f.diffs[n]=r,u=!0;else if(o==="box")f.entities[o][n]=Tn({},P);else if(o==="tabs")r&&(i?f.entities[l][n]=tl(Tn({},P),{activeTab:r}):(f.entities[l][n]=(M=(O=f.entities[l][n])==null?void 0:O.eventsTabs)!=null&&M.onClick?tl(Tn({},P),{activeTab:r}):Tn({},P),f.diffs[n]={activeTab:r}),u=!0);else if(o==="report"){if(r){const x=P,{selectedCellId:k,cellInfo:E}=r;if(k)x.selectedCellId=k;else if(E){const{value:w,collapsedRows:S}=x,{"data-tab":F,"data-row":A,"data-lvl":$,"data-ind":U}=E,V=Fu(U),N=LD({dataTab:F,dataRow:A,dataLvl:$}),L=wh(F);let j=w.match(L);if(!j){let H=Mu(w);if(!H)return;j=H}j=j.join("");const R=`${n}${F}${A}${$}`;if(V==="onCollapse"){const H=F?new RegExp(`(<tr.*?data-tab="${F}".*?data-row="${A}".*?data-lvl="${$}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<tr.*?data-lvl="(${Au($)})"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi"):new RegExp(`(<tr.*?data-row="${A}".*?data-lvl="${$}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<tr.*?data-lvl="(${Au($)})"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)`,"gi");let W=j.match(H);if(W){let G=W.join("").match(new RegExp(`<tr.*?data-lvl="(${Au($)})"[\\s\\S]*?>([\\s\\S]*?)<\\/([\\s\\S]*?)tr>`,"gi"));G&&(W=W.join("").replace(G[1],""))}else{const G=F?new RegExp(`(<tr.*?data-tab="${F}".*?data-row="${A}".*?data-lvl="${$}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<\\/([\\s\\S]*?)table>)`,"gi"):new RegExp(`(<tr.*?data-row="${A}".*?data-lvl="${$}"[\\s\\S]*?>)([\\s\\S]*?)(<\\/([\\s\\S]*?)tr>)[\\s\\S]*?(<\\/([\\s\\S]*?)table>)`,"gi");if(W=j.match(G),W)W=W.join("").slice(0,-8);else return}const K=W.match(N).join("").replace('data-ind="h;0','data-ind="h;1').replace(">-<",">+<");let Z=j.replace(W,K);x.value=w.replace(j,Z),x.collapsedRows=W&&R?tl(Tn({},S),{[R]:W}):{}}else if(V==="onExpand"){let H=S[R];if(H){let W=j.replace(N,H);x.value=w.replace(j,W)}else x.reservedRow=j.match(N).join("").replace('data-ind="h;1','data-ind="h;0').replace(">+<",">-<"),u=!0}}f.entities[o][n]=x}}else o==="upload"?f.entities[o][n]=tl(Tn({},P),{value:r}):(f.entities[o][n]=Tn({},P),u=r!==P.initialValue,u&&!i?f.diffs[n]=r:$e(f.diffs,n)&&delete f.diffs[n])});yield(0,ne.xN)($o(m))}return u}function*A8(t){var e,n,r,o,l,i,c,d;try{const{payload:{formId:u,formName:m,isModal:f,showIndicator:p=!0,type:v,controlId:b,action:y,value:h,roleCenterFormId:g,href:C,commandName:O}}=t;let M=b,P=y;const x={},k=yield(0,ne.Ys)(b4,M);let E=["loadData","onLookup"].includes(P);if(!E&&!k)if(v==="table"){if(["onEnter","hierarchyUp","onSummaryClick","onDblClick","clickIcon","onTop","onBottom","onPgUp","onPgDn","onNavigation"].includes(P))E=!0;else if(P==="onHeaderClick")E=!0,M=h,P="onClick";else if(P==="onMenuItemSelect")E=!0,x.menuItem=h.menuItem,x.menuRowId=h.rowId,x.menuColumnId=h.columnId,P="onClick";else if(P==="onHeaderCtxMenuClick"){E=!0;const{hidden:S,menuItem:F}=h;x.columns=[{columnId:F,hidden:S}],P="onHeaderCtxMenuClick"}else if(["onRowsBlur","onMove"].includes(P)){const{isEditableCardFile:S,value:{rowId:F,submit:A}}=t.payload;yield(0,ne.RE)(yr,t),S&&F&&A!==!1&&(E=!0)}else if($e(t==null?void 0:t.payload,"value")){const{controlType:S,controlId:F,eventType:A,controlEvents:$,cellValue:U}=h;if(S)switch(M=F,P=A,$!=null&&$[A]&&(P=$[A]),S){case"button":{E=!0;break}case"listButton":{M=U,E=!0;break}case"string":case"number":case"enum":case"integer":if(["onLookup","onClick","onDblClick"].includes(P)){E=!0;break}default:$e(t==null?void 0:t.payload,"value")&&(E=yield(0,ne.RE)(yr,t))}else E=yield(0,ne.RE)(yr,t)}}else if(v==="grid"){if(P==="onHeaderEvent")E=!0,P=h.event,M=h.headerId;else if(P==="onMenuItemSelect")E=!0,x.menuItem=h.menuItem,x.menuRowId=h.rowId,x.menuColumnId=h.columnId,x.state={},x.state[b]={currentRowId:h.rowId,currentColumnId:h.columnId,selectedCells:h.selectedCells},P="onClick";else if(P==="onLoadData")E=!0,P="loadData",x.data=h;else if(P!=="onShowContextMenu"){const{controlType:w,eventType:S}=h;(w||(n=(e=h==null?void 0:h.cellsData)==null?void 0:e[0])!=null&&n.controlType)&&(S==="onLookup"?(E=!0,P=S,x.rowId=h.cellData.rowId,x.columnId=h.cellData.columnId):S==="onAutolock"?P=S:S==="onClickCell"?(E=!0,P=S,x.state={currentRowId:h.rowId,currentColumnId:h.columnId},x.eventType=h.cellValue):(P="onChange",$e(t==null?void 0:t.payload,"value")&&(E=yield(0,ne.RE)(yr,t))))}}else if(v==="canvasGrid")if(["onEnter","onLoadData","onDblClick","onClick","onLookup","onNavigation"].includes(P)&&(E=!0),P==="onLoadData")P="loadData",x.viewBox=h;else if(P==="onNavigation"){P="onMove";const{X:S,Y:F}=h;x.state={},x.state[M]=tl(Tn({},h),{currentCol:S,currentRow:F})}else if(P==="onPasteCells")P="onEnter",$e(t==null?void 0:t.payload,"value")&&(E=yield(0,ne.RE)(yr,t));else{if(h.cells===void 0&&h.currentCol&&h.currentRow){const{currentCol:S,currentRow:F}=h;$e(h,"value")&&(h.cells=[{col:S,row:F}],h.cells[0].value=h.value,delete h.value)}x.state={},x.state[M]=h}else if(["button","listButton","label"].includes(v))E=!0,O==="@Cmd:Print=\u041F\u0435\u0447\u0430\u0442\u044C"&&ZD("report");else if(v==="box")E=yield(0,ne.RE)(yr,t);else if(v==="tabs")E=yield(0,ne.RE)(yr,t);else if(v==="upload")P==="approveUpload"&&(x.fileName=[]),yield(0,ne.RE)(yr,t);else if(v==="tree")switch(x.nodeId=h,P){case"onClickAdd":case"onDblClick":case"onChange":E=!0;break;case"onExpand":E=yield(0,ne.RE)(yr,t);break;default:break}else if(v==="report")switch(P){case"onDblClick":case"onClick":x.reportInfo=h,E=!0;break;case"onExpand":case"onCollapse":{if(E=yield(0,ne.RE)(yr,t),E){const{cellInfo:w}=h;x.reportInfo=w}break}default:yield(0,ne.RE)(yr,t);break}else $e(t==null?void 0:t.payload,"value")&&(C&&(x.href=C),E=yield(0,ne.RE)(yr,t));if(P){if(P==="changeSpoiler"){const{isCollapsed:w}=h,S=yield Mn(vP,{formId:u,formName:m,containerId:M,isCollapsed:w});yield bn({response:S,parentFormId:f?null:u})}else if(["onEdit","onDblClick"].includes(P))try{p&&(yield Yt());const w=yield jr(Tn({formId:u,roleCenterFormId:g,controlId:M,action:P},x));yield Zd({response:w,action:t}),yield bn({response:w,parentFormId:f?null:u}),((l=(o=(r=w==null?void 0:w.result)==null?void 0:r[0])==null?void 0:o.resultAction)==null?void 0:l.autoLock)&&P==="onEdit"&&((c=(i=t.payload)==null?void 0:i.value)==null||delete c.eventType,yield(0,ne.gz)(dr(tl(Tn({},t.payload),{action:"onAutolock"}))))}catch(w){yield Pt(w)}finally{p&&(yield Xt())}else if(P!=="onBlur"&&E)try{p&&(yield Yt()),P==="onLookup"&&v==="canvasGrid"&&(x.state=h);const w=yield jr(Tn({formId:u,roleCenterFormId:g,controlId:M,action:P},x));w!=null&&w.sessionLogout&&Ge.onLogOut(),yield Zd({response:w,action:t}),["button","chart"].includes(v)&&(yield lx({formId:u})),yield bn({response:w,parentFormId:f?null:u})}catch(w){yield Pt(w)}finally{p&&(yield Xt())}else if(P==="onMove"){if(h.submit===!1)return;const w=yield jr(Tn({formId:u,roleCenterFormId:g,controlId:M,action:P},x));yield Zd({response:w,action:t}),yield bn({response:w,parentFormId:u})}else if(P==="onAutolock"){const w=yield(0,ne.Ys)(pn,u);if(!w)throw new Error(`\u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B ${u}`);const S=w.isAutoLock?yield jr({formId:u,action:"lock"}):null,F=(d=S==null?void 0:S.result)==null?void 0:d[0],A=(0,fr.ZP)(w,$=>{var U,V,N,L,j,R,H,W,K,Z,G,re;let ee=null;if(v==="table"){const{rowIndex:ce}=h.cellData;ee=(j=(L=(N=(V=(U=$.entities)==null?void 0:U[v])==null?void 0:V[b])==null?void 0:N.rowsData)==null?void 0:L[ce])==null?void 0:j[M]}else if(v==="grid"){const{rowId:ce,columnId:D}=h;ee=(Z=(K=(W=(H=(R=$.entities)==null?void 0:R[v])==null?void 0:H[b])==null?void 0:W.cells)==null?void 0:K[ce])==null?void 0:Z[D]}else ee=(re=(G=$.entities)==null?void 0:G[v])==null?void 0:re[M];if(!ee)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${M}`);ee.isDisabledByAutolock=!!(F!=null&&F.error)});yield(0,ne.xN)($o(A)),yield bn({response:S,parentFormId:u})}else if(P==="onShowContextMenu"){const{payload:{formId:w,formName:S,value:F,controlId:A}}=t;if(A){const $={formId:w,controlId:A,formName:S,action:"showPopupMenu"};F&&($.state={menuColumnId:F.columnId,menuRowId:F.rowId});const U=yield jr($);U&&(yield bn({response:U,parentFormId:w}))}}}}catch(u){yield Pt(u)}}function*B8(){const t=yield(0,ne.ZO)(dr);for(;;){const e=yield(0,ne.qn)(t);yield A8(e)}}function*$8(t){var e,n,r;const o=yield Mn(VS,uf(t));return(r=(n=(e=o.data)==null?void 0:e.result)==null?void 0:n[0])!=null&&r.error?null:o.result[0].resultAction}function*z8(t){try{yield(0,ne.RE)(Yt);const{formId:e,controlId:n,type:r,event:o,value:{columnName:l,isCardFile:i}}=t.payload;if(i){const c=yield(0,ne.Ys)(pn,e),u=yield $8({formId:e,controlId:n,columnId:l});if(!u)throw new Error("getCtxMenuListTask: \u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");const m=(0,fr.ZP)(c.entities,f=>{if(r==="table"){const p=f[r][n];p.contextHeader={list:u.listHeaderCtxMenu,target:l,event:o}}});yield rn({formId:e,entities:m})}}catch(e){yield Pt(e)}finally{yield Xt()}}function*L8(t){try{yield(0,ne.RE)(Yt);const{formId:e,controlId:n,type:r}=t.payload;if(n==="CardFile"){const o=yield(0,ne.Ys)(pn,e),l=(0,fr.ZP)(o.entities,i=>{if(r==="table"){const c=i[r][n];delete c.contextHeader}});yield rn({formId:e,entities:l})}}catch(e){yield Pt(e)}finally{yield Xt()}}function*H8(){yield(0,ne.Ds)(500,mp,z8),yield(0,ne.ib)(vp,L8)}var W8=Object.defineProperty,Qi=Object.getOwnPropertySymbols,Fx=Object.prototype.hasOwnProperty,Ax=Object.prototype.propertyIsEnumerable,Bx=(t,e,n)=>e in t?W8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V8=(t,e)=>{for(var n in e||(e={}))Fx.call(e,n)&&Bx(t,n,e[n]);if(Qi)for(var n of Qi(e))Ax.call(e,n)&&Bx(t,n,e[n]);return t},U8=(t,e)=>{var n={};for(var r in t)Fx.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qi)for(var r of Qi(t))e.indexOf(r)<0&&Ax.call(t,r)&&(n[r]=t[r]);return n};function G8(t,e){var n;if((n=t==null?void 0:t.result)!=null&&n.length)for(const r of t.result)r!=null&&r.resultAction&&(r.resultAction.action==="updateRoleCenter"?r.resultAction.commandName=tf:r.resultAction.commandName=e)}function*Kd(t){try{yield(0,ne.RE)(Yt);const{payload:e}=t,n=e,{id:r,controlId:o,advanced:l,mode:i,loaded:c}=n,d=U8(n,["id","controlId","advanced","mode","loaded"]);let u;c?u=c:u=yield Mn(fP,V8({commandName:r,controlId:o,advanced:l},d)),G8(u,r),yield(0,ne.RE)(bn,{response:u}),u.refreshMenu&&i==="toolbarClick"&&(yield(0,ne.xN)(Rc(!0)))}catch(e){yield(0,ne.RE)(Pt,e)}finally{yield(0,ne.RE)(Xt)}}function*Z8(){yield(0,ne.P2)(1e3,gp,Kd),yield(0,ne.P2)(1e3,Dc,Kd),yield(0,ne.P2)(1e3,bp,Kd)}function K8(t){var e;let n=null;if((e=t==null?void 0:t.result)!=null&&e.length){const r=t==null?void 0:t.result.filter(c=>{const{openMode:d,action:u}=c.resultAction||{};return u==="open"&&d==="new"}),o=t==null?void 0:t.result.filter(c=>{const{action:d}=c.resultAction||{};return d==="updateRoleCenter"}),l=r.find(c=>c.resultAction.isActive);o.find(c=>c.resultAction.isActive)?n="0":l?n=l.resultAction.formId:r.length?n=r[r.length-1].resultAction.formId:n="0"}return n}function*q8(t){try{yield Yt();const e=yield Mn(pP,t.payload);yield bn({response:e,skipFormStackQueue:!0});const n=K8(e);yield(0,ne.xN)(Bo(n))}catch(e){yield Pt(e)}finally{yield Xt()}}function*Y8(){yield(0,ne.ib)(bc,q8)}function*X8(t){yield(0,ne.xN)(ap(t))}function*J8(t){if(t!=null&&t.payload){const{formId:e,controlId:n,formName:r,type:o}=t.payload;yield X8({action:"onEnter",formId:e,controlId:n,formName:r,type:o})}}function*Q8(){yield(0,ne.ib)(Ec,J8)}function*eU(t={}){try{yield Yt();const e=yield Mn(LS,t.payload);yield bn({response:e})}catch(e){yield Pt(e)}finally{yield Xt()}}function*tU(){yield(0,ne.P2)(1e3,sp,eU)}function*nU(t={}){var e;try{const n=yield Mn(HS,t.payload),r=(e=t==null?void 0:t.payload)==null?void 0:e.formId;yield bn({response:n,parentFormId:r})}catch(n){yield Pt(n)}finally{}}function*rU(){yield(0,ne.ib)(ip,nU)}function*oU(t){var e,n,r;const o=yield Mn(GS,t);return(r=(n=(e=o.data)==null?void 0:e.result)==null?void 0:n[0])!=null&&r.error?null:o.result[0].resultAction}function*lU({payload:t}){try{yield(0,ne.RE)(Yt);const{formId:e,formName:n,controlId:r,type:o,value:l}=t,i={formId:e,formName:n,controlId:r,action:"onHint"};o==="table"&&(i.rowId=l.cellData.rowId,i.controlId=l.controlId);const d=(yield oU(i)).hint,u=yield(0,ne.Ys)(pn,e);if(!u)throw new Error(`\u041D\u0435\u0442 \u0444\u043E\u0440\u043C\u044B ${e}`);const m=(0,fr.ZP)(u.entities,f=>{var p;const v=(p=f==null?void 0:f[o])==null?void 0:p[r];if(!v)throw new Error(`\u041D\u0435\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 ${r}`);if(o==="table"){const b=v.rowsData.find(y=>y.rowId===i.rowId);b&&(b[l.controlId].hint=d)}else v.hint=d;f[o][r]=v});yield rn({formId:e,entities:m})}catch(e){yield Pt(e)}finally{yield Xt()}}function*aU(){yield(0,ne.Ds)(150,jc,lU)}var sU=Object.defineProperty,iU=Object.defineProperties,cU=Object.getOwnPropertyDescriptors,ec=Object.getOwnPropertySymbols,$x=Object.prototype.hasOwnProperty,zx=Object.prototype.propertyIsEnumerable,Lx=(t,e,n)=>e in t?sU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uU=(t,e)=>{for(var n in e||(e={}))$x.call(e,n)&&Lx(t,n,e[n]);if(ec)for(var n of ec(e))zx.call(e,n)&&Lx(t,n,e[n]);return t},dU=(t,e)=>iU(t,cU(e)),fU=(t,e)=>{var n={};for(var r in t)$x.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ec)for(var r of ec(t))e.indexOf(r)<0&&zx.call(t,r)&&(n[r]=t[r]);return n};function*pU(t){try{const{payload:e}=t,n=e,{type:r,value:o}=n,l=fU(n,["type","value"]);if(!r)return;yield Mn(mc,dU(uU({},l),{value:o,action:"clipboard"+r[0].toUpperCase()+r.substring(1)}))}catch(e){yield Pt(e)}}function*mU(){yield(0,ne.ib)(Rp,pU)}function*vU(){yield(0,ne.$6)([m5(),_8(),b8(),R8(),B8(),U5(),e8(),Z8(),Y8(),S8(),o8(),H8(),Q8(),tU(),rU(),aU(),mU()])}var r9={popperIconSize:"18px",primaryColor:"#0bd688"},hU=Object.defineProperty,gU=Object.defineProperties,bU=Object.getOwnPropertyDescriptors,Hx=Object.getOwnPropertySymbols,yU=Object.prototype.hasOwnProperty,_U=Object.prototype.propertyIsEnumerable,Wx=(t,e,n)=>e in t?hU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qd=(t,e)=>{for(var n in e||(e={}))yU.call(e,n)&&Wx(t,n,e[n]);if(Hx)for(var n of Hx(e))_U.call(e,n)&&Wx(t,n,e[n]);return t},CU=(t,e)=>gU(t,bU(e)),wU=(t,e,n)=>new Promise((r,o)=>{var l=d=>{try{c(n.next(d))}catch(u){o(u)}},i=d=>{try{c(n.throw(d))}catch(u){o(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(l,i);c((n=n.apply(t,e)).next())});Je.dispatch(Vf(Vx.i8)),x0.init(sf()),function(){return wU(this,null,function*(){var e;let n=null;try{const r=yield eP();tu(r.languages.webUiLanguage,(e=r.app)==null?void 0:e.appCaption),yield Je.dispatch(gc(r)),rs.initState();const o=ac();if(o){const l=yield Tf(),i=yield mP();let c=l.menuData;c=Hd(c);const d=l.toolbarData;Je.dispatch(Cc(CU(qd({},i.data),{isUserIntoTab:o})));const u=Fd(d);Je.dispatch(ss(u)),Je.dispatch(os({menu:qd(qd({},c),rs.getState())}))}}catch(r){lf(),Je.dispatch(wc()),Je.dispatch(hl()),ra(r)?n=r:console.error(r)}finally{if(u0.run(vU),(0,Ux.s)(document.getElementById("react-view")).render((0,s.jsx)(Gx.UT,{children:(0,s.jsx)(lt.zt,{store:Je,children:(0,s.jsx)(LW,{})})})),n){let o="";ml(n)?(o=po(n)||"empty_message",Je.dispatch(is({message:o}))):ts(n)&&(o=po(n)||"empty_message",Je.dispatch(oa({message:o})))}}})}()}},function(Ql){var Yd=function(s){return Ql(Ql.s=s)};Ql.O(0,[216],function(){return Yd(97367)});var Ve=Ql.O()}]);
