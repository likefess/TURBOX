---
Link: .Ctrl.ICardTree.@OnModify
---

[IComponent](topic:Com.Custom.ComClasses.IComponent.Default) :
[IContainer](topic:Com.Custom.ComClasses.IContainer.Default) :
[Ctrl.IControl](topic:Com.Custom.ComClasses.Ctrl.IControl.Default) :
[ICardTree](Default)

# Событие OnModify

## Описание

    OnModify :func(aSender :Ctrl.ICardTree; aAction :ModifyActions;
                   aRec :Rec.IRecord; aGroup :Rec.IRecord) :Logical;

## Параметры

**aSender** - указатель на объект класса [ICardTree](topic:.Custom.ComClasses.Ctrl.ICardTree.Default),
с которым произошло событие;

**aAction** - действие, которое производится над записями картотеки (удаление, восстановление,
перемещение или копирование; перечислимый тип [ModifyActions](topic:.Custom.ComClasses.Константы и перечислимые типы проекта Com.ModifyActions));

**aRec** - запись, над которой производится действие, если действие выполняется сразу
над несколькими записями, параметр aRec равен nil;

**aGroup** - целевая группа, в которую переносится запись или набор записей в случае
перемещения или копирования.

## Назначение

Обработчик события, которое происходит перед началом изменения конкретной записи. Это событие генерируется
сразу после события [BeforeModify](topic:.Custom.ComClasses.Ctrl.ICardTree.BeforeModify),
причем если определен обработчик события **BeforeModify**, то в нем должно быть разрешено
проведение действия (функция-обработчик **BeforeModify** должна вернуть TRUE).

Если какое-либо действие выполняется сразу над группой записей, то событие **OnModify**
происходит для каждой записи отдельно.

Если обработчик возвращает TRUE, система выполняет стандартную обработку выполняемого действия.
Если обработчик возвращает FALSE, система не выполняет стандартную обработку, однако
программист может закодировать непосредственно в теле обработчика все необходимые операции
(в том числе, непредусмотренные стандартной обработкой).

В частности, обработчик может исправить часть полей записи (например, чтобы избежать конфликтов
уникальных полей) и вернуть TRUE. Либо он может самостоятельно записать запись и вернуть FALSE.
Если обработчик вернет FALSE, не записав запись, это будет означать, что запись не будет
скопирована. При этом, если копировавшаяся запись является групповой, то не копируются
и все её элементы.

При входе в обработчик Result равен FALSE (действия запрещены). 


