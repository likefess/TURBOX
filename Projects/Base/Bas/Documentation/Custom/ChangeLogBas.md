---
Title: ChangeLog Bas
Keywords: ChangeLog, Новенькое, Bas
---

# Новенькое в проекте Bas
---

- [Новенькое в проекте Com](topic:Com.Custom.ChangeLog)

##12.05.2023
<!-- Осипов TXAPP-9050 -->
- В подсистеме [протоколирования](topic:.Custom.ПодсистемаПротоколирования.Default) изменено получение времени события на
  [серверное](topic:kernel.Программирование.Классы.System.ДатыИВремя.ФункцияСейчасNow).

##09.02.2023
<!-- Осипов TXAPP-8242 -->
- Изменения в структуре механизма восстановления ИБ:

    - Добавлена полноценная возможность работы на сервере процедур.

    - Настройка групп и методов восстановления производится через crf.

    - Введена [корневая группа](topic:.Custom.BasClasses.Recovery.Root.Default).

    - Настроенные ранее методы восстановления, в части проектов, перенесены в [корневую группу](topic:.Custom.BasClasses.Recovery.Root.Default).

      В "своих" проектах добавление новых методов восстановления (или их элементов) необходимо делать с помощью создания расширения класса
      [Bas.Recovery.Root](topic:.Custom.BasClasses.Recovery.Root.Default).

      Желательно перенести в [корневую группу](topic:.Custom.BasClasses.Recovery.Root.Default) все оставшиеся загрузки и методы.

    - Предыдущая реализация регистрации групп и методов частично совместима с новым вариантом.

- Удалены классы:

    - Bas.Services.BaseRecovery.блБазовый
    - Bas.Сервис.ВосстановлениеБазы.блКонвертация
    - Bas.Сервис.ВосстановлениеБазы.блСлужебные
    - Bas.Сервис.ВосстановлениеБазы.блСправочники

- Форма "Bas.Сервис.блВосстановлениеБазы", оставлена только для частичной совместимости.

  Вместо неё используйте серверную форму восстановления [Bas.Recovery.Wizard](topic:.Custom.BasClasses.Recovery.Wizard.Default).

##20.01.2023
<!-- Осипов TXAPP-8242 -->
- Механизм обновления ИБ через [классы обновления](BasClasses.ProfileInfo.Update.Default):

  Добавлена обработка классов обновления на этапе загрузки справочников. См. [тип (очередь) обновления](BasClasses.ProfileInfo.Update.UpdateType).


##17.01.2023
<!-- Осипов TXAPP-7770 -->
- Компонентный ролевой доступ:

    - Добавлено наследование от базовых проектных ролей:

      **[Admin](topic:Com.Custom.ComClasses.Access.Roles.Admin)** - административный доступ

      **[DefUser](topic:Com.Custom.ComClasses.Access.Roles.DefUser)** - доступ для пользователей по умолчанию

    - Добавлено наследование от ролей из информационной базы.

    - Стандартные роли "Администрирование" и "Доступ по умолчанию", при создании, настраиваются как наследники проектных ролей
      **[Admin](topic:Com.Custom.ComClasses.Access.Roles.Admin)** и **[DefUser](topic:Com.Custom.ComClasses.Access.Roles.DefUser)**.

    - В карточку "Роль (набор прав) пользователя" добавлен бокс "Компонентный ролевой доступ".

      В нем содержатся поля для ввода ссылки на базовую проектную роль и на базовую роль из информационной базы.

      Роль из информационной базы имеет высший приоритет при обработке.

      С административным доступом добавляется встроенный бокс "Crf как текст", для ручного исправления ошибок.

    - Добавлена конвертация ролей пользователя:

      В записи роли "Администрирование" устанавливается базовая проектная роль [Admin](topic:Com.Custom.ComClasses.Access.Roles.Admin).

      В прочих ролях устанавливается базовая проектная роль [DefUser](topic:Com.Custom.ComClasses.Access.Roles.DefUser).

    - В процессе конвертации, при наличии ранее настроенного компонентного доступа к ролевым центрам и при невозможности
      автоматического разбора, возможны ошибки.

      Внести исправления можно в карточке "Роль (набор прав) пользователя", в боксе "Компонентный ролевой доступ", "Crf как текст".

      При невозможности входа в сессию под административными правами (при ошибке разбора настроек компонентного доступа),
      необходимо войти в сессию под правом "$FullAccess" и исправить ошибки настроек.

##13.12.2022
<!-- Осипов TXAPP-6722 -->
- Добавлен новый механизм обновления информационной базы через [класс обновления](BasClasses.ProfileInfo.Update.Default).

  Для удобства создания нового класса, добавлен шаблон Bas.ProfileInfo.Update.
