# Нумератор Документа

----------

**Назначение:** Использование нумераторов позволяет организовать сквозную нумерацию документов разных видов согласно заданному правилу (шаблону). Для этого всем таким документам назначается один нумератор. Контроль уникальности и автоматическое присвоение нового номера будет выполняться с учетом всех документов, для которых назначен этот нумератор.  


**Путь:** Администрирование - Настройки - Базовые настройки - Нумератор Документа

**Порядок работы:**

Для добавления новой записи нажмите кнопку **Добавить**![](topic:Администрирование.AddFiles.Btn_Add.png)  и заполните открывшуюся форму следующим способом:

![](topic:.Администрирование.AddFiles.Screenshot_20099.jpg)

- Код - код нумератора заполняется автоматически. Доступен для редактирования вручную;
- Название - название нумератора. Заполняется вручную;
- Класс записи - выбор класса записи, для которого настраивается нумератор, из картотеки *Тип Классов Записей* (кнопка Выбрать ![](topic:.Администрирование.AddFiles.Btn_select.png));
- флаг *Общая нумерация* - в установленном состоянии означает, что нумеруются документы, где присвоена Единица учета;
- Наше предприятие - выбрать предприятие/организацию из картотеки *Все субекты* (кнопка Выбрать ![](topic:.Администрирование.AddFiles.Btn_select.png)) с ролью Наше предприятие;
- Единица учета - выбрать единицу учета из картотеки *Единицы учета* (кнопка Выбрать ![](topic:.Администрирование.AddFiles.Btn_select.png));
- Поле Документа - поле документа, для которого настраивается нумератор (кнопка Выбрать ![](topic:.Администрирование.AddFiles.Btn_select.png)). Значение выбирается из перечня полей выбранного класса записи;
- Поле с датой документа - поле документа, по которому определяется дата документа для формирования номера. Значение выбирается из перечня полей выбранного класса записи;
- флаг *Внутренний* - устанавливается по умолчанию. При установленном флаге возможно настраивать Правило;
- Правило - выбрать из списка: Стандарт / Стандарт с доп. параметром
    При выборе *Стандарт с доп.параметром, необходимо заполнить поля таблицы с дополнительными параметрами:
    - Выбор поля из Класса записи - выбирать ссылочное поле;
    - Выбор параметра для выбранного поля - выбирать необходимый параметр для отбора;

    *Примечание!  Можно добавить только один дополнительный параметр. Если флаг *Внутренний* установлен, то код редактировать в документе нельзя, иначе используется Внешний нумератор, код редактировать в документе можно;*
- Фильтр - текстовое поле для задания дополнительного фильтра по документам для использования данного правила нумерации;
- Префикс - постоянное текстовое значение, которое устанавливается перед кодом нумератора. При присвоении номера документа, редактировании и удалении документа не изменяется;
- Счетчик – номер последнего сохраненного документа. Меняется в зависимости от сохранения последнего номера документа или удаления документа с последним номером. В настройке закрыто для редактирования;
- Постфикс - постоянное текстовое значение, которое устанавливается после кода нумератора. При присвоении номера документа, редактировании и удалении документа не изменяется;
- Интервал - указать частоту обнуления нумератора. Уникальность номера требуется в рамках указанного периода. Нумератор автоматически обнуляется в заданный период. Выбрать из выпадающего списка: Год / Квартал / Месяц / Всегда;
- Период - выбрать период действия нумератора из картотеки *Периоды* (кнопка Выбор ![](topic:Администрирование.AddFiles.Btn_select.png)). Значение зависит от указанного интервала.

**Проверки при сохранении формы:**

- Проверка на корректность заполнения полей

    Контролируется заполнение следующих полей:
    * Наше предприятие;
    * Единица учета;
    * Поле Документа;
    * Поле с датой документа;
    * Дополнительные параметры : Поле из класса записи, параметр для выбора поля, при выборе Правила = Стандарт с доп.параметром.

- Проверка на уникальность нумератора

Выполняется проверка на уникальность нумератора. Отобразится сообщение: "Пересечение периодов с существующими нумераторами",
сохранение нумератора не выполняется.

Для ввода в действие введенной информации нажмите на кнопку **Дополнительно** ![](topic:Администрирование.AddFiles.Btn_OK.png) - **Записать**.

Для сохранения документа и его закрытия нажмите кнопку **ОК** ![](topic:Администрирование.AddFiles.Btn_Post.png) , иначе  -  **Отмена** ![](topic:Администрирование.AddFiles.BtnCloseCancel.png).

