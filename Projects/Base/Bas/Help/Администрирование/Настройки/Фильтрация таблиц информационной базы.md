# Фильтрация таблиц информационной базы


**Назначение:** Данная форма прав доступа позволяет настроить права пользователя  для определенных типов записей базы данных.

**Путь к документу:** Открывается из формы  [Роль (набор прав) пользователя](topic:Bas.Администрирование.Настройки.Роль набор прав пользователя) с помощью кнопки **Сервисы** ![](topic:Com.AddFiles.Buttons.Btn_Services.png)- **Фильтрация таблиц информационной базы**.

![](topic:Bas.Администрирование.AddFiles.Screenshot_11282.jpg)

**Порядок работы с формой:**

Для того чтобы установить вид доступа для записи необходимо заполнить таблицу со следующими параметрами:

- Тип записи - это класс записи, на который требуется установить право. Выбирая тип записи, следует нажать на кнопку Выбор ![](topic:Com.AddFiles.Buttons.Btn_select.png), после чего откроется перечень всех классов записей, подтвердить кнопкой **Выбор**.



- Вид доступа - настраивается доступ к выбранному классу. Вид доступа выбирается при помощи диалога "Виды доступа", который открывается по нажатию на кнопку  Выбор ![](topic:Com.AddFiles.Buttons.Btn_select.png). Поставьте флаг напротив необходимого вида доступа, подтвердите кнопкой ОК ![](topic:Com.AddFiles.Buttons.Btn_Post.png). После подтверждения он отобразится в соответствующей строке таблицы. Если было выбрано несколько видов доступа, то все выбранные варианты будут отображены в данном поле через запятую.


- Фильтр. На выбранный класс записи требуется настроить фильтр. По фильтру будут отбираться те записи класса, на которые данные права будут распространяться. Фильтр указать вручную нельзя. Для того чтобы задать фильтр необходимо воспользоваться формой "Права доступа к классу записей", которая вызывается при помощи кнопки Выбор ![](topic:Com.AddFiles.Buttons.Btn_select.png). Данная форма позволяет выбрать определенные записи класса, либо задать произвольный фильтр на класс записи.
    * Поля Доступные записи, За исключением заполняются из картотеки Глобальные настройки, параметры (кнопка Выбор ![](topic:Com.AddFiles.Buttons.Btn_select.png)).
    * Произвольная часть фильтра заполняется вручную.
    * Соединение ее со списками доступных записей оператором выбирается с помощью выпадающего списка: @Or=ИЛИ /@And=И.
    * После установки флага *Для аналит. справочников используется другой фильтр доступных записей* становятся доступны для заполнения поля  Доступные записи (для аналитических справочников), За исключением (для аналитических справочников), которые так же заполняются из картотеки Глобальные настройки, параметры (кнопка Выбор ![](topic:Com.AddFiles.Buttons.Btn_select.png)).
    * Для сохранения изменений нажмите ОК ![](topic:Com.AddFiles.Buttons.Btn_Post.png).
![](topic:Bas.Администрирование.AddFiles.Screenshot_11284.jpg)

- Флаг *Перекр.* Так как права могут быть унаследованы от вышестоящих групп, то установка данного флага позволяет перекрыть это право. Если же флаг не установлен, тогда установленное право прибавляется к вышестоящим правам при помощи логической операции and, сужая тем самым настройку из вышележащих групп прав доступа.

- Кнопка **Проверить**  предназначена для того, чтобы можно было проверить синтаксис написания фильтра.

- Комментарий - данное поле доступно при установленном флаге *Показывать комментарий*. Позволяет прописать произвольный комментарии к правам.




Установка права на записи БД определяется с помощью выпадающего списка: Прочие виды доступа запрещены, прочие типы записей недоступны / Прочие виды доступа разрешены, прочие типы записей доступны / Прочие типы записей только для чтения.

- Метод запрещения. "Прочие виды доступа разрешены, прочие типы записей доступны".

  Выбирая данный метод установки прав, изначально, когда права не заданы, пользователю будут доступны все записи базы данных. Если в таблице указать класс записи с фильтром и настроить вид доступа для него, то автоматически устанавливаются запрещения на остальные записи выбранного класса, которые не удовлетворяют фильтру. Однако, установка вида доступа на запись, вовсе не означает, что запрещены другие виды доступа.

    * *Пример: Пусть у нас имеются 2 класса записи - КлассЗаписи1 и КлассЗаписи2. КлассЗаписи1 имеет записи - Запись1, Запись2, Запись3. И мы хотим позволить пользователю просматривать, редактировать и сохранять Запись2 класса КлассЗаписи1. Для этого необходимо установить соответствующий вид доступа в таблице.*

      *В этом случае пользователь сможет просмотреть, отредактировать и сохранить только Запись2 класса КлассЗаписи1, остальные записи данного класса будут недоступны. Однако, используя данный метод, пользователь имеет право также удалять/восстанавливать Запись2, так как явного запрета на данное право не было.*

      *Чтобы запретить удаление и восстановление записи выбранного класса необходимо в следующей строке таблицы опять выбрать тот же класс КлассЗаписи1 с видом доступа - удаление/восстановление и в фильтре задать "False".*

      *Это будет значить, что для данного класса записи запрещено удаление, либо восстановление всех его записей.*

- Метод разрешения. "Прочие виды доступа запрещены, прочие типы записей недоступны".

  Данный метод определяет все классы записи и все виды доступа к ним как недоступные для пользователя. При добавлении в таблицу определенного типа записи разрешается доступ к нему и именно с тем видом доступа, что выбран для данного класса. Но при этом, все остальные классы записей, которые явно не заданы в таблице будут недоступны.

    * *Пример: Пусть у нас имеются 2 класса записи - КлассЗаписи1 и КлассЗаписи2. КлассЗаписи1 имеет записи - Запись1, Запись2, Запись3. Мы установили на Запись2 класса записи КлассЗаписи1 вид доступа - Просмотр. Это значит, что пользователь будет видеть в базе данных только Запись2. Все остальные классы записей и виды доступа к ним будут недоступны для пользователя.*

      *Таким образом, данный метод строго ограничивает доступ к указанной записи по выбранному виду доступа.*

- "Прочие типы записей только для чтения".

  Определяет, что все классы записи доступы для чтения пользователю. При добавлении в таблицу определенного типа записи разрешается доступ к нему и именно с тем видом доступа, что выбран для данного класса. Но при этом, все остальные классы записей, которые явно не заданы в таблице будут доступны только для чтения.



**Назначение кнопок формы:**

- Кнопка **Обновить**. Если в вышестоящей группе прав, были добавлены права на записи, тогда при просмотре данной группы, чтоб отразилось добавленное право, следует нажать кнопку **Обновить**. После чего добавленное право отобразится в таблице просмотра всех прав вышестоящих групп.

- Кнопка **Применить**. Для того чтобы изменения вступили в силу, необходимо перезапустить сессию. После нажатия на кнопку **Применить** права вступают в силу, не требуя перезапуска сессии.

- Для сохранения формы и её закрытия нажмите кнопку **ОК**  ![](topic:Com.AddFiles.Buttons.Btn_Post.png) , для выхода без сохранения   -  **Отмена** ![](topic:Com.AddFiles.Buttons.BtnCloseCancel.png).

  Для вызова помощи воспользуйтесь кнопкой **F1** или  **Дополнительно** ![](topic:Com.AddFiles.Buttons.BtnSystemMenu.png) - Помощь.

