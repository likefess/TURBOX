#Настройки картотек 

При настройке программы часто требуется возможность открывать одну и ту же картотеку с различными заголовками, составом столбцов, сортировкой. Каждый набор настроек, делающий одну и ту же картотеку визуально разной, получает имя и хранится в виде записи в справочнике настроек картотек. 

Каждая настройка картотеки хранится как отдельная запись, то ее можно использовать несколько раз. 

Форма настройки картотеки вызывается по нажатию на кнопку **Добавить**![](topic:Com.AddFiles.Btn_Add.png), либо **Редактировать** ![](topic:Com.AddFiles.Btn_Edit.png) из справочника "Настройки картотек" и заключается в следующих параметрах:

1.В верхней части формы находятся элементы для описания основных свойств картотеки:
* В поле "Название" вводится название настраиваемой картотеки. 
* В поле "Картотека" указывается картотека, которую необходимо будет настроить.
* В поле "Заголовок" вводится строка текста, которая будет отображаться в заголовке окна картотеки. 


2.В разделе Колонки таблица настройки столбцов указанной картотеки. Строки в таблицу  добавляются/удаляются с помощью опции Добавить кадр/Удалить кадр в меню вызываемом по щелчку правой кнопки мыши или с помощью клавиш Ins/Del. В таблице перечислены следующие параметры: 

* В столбце Поле указываются поля записи, которые будут отображаться в картотеке.
* В столбце Заголовок вводится заголовок соответствующего столбца картотеки.
* Столбец Сорт предоставляет возможность открывать картотеку с уже заданной сортировкой по одному из столбцов.  Если в столбце "Сорт" ничего не выведено, то данный столбец не будет отсортирован. Порядок сортировки задается в виде треугольника, у которого: 
    * вершина треугольника вверх - сортировка по возрастанию; 
    * вершина треугольника вниз - сортировка по убыванию. 
* Флаг в столбце "Не сорт". Установка флага в данной опции запрещает сортировку указанного столбца. Если реквизит связан с дополнительным полем, то не зависимо от того, установлен данный флаг или нет, сортировка столбца все равно будет запрещена. 
* В столбце Поиск задается режим поиска по столбцу, связанному со ссылочным полем записи. Возможные режимы поиска: 
    * Станд. - стандартный режим поиска, т.е. поиск по значению поля, выводимого в столбце.
    * Разым. - поиск по разыменованию ссылочного поля, отображаемому в столбце.
* Формат вывода. Данное поле имеет смысл только в случае числового поля или поля типа Дата.
* В столбце Выравнивание можно указать, как будет выравниваться содержимое столбца картотеки. Возможные варианты: 
    * Ничего не задано - означает выравнивание по умолчанию (числовые значения - по правому краю, логические флаг и даты - по центру, строки и ссылочные значения - по левому краю). 
    * Влево - содержимое столбца будет прижато к левому краю столбца. 
    * Вправо - содержимое столбца будет прижато к правому краю столбца. 
    * По центру - содержимое столбца будет центрировано. 
* Условие видимости. Также для каждого столбца можно задать Условие видимости, при выполнении которого столбец будет отображен в картотеке. Условие задается с помощью "редактора формул", который открывается после нажатия на кнопку Выбор ![](topic:Com.AddFiles.Btn_select.png). 

Флаг "Не сохранять пользовательскую сортировку". Если данный флаг не установлен, то будет сохранена сортировка столбцов, которую указал пользователь. Если же флаг установлен, то сортировка всегда будет браться из данных настроек. 

3.В разделе Команды и кнопки настраивается доступность команд и подсказок для кнопок картотеки.

3.1 Доступность команд.

Для запрета использования команды в картотеке необходимо установить флаг напротив необходимой команды:

* Установка флага "Запрещено открывать бланк/редактор" запрещает открывать форму для редактирования. 
* Установка флага "Запрещено добавление" запрещает добавлять запись в картотеку. 
* Запрещено добавлять группу. При установке данного флага, на панели кнопок картотеки не будет отображена кнопка, добавляющая группу. 
* Запрещено редактирование. Установка флага запрещает редактирование выбранной записи. 
* При установке флага "Запрещено дублирование" запрещено дублировать записи. 
* Запрещено изменять признак группы. При установке данного флага запрещено изменять признак группы, т.е.
* Запрещено удаление. Проставляя данный флаг запрещено удалять записи. 
* Скрыть панель кнопок. После установки флага, панель кнопок не будет отображена в представлении карточки бизнес-процесса. 

3.2 Подсказки для кнопок

Для добавления хинта к кнопке в картотеке необходимо вручную ввести его название в поле, расположенном напротив данной кнопки.

4.Раздел При создании:

* В настройке "Фильтр" указывается фильтр на столбцы настраиваемой картотеки. Можно ввести формулу вручную, а можно воспользоваться [Редактором формул](topic:.Студия компонентов (машина реквизитов).Редактор формул). 
* "Список групп" - настройка, в которой указываются группы, отображаемые в иерархии. Выбрать необходимую группу можно в диалоге "Ввод группы записей", который открывается по нажатию кнопки Выбор ![](topic:Com.AddFiles.Btn_select.png) в данном поле. 
* "Фильтр на дерево" - задает фильтр на указанный список групп иерархического дерева. Задать фильтр можно при помощи специального диалога "[Редактор формул](topic:.Студия компонентов (машина реквизитов).Редактор формул)".
* Флаг "Скрыть дерево" позволяет скрыть дерево иерархии.
* Флаг "Отключить иерархию" позволяет отключить отображение документов в иерархическом виде слева от картотеки.


5.Для сохранения введенной информации нажмите на кнопку **Дополнительно** ![](topic:Integration.AddFiles.Buttons.Btn_OK.png) - **Записать** .

Для сохранения и выхода из настройки нажмите кнопку **ОК** ![](topic:Integration.AddFiles.Buttons.Btn_Post.png) , для выхода без сохранения -  **Отмена**![](topic:Integration.AddFiles.Buttons.BtnCloseCancel.png).

Для получения помощи воспользуйтесь кнопкой **Дополнительно** ![](topic:Integration.AddFiles.Buttons.Btn_OK.png) - **Помощь** или клавишей  **F1**.
