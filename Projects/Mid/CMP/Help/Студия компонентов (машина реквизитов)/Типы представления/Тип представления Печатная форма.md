#Тип представления "Печатная форма" 

Тип представления "Печатная форма" отображает информацию об объекте в регламентированном виде первичного документа. 

1.Общие настройки:

* Бланк печатной формы. Имя бланка, реализованного в одном из проектов, включенных в состав информационной базы. Выбирается нажатием на кнопку Выбор ![](topic:Com.AddFiles.Btn_select.png) из дерева бланков. Именно этот бланк открывается на экране, когда пользователь переходит закладку с данным представлением в карточке конкретного объекта. Если бланк печатной формы не указан - используется стандартный бланк печатной формы. Основная задача функциональности, реализованной в стандартном бланке печатной формы, заключается в возможности интерпретации отдельно разработанного шаблона печатной формы. Таким образом, если в качестве бланка печатной формы выбран стандартный бланк, для него обязательно нужно указать шаблон. 
* Шаблон. Имя и путь к файлу с расширением .TPL, в котором хранится собственный (нестандартный) шаблон печатной формы. Шаблон должен быть обязательно указан, если печатная форма настраивается на основе стандартного бланка - в противном случае настройка становится бессмысленной. Файл - шаблон можно выбрать из информационной базы, нажав на кнопку Выбор![](topic:Com.AddFiles.Btn_select.png).

*Собственный (нестандартный) шаблон следует разрабатывать по следующим правилам:*
* Чтобы вывести в клетке шаблона значение реквизита, там следует написать его код, предварив его символами # и @. Допускается разыменование значения реквизита. Пример: #@РесурсОткуда.ОснЕдИзм.Код. 
* Чтобы вывести в клетке шаблона значение реквизита, используя таблицу псевдонимов, следует написать имя псевдонима (произвольная строка), предварив его символами # и &. Пример: #&ЗдесьБудетТовар. 
* Чтобы вывести в клетке шаблона значение дополнительного поля, там следует написать его код, предварив его символами # и $. Следует помнить, что для дополнительных полей действует соглашение об именах: первая буква имени дополнительного поля обозначает тип данных. Пример: #$сНомерПечатногоДокумента. 
* Чтобы вывести в клетке шаблона значение поля записи Процесс, описанного на языке MTL, следует написать имя поля, предварив его символом #. Пример: #Комментарий. Однако редактировать поля записи таким образом, напрямую, в обход механизма реквизитов, не рекомендуется, т.к. в этом случае значение поля будет изменено, но никакие связанные с ним проверки или пересчеты выполнены не будут. Поэтому возможность прямого редактирования полей следует применять ограниченно и обоснованно. 

В остальном разработка шаблонов печатных форм не отличается от разработки других видов шаблонов экранных форм "Турбо". 

В состав проектов входит библиотека заранее подготовленных шаблонов печатных форм. Для того, чтобы использовать один из них, нажмите в карточке печатной формы кнопку "Выбрать шаблон печатной формы". В открывшемся диалоге выберите пункт "Выбрать шаблон из произвольного каталога и скопировать его в каталог общих файлов". В следующем файловом диалоге перейдите в каталог "Шаблоны печатных форм" внутри проекта Управление и выберите требуемый шаблон. Затем откроется диалог выбора подкаталога внутри каталога общих файлов. В него выбранный шаблон будет скопирован, с одновременным размещением в информационной базе.

Настройка печати. Для каждой печатной формы документа можно настроить печать данного документа. Для того чтобы была такая возможность, необходимо чтобы принтер был подключен к используемой машине. Если принтер не установлен, то его необходимо установить, руководствуясь указаниями справочной системы Microsoft Windows. 

Если в информационной базе имеется файл с расширением .cfg, то, выбрав его из картотеки, можно воспользоваться сохраненными в этот файл настройками печати. 



2.Псевдонимы

Таблица псевдонимов была организована в настройке "Печатной формы" в связи с тем, что при выводе реквизита в клетках шаблона возникают следующие проблемы: 
* При удалении реквизита из объекта, он не удаляется из шаблона печатной формы. В этом случае шаблон печатной формы перестает работать; 
* Реквизиты не отображаются, при выгрузке шаблона. 
При выгрузке шаблона из одной информационной базы в другую, если во второй базе не имеется таких же реквизитов как в первой, то в шаблоне печатной формы они не будут отображаться; 
* Неясность отображения реквизита в шаблоне печатной формы. 

Так как в шаблоне печатной формы надо ввести сам реквизит, а иногда даже разыменовывая его (#@РесурсОткуда.ОснЕдИзм.Код). 
Для решения всех этих проблем, был придуман механизм действия с псевдонимами. Если реквизит из выгружаемой базы в другой инф.базе называется иначе, то указать на этот реквизит можно посредством однажды настроенного псевдонима в таблице, как ссылки на этот реквизит. Чтобы правильно настроить таблицу псевдонимов необходимо: 
* В клетках настройки шаблона печатной формы ввести псевдонимы, предварив их символами # и &. Пример: #&ЗдесьБудетТовар. Настройка шаблона печатной формы данного типа представления вызывается при помощи команды контекстного меню шаблона "Дизайн-режим". 
* В таблице псевдонимов настроить соответствующий реквизит. 

Заполнение таблицы:

* "Псевдоним" - произвольный текст, подразумевающий реквизит. 
* Настраивается реквизит, который будет подразумеваться под псевдонимом. 
* Колонка "Разыменование" необходима для ссылочных реквизитов. 
* В поле "Надпись" указывается надпись у настраиваемого псевдонима. Для этого в настройке шаблона печатной формы в необходимом поле вводиться конструкция &Псевдоним:Надпись. 

**Примечание:** Важно отметить, что при настройке шаблона в режиме его редактирования (дизайн-режим) псевдоним сопровождается символами # и &, тогда как при настройке представления "Печатной формы" псевдоним в таблицу вводится без этих символов.

3.Табличные части

В "Табличные части" представления "Печатная форма" имеется возможность указать ограничения на типы движений в подтаблице документа. 

Если на шаблоне печатной формы указана секция подтаблицы, и в ней надо выводить только строки с определенными типами движений, то необходимо указать: 
* В колонке "Название секции" - имя секции шаблона печатной формы, в которую выводятся данные подтаблицы документа. Где задается имя секции шаблона можно прочитать в разделе "Настройка свойств секции". 
* В колонке "Типы движений" указать необходимый тип движения. 

Если таблица не заполнена, то будут отображаться все строки подтаблицы документа. 
На шаблоне печатной формы имеется возможность задавать несколько секций подтаблиц, и для каждой указать ограничения.
Чтобы добавить секцию в таблицу и настроить для нее ограничения, необходимо в строке таблицы нажать клавишу Insert, чтобы удалить - Delete. 
Секция в таблицу, и настройка для нее ограничения,  добавляются/удаляются с помощью опции Добавить кадр/Удалить кадр в меню вызываемом по щелчку правой кнопки мыши или с помощью клавиш Ins/Del.