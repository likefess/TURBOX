#Класс реализации "Отчет"

Реквизит с классом реализации "Отчет" имеет смысл только в табличной части документа и необходим для вычисления сводных данных по строкам из конкретного отчета. 

Настройка данного реквизита состоит из разделов:

* Настройки отчета.
Данный раздел настроек реквизита с возможностью работы с отчетами позволяет определить настройки отчета, из которого будут вычисляться сводные данные по строкам. 
    * В поле "Отчет" указывается отчет, из которого будут вычисляться сводные данные. По нажатию на кнопку Выбор ![](topic:Com.AddFiles.Btn_select.png) в данном поле, открывается картотека "Общих отчетов", откуда выбирается необходимый отчет. 
    * В полях "Периода" указываются даты начала и окончания построения отчета. Даты задаются в виде формулы. Если даты не заданы, то за начальную дату построения отчета берется минимальная дата проводки (01.01.1900), а за конечную - дата документа, в контексте которого вызывается сервис. 
    * Поле "Показатель" предназначено для выбора показателя отчета. В раскрывающемся списке представлены все показатели, указанные в системных настройках отчета  на странице "Показатели". 
    * Раскрывающийся список с вариантами начальный остаток, конечный остаток, оборот позволяет выбрать значение, которое необходимо выводить в документе у выбранного показателя в поле "Показатель". 
    * В соседнем выпадающем списке настраивается видимость заданного показателя. Представлены следующие варианты По дебету, По кредиту и Свернутый аналогично  системным настройкам выбранного показателя. 
    * В таблице "Дополнительные данные из отчета" указываются дополнительные показатели отчета, которые необходимо отобразить в реквизитах документа. Для этого заполняются следующие поля в таблице: 
        * Поле "Реквизит" заполняется реквизитом документа, в котором необходимо отобразить данные из отчета. По нажатию на кнопку Выбор ![](topic:Com.AddFiles.Btn_select.png) в данном поле, открывается картотека "Реквизиты объектов", отфильтрованная по табличным реквизитам. 
        * В полях для настройки "Показателя" указываются показатели отчета и способы его отображения в реквизитах документа, аналогично показателям, по которым будут вычисляться сводные данные по строкам. 
        * Флаг "Ед. изм." отвечает за получение единицы измерения из показателя. 
        * Строки в таблицу  добавляются/удаляются с помощью опции Добавить кадр/Удалить кадр в меню вызываемом по щелчку правой кнопки мыши или с помощью клавиш Ins/Del.
    * В следующей таблице настраивается связь между разрезами отчета и реквизитами документа. Причем, в таблице отображены только те разрезы, которые указаны в системных настройках отчета на  странице "Разрезы". Добавить или удалить строки из данной таблицы не возможно. Для разреза отчета указывается необходимый реквизит документа. 
        * Флаг "С учетом иерархии". Если флаг установлен, то соответствующий реквизит документа интерпретируется как папка. Другими словами, для реквизита в отчете не будет искаться точное совпадение, а будут просуммированы все значения в строках отчета, где соответствующее значение разбиения входит в эту папку или равно ей. 
    * В поле "Условие заполнения строки" задается условие, от результата которого будут заполняться строки при работе сервиса. Условие задается при помощи  редактора формул реквизита. 
    * Флаг "Вычислить при открытии документа" отвечает за вычисление сводных данных при открытии документа. 

* Условия отбора настройки реквизита с возможностью работы с отчетами позволяет задать условия отбора для отчета, из которого будут вычисляться сводные данные по строкам. 
Настройка представлена в виде таблицы, в которой задается условие: 
    * Флаг "Не". Если флаг установлен, тогда строка, в которую ввели условие, отрицается. Устанавливается логическое отрицание. 
    * В столбце "Поле" предоставляется возможность выбрать поле картотеки, либо параметр отчета. На выбранное значение будет накладываться условие. 
    * Столбец "Формула" . Для каждого выбранного поля картотеки (параметра отчета) устанавливается значение, вычисляемое указанной формулой. Формула задается с помощью "Редактора формул", который открывается после нажатия на кнопку Выбор ![](topic:Com.AddFiles.Btn_select.png). 
    * Столбец "Знак условия". В данном столбце указывается знак условия, который будет стоять между выбранным полем (параметром) и значением формулы, вычисленным в столбце "Формула". Возможные знаки условия выбираются из выпадающего списка. В зависимости от типа поля (параметра) в выпадающем списке представлены различные знаки условия. Например, для ссылочного поля картотеки доступны только следующие знаки: "<>" , "=" и "is"  
    * Столбец "Связка". В данном столбце можно установить логическую связку между строками таблицы. В выпадающем списке представлены следующие связки: "пусто", "и", "или", "/". Последняя из них является корреспонденцией в отчете и доступна, если настраивается диалог "Условия отбора для отчета". 
    * Столбец "Игнор.пуст". Если флаг взведен, то пустое значение, вычисленное по формуле, будет игнорировано. В этом случае строка условия будет исключена из списка условий. Если же флаг не взведен, то пустое значение, вычисленное по формуле - будет принято, как пустое значение в условии. Например: СерийныйНомер = "".

* Уточняющий отчет  реквизита с возможностью работы с отчетами позволяет задать уточняющий отчет для значения в строке табличной части документа. 
    * В поле "Уточняющий отчет" указывается отчет, который будет служить в качестве детального отчета при просмотре значения каждой строки, после того, как будут вычислены сводные данные. 
    * В таблице "Связь реквизитов с параметрами уточняющего отчета" можно указать параметры отчета, которые необходимо связать с реквизитами документа. 
        * "Поле". В данном поле указывается параметр, для которого необходимо настроить связь с реквизитом документа. В раскрывающемся списке отображены те параметры выбранного отчета, которые настраиваются в  диалоге "Настройки параметрического отчета". 
        * В поле "Формула" указывается связь с выбранном параметром отчета. Формула задается при помощи  редактора формул реквизита. 
        * Флаг "Т/ч" отвечает за доступность параметра при его отображении в детальном отчете для строки. Если флаг установлен, то параметр в уточняющем отчете будет доступен только для чтения. Иначе - значение параметра можно будет изменять. 



