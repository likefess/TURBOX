#Класс реализации "Лимит" 

Лимит - это условие или ограничение, проверяемое при работе объекта (при его сохранении или при использовании процесса/документа в учетном движении), реквизита (при изменении реквизитов в объекте). Класс реализации "Лимит" служит для организации этого условия в виде реквизита, в котором также можно настроить действия перед выполнением условия и после него. 

Наследниками от данного класса реализации являются классы реализации "Контроль остатков" и "Сравнение значений". Некоторые настройки данного класса реализации наследуются наследниками. 

Само условие, которое служит лимитом, указывается в поле "Вычисляется по формуле". Условие задается при помощи диалога "Редактор формул реквизита" в виде формулы, которая должна возвращать логическое значение. 

Остальные настройки перечислены на отдельной закладке и состоят из следующих опций: 
* В поле "Условие применения" указывается условие, в котором можно применять настраиваемый реквизит-лимит. Условие применения реквизита задается формулой, возврщающей логическое значение. 
* В случае нарушение условия лимита, в поле "Сообщение при нарушения условия" указывается формула, которая будет служить сообщением и выдаваться пользователю. Формула должна возвращать строку. Если формула сообщения не задана, то при нарушении условия пользователю будет выдано предупреждение с текстом "Лимит "" нарушен". 
* Флаг *Мягкий контроль* отвечает за действие объекта, если условие данного лимита было нарушено. Флаг установлен - пользователю будет выдано предупреждение, введенное в поле "Сообщение при нарушения условия", и предоставлено право выбора продолжать или остановить действие объекта. Флаг не установлен - пользователю будет выдано сообщение без права выбора, после чего работа объекта полностью остановится. 
* Флаг *Не отображать пустое сообщение* имеет смысл только, если в поле "Сообщение при нарушения условия" ничего не задано или заданная формула возвращает пустое значение. При установке флага, в случае, когда условие было нарушено, никакое сообщение пользователю не будет выдано, и работа объекта будет остановлена. Иначе будет выдано сообщение "Лимит "(Наименование реквизита-лимита)" нарушен" и работа объекта остановлена. 
* Флаг *Режим синхронизации с сервером расчетов* устанавливает режим, который блокирует РесурсОткуда у документа, позволяя тем самым получить актуальные данные с сервера расчетов. Синхронизация с сервером расчетов в основном необходима во избежание ситуации, когда запуск расчета остатков у документа производится одновременно несколькими пользователями. Данный флаг имеет смысл только для наследника от данного класса реализации - реквизита "Контроль остатков". 

Далее следуют таблицы "Действия при выполнении лимита" и "Действия при нарушении лимита", в которых можно указать реквизиты и формулы к ним, исполняющиеся при выполнении условия настраиваемого реквизита-лимита или при его нарушении соответственно. Таким образом, при выполнении или невыполнении реквизита могут быть запущены дополнительные пересчеты. 
* Реквизиты выбираются из картотеки, которая открывается нажатием на кнопку обзора в поле "Реквизит" обеих таблиц. Картотека отфильтрована по табличным реквизитам, если в основных настройках реквизита-лимита установлен флаг "Реквизит используется в таблице учетных движений", и по шапочным, если флаг не установлен. 
* Формула указывается при помощи редактора формул и пишется по правилам составления формул в реквизитах. 